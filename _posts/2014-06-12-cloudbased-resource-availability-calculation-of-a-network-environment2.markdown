---

title: Cloud-based resource availability calculation of a network environment
abstract: An example method for cloud-based resource availability calculation of a network environment is provided and includes receiving a plurality of system error log (SEL) data in real time at a virtual appliance executing in a first network. The SEL data is received from a remote second network indicating system events associated with corresponding resources in the second network. The method further includes calculating a resource availability (RA) index indicative of availability of resources for workload deployment in the second network, and sending the RA index to a management application executing in the second network for appropriate management and allocation of resources in the second network. In specific embodiments, the method further includes receiving a SEL inventory associated with a specific resource in the second network, and updating the RA index based on the SEL inventory.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09565130&OS=09565130&RS=09565130
owner: CISCO TECHNOLOGY, INC.
number: 09565130
owner_city: San Jose
owner_country: US
publication_date: 20140612
---
This disclosure relates in general to the field of communications and more particularly to cloud based resource availability calculation of a network environment.

Data centers are increasingly used by enterprises for effective collaboration and interaction and to store data and resources. A typical data center network contains myriad network elements including hosts load balancers routers switches etc. The network connecting the network elements provides secure user access to data center services and an infrastructure for deployment interconnection and aggregation of shared resource as required including applications hosts appliances and storage. Improving operational efficiency and optimizing utilization of resources in data centers are some of the challenges facing data center managers. Data center managers want a resilient infrastructure that consistently supports diverse applications and services and protects the applications and services against disruptions. A properly planned and operating data center network provides application and data integrity and optimizes application availability and performance.

An example method for cloud based resource availability calculation of a network environment is provided and includes receiving a plurality of system error log SEL data in real time at a virtual appliance executing in a first network. The SEL data is received from a remote second network indicating system events associated with corresponding resources in the second network. The method further includes calculating a resource availability RA index indicative of availability of resources for workload deployment in the second network and sending the RA index to a management application executing in the second network for appropriate management and allocation of resources in the second network. In specific embodiments the method further includes receiving a SEL inventory associated with a specific resource in the second network and updating the RA index based on the SEL inventory.

As used herein the term SEL data refers to a log e.g. record note of a single significant system event associated with a particular resource e.g. network or compute resource such as a memory element processor etc. in a network. SEL data can be formatted as at least one file that records the system event according to any suitable format. SEL data can also include information about location of events e.g. dynamic random access memory DRAM errors are reported on location central processing unit CPU cache miss is reported with CPU core location etc. . Examples of significant system events indicated by the SEL data include software events e.g. loss of data reboot operations successful launch of a program driver or service etc. security related events e.g. user login malware interaction etc. setup events e.g. events detected by domain controllers and hardware events e.g. events logged by the operating system of the reporting endpoint and related to the hardware of the system such as boot up shutdown memory failure bug check driver error etc. .

Turning to is a simplified block diagram illustrating a communication system for cloud based resource availability calculation of a network environment in accordance with one example embodiment. illustrates a communication system comprising a network that includes a plurality of endpoints managed by one or more instances of a management application referred to herein as unified computing system manager UCSM . Each endpoint may generate SEL data and or SEL inventory which is sent to the respective managing instance of UCSM . In some embodiments baseboard management controllers BMCs associated with each endpoint may write system events into one or more log files e.g. in flash memory of an associated network element for example whenever the event s occur and the log file s may be included in SEL data and or SEL inventory .

UCSM may relay e.g. forward convey send deliver etc. SEL data and SEL inventory to at least one instance of a virtual appliance referred to herein as unified computing system UCS Central executing in a cloud . UCS Central may include an index calculator that processes SEL data and SEL inventory to generate a resource availability RA index that is sent to UCSM . UCSM may use RA index in management resource allocation decisions for resources in network .

As used herein the term RA index refers to a numeric value that indicates availability of one or more resources in network . In a general sense the RA index may be calculated for individual components e.g. central processor units CPUs dynamic random access memory DRAM etc. by analyzing SEL data generated by baseboard management controllers BMCs of network elements and or reading appropriate sensor records. A resource comprises a component that can be used for workload deployment and software execution examples of resources include processors memory elements network interfaces network links sensors etc. In a general sense resources can include computation resources e.g. a component that performs execution of a process service providing resources e.g. application components that invoke computation tasks network resources e.g. components that provide bandwidth for communication and data storage resources e.g. components that provide storage for data . According to various embodiments RA index may be calculated by index calculator according to any known method.

The term network element is meant to encompass computers network appliances servers routers switches gateways bridges load balancers firewalls processors modules or any other suitable device component element or object operable to exchange information in a network environment. Moreover the network elements may include any suitable hardware software components modules interfaces or objects that facilitate the operations thereof. This may be inclusive of appropriate algorithms and communication protocols that allow for the effective exchange of data or information.

As used herein the term SEL inventory includes a log of multiple significant system events associated with a particular resource in network e.g. associated with a specific endpoint . For example SEL inventory may be generated by collecting substantially all SEL data during a certain time interval e.g. from boot up until a specific query for SEL inventory is received for a specific endpoint .

For purposes of illustrating the techniques of communication system it is important to understand the communications that may be traversing the system shown in . The following foundational information may be viewed as a basis from which the present disclosure may be properly explained. Such information is offered earnestly for purposes of explanation only and accordingly should not be construed in any way to limit the broad scope of the present disclosure and its potential applications.

Workloads are deployed on physical servers to ensure compliance with service level agreements SLAs between network operators and network subscribers. In a general sense the term workload refers to the amount of processing to be executed by a computing resource in a given time interval the workload can include application programming running in the computing resource and a certain number of users connected to and interacting with the applications. Network administrators may select target servers for workload deployment based on server resource capacities e.g. CPU memory and input output capabilities . Over time the network and computing resources can be degraded for example due to hardware component failures such as CPU core de allocation DRAM failures etc. Additionally total resource capacity may be lowered when certain network and computing resources enter a lower power state. Such degraded resource capacity may affect resource allocation for example when a server running with degraded components capacity may not be able to host workloads according to the SLAs.

In such scenarios the RA index can inform network administrators about the true e.g. effective capacity of servers and other network and computing resources in the network before such resources are selected for deploying workloads according to the SLAs. In a typical domain e.g. with multiple servers the resource availability data obtained from individual network and computing resources can be overwhelming and can take a lot of processing power to analyze and correlate to compute the RA index. Management applications such as UCSM managing individual domains of the network typically do not have sufficient storage capacity or computing power to store and analyze resource availability information on a regular basis.

Management domains may easily get stressed or blocked with processing the large volume of data from individual network and compute resources to calculate the resource availability index of the underlying hardware. Thus regular management activities may get delayed and or timed out significantly. Additionally if domain level management solutions are run in an embedded environment stringent restrictions on the compute and network resources may have to be applied to analyze such voluminous information. Extrapolating the stringent requirement to multiple management domains in the date center could make the situation even worse.

Communication system is configured to address these issues among others to offer a system and method for cloud based resource availability calculation of a network environment. According to various embodiments UCS Central may receive a plurality of SEL data from network in real time indicating system events associated with corresponding resources e.g. processors and memory elements in endpoints in network . UCS Central may calculate RA index indicative of availability of resources for workload deployment in network and send RA index to UCSM executing in network for appropriate management and allocation of resources.

Note that network may comprise a plurality of domains each domain being managed by a separate instance of UCSM . In many embodiments each domain e.g. referred to as a unified computing system may be managed by an instance of UCSM embedded in a fabric interconnect at an individual domain level substantially all domains may be managed by UCS Central at a network level. Massive sensor records and activity events e.g. error events from BMCs can require a significant chunk of resources to process at a domain level by individual instances of UCSM . Instead of using UCSM instances for processing voluminous sensor and activity error records SEL data may be processed by a remote central management application UCS Central executing as a virtual appliance in a server in cloud .

Each UCSM instance may forward SEL data to UCS Central in cloud each UCSM instance may receive SEL data e.g. from its managed endpoints to forward from resources in its respective managed domain. Each UCSM instance registers with UCS Central in some embodiments. In some embodiments UCS Central may receive SEL inventory associated with a specific resource e.g. in a particular endpoint in network . The instance of UCSM managing the specific resource may have previously sent a query requesting SEL inventory and may have received SEL inventory in response. UCS Central may update RA index based on SEL inventory .

Computing RA index can include performing statistical analysis of SEL data and SEL inventory and correlating and consolidating SEL data in real time. In many embodiments RA index may consolidate resource availability at a plurality of levels in network . For example the plurality of levels can include at least a network level a domain level a chassis level a blade level and a device level. After data is processed and RA indices are calculated per domain and sub components the RA indices can be passed down to individual domains appropriately.

In some embodiments SEL data and SEL inventory may be inventoried at UCS Central executing in cloud UCS Central may use throttling process e.g. to conserver power to derive RA index for managed endpoints . In some embodiments RA index may be broken down to the device level e.g. at level of individual hardware devices at endpoints and sent to endpoints by respective UCSM instances.

During operation each UCSM instance may register with UCS Central e.g. executing in a virtual machine VM in cloud . After a substantially complete inventory of all resources in network is received at UCS Central UCS Central may process the information and understand the allocation of resources associated with each managed domain. Each UCSM instance may send incremental SEL data e.g. as and when an event is detected which can include component information about degraded components or hardware disablement such as CPU core de allocation dual in line memory module DIMM blacklisting DRAM failures etc. to UCS Central . At UCS central information in SEL data may be processed and RA index may be calculated taking into account individual locations of events indicated in SEL data . A resource manager module and a statistics manager module in UCS central may process SEL data to calculate effective capacity of individual devices e.g. processor memory element etc. . The effective capacity information may be consolidated at various levels e.g. device level chassis level blade level domain level etc. including at a network e.g. data center level. The consolidated effective capacity information may be included in RA index . RA index including effective capacity information at various network levels may be relayed back to UCSM . RA index may be queried at each instance of UCSM as appropriate. For example administrators can decide to deploy their workloads based on RA index observed at UCSM .

Embodiments of communication system can facilitate a faster more efficient and effective method to enable administrators plan their workload deployments for example by accessing information about effective server capacity and not consuming end point resources to calculate RA index . Instead calculation of RA index may be delegated to cloud for all the managed domains and endpoints . Such an approach can facilitate better user experience effective workload deployment and compliance with SLA requirements.

Turning to the infrastructure of communication system the network topology can include any number of servers hardware accelerators virtual machines switches including distributed virtual switches routers and other nodes inter connected to form a large and complex network. A node may be any electronic device client server peer service application or other object capable of sending receiving or forwarding information over communications channels in a network. Elements of may be coupled to one another through one or more interfaces employing any suitable connection wired or wireless which provides a viable pathway for electronic communications. Additionally any one or more of these elements may be combined or removed from the architecture based on particular configuration needs.

Communication system may include a configuration capable of TCP IP communications for the electronic transmission or reception of data packets in a network. Communication system may also operate in conjunction with a User Datagram Protocol Internet Protocol UDP IP or any other suitable protocol where appropriate and based on particular needs. In addition gateways routers switches and any other suitable nodes physical or virtual may be used to facilitate electronic communication between various nodes in the network.

Note that the numerical and letter designations assigned to the elements of do not connote any type of hierarchy the designations are arbitrary and have been used for purposes of teaching only. Such designations should not be construed in any way to limit their capabilities functionalities or applications in the potential environments that may benefit from the features of communication system . It should be understood that communication system shown in is simplified for ease of illustration.

The example network environment may be configured over a physical infrastructure that may include one or more networks and further may be configured in any form including but not limited to local area networks LANs wireless local area networks WLANs VLANs metropolitan area networks MANs VPNs Intranet Extranet any other appropriate architecture or system or any combination thereof that facilitates communications in a network.

In some embodiments a communication link may represent any electronic link supporting a LAN environment such as for example cable Ethernet wireless technologies e.g. IEEE 802.11x ATM fiber optics etc. or any suitable combination thereof. In other embodiments communication links may represent a remote connection through any appropriate medium e.g. digital subscriber lines DSL telephone lines T1 lines T3 lines wireless satellite fiber optics cable Ethernet etc. or any combination thereof and or through any additional networks such as a wide area networks e.g. the Internet .

In various embodiments UCSM includes a management application located in network that operates to manage allocate provision and operate on endpoints in network . For example UCSM provides a unified embedded management of substantially all software and hardware components in network . UCSM can provide a single point of management for an entire computing system e.g. a set of network and compute resources linked together to appear as a single computing system that can span a domain e.g. portion of network . For example each instance of UCSM may manage a domain of up to 160 servers and associated infrastructure. In many embodiments UCSM may use a policy based approach to provision servers by applying a desired configuration to physical infrastructure. For example using certain specifically configured service profiles administrators can reproduce existing physical environments including I O configuration firmware and settings. The configuration can be applied quickly accurately and automatically improving business agility. A role based access control RBAC model helps ensure security of the system configurations.

According to various embodiments UCS Central facilitates managing multiple domains of network through a single interface in cloud . For example UCS Central can facilitate global policy compliance with subject matter experts choosing appropriate resource pools and policies that may be enforced globally or managed locally. With simple user interface operations e.g. drag and drop service profiles can be moved between geographies to enable fast deployment of infrastructure when and where it is needed for example to support workloads.

In many embodiments UCS Central comprises a virtual appliance e.g. prepackaged as a VMware.ova or an ISO image hosted outside network . As used herein the term virtual appliance comprises a pre configured virtual machine image ready to execute on a suitable hypervisor installing a software appliance e.g. applications with operating system included on a virtual machine and packaging the installation into an image creates the virtual appliance. The virtual appliance is not a complete virtual machine platform but rather a software image containing a software stack designed to run on a virtual machine platform e.g. a suitable hypervisor .

Network comprises one or more domains each domain managed by a separate and distinct instance of UCSM . UCS Central may securely communicate with UCSM instances to among other functions collect inventory and fault data from throughout network create resource pools of servers available to be deployed enable role based management of resources support creation of global policies service profiles and templates enable downloading of and selective or global application of firmware updates and invoke specific instances of UCSM to more detailed management.

In many embodiments UCS Central stores global resource information and policies accessible through an Extensible Markup Language XML application programming interface API . In some embodiments operation statistics may be stored in an Oracle or PostgreSQL database. UCS Central can be accessed through an appropriate graphical user interface GUI command line interface CLI or XML API e.g. for ease of integration with high level management and orchestration tools .

Turning to is a simplified block diagram illustrating example details of another embodiment of communication system . In a particular embodiment of a communication system index calculator in UCS Central may include a statistics manager and a resource manager in addition to a memory element and a processor . SEL data and SEL inventory from network may be received at index calculator . Statistics manager may aggregate and analyze SEL data and SEL inventory using suitable statistical tools and processes. Resource manager may include a database comprising a resource list of substantially all resources and corresponding locations e.g. domain UCSM connectivity etc. in network . Resource manager may compute RA index comprising effective capacity of resources at various levels e.g. device blade chassis domain and network in network . Index calculator may use memory element and a processor to perform various operations described herein.

Turning to is a simplified block diagram illustrating example details of an embodiment of communication system . Network may include various domains for example domains and . Each domain and may be managed by a separate instance of UCSM for example UCSM and respectively. Each domain and may include various chassis for example domain may include chassis and domain may include chassis . Each chassis may include one or more blades. For example chassis includes blades and chassis may include blade chassis may include blades and .

Each blade may include at least one BMC that represents endpoint for example blade may include BMC blade may include BMC blade may include BMC blade may include BMC and blade may include BMC . Each BMC may manage several devices such as memory elements and processors. For example BMC may manage and record events associated with MEM e.g. memory element and CPU e.g. processor in blade BMC may manage and record events associated with MEM and CPU in blade BMC may manage and record events associated with MEM and CPU in blade BMC may manage and record events associated with MEM and CPU in blade and BMC may manage and record events associated with MEM MEM CPU and CPU in blade . Although only a limited number of devices blades chassis and domains are illustrated in the figure any number of devices blades chassis and domains may be included in communication system within the broad scope of the embodiments.

Assume merely for example purposes and not as a limitation that CPU becomes less effective than its expected processing capacity due to thermal trip errors. BMC may log the event into SEL data and send SEL data to UCSM . Similarly assume that CPU experiences a significant system event such as a power failure. BMC may log the event into SEL data and send SEL data to UCSM . UCSM may relay SEL data from BMC and to UCS Central in cloud . Assume merely for example purposes that MEM CPU and CPU suffer a breakdown. BMC may generate SEL data and send it to UCSM which may relay the information to UCS Central .

UCS Central may compute RA index at various levels. For example at a network level resource availability may be less effective by approximately 40 e.g. 5 out of 12 devices are not fully effective . At a domain level domain may be less effective by approximately 30 e.g. 2 out of 6 devices not fully effective whereas domain may be less effective by approximately 50 e.g. 3 out of 6 devices not fully effective . At a chassis level chassis may be less effective by approximately 25 whereas chassis may be completely out of commission. Various such calculations may be performed based on the type of system event logged in SEL data and RA index calculated appropriately at various levels.

Turning to is a simplified flow diagram illustrating example operations that may be associated with embodiments of communication system . At each endpoint may generate SEL data at respective BMCs on occurrence of a system event. At each BMC may update its respective SEL inventory . At each BMC may send updated SEL inventory to interested subscribers for example corresponding UCSM instances.

Turning to is a simplified flow diagram illustrating example operations that may be associated with embodiments of communication system . At UCSM may receive RA index from UCS Central . At UCSM may determine resource allocation in its managed domain using RA index . At UCSM may instantiate resources in its managed domain accordingly.

Turning to is a simplified sequence diagram illustrating example operations that may be associated with embodiments of communication system . At UCSM may register with UCS Central . At endpoint represented by its BMC may generate SEL data . At endpoint may send SEL data to UCSM . At UCSM may relay SEL data to UCS Central . At UCS Central may process SEL data . At UCS Central may assign RA index to various levels of network of which UCSM and endpoint represented by its BMC comprise a part. At UCS Central may pass RA index to UCSM .

Turning to is a simplified sequence diagram illustrating example operations that may be associated with embodiments of communication system . At UCSM may register with UCS Central . At UCSM may request endpoint represented by its BMC for SEL inventory . At endpoint may send SEL inventory to UCSM . At UCSM may relay SEL inventory to UCS Central . At UCS Central may process SEL data included in SEL inventory . At UCS Central may update and assign RA index to various levels of network of which UCSM and endpoint represented by its BMC comprise a part. At UCS Central may pass RA index to UCSM .

Note that in this Specification references to various features e.g. elements structures modules components steps operations characteristics etc. included in one embodiment example embodiment an embodiment another embodiment some embodiments various embodiments other embodiments alternative embodiment and the like are intended to mean that any such features are included in one or more embodiments of the present disclosure but may or may not necessarily be combined in the same embodiments. Note also that an application as used herein this Specification can be inclusive of an executable file comprising instructions that can be understood and processed on a computer and may further include library modules loaded during execution object files system files hardware logic software logic or any other executable modules. Furthermore the words optimize optimization and related terms are terms of art that refer to improvements in speed and or efficiency of a specified outcome and do not purport to indicate that a process for achieving the specified outcome has achieved or is capable of achieving an optimal or perfectly speedy perfectly efficient state.

In example implementations at least some portions of the activities outlined herein may be implemented in software in for example UCS Central . In some embodiments one or more of these features may be implemented in hardware provided external to these elements or consolidated in any appropriate manner to achieve the intended functionality. The various network elements e.g. UCS Central may include software or reciprocating software that can coordinate in order to achieve the operations as outlined herein. In still other embodiments these elements may include any suitable algorithms hardware software components modules interfaces or objects that facilitate the operations thereof.

Furthermore UCS Central described and shown herein and or their associated structures may also include suitable interfaces for receiving transmitting and or otherwise communicating data or information in a network environment. Additionally some of the processors and memory elements associated with the various nodes may be removed or otherwise consolidated such that a single processor and a single memory element are responsible for certain activities. In a general sense the arrangements depicted in the FIGURES may be more logical in their representations whereas a physical architecture may include various permutations combinations and or hybrids of these elements. It is imperative to note that countless possible design configurations can be used to achieve the operational objectives outlined here. Accordingly the associated infrastructure has a myriad of substitute arrangements design choices device possibilities hardware configurations software implementations equipment options etc.

In some of example embodiments one or more memory elements e.g. memory element can store data used for the operations described herein. This includes the memory element being able to store instructions e.g. software logic code etc. in non transitory media such that the instructions are executed to carry out the activities described in this Specification. A processor can execute any type of instructions associated with the data to achieve the operations detailed herein in this Specification. In one example processors e.g. processor could transform an element or an article e.g. data from one state or thing to another state or thing. In another example the activities outlined herein may be implemented with fixed logic or programmable logic e.g. software computer instructions executed by a processor and the elements identified herein could be some type of a programmable processor programmable digital logic e.g. a field programmable gate array FPGA an erasable programmable read only memory EPROM an electrically erasable programmable read only memory EEPROM an ASIC that includes digital logic software code electronic instructions flash memory optical disks CD ROMs DVD ROMs magnetic or optical cards other types of machine readable mediums suitable for storing electronic instructions or any suitable combination thereof.

These devices may further keep information in any suitable type of non transitory storage medium e.g. random access memory RAM read only memory ROM field programmable gate array FPGA erasable programmable read only memory EPROM electrically erasable programmable ROM EEPROM etc. software hardware or in any other suitable component device element or object where appropriate and based on particular needs. The information being tracked sent received or stored in communication system could be provided in any database register table cache queue control list or storage structure based on particular needs and implementations all of which could be referenced in any suitable timeframe. Any of the memory items discussed herein should be construed as being encompassed within the broad term memory element. Similarly any of the potential processing elements modules and machines described in this Specification should be construed as being encompassed within the broad term processor. 

It is also important to note that the operations and steps described with reference to the preceding FIGURES illustrate only some of the possible scenarios that may be executed by or within the system. Some of these operations may be deleted or removed where appropriate or these steps may be modified or changed considerably without departing from the scope of the discussed concepts. In addition the timing of these operations may be altered considerably and still achieve the results taught in this disclosure. The preceding operational flows have been offered for purposes of example and discussion. Substantial flexibility is provided by the system in that any suitable arrangements chronologies configurations and timing mechanisms may be provided without departing from the teachings of the discussed concepts.

Although the present disclosure has been described in detail with reference to particular arrangements and configurations these example configurations and arrangements may be changed significantly without departing from the scope of the present disclosure. For example although the present disclosure has been described with reference to particular communication exchanges involving certain network access and protocols communication system may be applicable to other exchanges or routing protocols. Moreover although communication system has been illustrated with reference to particular elements and operations that facilitate the communication process these elements and operations may be replaced by any suitable architecture or process that achieves the intended functionality of communication system .

Numerous other changes substitutions variations alterations and modifications may be ascertained to one skilled in the art and it is intended that the present disclosure encompass all such changes substitutions variations alterations and modifications as falling within the scope of the appended claims. In order to assist the United States Patent and Trademark Office USPTO and additionally any readers of any patent issued on this application in interpreting the claims appended hereto Applicant wishes to note that the Applicant a does not intend any of the appended claims to invoke paragraph six 6 of 35 U.S.C. section 112 as it exists on the date of the filing hereof unless the words means for or step for are specifically used in the particular claims and b does not intend by any statement in the specification to limit this disclosure in any way that is not otherwise reflected in the appended claims.

