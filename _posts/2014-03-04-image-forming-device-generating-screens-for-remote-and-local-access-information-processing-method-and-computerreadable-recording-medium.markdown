---

title: Image forming device generating screens for remote and local access, information processing method, and computer-readable recording medium
abstract: In an image forming device including a processor unit, a first screen generating part generates a screen to be displayed on an operation panel and displays the screen on the operation panel. A second screen generating part generates screen data to be displayed on an information processing device and transmits the screen data to the information processing device. An application managing part selects, in response to a request of execution of an application, one of the first and second screen generating parts as a candidate for use of the application based on a source inputting the request. The first and second screen generating parts are configured to receive a request of generation of a screen using a common interface, and the application inputs through the common interface the request to the selected one of the first and second screen generating parts.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08873080&OS=08873080&RS=08873080
owner: Ricoh Company, Ltd.
number: 08873080
owner_city: Tokyo
owner_country: JP
publication_date: 20140304
---
This application is a continuation application filed under 35 U.S.C. 111 a claiming the benefit under 35 U.S.C. 120 of U.S. patent application Ser. No. 12 814 535 filed on Jun. 14 2010 which is based upon and claims the benefit of priority of the Japanese Priority Patent Application No. 2009 150818 filed on Jun. 25 2009 the entire contents of which are incorporated herein by reference.

This invention relates to an image forming device an information processing method and a computer readable recording medium which are adapted to execute an application.

Conventionally operational instructions from a user have been input to image forming devices such as printers copiers facsimiles scanners or multi function peripherals through an operation panel provided for the image forming device concerned. In recent years however with progress of network technology providing a remote user interface for the image forming devices through a network is also possible. For example see Japanese Laid Open Patent Publication No. 2006 140898.

On the other hand there is known an image forming device of a certain type called a multi function peripheral which is provided with a platform on which an application program which will be called an application is executed and an API Application Programming Interface provided by the platform is made public. For example see Japanese Laid Open Patent Publication No. 2007 110689. With the image forming device of this type using the API enables a software vendor other than the manufacturer of the image forming device to develop a new application and install the new application in the image forming device.

For the above described image forming device with the platform it is desirable that various applications are developed and provided to the market. The fact that various applications developed and provided are available raises a commercial value of the image forming device.

For that purpose easy development of an application on the platform of the above described image forming device is needed. In other words this development is needed to lighten the burdens of development of applications on respective software vendors as much as possible.

In recent years some of applications on the image forming device are utilized from the network or an external device outside the image forming device remotely as well as from the operation panel of the image forming device locally. In such situations it is not desirable that the way each application is executed on the platform is sensitive to the difference of the operation place or depends on whether the operation place is local or remote.

The difference of the operation place may cause the operation of the application to be sensitive to changes in the source of input information and the destination of output information processing result . Moreover the difference of the operation place may result in a significant change in the form of use by the users which requires that the application be installed to absorb the change.

For example when an application on the image forming device is utilized from the operation panel the application may be installed by assuming that the number of users who access the application at a time is always one. On the other hand when an application on the image forming device is utilized from the network a number of users may utilize the application simultaneously unless a limit number for the number of users who access the application via the network at a time is specified.

Specifically while a user A uses an application A from the operation panel a user B may use the application A from the network. Furthermore a user C may use the application A from the network simultaneously. When the application A is used simultaneously by two or more users it is required that each of the application A and other applications on the image forming device respectively performs processing which is not in conflict with applications being run by each of the users.

Japanese Laid Open Patent Publication No. 2006 140898 discloses the technology directed to supporting the operating method of the image forming device remotely and does not provide the teaching as to the simultaneous use of the application by multiple users. In the image forming device disclosed in Japanese Laid Open Patent Publication No. 2006 140898 the user who operates the device on the operation panel locally and the operator who guides the operation of the device remotely perform one application or a run unit of the application in a shared manner. This is substantially the same as the form of use in which two users perform one application while consulting with each other using the operation panel.

In one aspect of the invention the present disclosure provides an image forming device an information processing method and a computer readable recording medium which are able to reduce the influences on the installation of the application by the difference of the operation place.

In an embodiment of the invention which solves or reduces one or more of the above mentioned problems the present disclosure provides an image forming device including a processor unit comprising a first screen generating part to generate a screen to be displayed on an operation panel and display the screen on the operation panel a second screen generating part to generate screen data to be displayed on an information processing device connected to the image forming device via a network and transmit the screen data to the information processing device and an application managing part to select in response to a request of execution of an application input from the operation panel or the information processing device one of the first screen generating part and the second screen generating part as a candidate for use of the application based on a source inputting the request of execution of the application wherein the first screen generating part and the second screen generating part are configured to receive a request of generation of a screen using a common interface and the application inputs through the common interface the request of generation of the screen to the one of the first screen generating part and the second screen generating part selected by the application managing part.

Other objects features and advantages of the present disclosure will be more apparent from the following detailed description when read in conjunction with the accompanying drawings.

A description will be given of embodiments of the invention with reference to the accompanying drawings.

The image forming device is constituted by any of a printer a scanner a copier a facsimile or a multi function peripheral. For the sake of convenience it is assumed that the image forming device of this embodiment is a multi function peripheral.

The information processing device or which will be collectively referred to as an information processing device when they are not distinguished from each other is constituted by any of a computer such as a personal computer PC a portable terminal such as a personal digital assistance PDA or a cellular phone.

In this embodiment the information processing device is capable of providing a user interface which is the same as a user interface on an operation panel of the image forming device .

Specifically the information processing device is arranged to display a screen which is the same as a screen displayed on the operation panel of the image forming device and arranged to receive through the screen an operational instruction to the image forming device .

In the image forming system as illustrated in two or more image forming devices may be connected via the network. Moreover in the image forming system as illustrated in three or more information processing devices may be connected via the network.

The controller includes a CPU central processing unit an RAM random access memory a ROM read only memory and a HDD hard disk drive . In the ROM various kinds of programs and data or parameters used by the programs are stored. The RAM is used as a storage area for loading a program a work area of the loaded program etc. The CPU carries out various kinds of functions of the image forming device by processing the programs read from the ROM and loaded to the RAM . In the HDD various kinds of programs and data or parameters used by the programs are stored.

The scanner is a hardware component for reading image data from an original document. The printer is a hardware component for printing an image on a sheet. The modem is a hardware component for connecting the image forming device to a public telephone line and the modem is used to perform transmission reception of image data based on the fax communication protocol.

The operation panel is a hardware component which includes an input unit provided with buttons for receiving an input from a user and a display unit such as a liquid crystal panel. The network interface is a hardware component for connecting the image forming device to a network which is either a wired network or a wireless network such as a LAN. The SD card slot is used to read a program stored in an SD card . Hence the image forming device is arranged so that not only the program read from the ROM but also the program read from the SD card may be loaded to the RAM and executed thereon.

As illustrated in the software components of the image forming device include a standard application an SDK application an SDK platform and a service layer . SDK is an abbreviation for Software Development Kit.

The standard application includes a set of applications which are installed in the image forming device beforehand at the time of shipment of the image forming device . In the composition in a scan application a print application a copy application and a fax application are illustrated as the standard application components. The scan application is configured to perform a scan job. The print application is configured to receive print data via the network and perform a print job based on the received print data. Hence the print data transmitted to a print port of the image forming device is processed by the print application . The copy application is configured to perform a copy job. The fax application is configured to perform a fax transmitting job or a fax receiving job.

The service layer is a portion of the software of the image forming device which provides an upper layer application module with a function of managing management information or the like and a function of control various kinds of hardware resources of the image forming device . As illustrated in the service layer includes an operation panel control part OPCP a print job queue PJQ and a printer control part PCP .

The operation panel control part displays a screen on the operation panel screen displaying . Moreover the operation panel control part detects an input from the user i.e. depression of a button on the operation panel and outputs an input event based on the detected input.

The print job queue receives entry of a print job print data from any of the software modules located above the service layer and holds a number of print jobs the number 0 to n in the RAM or the HDD in an accumulated manner. The printer control part controls the printer based on the print job held in the print job queue and performs printing of the print data on a print sheet. Moreover the printer control part transmits to the print event managing part a notification of a progress or a result of execution of the print job with respect to the printer a normal end or abnormal end as a print event.

Although a fax control part which controls the modem to perform a fax transmission reception of image data and a scanner control part which controls the scanner to perform scanning of a document are also provided in the service layer illustration of these parts is omitted in order to provide good understanding of the case in which a print job is performed in this embodiment.

The SDK application is a plug in application which is additionally installed in the image forming device as an expansion option after shipment of the image forming device . In a stored document print application is illustrated as an example of the SDK application .

The stored document print application is an SDK application which is configured to control a print job of image data stored or accumulated in the HDD of the image forming device . For example the image data is read from a document by the scanner or received via the network and stored in the HDD .

The SDK platform provides the execution environment of the SDK application . In other words the SDK application is an application which is executed on the SDK platform . The SDK application is able to use or perform various kinds of functions of the image forming device through an API application programming interface which is provided by the SDK platform .

For example the API SDKAPI includes the interface for allowing use of a scanning function the interface for allowing use of a printing function the interface for allowing use of a copying function etc.

As illustrated in the SDK platform includes a print job requesting part PJRP an operation event handling part OEHP a local screen generating part LSGP a remote screen generating part RSGP a print event managing part PEMP a print job identification table PJIT an application managing part AMP an application unit identification table AUIT and a server communication part SCP . Each of these parts of the SDK platform may be installed as a software component or may be installed as a class in object oriented programming. In the following each part of the SDK platform may also be called a module.

Among these parts of the SDK platform the print job requesting part the operation event handling part and the local screen generating part or the remote screen generating part are loaded on the basis of a unit or a thread or a process or an instance that starts execution of the stored document print application or the SDK application which performs a print job. In the following the unit will be called a run unit. Therefore the print job requesting part the operation event handling part and the local screen generating part or the remote screen generating part which are loaded for a different run unit have a different internal state that varies depending on to the processing state of the SDK application which the part concerned belongs to.

The print job requesting part provides the SDKAPI for receiving a request of execution of a print job to the SDK application . The print job requesting part supplies or inputs the print job to the print event managing part in response to the request of execution of the print job received from the SDK application . Moreover the print job request part transmits a print event received from the print event managing part to the SDK application .

The operation event handling part performs processing according to the operation event with respect to a screen or an operation screen of the SDK application displayed on the operation panel or the information processing device .

Each of the local screen generating part and the remote screen generating part provides the SDKAPI for generating a screen to the SDK application . The local screen generating part generates a screen data in the form supported by the operation panel in response to a request of generation of a screen which is input through the SDKAPI. The remote screen generating part generates a screen data in the form supported by the screen control part of the information processing device in response to a request of generation of a screen which is input through the SDKAPI. The SDKAPI which is provided by the local screen generating part is the same as the SDKAPI which is provided by the remote screen generating part . Therefore the SDK application is able to use the local screen generating part and the remote screen generating part in the same manner.

The print event managing part inputs the print job received from the print job requesting part to the print job queue . Moreover the print event managing part receives the print event which is output from the printer control part and transmits a notification of reception of the print event to the print job requesting part .

The print job identification table is a table in which an identifier of a print job and an identifier of a source requesting execution of the print job the SDK application are associated with each other and registered. For example the print job identification table is generated in the RAM or the HDD . In the print job identification table the source requesting execution of the print job is distinguished on the basis of a run unit of the SDK application not on the basis of a kind name of the SDK application . If the source is a different run unit of the stored document print application it is treated as a different source. Hence the SDK application in the image forming device of this embodiment can be also used by the information processing device and there is a possibility that execution of the SDK application of the same kind may be started a number of times simultaneously.

The print job identification table is used by the print event managing part to determine the destination to which a print event is reported. Hence the address value memory information address of a function or a method for notification of a print event may be used as the identifier of the source requesting execution of the print job. In a case in which a print event is notified by using a predetermined communication protocol an identifier according to the communication protocol for example a port number a URL Uniform Resource Locator etc. may be used as the identifier of the source requesting execution of the print job. In this embodiment the function or the method notification of the print event is also installed in the print job requesting part . As described above the print job requesting part is loaded on the basis of a run unit of the SDK application . Hence the print job requesting part loaded to a different run unit has a different address value of the function.

The application managing part controls starting of execution of the SDK application and manages the state with respect to the started SDK application .

The application unit identification table is a table in which an identifier of a run unit of the SDK application and an identifier of an operation place user are associated with each other and registered. For example the application unit identification table is generated in the RAM or the HDD . The application unit identification table is used to identify the recipient to which the screen data generated by the local screen generating part or the remote screen generating part in response to the request from the SDK application is to be transmitted. Moreover the application unit identification table is used to identify the run unit of the destination to which an operation event with respect to the screen displayed based on the screen data is to be transmitted. The identifier of the operation place may be information that provides a distinction between the information processing device and the operation panel . For example an identifier of the information processing device for example an IP address of the information processing device and an identifier of the operation panel for example an IP address of the image forming device corresponding to the operation panel may be used as the identifier of the operation place.

The server communication part controls the network communication. Fundamentally the server communication part receives a request from the information processing device and returns a response to the request back to the information processing device . In this embodiment the request from the information processing device is a request of acquisition of screen data or an operation event in the displayed screen and the response to the information processing device is the screen data.

In this embodiment the information processing device is not involved with the operating logic a print job etc. to be performed in response to the input to the displayed screen. The information processing device notifies the image forming device of the content of an operation performed on the displayed screen as it is. Hence if the screen data transmitted to the information processing device is to display the screen that is the same as or equivalent to the screen displayed on the operation panel the operation appearance on the information processing device is the same as or equivalent to the operation appearance on the operation panel . A message for notification of an operation event that is asynchronous with the transmission of a request may be transmitted to the information processing device through the server communication part .

On the other hand as illustrated in the information processing device includes a client communication part and a screen control part . The client communication part transmits a request to the image forming device and receives a response from the image forming device . The screen control part performs displaying of a screen based on a screen data contained in a request from the image forming device and performs processing in accordance with an operation event input to the displayed screen. HTML hypertext markup language data may be used as an example of the screen data. When HTML data is used the screen control part and the client communication part may be constituted by a web browser.

Next the procedure performed by the image forming device and the information processing device will be described. First the case in which the stored document print application is used in parallel by different users through one information processing device and the operation panel of the image forming device will be described.

In the information processing device a request of execution of the stored document print application use request is input by the user A and the client communication part of the information processing device transmits a request of acquisition of screen data of the stored document print application to the image forming device S . For example the identifier for example an application ID of the stored document print application and the identifier for example an IP address of the information processing device are contained in the acquisition request of the screen data.

However in the environment which is guaranteed that different users exist on the respective information processing devices the identifier of the user A for example user name may be contained in the acquisition request of the screen data instead of the identifier of the information processing device

The acquisition request of the screen data is transmitted by clicking a button corresponding to the stored document print application in an application selection screen which is previously displayed prior to the step S. The IP address of the image forming device is beforehand stored in each information processing device .

If the acquisition request of the screen data of the stored document print application is received the server communication part of the image forming device notifies the application managing part of reception of the acquisition request S . The application managing part acquires a run unit identification information corresponding to the identifier of the information processing device contained in the acquisition request from the application unit identification table S .

In the step S the application managing part acquires the run unit identifier corresponding to the operation place identifier which matches with the identifier of the information processing device contained in the acquisition request of the screen data from the application unit identification table .

When the stored document print application has not been performed yet through the operation of the information processing device the run unit identifier is not acquired S . In this case the application managing part loads the modules which are needed for each run unit of the stored document print application from among the modules contained in the SDK platform .

In this embodiment the application managing part loads the remote screen generating part the print job requesting part and the operation event handling part with respect to the run unit corresponding to the information processing device S S S . The loading may be incorporated as generation of an object corresponding to each of the modules. The information as to which modules in the SDK platform are needed by each SDK application may be incorporated in the logic of the application managing part or may be described in an external file separate from the application managing part . In such a case the application managing part determines which modules are to be loaded based on the logic or the external file.

In this embodiment there are two modules which generate screen data the local screen generating part and the remote screen generating parts . In the step S the application managing part loads the remote screen generating part . This is because the source requesting acquisition of screen data is the information processing device not the operation panel . Namely in the step S the application managing part selects the remote screen generating part as a candidate for being loaded because the identification information of the information processing device contained in the acquisition request of the screen data does not match with the identification information corresponding to the operation panel .

Alternatively the application managing part may be arranged so that the acquisition request of the screen data in the step S and a request of displaying of a screen in step S which will be described later are received through different interfaces functions or methods and the candidate for being loaded the local screen generating part or the remote screen generating part is determined based on the requesting source.

Subsequently the application managing part starts execution of the stored document print application which is a run unit corresponding to the information processing device S . When execution of the stored document print application is started the application managing part supplies to the stored document print application the identification information of each of the remote screen generating part the print job requesting part and the operation event handling part loaded in the steps S S respectively. That is the application managing part notifies the stored document print application of use of the remote screen generating part the print job requesting part and the operation event handling part . The identification information of each part may be information of any kind which can be accessed by the stored document print application . For example it may be the address information of each part loaded on the memory. The stored document print application and each of the remote screen generating part the print job requesting part and the operation event handling part are associated with each other in a bidirectional manner. Namely it is possible for the stored document print application to call the remote screen generating part the print job requesting part and the operation event handling part and it is possible for the remote screen generating part the print job requesting part and the operation event handling part to call the stored document print application

In the process of the starting processing the stored document print application generates a list of information of the screen data stored in the HDD designates the generated list and inputs a request of generation of an initial screen to the remote screen generating part the identification information of which is notified by the application managing part S . The remote screen generating part generates the screen data for displaying the initial screen including the list and stores the screen data in the RAM .

When the starting processing of the stored document print application is completed the application managing part stores and registers the correspondence information of the identifier of the information processing device and the identifier of the run unit of the stored document print application in the application unit identification table S .

Subsequently the application managing part transmits a request of acquisition of screen data to the remote screen generating part S . The remote screen generating part outputs the screen data stored in the RAM to the application managing part S . The application managing part requests the server communication part to transmit the screen data to the information processing device S .

The server communication part transmits the screen data to the client communication part of the information processing device S . The client communication part inputs the received screen data to the screen control part S . The screen control part displays the initial screen of the stored document print application based on the received screen data.

On the other hand a request of execution of the stored document print application use request is input by the user B through the operation panel of the image forming device and the operation panel control part inputs a request of displaying of an initial screen of the stored document print application to the application managing part S . For example the identifier application ID of the stored document print application and the identifier of the operation panel are contained in the displaying request.

Subsequently the application managing part acquires the run unit identifier corresponding to the identifier of the operation panel contained in the displaying request from the application unit identification table S .

When the stored document print application has not yet been performed through the operation of the operation panel the run unit identifier is not acquired S . In this case the application managing part loads the modules which are needed for each run unit of the stored document print application from among the modules contained in the SDK platform .

In this embodiment the application managing part loads the local screen generating part the print job requesting part and the operation event handling part with respect to the run unit corresponding to the operation panel S S S .

In the step S the application managing part selects the local screen generating part as a candidate for being loaded because the source requesting the displaying of the screen is the operation panel not the information processing device .

Subsequently the application managing part starts execution of the stored document print application which is a run unit corresponding to the operation panel S . When execution of the stored document print application is started the application managing part supplies to the stored document print application the identification information of each of the local screen generating part the print job requesting part and the operation event handling part loaded in the steps S S respectively. The stored document print application and each of the local screen generating part the print job requesting part and the operation event handling part are associated with each other in a bidirectional manner.

In the process of starting processing the stored document print application generates a list of information of the screen data stored in the HDD designates the generated list and inputs a request of generation of an initial screen to the local screen generating part the identification information of which is notified by the application managing part S . The local screen generating part generates the screen data for displaying the initial screen including the list and stores the screen data in the RAM . The screen data generated is in conformity with the data format supported by the operation panel .

When the starting processing of the stored document print application is completed the application managing part stores and registers the correspondence information of the identifier of the operation panel and the identifier of the run unit of the stored document print application in the application unit identification table S .

Subsequently the application managing part transmits a request of displaying of the screen to the local screen generating part S . The local screen generating part outputs the screen data stored in the RAM to the operation panel control part S . The operation panel control part displays the initial screen of the stored document print application on the operation panel based on the received screen data S .

When the interface provided by the operation panel control part includes a set of drawing instructions functions or methods of various screen elements only and does not input the screen data the local screen generating part merely inputs in response to the screen displaying request received at step S the drawing instructions of the screen to be displayed to the operation panel control part without generating screen data at the time of receiving the initial screen generating request at step S.

As described above with respect to in this embodiment the difference of the operation place of the SDK application the stored document print application is absorbed by the SDK platform . That is a difference of an operation place is determined by the application managing part and either the remote screen generating part or the local screen generating part is supplied to the SDK application in accordance with a result of the determination.

In this case the interface of the remote screen generating part and the interface of the local screen generating part are unified into a single interface. Therefore the developer of the SDK application is able to install the SDK application without considering a difference between the case in which the application is operated through the information processing device and the case in which the application is operated through the operation panel .

For the sake of convenience the exemplary procedure in which the operation through the information processing device and the operation through the operation panel are performed in series or consecutively is illustrated in . Alternatively the operation through the information processing device and the operation through the operation panel may be performed in parallel or simultaneously.

As a result of performing the procedure of the situation of the modules loaded on the RAM of the image forming device is as illustrated in .

As illustrated in with respect to the information processing device the stored document print application the remote screen generating part the operation event handling part and the print job requesting part are loaded. These application programs loaded will be referred to information processing device application modules . Moreover with respect to the operation panel the stored document print application the local screen generating part the operation event handling part and the print job requesting part are loaded. These application programs loaded will be referred to operation panel application modules .

The print event managing part the print job queue the print job identification table the printer control part the operation panel control part the application managing part the application unit identification table and the server communication part are used by the information processing device application modules and the operation panel application modules in a shared manner.

Next the procedure performed by the image forming device in the situation illustrated in when print jobs are performed by the stored document print application will be described. is a sequence diagram for explaining the procedure when print jobs are executed by the stored document print application through the operations of the information processing device and the operation panel.

If the user A performs an input operation depression of the button or selection of the element line in the list of image data elements on the initial screen displayed on the display unit of the information processing device after the step S in the screen control part notifies the client communication part of an operation event corresponding to the input operation S . The operation event includes information containing an identifier of the drawing element corresponding to the operation the depressed button or the element line selected from the list of screen data elements a kind of the operation depression or the like an operation place identifier identification information of the information processing device etc.

Subsequently the client communication part transmits the operation event to the server communication part of the image forming device S . The server communication part notifies the application managing part of the received operation event S . The application managing part acquires the run unit identifier corresponding to the operation place identifier contained in the received operation event from the application unit identification table S .

Subsequently the application managing part notifies the operation event handling part of the operation event based on the acquired run unit identifier S . The operation event handling part notifies the operation event to the stored document print application which is associated with the operation event handling part S .

Subsequently the stored document print application performs processing in accordance with the content of the operation event S . For example if the content of the operation event indicates the selection of the element in the list of screen data elements the identifier that identifies the selected element is stored in the memory . In this manner the stored document print application acquires the operation situations in the information processing device selection of the button transitional changes in the screen etc. .

When the content of the operation event indicates the depression of a start button or a button for starting a print job the stored document print application designates the identifier of the image data element corresponding to the element selected from the list of image data elements stored in the memory and requests the print job requesting part to start execution of a print job S .

The print job requesting part determines a job ID of the print job with respect to the image data and transmits to the print event managing part a request of execution of the print job and the identification information of the destination which will be called event notice recipient identifier to which a notice of the print event related to the print job is output S . The image data to be printed is also transmitted to the print event managing part .

In this embodiment it is assumed that the event notice recipient identifier is the address information of the print job requesting part . Hence in the step S the address information of the print job requesting part is transmitted to the print event managing part as the event notice recipient identifier.

Subsequently the print event managing part associates the job identified of the print job and the event notice recipient identifier of the print event and registers the same in the print job identification table S .

Subsequently the print event managing part registers the print job in the print job queue S . Strictly speaking the registration of a print job to the print job queue means registration of a request of execution of the print job in the print job queue . The request of execution of the print job contains information required to perform the print job which includes a job identifier an identifier of the image data to be printed.

On the other hand the stored document print application transmits a request of generation of an in print message screen to the remote screen generating part after the print job executing request is received S . The in print message screen is for example a screen for displaying a message that indicates the printing is currently in progress.

The remote screen generating part generates the screen data of the in print message screen and requests the application managing part to transmit the generated screen data S . The application managing part acquires the operation place identifier corresponding to the run unit identifier concerning the source requesting acquisition of the screen data from the application unit identification table S .

Subsequently the application managing part designates the acquired operation place identifier and transmits a request of transmission of the screen data to the server communication part S . The server communication part transmits the screen data to the client communication part of the information processing device corresponding to the designated operation place identifier S . The client communication part inputs the received screen data to the screen control part S . The screen control part displays an in print message screen on the display unit of the information processing device based on the received screen data.

On the other hand the printer control part performs polling of the print job queue S . If it is detected that the print job is registered in the print job queue the printer control part performs the print job S . That is the printer control part causes the printer to perform printing of the image data with respect to the print job registered.

Subsequently if the end of printing is detected the printer control part notifies the print event managing part of a print event which indicates the end of printing S . The job ID of the corresponding print job is contained in the print event.

After the print event is received the print event managing part acquires the event notice recipient identifier corresponding to the job ID contained in the received print event from the print job identification table S .

Subsequently the print event managing part notifies the print job requesting part of the print event based on the acquired print event notice recipient identifier S . The print job requesting part notifies the stored document print application of the print event S .

Subsequently the stored document print application transmits a request of generation of the screen corresponding to the print event to the remote screen generating part S . In this case generation of a printing end screen which indicates the end of printing is requested.

Subsequently the remote screen generating part generates the screen data of the printing end screen and transmits a request of transmission of the generated screen data to the application managing part S . The application managing part acquires the operation place identifier corresponding to the run unit identifier concerning the source requesting transmission of the screen data from the application unit identification table S .

Subsequently the application managing part designates the acquired operation place identifier and transmits a request transmission of the screen data to the server communication part S . The server communication part transmits the screen data to the client communication part of the information processing device corresponding to the designated operation place identifier S . The client communication part inputs the received screen data to the screen control part S . The screen control part displays a printing end screen based on the received screen data. Even when a different print event other than the end of a print job for example lack of recording sheets takes place the same procedure as that of the steps S S in is performed.

On the other hand if the user B performs an input operation on the initial screen of the stored document print application displayed on the operation panel during execution of the print job requested from the information processing device the operation panel control part notifies the application communication part of an operation event corresponding to the input operation S . This operation event has a data format that is the same as that of the operation event from the screen control part of the information processing device which contains the same information .

The application managing part acquires the run unit identifier corresponding to the operation place identifier contained in the received operation event from the application unit identification table S .

Subsequently the application managing part notifies the operation event to the operation event handling part based on the acquired run unit identifier S . The operation event handling part notifies the operation event to the stored document print application which is associated with the operation event handling part S .

Subsequently the stored document print application performs processing according to the contents of the operation event S . For example if the content of the operation event indicates selection of the element in the list of image data the identifier of the selected element is stored in the memory . In this manner the stored document print application acquires the operation situations in the operation panel .

When the content of the operation event indicates the depression of a start button the stored document print application designates the identifier of the image data corresponding to the element selected from the list of image data element stored in the memory and requests the print job requesting part to start execution of a print job S .

The print job requesting part determines a job ID of the print job with respect to the image data and transmits to the print event managing part a request of execution of the print job and the event notice recipient identifier with respect to the print job S . The image data to be printed is also transmitted to the print event managing part . In the step S the address information of the print job requesting part is transmitted to the print event managing part as the event notice recipient identifier.

Subsequently the print event managing part associates the job ID of the print job and the event notice recipient identifier of the print event and registers the same in the print job identification table S .

On the other hand the stored document print application transmits a request of generation of an in print message screen to the local screen generating part after the print job executing request is received S . The local screen generating part generates the screen data of the in print message screen and transmits the screen data to the operation panel control part S . The operation panel control part displays an in print message screen on the operation panel based on the received screen data.

On the other hand the printer control part performs polling of the print job queue S . If it is detected that the print job is registered in the print job queue the printer control part performs the print job S .

Subsequently if the end of printing is detected the printer control part notifies the print event managing part of a print event which indicates the end of printing S . The job ID of the corresponding print job is contained in the print event.

After the print event is received the print event managing part acquires the event notice recipient identifier corresponding to the job ID contained in the received print event from the print job identification table S .

Subsequently the print event managing part notifies the print job requesting part of the print event based on the acquired event notice recipient identifier S . The print job requesting part notifies the stored document print application of the print event S .

Subsequently the stored document print application transmits a request of generating of the screen according to the print event to the local screen generating part S . In this case generation of a printing end screen which indicates the end of printing is requested.

Subsequently the local screen generating part generates the screen data of the printing end screen and transmits the screen data to the operation panel control part S . The operation panel control part displays a printing end screen on the operation panel based on the received screen data.

As described above with respect to in this embodiment even when the operation through the operation panel and the operation through the network are performed in parallel or even when the SDK application is used by two or more users simultaneously the destination to which an operation event is transmitted and the destination to which a screen is output are determined appropriately. Determination of the destination of an operation event and determination of the destination of a screen are carried out by the SDK platform and it is not necessary for the SDK application to consider the destination of an operation event or the destination of a screen. Therefore the developer of the SDK application is able to install the SDK application without considering a difference between the case in which the application is operated through the information processing device and the case in which the application is operated through the operation panel .

In the procedure of the exemplary case in which the same SDK application the stored document print application is used simultaneously is illustrated. However the same procedure of is also applicable to another case in which a first SDK application is used through the operation panel and a second SDK application different from the first SDK application is used through the network.

Next the ability of the simultaneous use of the SDK application by multiple users according to the image forming device is also applicable to the case in which the SDK application is operated by multiple information processing devices simultaneously.

For example when the stored document print application is used by two information processing devices and the procedure of the steps S S in is performed for each of the information processing devices and . As a result the situation in which the modules are loaded in the image forming device is as illustrated in .

As illustrated in with respect to the information processing device the stored document print application the remote screen generating part the operation event handling part and the print job requesting part are loaded. With respect to the information processing device the stored document print application the remote screen generating part the operation event handling part and the print job requesting part are loaded. In other elements which are the same as corresponding elements in are designated by the same reference numerals and a description thereof will be omitted. For the sake of convenience in illustration of the operation panel control part is omitted.

The procedure of steps S S in is similar to the procedure of the steps S S in described above. That is the procedure of steps S S in is performed with respect to the information processing device and the procedure of steps S S in is performed with respect to the information processing device

As illustrated in the image forming device of this embodiment is arranged so that the destination to which a notification of an operation event is transmitted the destination to which the screen data is output etc. are determined appropriately even when the image forming device is used through the network by two or more information processing devices .

The procedure for the case in which the stored document print application is used by the operation panel and two or more information processing devices simultaneously is self explanatory from a combination of the procedures in and and a description thereof will be omitted.

In this embodiment the run unit identification information is used for two or more purposes such as determination of the destination to which a notification of an operation event is transmitted determination of the destination to which the screen data is output etc. Specifically at the step S in the run unit identification information is used as identification information for identifying the operation event handling part which makes notification of an operation event. At the step S in the run unit identification information is used as identification information for identifying the remote screen generating part which is the source requesting transmission of the generated screen data.

For example when it is difficult to identify the operation event handling part or the remote screen generating part based on one identification information item due to the restrictions on the specifications of the programming language or the like using two or more identification information items to define the run unit identification information is also possible.

Specifically at the step S in the application managing part may be arranged to register in the application unit identification table the respective identifiers of the remote screen generating part and the operation event handling part as the run unit identification information items. Similarly at the step S in the application managing part may be arranged to register in the application unit identification table the respective identifiers of the local screen generating part and the operation event handling part as the run unit identification information items.

In this embodiment the example in which the operation place identifier is associated with each run unit of the SDK application in the application unit identification table has been described. However in the environment in which the simultaneous use of a same SDK application should be inhibited or in the environment which is guaranteed that the same SDK application is never used simultaneously the operation place identifier may be associated with each kind of the SDK application or each application ID in the application unit identification table .

The entries in the application unit identification table are deleted when execution of a corresponding run unit is terminated. Similarly the entries of the print job identification table are deleted when execution of a corresponding print job is terminated.

According to the present disclosure the influences on the installation of the application by the difference of the operation place can be reduced.

The present disclosure is not limited to the specifically disclosed embodiments and variations and modifications may be made without departing from the scope of the present disclosure.

The present application is based on Japanese patent application No. 2009 150818 filed on Jun. 25 2009 the contents of which are incorporated herein by reference in their entirety.

