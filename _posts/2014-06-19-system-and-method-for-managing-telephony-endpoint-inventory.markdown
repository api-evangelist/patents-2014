---

title: System and method for managing telephony endpoint inventory
abstract: A system and method for managing an endpoint repository of a communication platform that includes managing a set of telephone endpoints that can be in an allocated state or an unallocated state; classifying endpoints of the set of telephone endpoints with a set of classifiers; evaluating endpoint inventory across a set of endpoint classification groupings and detecting at least one classification grouping that, based in part on the allocated and unallocated state of corresponding endpoints, satisfies an inventory update condition; generating an endpoint transfer request that specifies the endpoint classifiers of the classification grouping; and selectively adding endpoints from the inventory source to the endpoint repository.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09338280&OS=09338280&RS=09338280
owner: Twilio, Inc.
number: 09338280
owner_city: San Francisco
owner_country: US
publication_date: 20140619
---
This application claims the benefit of U.S. Provisional Application Ser. No. 61 836 927 filed on 19 Jun. 2013 which is incorporated in its entirety by this reference.

This invention relates generally to the telephony endpoint field and more specifically to a new and useful system and method for managing telephony endpoint inventory in the telephony endpoint field.

In recent years telephony communication platforms and IP based phone services applications and platforms have partly caused more volatility in the demand of phone numbers and short codes used as telephony endpoints. Similarly more of the world is becoming connected and moving from shared home phones to individual mobile phones and sometimes multiple numbers managed through various phone applications. Phone numbers have become more disposable and the demand of phone numbers has increased while the demand fluctuations have more real time urgency. While previously a user would often hold onto a phone number for a long time now a phone number may only have a customer lifetime of a month day an hour or even a single use. Further complicating phone number management is that there is no central registrar of phone numbers and various carriers and entities hold and distribute phone numbers. The transfer of such numbers from carriers can at times be slow and unable to keep up with real time demand requirements. Thus there is a need in the field to create a new and useful system and method for managing telephony endpoint inventory. This invention provides such a new and useful system and method.

The following description of preferred embodiments of the invention is not intended to limit the invention to these preferred embodiments but rather to enable any person skilled in the art to make and use this invention.

As shown in a system for managing telephony endpoint inventory of a preferred embodiment can include a telephony endpoint management service interfacing between services of a communication platform and a telephony endpoint repository and an inventory monitor . The system functions to enable telephony endpoint management more specifically maintaining an endpoint repository with desired characteristics and performance quality. A telephony endpoint is preferably an address to which PSTN and telephony communication can be directed. A telephony endpoint can be a phone number a short code toll phone number or any suitable address type. The telephony endpoint may alternatively be any suitable form of communication endpoint which can be any communication addressing mechanism. The communication endpoints may be offered in a limited fashion which will commonly lead to re use and transfer of endpoints between entities. The transfer of endpoints may result in dirty endpoints endpoints with out of date or false associations. Additionally the endpoints are preferably served and provided through outside sources such as a telephone carrier or some domain address provider.

The system is preferably incorporated into a communication platform that provides capabilities of purchasing renting or being assigned a telephony endpoint for customer use. For example the communication platform is preferably a multi tenant communication application platform where users can set up various applications for facilitating communications to assigned phone numbers. The communication platform is preferably substantially similar to the one described in U.S. Pat. No. 8 306 021 issued 6 Nov. 2012 which is hereby incorporated herein in its entirety by this reference. The communication platform can alternatively have any suitable architecture or functionality. In one variation the system may be a stand alone telephony endpoint registrar service used by multiple outside entities. The system is preferably integrated into the operation of the communication platform such that telephony endpoint inventory can be updated according to endpoint availability and telephony endpoint usage. Requests for a new phone number can have varying forms of desired address patterns and endpoint capabilities. For example the area code last four digits country code and capabilities are all dimensions which may be important to various users. The system can automatically track and monitor telephony endpoint inventory across several dimensions so that a pool of desirable telephony endpoints is ready for delivery to a customer.

The telephony endpoint management service functions to provide a service interface for interacting with telephony endpoints. The telephony endpoint management service is preferably an intermediary component between the endpoint repository and components of a communication platform. The telephony endpoint management service preferably includes an application programming interface API that can be used by other components for interacting with records of telephony endpoints. The API acts as an intermediary abstraction layer between stored numbers and various services of the communication platform. By implementing the telephony endpoint management service in front of the endpoint repository the components of the communication platform are independent of the inner functionality of the endpoints. Any request to inspect request create port delete and or interact with an endpoint preferably passes through the telephony endpoint management service . This visibility into interactions with the telephony endpoints is preferably exploited to enable the inventory monitor sub system to track and respond to inventory demand.

The API is preferably a RESTful API but may alternatively be any suitable API such as SOAP. The API can work according to an HTTP request and response model. HTTP requests or any suitable application layer communication to the telephony endpoint management service preferably observes the principles of a RESTful design. RESTful is understood in this document to describe a Representational State Transfer architecture as is known in the art. The RESTful HTTP requests are preferably stateless thus each message communicated from the call router to the application server preferably contains all necessary information for operation of the application server and response generation of the application server. The components of the communication platform and or the telephony endpoint management service preferably do not need to remember or store previous communications to be aware of the state. The API may be an internal API used by services within the communication platform of the system but the API may alternatively be at least partially public wherein external entities can access portions of the API.

The API may include API calls to inspect properties of a telephony endpoint. The API may include API calls to request a telephony endpoint to be used as a customer s terminating endpoint. For example an API request may initiate a purchase or acquisition of an endpoint for use by an account. Preferably the communication platform is a multitenant platform that uses an account system to segment functionality. An account can have a number of assigned telephony endpoints. A request can be made to add a new phone number to an account. In some variations the request may include desired properties of the telephony endpoint. The desired telephony endpoint may be specified by area code country code functionality e.g. SMS capable type e.g. toll free short code etc. address patterns e.g. vanity properties like ending in all zeros cost quality e.g. high voice or messaging quality and or any suitable property of a telephony endpoint. Similarly the API may include API calls to remove an endpoint. An API request is preferably submitted to disassociate an endpoint from an account or customer. Removing an endpoint may return the endpoint to a pool of available endpoints or alternatively a pool of endpoints to test before making it available. Other actions can include porting of an endpoint either into the system e.g. for an existing user phone number or out of the system e.g. transfer management of the endpoint to another system carrier . In one variation a record of a telephony endpoint may include application mapping information that is used during use of the telephony endpoint. Thus during normal use of the telephony endpoint by an account the API may be used to access application information such as a URI for a telephony application or application instructions. Accordingly the telephony endpoint management service can have visibility into usage of the endpoints which may be used by the inventory monitor sub system . In another variation the API can include feedback calls to report quality issues either good performance or bad performance. The inventory monitor sub system can be notified of any of the above inventory related actions.

As shown in the system can additionally include a set of distributed set of endpoint management service instances. The distributed set of service instances function to provide scalability and regional availability of API access into the endpoint information and management.

The telephony endpoint repository functions to store endpoint data. A telephony endpoint preferably has a record stored in a database or distributed through several database tables or other suitable data models. An endpoint record may include various properties of an endpoint such as a unique identifier of the telephony endpoint the direct inbound address e.g. the phone number of short code origin properties geolocation information a cleanliness quality score capability properties e.g. SMS MMS Fax etc. status e.g. mobile landline client application tool free business etc. and or other suitable properties of a telephony endpoint. Origin properties can includes NPs e.g. area code NXX e.g. three digit vanity digits of a number ISO country codes region properties and or any suitable origin properties. Endpoints may additionally have different allocation statuses. An endpoint may be allocated available or in an evaluation status. An allocated endpoint is preferably an endpoint in use by some entity. An allocated endpoint is associated or otherwise mapped to an entity. The entity is preferably an account in the system but may alternatively be a device or an external routing destination. An available endpoint is an endpoint that is available for allocation. The available endpoints are preferably not in active use and may be acquired by a user. An endpoint in an evaluation stage may be undergoing a period of testing to ensure quality standards. An evaluation stage may additionally include a rejected state where the endpoint is deemed unusable. Such endpoints are preferably returned or removed from the system during endpoint transactions with an endpoint source.

Additionally the telephony endpoint repository may accumulate and track information for endpoints managed outside of the communication platform. Communications made through the communication platform may often include one endpoint managed by the system and an external endpoint. An informational database of external endpoints can be built through use of the system and or through access to external data sources. The external endpoint information may be used when acquiring and evaluating newly obtained endpoints.

The inventory monitor functions to track analyze and manage inventory requirements across multiple categories. The inventory monitor is preferably communicatively coupled to the telephony endpoint management service no. The inventory monitor preferably receives updates on changes made to the inventory repository and or usage of the various telephony endpoints in the system. The inventory monitor includes a tracking component that facilitates tracking the inventory across various dimensions such as country code area code capabilities vanity features and other suitable characteristics. In response to the monitored status of the inventory the inventory monitor can initiate communication with telephony endpoint providers. The inventory monitor can be responsive to changes in quality of one or more endpoints in the repository and to changes in availability or quantity of endpoints aligned to particular endpoint categories. The inventory monitor preferably includes an endpoint order system

The tracking component of the inventory monitor preferably updates inventory status according to new endpoint allocation removal of endpoints and the use of telephony endpoints. The tracking component preferably works with a number keeping unit to sub divide segment and or categorize telephony endpoints into classification groups. The number keeping unit preferably maps a telephony endpoint to an endpoint identity. For example a telephony endpoint identity may just be the area code of a telephone number. More preferably the number keeping unit maps a telephony endpoint to multiple classifications. The different classifications of telephony numbers preferably overlap a telephony endpoint can be a member of two groups. The tracking component preferably stores queries or calculates inventory analytics for individual classifications. In this way the inventory along different dimensions can be tracked and maintained. For example the number of mobile phone numbers the phone numbers for a particular area code and the number of mobile phone numbers for the particular area code may all be dimensions in which inventory is tracked and monitored.

The endpoint order system functions to interface and facilitate the transfer of endpoints with at least one endpoint provider. Telephony carriers network providers often hold a large number of telephony endpoints. They are preferably used as the source of ordered telephony endpoints but the outside source of the telephony endpoints can be any suitable party. The endpoint order system may directly interface with endpoint providers to submit orders. Alternatively orders or order specifications may be generated and provided to any suitable party.

The system can additionally include a testing component which functions to process telephony endpoints. The testing component can perform initial testing on obtained telephony endpoints prior to fully incorporating the telephony endpoint into the system for use. The testing component may additionally or alternatively be used in periodic evaluation of endpoints already integrated in the system. For example endpoints that are deallocated for a particular account may be tested before offering to other customers. When a telephony endpoint is moved or ported to the system the properties of the telephony endpoint may not be known. Often a provider will deliver telephony endpoints in bulk e.g. a block of 1000 numbers wherein several hundred telephony endpoints are transferred to the system. When more telephony endpoint inventory is required it is often for a target classification of telephony endpoints. As one stage of the testing component the classification of the obtained telephony endpoints is verified to comply with the desired classification. If an obtained telephony endpoint is not of a desired classification then the particular telephony endpoint may be returned or exchanged with the provider e.g. through the endpoint order system . As another stage of the testing component the functionality of obtained telephony endpoints can be verified. Testing scripts and testing devices can be coordinated to run various test scenarios on a telephony endpoint. Tested capabilities can include capability of receiving calls making calls receiving messages routing to client applications and or performing other suitable tasks. Communication testing may additionally be performed between different geographic regions and or between different types of devices e.g. PSTN to SIP device . If an obtained telephony endpoint fails to pass a test the telephony endpoint may be returned to the provider depending on the desired capabilities of the telephony endpoint . The functionality testing may measure success and failure of particular capabilities and or quality measurements. As another stage of the testing component a cleanliness score of a telephony endpoint can be evaluated. The cleanliness score is a measure of undesired communications that are received at the number. An undesired communication can be a call or message that results from a caller entering the wrong phone number a call or message that was intended to reach a previous owner of the telephony endpoint unsolicited calls or messages e.g. telemarketers spam text messages or any suitable undesired communication. The cleanliness stage preferably places the telephony endpoints in temporary quarantine state where incoming communication is monitored for a set duration of time. If no incoming calls or messages are transmitted to the telephony endpoint then the number is considered clean and can be confidently used and distributed to users of the system.

The system may additionally include any suitable subsystem to supplement the endpoint inventory information such as an endpoint information database a geo data system which may provide mapping between geographic regions and endpoints a country regulation manager which may provide information on regional regulations relating to the endpoints and or any endpoint monitoring or information suitable sub system.

As shown in a method for managing telephony endpoint inventory of a preferred embodiment can include managing a set of telephony endpoints S evaluating state of an endpoint repository S transferring a set of endpoints with an inventory source S and selectively adding endpoints from the inventory source to the endpoint repository S. The method functions to maintain an inventory of phone numbers that is balanced based on the usage demand. The method can additionally include receiving an endpoint inventory trigger S which functions to automatically invoke inventory management. As shown in the method is preferably applied to maintain a pool of endpoints with quality standards suitable for distribution. The method preferably accounts for complexities unique to telephony endpoint management such as interfacing with supplying entities of telephony endpoints and the accounting for the unknown condition of received inventory due to the varied history of telephony endpoints.

Telephony endpoints are preferably phone numbers short codes toll free numbers and or other suitable telephony communication addresses. In one variation the telephony endpoints can be SIP addresses and or proprietary endpoints. The method is preferably implemented within a communication platform carrier or other infrastructure that holds supplies and or works with a large number of telephony endpoints. Distributing telephony endpoints preferably includes allocating telephony endpoints for usage by end customers user of the communication platform but can alternatively include exporting selling the endpoints out of the platform. In another implementation the method is executed within a telephony endpoint management service that acts as a warehousing registrar for telephony endpoints. The telephony endpoints are preferably a diverse collection from various countries different regions enabled with different features e.g. voice enabled SMS enabled etc. and or having different properties e.g. 800 number particular area code NPA NXX pattern particular number pattern and the like . The repository of telephony endpoints may alternatively target a specified subset of telephony endpoints. The method preferably enables inventory to be maintained to satisfy the various patterns of telephony endpoint demand.

Block S which includes managing a set of telephony endpoints functions to provide utility for the telephony endpoints within a platform. The set of telephony endpoints managed by the communication platform preferably means that external telephony and communication systems will direct communication to the communication platform for the endpoints in the set of telephony endpoints. Furthermore the communication platform can make outgoing communications from an endpoint from the set of endpoints.

The telephony endpoints can preferably be in an allocated state or an unallocated state. An endpoint in an allocated state is preferably mapped to a user account or other suitable entity in the communication platform. The allocated telephony endpoints are assigned to or owned by a user account. The user account can then associate the telephony endpoint with an application a routing configuration and or used in any suitable manner. A user account can make outgoing calls using an allocated endpoint and communications directed at that endpoint can be received or otherwise trigger some event e.g. execution of a telephony application . The communication platform is preferably a multitenant platform and accordingly must manage a wide variety of telephony endpoint allocations. The various users will have different desires and requirements for the properties and characteristics of the specific endpoint or endpoints allocated to their user accounts. In some cases a user may request an endpoint managed outside of the communication platform to be ported into the communication platform e.g. changing routing of outside communication systems .

The unallocated telephony endpoints are preferably endpoints that are available to be allocated. Users can preferably query the set of unallocated telephony endpoints to select purchase rent or otherwise allocated the telephony endpoint to their accounts. When searching for an endpoint a user may be able to specify specific characteristics of the endpoint such as patterns in the number geographic associations communication capability price quality and or other suitable properties. The unallocated telephony endpoints are preferably managed through the method so as to provide a desirable pool of telephony endpoints. As described below the managed telephony endpoints will be classified for different dimensions or properties. At least the inventory of unallocated endpoints is maintained to satisfy inventory target conditions. The unallocated endpoints may additionally be in an available and unavailable state. Available endpoints are in a state that can be allocated if or when selected. Unavailable endpoints are endpoints that are managed by the communication platform but may not be suitable or fully enrolled for allocation. The unavailable endpoints are preferably not offered in an endpoint marketplace. For example an unavailable unallocated endpoint may go through various quality testing processes. One such quality testing process monitors incoming communications while the endpoint is unallocated to determine the dirtiness of the endpoint. The dirtiness of an endpoint preferably describes the level of mis dialed or mis directed e.g. attempting to reach an old owner of the endpoint communication.

Block S which includes receiving an endpoint inventory trigger functions to intercept actions within a platform that impact inventory usage. Endpoint inventory triggers can include receiving an inventory allocation transaction S and or detecting a change in the quality of at least one endpoint in the endpoint inventory S as shown in . An endpoint inventory trigger may alternatively be a scheduled event. The scheduled event is preferably a periodic time based event that triggers an inventory check and updating. For example the communication platform may check inventory daily weekly or monthly. Scheduled events may alternatively be based on traffic within the communication platform a count of a particular events or any suitable communication platform metric. An endpoint inventory trigger may alternatively be manually triggered wherein an administrator selects to perform an inventory check and update.

Receiving an inventory allocation transaction S functions to respond to changes in endpoint status. A telephony endpoint management service is preferably an interface through which other services access or interact with telephony endpoints that are currently active or available in the platform. The management service is preferably a RESTful API exposed to internal services of a platform but may alternatively be directly exposed to external services. The management service is preferably substantially similar to the telephony endpoint management service described above. As an intermediary component between the telephony endpoint repository and other applications services or components the management service can preferably be configured to react and or trigger actions when the telephony inventory is impacted. In one variation a sub set of types of requests is set to induce an inventory management response. In a preferred implementation types of requests that trigger inventory monitoring include requesting a new endpoint returning canceling endpoint usage searching for a type of telephony endpoint e.g. searching for endpoints with a particular area code porting a telephony endpoint reserving requesting a telephony endpoint reporting quality issues with a telephony endpoint exchanging a telephony endpoint and or any suitable action to impact the telephony endpoint inventory. In some cases such requests may be for a particular endpoint but in other cases such endpoint inventory requests specify characteristics or traits of an endpoint e.g. searching for an endpoint with particular properties .

As an exemplary scenario an outside application may need a new phone number. The outside application makes an API request or alternatively completes an order online . This request is delivered to the associated communication platform where a public API service receives the request and then transmits an internal API request to the telephony endpoint management service. The telephony endpoint management service detects that the request changes the amount of available inventory and messages the inventory monitor while processing the request and allocating one of the existing telephony endpoints to the outside application. The architecture of an intermediary telephony endpoint management service abstracts the monitoring of inventory so that inventory management can transparently occur without impacting operation of other services.

Since the telephony endpoint management service is the interface for querying telephony endpoint properties the telephony endpoint management service can additionally review requests that query the endpoint for general usage. Endpoint usage can include a number of incoming calls number of outgoing calls number of messages sent number of messages received properties of calls and messages e.g. where is the other leg of the call what carrier is used quality of communication and other usage based parameters. Such usage may impact inventory predictions such as predicting if a customer will return a telephony endpoint soon. Numbers that receive high usage and have high quality calls may be considered more static long term numbers and the inventory monitor can account for such inventory stickiness when predicting supply. A telephony endpoint that is rarely used and or suffers from quality issues may be returned or removed from an account soon and return to available inventory. A telephony endpoint with this usage pattern may be considered potentially available inventory in the future. For example in one preferred implementation when a phone call is received by the communication platform the destination endpoint may be queried through the telephony endpoint management service to identity if an application exists for the phone number if the call should be routed internally if the call should be forwarded to another number or how the call to the number should be handled.

Detecting a change in the quality of at least one endpoint in the endpoint inventory S functions to trigger an inventory update when one or more endpoints have changes in quality. The change in quality can occur to endpoints with any suitable status such as allocated unallocated available or unavailable evaluating. A quality feedback API may facilitate receiving quality feedback updates in response to communications with the endpoint. Similarly communication monitoring and analytics could similarly provide data on communication quality of an endpoint. In some cases endpoint registration with carriers or other entities may result in poor performance endpoints such monitoring could detect when an endpoint enters such a state. Detecting a change in quality can additionally or alternatively include periodically executing automated quality testing. The quality testing may be substantially similar to the endpoint testing described below. The method preferably maintains a set of endpoints with some quality assurances for the endpoint. If the availability of quality endpoints in a particular category changes such quality monitoring can detect the event and respond.

Block S which includes evaluating state of an endpoint repository functions to determine how changes in endpoint inventory are impacted. The evaluation of the state of an endpoint repository may be in performed upon receiving an endpoint inventory trigger but may alternatively be periodically performed performed in response to a system request or triggered for any suitable reason. The evaluation of the state of the endpoint repository preferably transforms endpoint interactions described for Block S into recommended inventory actions. The evaluation can identify patterns in endpoints that should be acquired or released and optionally predict upcoming endpoint trends. Demand for endpoints is often not uniform across all endpoint characteristics. Block S preferably includes classifying endpoints S querying a telephony endpoint inventory monitor S and analyzing usage for at least one endpoint category S as shown in .

Block S which includes classifying endpoints functions to determine a set of tags labels or properties for each endpoint. A plurality of classifiers is preferably identified for each endpoint but alternatively a single classifier may be used. Additionally each endpoint may have a different number of classifiers. The classifiers are preferably organized into different classifier types where each classifier type is for a particular category or dimension. The different types of classifiers can include classifiers for inherent properties of the endpoint and for measured properties. Some classifiers such as the inherent property classifiers are immutable. Other forms of classifiers such as a quality classifier or capability classifier may change over time. The classifiers can include country classifiers region classifiers communication capability classifiers e.g. mobile capability voice enabled SMS enabled MMS enabled etc. number type classifier e.g. normal number short code 800 number etc. area code NPA NXX pattern i.e. a numbering plan area code classifier number patterns e.g. XXX XXX 1234 quality classifiers and or any suitable classifier type. The quality classifiers can be based on results from endpoint quality results from quality tests described below. The classification process is preferably pre calculated and or periodically updated but the classifiers of the endpoints may alternatively be generated on demand.

Blocks S and S function to evaluate endpoint inventory across a set of endpoint classification groupings and to detect at least one classification grouping that based in part on the allocated and unallocated state of corresponding endpoints satisfies an inventory update condition.

Block S which includes querying an inventory monitor which functions to check inventory levels and account for changes in inventory. Querying the inventory monitory preferably includes performing a set of queries that use the classifiers in a classification grouping. The classification grouping preferably uses logic and other rule based definitions to define a queried set of endpoints that satisfy that classification grouping. The inventory monitor can be database. The results of the query can be inventory count change in inventory or any suitable metric or metrics. The management service preferably transmits a message to the inventory monitor upon detection of a triggerable inventory event. Inventory updates may alternatively be batched and sent in bulk. Triggerable inventory events preferably include allocating or removing a telephony endpoint for a user of the communication platform. Other triggerable events may additionally be used such as telephony usage and quality report events.

In one variation the query can target a particular change in the inventory. For example if one endpoint with a classifier identifying it as a number from area code 415 is allocated then the inventory for area code 415 may be evaluated. The message preferably communicates the particular endpoint and the inventory action. Inventory actions may include allocating the particular endpoint. In other words the endpoint is removed from available inventory to allocated inventory. Another inventory action may include setting the particular endpoint to available. Users of a platform may cancel their account which can return telephony endpoints to an available state. Users may also individually cancel an endpoint or telephony endpoint allocation may expire. For example endpoints may expire after an account doesn t use the endpoint for a set duration or if the account becomes inactive. When a telephony endpoint become available the telephony endpoint may receive analysis as described in Block S. The inventory actions can additionally include porting of a number which describes a request to move an endpoint out of the system. Another inventory action may be changes to inventory quality which as mentioned above can impact predictions on the duration of usage of the endpoint.

Querying a telephony endpoint inventory monitor preferably includes identifying inventory levels which functions to segment inventory around the endpoint associated with the trigger. In the general scenario the inventory is all treated as the same group. There are preferably at least two states of inventory available unallocated inventory and allocated inventory. Available allocated inventory is inventory not assigned to a customer user but available to be allocated. Allocated inventory is inventory that is currently maintained by the system and is assigned to at least one account or customer. There can be other inventory states such as an evaluation state quarantine state new inventory state retired inventory and other suitable states. Demand is often very different for different countries area codes and capabilities. The inventory monitor preferably allows inventory to managed based on various classification groupings. As shown in different patterns in classifiers can be specifically monitored. The way in which the classifiers are monitored may be defined in any suitable manner. A change to a particular telephony endpoint is preferably monitored based on how it impacts the inventory of similar telephony endpoints. In one variation a number keeping unit preferably facilitates mapping an endpoint to at least one classifier. The classification can further be divided into various classes categorizations and segments. Preferably the telephony endpoint is classified at least by area code or an address prefix. The telephony endpoint may additionally or alternatively be classified by country code country region carrier functionality e.g. SMS MMS Fax tool free etc. vanity characteristics first three digits cleanliness score quality score and or any suitable classification. The number keeping unit preferably maps the endpoint to an endpoint identity or endpoint classification grouping. Then the records for that number identity are queried. In one variation the identity is a unique endpoint but the identity may alternatively be a group or classes of endpoints. In a simple use case the number identity is just the area code. In another use case a set of endpoint classifications are identified and each classification is then monitored to evaluate if inventory for those classifications need to be individually adjusted. The classification of inventory may be dynamic wherein the collections of inventory are uniquely queried and tallied based on the current endpoint. However the inventory classifications may alternatively be generalized and static. For example there may be a classification for each area code and a record is maintained for each classification within the system.

Evaluation of the inventory for particular endpoint characteristics can include accounting for current inventory counts which may include the count allocated inventory count of available inventory ratio of allocated to available inventory inventory request rate and other metrics for one or more endpoint identity characteristics or for the global inventory. Evaluating preferably factors in supply and demand aspects of the endpoint inventory.

Additionally querying a telephony endpoint inventory monitor preferably includes accounting for endpoint inventory changes which functions to update tracked metrics of inventory. When a message indicates an inventory change the inventory accounting for the various classifications changes. Each classification of a telephony endpoint is preferably monitored or accounted for individually. For example a phone number with a 415 area code and with SMS capabilities may be classified according to both these properties. The inventory for 415 numbers can be maintained and processed separately from the SMS capability property. In this way inventory for 415 numbers can satisfy demand and inventory for SMS capable numbers can also satisfy demand. Meta categories may be combinations of properties. For example a separate classification for SMS capable 415 numbers may ensure that enough inventory is maintained with both of these properties. Accounting preferably includes incrementing an inventory count when an endpoint is ported or added to the repository of endpoints changing state between available and in use when appropriate decrementing an inventory count when an endpoint is removed or retired. When accounting endpoint inventory the current tally or count of endpoints is preferably stored. Additionally historical data of endpoint inventory may be stored such that changes in inventory can be used to project demand. Usage and quality data may be used to generate predictions on lifespan of individual telephony endpoints in different classification groups.

Block S which includes analyzing usage for at least one endpoint classification functions to detect if action should be taken to adjust inventory. In particular block S includes detecting at least one classification grouping that satisfies an inventory update condition. The inventory update condition is preferably detected based at least in part on the allocated and unallocated state of endpoints that correspond to that classification grouping. The inventory monitor preferably compares the inventory metrics resulting from a classification grouping query to inventory thresholds. The inventory thresholds may be preset for different classifications. The inventory thresholds may additionally automatically adjust based on current and or past inventory metrics. In one variation if an inventory metric satisfies an inventory threshold e.g. available inventory drops below a particular number then a response is triggered to add or remove inventory. Accordingly evaluating state of an endpoint repository preferably includes identifying at least one endpoint category in condition for transfer S. The condition for transfer may be low supply or excess supply which may each result in obtaining endpoints for that endpoint category or releasing endpoints in that endpoint category. Analyzing usage may additionally account for inventory metric history where slope acceleration and other trends and properties are used to predict expected inventory requirements. The analysis may additionally factor in other properties of telephony endpoints other than the total count. As was previously mentioned quality measurements of an endpoint can be incorporated into the usage analysis. Endpoint quality may be used to predict the lifetime of an in use endpoint. Alternatively endpoint quality may be used as a filter of endpoints such that the threshold is enforced upon only high quality endpoints. Analysis of the usage can trigger a response. Primarily the inventory monitor is configured for managing inventory such that supply can satisfy future demand and thus replenishment is triggered. The inventory monitor can additionally change the state of endpoints to decommission un needed endpoints or return exchange sell overly abundant endpoints.

Block S which includes transferring a set of endpoints with an inventory source functions to initiate or complete an inventory order. Transferring of endpoints can include obtaining removing releasing trading or any suitable exchange of endpoints either in or out of the communication platform. Transferring a set of endpoints can include generating an endpoint transfer request. The transfer request will preferably specify the type of endpoints requested and the classifiers from the classification grouping. The transfer request can include a request endpoints from one classification grouping but may additionally request endpoints for multiple classification groupings. Additionally specific endpoints may be specified as being transferred out of the communication platform. The transfer of a set of endpoints is preferably made with a request for endpoints with characteristics or traits identified in Block S. Transfer of the endpoints preferably includes selecting a provider S as shown in . In some cases executing a transfer of endpoints is executed through a programmatic interface. However some providers may lack such an interface. Transferring a set of endpoints can include generation of an endpoint request order or form. Alternatively transferring a set of endpoints may include providing an interface for notifying an administrator of endpoint characteristics for an order e.g. an alert that endpoints for particular area code have a low supply to demand ratio and an interface for porting or entering new endpoints.

Selecting a provider S functions to identify a source for a new telephony endpoint. A provider is selected if analysis indicates or reports inventory with endpoint property should be replenished. While the usage analysis is primarily focused on inventory replenishment the inventory monitor can additionally trigger actions for other states of inventory. For example some events may result in excess inventory and inventory will need to be removed. For example a user of an endpoint may return or end use of an endpoint. At a certain threshold endpoint inventory may exceed a maximum threshold and in response excess inventory is retired repurposed returned sold to the original owner exchanged for other telephony inventory and or managed in any suitable manner. A provider is preferably selected based on the inventory classification triggering the inventory request providers may have varying preference based on the characteristics of the desired inventory. Selecting a provider can additionally account for cost availability reliability score of a provider which may be based on inventory history and monitoring contracts e.g. a contract or other pre defined rules may specify numbers of telephony endpoints that should be obtained in a set time frame from a particular provider and or any suitable property. While the inventory is preferably ordered to satisfy inventory need of at least one inventory classification inventory requests may additionally be batched such that several inventory classifications can be replenished through a single telephony endpoint request to a provider. Inventory requests may be queued or held for a set amount of time to allow for other requests to come in. A single provider may be selected to provide telephony endpoints of all the endpoint requests alternatively multiple providers may be selected to supply the endpoints.

In a preferred scenario the selected provider has an API for requesting telephony endpoints. Depending on the selected provider an API request can be submitted. The request may specify properties of the requested telephony endpoints. Obtaining telephony endpoints through an API is preferably automatically performed. In one variation a selected provider may not provide an API or other programmatic way of requesting more endpoint inventory. Inventory may require an order form to be submitted through mail online and or over the phone. As a semi automatic approach the form can be automatically completed and transmitted to the appropriate party. In one case a digital file or a printout of a telephony endpoint request form may be automatically completed and then sent to an administrator of the platform. The administrator can then complete delivery of the order with the provider e.g. send in the mail or in an email . In another variation an order may not be completed but an alert message can be transmitted to an administrator or other entity to inform them of the inventory request. The inventory request will preferably include the number of telephony endpoints needed the provider s from which they should be obtained and any special requests for the endpoints. Transfer of the endpoints preferably includes updating of outside records to direct communications to those endpoints to the platform. In other words the telephony endpoints are terminated at an IP address of the platform such that communications are directed or forwarded to this controlled machine address where the platform can take appropriate action. In one variation the endpoints may be binded through a whitelisted URI. After the order is confirmed and the telephony endpoint addresses are delivered to the platform a record is preferably created for each telephony endpoint added to the inventory repository. However analysis of the endpoint may at least be partially completed prior to adding a record of the telephony endpoints.

Block S which includes selectively adding endpoints from the inventory source to the endpoint repository functions to process verify and or integrate any obtained inventory into the system. Upon fulfillment of the endpoint transfer request the method preferably adds a set of new endpoints to the communication platform. Newly added endpoints are preferably added in an unavailable unallocated state. The endpoints may be made available after enrolling them e.g. through a quality check and property check . In the case where endpoints were only transferred out of the system Block S may not be performed. However when new inventory is added to the system selectively adding endpoints form the inventory source includes analyzing obtained endpoint inventory. As one aspect of obtained inventory analysis the obtained inventory may be inspected to verify that the endpoints match the desired characteristics and quantity. In some implementations a provider of endpoints may provide telephony endpoints from a generic pool of endpoints. In other words the provider may not deliver telephony endpoints matching particular characteristics. When verifying characteristics of the endpoint undesirable telephony endpoints can be filtered out of the obtained telephony inventory. The undesired inventory may be returned to the provider and or managed in any suitable manner. For example the inventory monitor may request more telephone numbers with a 415 area code. If any numbers supplied by the provider do not have a 415 area code the telephony numbers are returned to the provider. As another aspect the inventory monitor or another component can perform automated testing of telephony endpoint capabilities. Tested capabilities can include capability of receiving calls making calls receiving messages routing to client applications and or performing other suitable tasks.

Selectively adding endpoints to the endpoint repository S preferably includes executing automated quality testing of the obtained set of endpoints S as shown in . Communication testing may additionally be performed between different geographic regions and or between different types of devices. If an obtained telephony endpoint fails to pass a test the telephony endpoint may be returned to the provider depending on the desired capabilities of the telephony endpoint . As another aspect analyzing the obtained endpoint inventory may include placing an endpoint in quarantine evaluating a cleanliness score and managing the endpoint according to cleanliness thresholds. The quarantine and cleanliness score is preferably generated and managed in a manner substantially similar to the system and process described in U.S. Pat. No. 8 416 923 issued 9 Apr. 2013 which is hereby incorporated in its entirety by this reference. Preferably an obtained telephony endpoint is monitored for a duration of time e.g. one month and the number of incoming communication to the number is monitored. An incoming communication is an indicator that the telephony endpoint is dirty. Since the telephony endpoint has been transferred and is currently not in use the telephony endpoint would ideally not receive any incoming communications. However some incoming calls may still occur due to use of the telephony endpoint by a previous owner. Also incoming calls may occur if the telephony endpoint is close to another popular telephony endpoint. Once the frequency of the incoming calls falls below a particular threshold i.e. cleanliness indicates the telephony endpoint is satisfactorily clean the cleanliness analysis may be satisfied. Automated testing of the endpoint can additionally include testing different operations such as sending test messages and or placing test calls to various endpoint categories. Additionally stored information of the endpoint may be accessed. As described above information about an endpoint may be collected prior to managing the endpoint. Communications facilitated by the communication platform may have previously communicated with the endpoint or alternative data sources may provide information.

As shown in selectively adding endpoints S can additionally include activating verified inventory S which functions to integrate the obtained telephony endpoints that satisfy the requirements. As mentioned above a record in the inventory repository is preferably created for the added telephony endpoints. The telephony endpoints are preferably added to the inventory repository as an actively available endpoint. A record for a telephony endpoint can additionally store properties of the number which can include a unique identifier of the telephony endpoint the direct inbound address e.g. the phone number of short code origin properties a cleanliness quality score capability properties e.g. SMS MMS Fax etc. status e.g. mobile landline client application tool free etc. and or other suitable properties of a telephony endpoint. Origin properties can includes NPs e.g. area code NXX e.g. three digit vanity digits of a number also referred to as an exchange code vanity addressing patterns ISO country codes region properties and or any suitable origin properties. Vanity addressing patterns can include digit codes that are easy to remember or digit patterns that correspond to common words using the telephone key to letter mapping . The record may additionally include classification of the number to facilitate tracking of different telephony endpoint classifications by the inventory monitor. The telephony endpoint is preferably initially added in an available state where new telephony endpoint requests can select the telephony endpoint for use. In some variations a user may have reserved the telephony endpoint in which case the telephony endpoint may be directly added to the associated account. In one variation endpoints may still be added to the inventory if they satisfy quality conditions for a subset of capabilities or endpoint categories. In this variation adding the endpoint can include adding an endpoint to the endpoint repository with limited communication capabilities. The limited communication capabilities can include excluding particular communication forms such as messaging SMS or MMS voice video and or any suitable medium of communication. More specifically an endpoint may be made available for only one communication medium or a set of communication mediums. For example an endpoint may not satisfy the quality conditions for voice communication e.g. the number is dirty in the sense that many unwanted voicecalls go to the number but the number may be suitable for messaging since it has never been used for messaging in the past the number may be added to the endpoint repository with no voice capabilities but with enabled messaging capabilities. Similarly an endpoint may be limited to particular regions. An endpoint may be limited to only communicating within one country due to poor quality in international calls. Endpoints with limited capabilities may be offered at a discounted or lower rate.

The method can additionally include providing an API to endpoint inventory information S. During the management of the endpoint repository substantial information can be collected to facilitate control monitoring of endpoint supplies. The provided API may be used internally in the communication platform but the API may additionally be exposed publically for use by outside entities. The API preferably provides insight into metadata surrounding a phone number.

As shown in an implementation of a preferred embodiment as described herein may include managing a set of telephone endpoints that can be in an allocated state or an unallocated state classifying endpoints of the set of telephone endpoints with a set of classifiers evaluating endpoint inventory across a set of endpoint classification groupings and detecting at least one classification grouping that based in part on the allocated and unallocated state of corresponding endpoints satisfies an inventory update condition generating an endpoint transfer request that specifies the endpoint classifiers of the classification grouping and selectively adding endpoints from the inventory source to the endpoint repository. The classifiers may include classifiers of inherent endpoint properties and or classifiers of quality evaluations. More specifically an implementation of a preferred embodiment can include managing a set of telephony endpoints that can be in an allocated state and an unallocated state wherein an endpoint in an allocated state is mapped to a user of the communication platform and an endpoint in an unallocated state is unmapped classifying endpoints of the set of telephone endpoints with a set of classifiers including at least a numbering plan area code classifier a mobile capability classifier and a quality classifier evaluating endpoint inventory across a set of endpoint classification groupings and detecting at least one classification grouping that based in part on the allocated and unallocated state of corresponding endpoints satisfies an inventory update condition generating an endpoint transfer request that specifies the endpoint classifiers of the classification grouping upon fulfillment of the endpoint transfer request adding a set of new endpoints to the communication platform in an unavailable unallocated state executing automated quality testing on the set of new endpoints and for a sub set of endpoints that satisfy the automated quality testing from the set of new endpoints setting the subs set of endpoints to an available unallocated state. The methods may additionally include receiving an endpoint inventory trigger wherein evaluating endpoint inventory across a set of endpoint classification groupings is initiated in response to the endpoint inventory trigger which functions to automatically update inventory based on usage.

The system and methods of the preferred embodiment and variations thereof can be embodied and or implemented at least in part as a machine configured to receive a computer readable medium storing computer readable instructions. The instructions are preferably executed by computer executable components preferably integrated with the telephony endpoint management service and inventory monitor. The computer readable medium can be stored on any suitable computer readable media such as RAMs ROMs flash memory EEPROMs optical devices CD or DVD hard drives floppy drives or any suitable device. The computer executable component is preferably a general or application specific processor but any suitable dedicated hardware or hardware firmware combination device can alternatively or additionally execute the instructions.

As a person skilled in the art will recognize from the previous detailed description and from the figures and claims modifications and changes can be made to the preferred embodiments of the invention without departing from the scope of this invention defined in the following claims.

