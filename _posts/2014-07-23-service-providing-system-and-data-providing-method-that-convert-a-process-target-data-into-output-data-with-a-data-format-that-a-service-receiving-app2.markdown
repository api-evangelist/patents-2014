---

title: Service providing system and data providing method that convert a process target data into output data with a data format that a service receiving apparatus is able to output
abstract: A system providing a service to a service receiving apparatus includes a management information storage that stores management information including service identification information, user authentication information of a user, and device authentication information of the service receiving apparatus that are associated with each other; an authentication information receiving unit that receives, as authentication information, at least one of user authentication information and device authentication information from the service receiving apparatus; an authentication unit that performs authentication by referring to the management information storage based on the received authentication information; an obtaining unit that obtains process target data from an external service based on an entry request from the service receiving apparatus that has been successfully authenticated; and a conversion unit that converts the obtained process target data into output data with a data format that the service receiving apparatus is able to output.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09608972&OS=09608972&RS=09608972
owner: Ricoh Company, Ltd.
number: 09608972
owner_city: Tokyo
owner_country: JP
publication_date: 20140723
---
The present application is based upon and claims the benefit of priority of Japanese Patent Application No. 2013 157478 filed on Jul. 30 2013 and Japanese Patent Application No. 2014 147438 filed on Jul. 18 2014 the entire contents of which are incorporated herein by reference.

There exist control systems control apparatuses and control programs that enable information processing apparatuses such as printers to use electronic data stored in a storage service on a network for various purposes see for example Japanese Laid Open Patent Publication No. 2013 73358 .

A related art data conversion output function for converting electronic data received from an external service into output data such as print data and outputting the output data is intended for use in a network of a private environment such as an office environment.

Accordingly unlike the provision of services by for example a cloud environment the data conversion output function is not intended to control the provision of a service depending on recipients of the service such as users organizations and companies.

Thus with the related art data conversion output function it is difficult to control the provision of a service depending on recipients of the service. The provision of a service by a cloud environment is an example of a service providing method or technology.

In an aspect of this disclosure there is provided a system implemented by one or more information processing apparatuses and providing a service to a service receiving apparatus connected via a network to the system. The system includes a management information storage that stores management information including service identification information of the service user authentication information of a user using the service and device authentication information of the service receiving apparatus that are associated with each other an authentication information receiving unit that receives as authentication information at least one of user authentication information used for user authentication and device authentication information used for device authentication from the service receiving apparatus an authentication unit that performs authentication by referring to the management information storage based on the received authentication information an obtaining unit that obtains process target data from an external service based on an entry request from the service receiving apparatus that has been successfully authenticated and a conversion unit that converts the obtained process target data into output data with a data format that the service receiving apparatus is able to output.

Preferred embodiments of the present invention are described below with reference to the accompanying drawings.

A firewall FW is provided on the office network N. The firewall FW limits accesses from unauthorized sources. An access control apparatus is provided on the network N of the service providing system . The access control apparatus limits accesses via the network N.

The office network N is a private network behind the firewall FW. A terminal an image forming apparatus an authentication apparatus and another apparatus may be connected to the office network N.

The terminal may be implemented for example by an information processing apparatus or a computer system where a general purpose operating system OS is installed. Examples of the terminal include a personal computer PC a tablet PC a notebook PC a smartphone and a cell phone that a user can operate.

The image processing apparatus may be implemented by any apparatus such as a multifunction peripheral a copier a scanner or a laser printer that includes an image forming function. The authentication apparatus may be implemented for example by an information processing apparatus where a general purpose operating system OS is installed. The authentication apparatus provides a user authentication function. The other apparatus may be any other apparatus such as a projector or an electronic blackboard.

Each of the terminal the image forming apparatus the authentication apparatus and the other apparatus includes a wireless communication unit and or a wired communication unit. In the example of one terminal one image forming apparatus one authentication apparatus and one other apparatus are connected to the office network N. However two or more of each type of apparatus may be connected to the office network N.

The service providing system may be constructed by for example a provider that provides a cloud service via the network N. Although a cloud service is used as an example in the present embodiment the present embodiment may also be applied to any other type of service such as a service of an application service provider ASP or a Web service that is provided via the network N.

The network N of the service providing system is connected via the access control apparatus to the network N. The access control apparatus a print service providing apparatus a delivery service providing apparatus a portal service providing apparatus an authentication apparatus a data processing control apparatus a data processing execution control apparatus and a data processing apparatus may be connected to the network N.

Details of the print service providing apparatus the delivery service providing apparatus the portal service providing apparatus the authentication apparatus the data processing control apparatus the data processing execution control apparatus and the data processing apparatus are described later.

The access control apparatus the print service providing apparatus the delivery service providing apparatus the portal service providing apparatus the authentication apparatus the data processing control apparatus the data processing execution control apparatus and the data processing apparatus of the service providing system may be implemented by one or more information processing apparatuses or computers . That is functions of the apparatuses of the service providing system may be concentrated on one information processing apparatus or distributed to multiple information processing apparatuses.

The number of information processing apparatuses to implement the apparatuses of the service providing system is not limited to any value.

Also some or all of the apparatuses of the service providing system may be provided in a private network such as the office network N. The configuration of the information processing system is not limited to the example described above. For example the present invention is not limited to a configuration where the firewall FW is provided between the service providing system and the apparatuses of the office network N that access the service providing system .

The apparatuses constituting the service providing system may be roughly classified into two types service providing apparatuses including service providing functions for providing services and platform apparatuses including platform functions that are commonly used to provide the services.

The print service providing apparatus the delivery service providing apparatus and the portal service providing apparatus are examples of service providing apparatuses including service providing functions for providing services. The authentication apparatus the data processing control apparatus the data processing execution control apparatus and the data processing apparatus are examples of platform apparatuses including platform functions that are commonly used to provide services.

The above classification of the apparatuses of the service providing system is for descriptive purposes and is not intended to limit the present invention.

A terminal an email server s and an online storage s may be connected to the network N such as the Internet. Thus one or more terminals may be connected to the office network N and or the network N. In the example of one terminal is connected to the office network N in the office and one terminal is connected to the network N such as the Internet.

The email server performs processes related to email such as transmission and reception of email messages of users. The online storage performs processes related to a service to rent storage areas. The email server and the online storage may be implemented by one or more information processing apparatuses.

Each of the terminal and the authentication apparatus of may be implemented by a computer system with a hardware configuration as illustrated by . Similarly each of the access control apparatus the print service providing apparatus the delivery service providing apparatus the portal service providing apparatus the authentication apparatus the data processing control apparatus the data processing execution control apparatus and the data processing apparatus of the service providing system of may be implemented by a computer system with a hardware configuration as illustrated by . Also each of the email server and the online storage of may be implemented by a computer system with a hardware configuration as illustrated by . is a block diagram illustrating an exemplary hardware configuration of a computer system according to the present embodiment.

As illustrated by the computer system may include an input unit a display unit an external I F a random access memory RAM a read only memory ROM a central processing unit CPU a communication I F and a hard disk drive HDD that are connected to each other via a bus B.

The input unit includes for example a keyboard a mouse and a touch panel and is used by a user to input instructions or operation signals to the computer system . The display unit displays for example processing results of the computer system .

The communication I F is an interface for connecting the computer system to one or more of the networks N through N. The computer system can perform data communications via the communication I F .

The HDD is a non volatile storage device for storing various programs and data. For example the HDD may store basic software or an operating system OS for controlling the entire computer system and application software for providing various functions on the OS.

The external I F is an interface between the computer system and an external storage such as a storage medium . The computer system can read and write data from and to the storage medium via the external I F . Examples of the storage medium include a flexible disk a compact disk CD a digital versatile disk DVD a secure digital SD memory card and a universal serial bus USB memory.

The ROM is a non volatile semiconductor memory storage unit that can retain programs and data even when power is turned off. For example the ROM stores programs and data such as a basic input output system BIOS that is executed when the computer system is turned on and OS and network settings of the computer system . The RAM is a volatile semiconductor memory storage unit for temporarily storing programs and data.

The CPU processor loads programs and data from storage units e.g. the ROM and the HDD into the RAM and executes the loaded programs to control the computer system and to implement various functions of the computer system .

In the example of the service applications include a portal service application a print service application and a delivery service application . The service applications include functions for providing services.

The portal service application is provided in the portal service providing apparatus of . The print service application is provided in the print service providing apparatus . The delivery service application is provided in the delivery service providing apparatus .

The portal service application provides a portal site that enables a user to use various services such as a print service and a delivery service. The portal service application performs in collaboration with the platform a tenant registration process a service registration process and a management information registration process to enable the user to use various services.

The print service application for example stores print data and sends the print data to the image forming apparatus and thereby provides a print service for printing information on the image forming apparatus .

The delivery service application provides a delivery service. For example the delivery service application processes image data sent from an apparatus such as the image forming apparatus and delivers the processed image data to the online storage of .

The service applications are not limited to the examples illustrated in . For example the service applications may also include an application that provides a service to send stored image data projection data to a projector the other apparatus . Further the service applications may include an application that provides a service to send stored image data projection data to an electronic blackboard the other apparatus . Thus the service applications may include various applications that provide services to apparatuses such as the image forming apparatus used by the user.

The platform API is an interface that enables the service applications to use the platform . In other words the platform API is a predefined interface that enables the platform to receive requests from the service applications and may be implemented by functions or classes. When the service providing system is implemented by or distributed to multiple information processing apparatuses a Web API that is accessible via a network may be used as the platform API .

The platform may include a communication unit an access control unit an email transmission unit a registration unit an authorization setting unit a license authentication unit a user authentication unit a user device authentication unit an internal collaborative authentication unit an external collaborative authentication unit a data processing control unit one or more processing queues one or more data processing requesting units and one or more data processing units .

The communication unit is a functional unit that communicates with apparatuses such as the image forming apparatus and may be provided for example in the access control apparatus of . The access control unit is a functional unit that performs access control for accesses from apparatuses such as the image forming apparatus to the service providing system and may be provided for example in the access control apparatus .

The email transmission unit is a functional unit that transmits email messages and may be provided for example in the authentication apparatus of . The registration unit is a functional unit that registers various types of management data in the management data storage unit and may be provided for example in the authentication apparatus . The authorization setting unit is a functional unit that performs authorization setting for an external service such as the online storage and may be provided in the authentication apparatus .

The license authorization unit is a functional unit that performs authentication of a license based on license information and tenant information stored in the management data storage unit and may be provided for example in the authentication apparatus . The user authentication unit is a functional unit that performs user authentication based on a login request from an apparatus such as the terminal for which device authentication is not necessary and may be provided for example in the authentication apparatus . The user device authentication unit is a functional unit that performs user authentication based on a login request from an apparatus such as the image forming apparatus for which device authentication is necessary and may be provided for example in the authentication apparatus .

The internal collaborative authentication unit is a functional unit that performs user authentication for a user who attempts to log into the service providing system using a user ID that is obtained from the authentication apparatus of after the user is authenticated by the authentication apparatus via for example the image forming apparatus and may be provided for example in the authentication apparatus . The external collaborative authentication unit is a functional unit that performs an authentication process for a user logging into the online storage and may be provided for example in the authentication apparatus .

The data processing control unit is a functional unit that controls data processing performed in response to requests from the service applications and may be provided for example in the data processing control apparatus . The processing queues are message queues corresponding to different types of data processing. The data processing control unit registers messages regarding requested data processing in the processing queues . The processing queues may be provided for example in the data processing control apparatus .

The data processing requesting units monitor the corresponding processing queues that are assigned to them and receive messages regarding requested data processing from the processing queues . The data processing requesting units are functional units that request the data processing units to perform data processing corresponding to the received messages and may be provided in the data processing execution control apparatus .

The data processing units are functional units that perform data processing requested by the data processing requesting units and may be provided in the data processing apparatus . Examples of data processing performed by the data processing units include a division process for dividing a request from the service application into multiple requests a data format conversion process for converting a data format an optical character recognition OCR process and an upload process for uploading data into the online storage .

Depending on the types of data processing both of the data processing requesting units and the data processing units may be provided in the data processing execution control apparatus .

The management data storage unit includes for example a management information storage a data processing information storage and a data storage .

The management information storage stores management information including license information tenant information user information and apparatus information. The management information storage may be provided for example in the authentication apparatus . The data processing information storage stores information related to requested data processing. The data processing information storage may be provided for example in the data processing control apparatus . The data storage stores other types of data such as application data and print data. The data storage may be provided for example in the data processing control apparatus .

Examples of management data stored in the management data storage unit are described below. is a table illustrating exemplary license information. The license information includes data items or fields such as a license type an ID a registration code and a registration status. The license type indicates the type of license. Types of licenses include tenant print service and delivery service . The ID is an identifier of a license and is used for license authentication. The registration code is information used to register a tenant. The registration status indicates whether registration of a license i.e. registration of an ID by the user has been completed i.e. whether the license has been registered .

The name indicates for example a company name or an organization name that is set by the user when registering a tenant. The service ID is an ID of a service whose license type in the license information is for example print service or delivery service . The service ID is registered when the user registers a service after registering a tenant.

The service type indicates a license type or the type of service corresponding to the service ID. The period of validity indicates a period for which the service ID is valid. The period of validity of a service ID starts when the service ID is registered in an apparatus.

The external service indicates a service that is used in conjunction with the service providing system . The online storage of is an example of the external service. The address information indicates an email address of an administrator that is registered when a tenant is registered. The utilization area information indicates a country or a region where a service is used. For example an account a password an authorization token and a scope described later are used to use an external service.

In the present embodiment authorization indicates a process of setting a usage range or a right that defines services used by a user or services that a user is allowed to use. The authorization can be performed for example by using a standard API authorization technology called OAuth . From a perspective that the service providing system uses an external service such as the online storage the external service corresponds to a service provider in OAuth and the service providing system corresponds to a consumer in OAuth.

In the user information records of users are grouped by tenant IDs. The login user ID and the login password are authentication information that is used for user authentication performed to log into the service providing system . The login user ID may be any type of information such as a user name that can be used to identify a user when the user logs into the service providing system . The internal authentication user ID is user identification information that is used by the authentication apparatus of the office network N to identify a user. In an internal collaborative authentication process described later the internal authentication user ID is obtained from the authentication apparatus and used for user authentication performed to log into the service providing system . The internal authentication user ID may be any type of information that can be used by the authentication apparatus of the office network N to identify a user. For example the internal authentication user ID may be a card ID of an IC card or a terminal ID of a mobile terminal being carried by a user.

The account and the password for online storage are authentication information used to log into the online storage . The authorization token is information for using the online storage within a given right. The scope identifies a usage range set by authorization .

The account may be represented by any type of information such as a user ID a user name or an address for online storage that can be used for authentication when the user logs into the online storage . The address information indicates an email address of the user.

The apparatus ID is an identifier of an apparatus and is used for device authentication. The apparatus ID may be represented for example by a serial number of the apparatus. The service ID and the service type are the same data items as those in the tenant information. The service ID and the service type are registered in the apparatus information when the user registers the service ID on an apparatus.

The starting date indicates a date when a service ID is registered. The expiration date indicates a date when the validity of a registered service ID expires. An apparatus registered in the apparatus information can use a service corresponding to the registered service ID from the starting date to the expiration date of the service ID.

For some types of services or licenses the expiration date may not be specified i.e. the period of validity is substantially unlimited . In the present embodiment it is assumed that even apparatuses not registered in the apparatus information can use some services or functions provided by the service providing system except for services that require device authentication.

In the present embodiment the terminal is an example of an apparatus that does not need to be registered in the apparatus information and the image forming apparatus is an example of an apparatus that needs to be registered in the apparatus information.

Examples of functions that can be used by the terminal include registration of management data and entry and deletion of print data. Examples of functions that can be used by the image forming apparatus include acquisition of print data and transmission of delivery data.

Whether device authentication is necessary to use a function can be determined by a provider of the function service . There may exist services that do not require device authentication.

The service name is a name of the external service. The client ID is an identifier of the service providing system and is issued by the external service. The client secret is secret information used to guarantee the authenticity of the client ID and functions like a password. The product name is an identifier of a service application . The scope identifies a usage range of the external service. The authorization URL is a uniform resource locator URL of an authorization system of the external service e.g. a URL of an authorization server of the external service . The redirection URL is a URL of the service providing system to which a user or an apparatus is redirected from the external service e.g. a URL of a function of the authorization setting unit that serves as an authorized client .

As described above the tenant ID is associated with services provided by the service providing system users who use the services and apparatuses that use the services. Thus the tenant ID is used to manage users apparatuses and services in the service providing system . Also the tenant ID is used to determine which services of the service providing system are provided to which users and apparatuses. In this sense the tenant ID may be referred to as use target identification information .

For example the user obtains the tenant ID and the registration code directly from the service provider or by accessing a dedicated site run by the service provider from the terminal of the user.

At step S the user operates the input unit of the terminal to cause the terminal to access a portal site of the service providing system . Based on the operation performed by the user the terminal accesses the portal site of the service providing system .

When the access to the portal site from the terminal is detected the access control unit of the service providing system allows the terminal to access the portal service application .

The portal service application causes the display unit of the terminal to display a top screen. On the top screen the user can select whether to request login or request new tenant registration by operating the input unit of the terminal . In this exemplary process it is assumed that the user selects to request new tenant registration. On the other hand when the user an administrator or any other user has already been registered in the user information stored in the management information storage the user can select to request login by entering a tenant ID a user ID and a password.

When new tenant registration is requested the portal service application of the service providing system at step S causes the display unit of the terminal to display an input screen for performing temporary registration of the tenant ID. The user operates the input unit of the terminal to enter information for temporary registration of the tenant ID and then requests the temporary registration. Based on the operation performed by the user the terminal requests the portal site of the service providing system to temporarily register the tenant ID.

The information for temporary registration of a tenant ID includes for example information utilization area information indicating a country or a region where a service is used and information indicating agreement to terms of service or conditions that are displayed depending on the country or region where the service is used. The information for temporary registration of the tenant ID also includes the tenant ID the registration code an email address and a language used.

The service providing system retains information representing the terms of service for each country or region. The portal service application of the service providing system causes the display unit of the terminal to display the terms of service corresponding to the utilization area information entered by the user for temporary registration of the tenant ID and requests the user to select whether to agree to the terms of service.

When the temporary registration is requested by the terminal of the user the portal service application requests the license authentication unit to confirm the validity of the tenant ID and the registration code included in the information entered for the temporary registration of the tenant ID. When requested the license authentication unit performs a license authentication process to determine or verify whether the tenant ID and the registration code are present in the license information of stored in the management information storage .

When the tenant ID and the registration code are present in the license information the license authentication unit determines whether the registration status associated with the tenant ID and the registration code is non registered .

When the registration status is non registered the license authentication unit determines that the tenant ID and the registration code are valid and authenticates the tenant ID i.e. a license . The license authentication unit reports the authentication result to the portal service application .

When the tenant ID and the registration code are valid the portal service application requests the registration unit to register the tenant ID the email address and the utilization area information included in the information entered for the temporary registration of the tenant ID. In response to the request from the portal service application the registration unit registers the tenant ID the email address and the utilization area information in the tenant information stored in the management information storage .

After the registration by the registration unit the portal service application at step S generates a formal registration URL to be accessed to display a formal registration screen and generates an email message including the formal registration URL. The portal service application request the email transmission unit to transmit the generated email message. The email transmission unit transmits the email message to the email address included in the information entered for temporary registration of the tenant ID.

When the email message is transmitted by the email transmission unit the portal service application causes the display unit of the terminal to display a report screen reporting that the email message has been transmitted. The formal registration URL is managed by a period of validity e.g. one hour that starts for example when the formal registration URL is generated. Also to improve security at least one of the tenant ID and the registration code is not included in the email message transmitted by the email transmission unit .

Next the user operates the input unit of the terminal to cause the terminal to access the formal registration URL in the email message received from the email transmission unit . Based on the operation performed by the user the terminal accesses the formal registration URL. The terminal used to access the formal registration URL may not be the same as the terminal used to request the temporary registration. The access control unit allows the terminal to access the portal service application .

The portal service application determines whether the access to the formal registration URL is valid i.e. whether the access is to the generated formal registration URL and whether the access is made within the period of validity . When the access is valid the portal service application causes the display unit of the terminal to display a formal registration screen.

The user operates the input unit of the terminal to enter information for formal registration of the tenant ID on the formal registration screen and then requests the formal registration. The information to be entered on the formal registration screen includes tenant information including the tenant ID a name and the registration code and user information including a login user ID a login password and the address information. The formal registration screen may be configured such that one of the tenant ID and the registration code already entered by the user for the temporary registration of the tenant ID is automatically entered and displayed in the corresponding input field. However to improve security at least one of the tenant ID and the registration code to be entered by the user on the formal registration screen is not included in the email message including the formal registration URL.

When the formal registration is requested by the terminal of the user the portal service application requests the license authentication unit to perform a license validation process or a formal registration process based on the tenant ID and the registration code entered on the formal registration screen.

When requested the license authentication unit performs a license authentication process to determine whether the tenant ID and the registration code entered on the formal registration screen are present in the license information stored in the management information storage . When the tenant ID and the registration code are present in the license information and the registration status associated with the tenant ID and the registration code is non registered the license authentication unit determines that the tenant ID and the registration code are valid.

When the tenant ID and the registration code are valid the license authentication unit requests the registration unit to change the registration status in the license information stored in the management information storage . The registration unit changes the value of the registration status recorded in the license information in association with the valid tenant ID and registration code to registered .

After the license validation process is completed the portal service application requests the registration unit to register the tenant information and the user information entered by the user on the formal registration screen via the terminal . The registration unit registers the name entered as a part of the tenant information on the formal registration screen in tenant information stored in the management information storage . The registration unit also registers the tenant ID the login user ID the login password and the address information in user information stored in the management information storage .

After the registration unit completes the registration of the tenant information and the user information the portal service application causes the display unit of the terminal to display a tenant registration completion screen. The portal service application also generates an email message including a tenant registration completion report and requests the email transmission unit to transmit the generated email message. The email transmission unit transmits the email message including the tenant registration completion report to the email address entered by the user via the terminal for temporary registration of the tenant ID i.e. the email address indicated by the address information registered in the tenant information .

The user confirms the tenant registration completion screen displayed on the display unit of the terminal . Once the registration of the tenant ID the user ID and the password is completed the user can request login on the top screen of the portal site from the next time. Also by logging into the service providing system the user can register tenant information user information and apparatus information in association with the tenant ID.

At step S the user such as an administrator operates the input unit of the terminal to enter the tenant ID the user ID and the password on the top screen of the portal site and request login.

When a login request is received the portal service application requests the user authentication unit to perform user authentication. The user authentication unit determines or verifies whether the combination of the tenant ID the user ID and the password received from the terminal is present in user information stored in the management information storage .

When the combination of the tenant ID the user ID and the password received from the terminal is present in the user information the user authentication unit authenticates the user who requested the login. When the user is authenticated by the user authentication unit the portal service application allows the user to log in.

After logging into the portal service application the user can register a service ID of a service that the user intends to use. The portal service application causes the display unit of the terminal to display a service registration screen for registering a service ID. The user operates the input unit of the terminal to enter a service ID on the service registration screen displayed on the display unit and requests service registration. Based on the operation performed by the user the terminal requests the portal service application to perform service registration.

When the service registration is requested by the terminal of the user the portal service application refers to the license information stored in the management information storage and selects an ID that matches the service ID entered by the user on the service registration screen. Then the portal service application obtains a license type or a service type associated with the selected ID.

The portal service application also refers to the tenant information stored in the management information storage and obtains utilization area information associated with the tenant ID of the logged in user. The portal service application causes the display unit of the terminal to display terms of service corresponding to the obtained license type and utilization area information and requests the user to select whether to agree to the terms of service.

The service providing system retains information representing the terms of service or conditions for each combination of a service type license type and a country or region where a service is used. Thus the portal service application can perform a display control to display the terms of service that correspond to the utilization area information entered by the user for temporary registration of the tenant ID and to the service type of a service whose registration is requested and request the user to select whether to agree to the terms of service.

When the user selects an option to agree to the terms of service by operating the input unit of the terminal the portal service application requests the license authentication unit to perform a service registration process based on the tenant ID of the logged in user and the service ID entered on the service registration screen.

The license authentication unit determines or verifies whether the service ID entered on the service registration screen is present in the ID field of the license information stored in the management information storage . When the service ID entered on the service registration screen is present in the ID field of the license information the license authentication unit determines that the service ID is valid i.e. authenticates the service ID . When the service ID is valid the license authentication unit requests the registration unit to register the service ID. The registration unit registers the service ID and the service type in the tenant information stored in the management information storage in association with the tenant ID of the logged in user.

At step S the user such as an administrator performs apparatus registration of a service ID. The user operates the input unit of the terminal to cause the display unit of the terminal to display an apparatus registration screen. The user operates the input unit of the terminal to enter on the apparatus registration screen a service ID and an apparatus ID of an apparatus that is to be enabled to use a service with the service ID and request apparatus registration of the service ID.

When the apparatus registration of the service ID is requested by the terminal the portal service application requests the license authentication unit to perform an apparatus registration process of the service ID based on the service ID and the apparatus ID entered on the apparatus registration screen.

The license authentication unit determines or verifies whether the combination of the tenant ID of the logged in user and the service ID entered on the apparatus registration screen is present in the tenant information stored in the management information storage .

When the combination of the tenant ID of the logged in user and the service ID entered on the apparatus registration screen is present in the tenant information the license authentication unit refers to the license information stored in the management information storage . The license authentication unit determines whether the registration status recorded in the license information in association with the service ID entered on the apparatus registration screen is non registered .

When the registration status is non registered the license authentication unit requests the registration unit to perform apparatus registration of the service ID. Here when the registration status of a service ID is non registered it indicates that apparatus registration of the service ID has not been performed. The registration unit registers the tenant ID of the logged in user and the service ID and the apparatus ID entered on the apparatus registration screen in the apparatus information stored in the management information storage . The registration unit also refers to the tenant information stored in the management information storage and obtains a service type and a period of validity associated with the combination of the tenant ID and the service ID. Based on the obtained service type and period of validity the registration unit registers the service type a starting date and an expiration date in the apparatus information stored in the management information storage unit .

For the starting date the date on which the apparatus registration of the service ID is performed is registered. For the expiration date the last date of the period of validity e.g. one year is registered. The last date is calculated based on the period of validity obtained from the tenant information and the starting date. Alternatively the starting date may be specified for example when requesting the service registration at step S. When the starting date is specified at the step of requesting the service registration the specified starting date is registered in the apparatus information. After the apparatus registration of the service ID is completed the registration unit changes the value of the registration status recorded in the license information in association with the service ID to registered .

Through the process from the tenant registration to the service registration described above a user such as an administrator can perform registration of a tenant ID registration of a service ID and apparatus registration of the service ID by accessing the service providing system from the terminal . Thus the above configuration enables a user to easily perform a procedure necessary to receive a service. Also the service providing system can manage services to be provided users who use the services and apparatuses that use the services based on tenant IDs for which the license validation process has been performed.

As illustrated by A in a user authentication process based on a request from the terminal the user enters login information including a tenant ID a user ID and a password on the top screen of the portal site. At step S the terminal receives the login information entered by the user.

At step S the terminal sends a login request to the service providing system based on the login information entered by the user. The access control unit of the service providing system requests the user authentication unit to perform user authentication.

At step S the user authentication unit determines whether the login information received from the terminal is present in the user information stored in the management information storage . When the login information received from the terminal is present in the user information stored in the management information storage the user authentication unit determines that the user authentication has succeeded. When the login information received from the terminal is not present in the user information the user authentication unit determines that the user authentication has failed.

When the user authentication has succeeded the access control unit allows login for using a service from the terminal into the service providing system . At step S the access control unit sends to the terminal a login response based on the result of the user authentication performed by the user authentication unit .

In B and C it is assumed that the image forming apparatus retains a setting indicating whether a login user ID and a login password or an internal authentication user ID is used for user authentication performed to log into the service providing system . The setting indicating whether to use a login user ID and a login password or an internal authentication user ID may be changed as necessary. It is also assumed that the image forming apparatus retains a tenant ID and an apparatus ID in a storage area of its own.

When the setting indicates that a login user ID and a login password are used the image forming apparatus performs a user device authentication process as illustrated by B to log into the service providing system .

At step S the image forming apparatus displays an input screen that requests the user to enter a login user ID and a login password. On the input screen displayed by the image forming apparatus the user enters a login user ID and a login password. Then the image forming apparatus receives the login user ID and the login password entered by the user.

At step S the image forming apparatus sends to the service providing system login information including the login user ID and the login password entered by the user and the tenant ID and the apparatus ID retained in its storage area and thereby requests login. The access control unit of the service providing system requests the user device authentication unit to perform user device authentication.

At step S the user device authentication unit determines whether the combination of the tenant ID and the apparatus ID included in the login information received from the image forming apparatus is present in the apparatus information stored in the management information storage . When the combination of the tenant ID and the apparatus ID is present in the apparatus information the user device authentication unit determines that device authentication has succeeded. When the combination of the tenant ID and the apparatus ID is not present in the apparatus information the user device authentication unit determines that device authentication has failed.

The user device authentication unit also determines whether the combination of the tenant ID the login user ID and the login password included in the login information received from the image forming apparatus is present in the user information stored in the management information storage . When the combination of the tenant ID the login user ID and the login password included in the login information received from the image forming apparatus is present in the user information stored in the management information storage the user device authentication unit determines that user authentication has succeeded. When the combination of the tenant ID the login user ID and the login password included in the login information received from the image forming apparatus is not present in the user information the user device authentication unit determines that user authentication has failed.

When the device authentication and the user authentication have succeeded the access control unit allows login for using a service from the image forming apparatus into the service providing system . At step S the access control unit sends to the image forming apparatus a login response based on the results of the device authentication and the user authentication performed by the user device authentication unit .

When the setting indicates that an internal authentication user ID is used the image forming apparatus performs an internal collaborative authentication process as illustrated by C to log into the service providing system . First the user receives user authentication at the image forming apparatus . The user authentication at the image forming apparatus is performed to allow the user to use the image forming apparatus or a function of the image forming apparatus . In the example of C the authentication apparatus performs user authentication based on a card ID stored in a card e.g. an IC card being carried by the user.

At step S the user causes a card reader not shown connected to the image forming apparatus to read a card ID from a card to request user authentication. At step S the image forming apparatus sends the card ID read by the card reader to the authentication apparatus to request authentication.

At step S the authentication apparatus performs authentication based on the card ID received from the image forming apparatus . The authentication apparatus stores in a storage area user authentication information associating card IDs with user IDs internal authentication user IDs . The authentication apparatus refers to the user authentication information and determines whether an internal authentication user ID associated with the card ID received from the image forming apparatus can be identified in the user authentication information.

When an internal authentication user ID associated with the card ID is identified the authentication apparatus determines that the user authentication has succeeded. At step S the authentication apparatus sends the identified internal authentication user ID and an authentication result indicating that the user authentication has succeeded to the image forming apparatus .

When the user authentication has succeeded the user can send a login request to the service providing system by for example selecting a menu item for logging into the service providing system on a screen displayed by the image forming apparatus . At step S the user requests login from the image forming apparatus into the service providing system .

When the login to the service providing system is requested by the user the image forming apparatus sends to the service providing system login information including the identified internal authentication user ID and the tenant ID and the apparatus ID retained in its storage area and thereby requests login. The access control unit of the service providing system requests the internal collaborative authentication unit to perform internal collaborative authentication.

At step S the internal collaborative authentication unit determines whether the combination of the tenant ID and the apparatus ID included in the login information received from the image forming apparatus is present in the apparatus information stored in the management information storage .

When the combination of the tenant ID and the apparatus ID is present in the apparatus information the internal collaborative authentication unit determines that device authentication has succeeded. When the combination of the tenant ID and the apparatus ID is not present in the apparatus information the internal collaborative authentication unit determines that device authentication has failed.

The internal collaborative authentication unit also determines whether the combination of the tenant ID and the internal authentication user ID included in the login information received from the image forming apparatus is present in the user information stored in the management information storage . When the combination of the tenant ID and the internal authentication user ID included in the login information received from the image forming apparatus is present in the user information stored in the management information storage the internal collaborative authentication unit determines that user authentication has succeeded.

When the combination of the tenant ID and the internal authentication user ID included in the login information received from the image forming apparatus is not present in the user information the internal collaborative authentication unit determines that user authentication has failed.

When the device authentication and the user authentication have succeeded the access control unit allows login for using a service from the image forming apparatus into the service providing system . At step S the access control unit sends to the image forming apparatus a login response based on the results of the device authentication and the user authentication performed by the internal collaborative authentication unit .

When the device authentication has succeeded but the user authentication has failed the service providing system may cause the image forming apparatus to display an input screen that requests the user to enter a login user ID and a login password.

With this configuration the user can request login again by entering a login user ID and a login password on the displayed input screen. In this case the image forming apparatus sends to the user device authentication unit of the service providing system the login user ID and the login password entered by the user and the tenant ID retained in its storage area and thereby requests login.

The user device authentication unit determines whether the combination of the tenant ID the login user ID and the login password received from the image forming apparatus is present in the user information stored in the management information storage .

When the combination of the tenant ID the login user ID and the login password received from the image forming apparatus is present in the user information stored in the management information storage the user device authentication unit determines that user authentication has succeeded. When the user authentication has succeeded the access control unit allows the login to the service providing system .

Also the registration unit registers the internal authentication user ID received from the image forming apparatus in the user information stored in the management information storage in association with the tenant ID the login user ID and the login password received from the image forming apparatus . Once the internal authentication user ID received from the image forming apparatus is registered in the user information in association with the tenant ID the login user ID and the login password the user can log into the service providing system using the internal authentication user ID from the next time.

In the service providing system the data processing control unit the processing queues the data processing requesting units and the data processing units of the platform perform various types of data processing requested by a process requesting unit of the service application as described below.

Also the process requesting unit sends a data processing request which is hereafter referred to as a request to the data processing control unit of the platform . The request includes process information indicating data processing or a type of data processing to be performed and a storage location e.g. a URI indicating a location where the process target data is stored.

The data processing control unit analyzes the request received from the process requesting unit and registers a message in one of the processing queues message queues corresponding to the type of data processing indicated by the process information. The processing queues are provided for respective types of data processing.

Also the data processing control unit registers request information regarding the request in the data processing information storage of the management data storage unit . The request information includes the storage location of the process target data the process information and a request status indicating the status of the request.

The request status indicates for example received in execution and completed . Thus the request status indicates the status of requested data processing. At the stage when the request information is registered by the data processing control unit the request status is received .

Each data processing requesting unit monitors one or more processing queues assigned to itself. In other words each data processing requesting unit monitors one or more types of data processing requests. Each data processing requesting unit obtains messages registered in the processing queues that the data processing requesting unit monitors.

In the example of a first data processing requesting unit monitors a first processing queue and a second processing queue for different types of data processing. A second data processing requesting unit monitors first through third processing queues for different types of data processing. Thus in the example of the first processing queue and the second processing queue are monitored by both of the first data processing requesting unit and the second data processing requesting unit .

Assignment of the processing queues to the data processing requesting units may be set and changed as necessary. For example assignment of the processing queues to the data processing requesting units may be set and changed based on the requested frequency and processing time of respective types of data processing.

The data processing requesting unit obtains request information from the data processing information storage based on a message obtained from a processing queue that the data processing requesting unit monitors. Based on a storage location of process target data and process information included in the obtained request information the data processing requesting unit causes the corresponding data processing unit to perform data processing indicated by the process information.

Next the data processing requesting unit updates the request information based on the result of data processing performed by the data processing unit and registers the updated request information in the data processing information storage . For example in updating the request information the data processing requesting unit removes the process information or a part of the process information of the performed data processing from the request information and or changes the request status. When the request information includes another set of process information indicating data processing to be performed next the data processing requesting unit registers a message in one of the processing queues that corresponds to the type of the data processing indicated by the process information.

When the process target data is converted into a different type of data processed data as a result of the data processing performed by the data processing unit the data processing requesting unit stores the processed data in the data storage . In this case the data processing control unit updates the request information based on the storage location of the processed data.

At step S the data processing control unit analyzes the request received from the process requesting unit and registers a message in one of the processing queues corresponding to the type of data processing indicated by process information included in the request. Also the data processing control unit registers request information regarding the request in the data processing information storage of the management data storage unit .

At step S the data processing requesting unit obtains a message registered in a processing queue that the data processing requesting unit monitors. At step S the data processing requesting unit obtains request information from the data processing information storage based on the obtained message. Based on the obtained request information the data processing requesting unit causes the corresponding data processing unit to perform requested data processing.

At step S the data processing requesting unit updates the request information based on the result of data processing performed by the data processing unit registers the updated request information in the data processing information storage and terminates the process of .

When the request information includes another set of process information indicating data processing to be performed next the data processing requesting unit registers a message in one of the processing queues that corresponds to the type of data processing indicated by the process information.

Below examples of data processing are described. However data processing performed by the service providing system is not limited to those examples. A first example of data processing is conversion of a data format of process target data format conversion data processing .

Data processing for converting image data into PDF Portable Document Format data is an example of format conversion data processing. The data processing for converting image data into PDF data may be indicated for example by process information image2pdf .

Data processing for converting PDF data into PDL Page Description Language data is also an example of format conversion data processing. The data processing for converting PDF data into PDL data may be indicated for example by process information pdf2pdl .

Data processing for converting Microsoft Office registered trademark document data into PDL data is still another example of format conversion data processing. The data processing for converting Microsoft Office document data into PDL data may be indicated for example by process information office2pdl .

In a second example of data processing one data processing process is divided into two or more data processing processes and each of the data processing processes is converted into a request for the corresponding data processing unit .

For example data processing for converting image data into PDL data may be divided into data processing for converting image data into PDF data and data processing for converting the PDF data into PDL data. The data processing for converting image data into PDL data may be indicated by process information image2pdl .

For example one of the data processing units may be configured to perform data processing for dividing a data processing request image2pdl into data processing requests image2pdf and pdf2pdl . Thus one or more of the data processing units may be configured to perform data processing for dividing a data processing request into multiple data processing requests.

With the above configuration even when there is no data processing unit that can perform data processing image2pdl it is possible to perform data processing image2pdl by linking data processing image2pdf and data processing pdf2pdl .

Thus the service providing system of the present embodiment can perform data processing for dividing a data processing request or a data processing process into multiple data processing requests or multiple data processing processes . This configuration enables the service providing system to flexibly adapt to an increase in the number of types of data processing.

A third example of data processing is performed for collaboration with an external storage collaborative data processing . Data processing for requesting the external collaborative authentication unit to log into the online storage with an online storage account and an online storage password corresponding to a logged in user is an example of collaborative data processing.

Also data processing for storing data in the online storage after login and data processing for obtaining data from the online storage after login are examples of collaborative data processing.

At step S the user selects a desired online storage external service from an external service list displayed on the external service registration screen and requests registration of the selected online storage . The external service list is stored in external service information in the management information storage .

When receiving a registration request the portal service application requests the registration unit to register the online storage selected by the user. The registration unit registers the online storage selected by the user in the tenant information stored in the management information storage in association with the tenant ID of the logged in user.

At step S on an authorization setting screen of the portal site the user selects a user ID of a user to which authorization setting is to be applied an external service ID or a service name of an external service for which authorization setting is performed and a scope to be applied to the user and requests authorization setting. The portal service application receives an authorization setting request.

At step S the portal service application which has received the authorization setting request requests the authorization setting unit to perform authorization setting. The authorization setting unit obtains parameters necessary for the authorization setting from the external service information stored in the management information storage . The parameters necessary for the authorization setting include in addition to the selected external service ID and the scope a client ID and a redirection URL associated with the external service ID and a session key for maintaining a session.

At step S the authorization setting unit obtains an authorization URL associated with the selected external service ID from the external service information stored in the management information storage . The authorization setting unit redirects a request including the parameters necessary for the authorization setting i.e. a GET request including the parameters necessary for the authorization setting as query parameters from the terminal to the authorization URL.

As a result of redirecting the request from the terminal to the authorization URL the authorization setting is performed between the terminal and the online storage . Here after the authorization setting because the terminal is redirected from the online storage to the authorization setting unit an HTTP session is terminated. The session key is used to maintain the HTTP session.

The redirected online storage causes the display unit of the terminal to display a login screen. The user operates the input unit of the terminal to enter an account and a password on the login screen and request login. When a login request is received the online storage performs a login process.

When the login has succeeded the online storage causes the display unit of the terminal to display an authorization screen. Then the user confirms the authorization screen. The user operates the input unit of the terminal to press for example an authorization button displayed on the authorization screen and thereby requests authorization. When receiving an authorization request the online storage performs registration of authorization.

At step S the online storage redirects an authorization code indicating that authorization is granted and the session key from the terminal to the redirection URL. The authentication setting unit of the service providing system receives the authorization code. When the user has already logged in when redirected to the online storage displaying the login screen is omitted.

At step S after receiving the authorization code the authorization setting unit obtains parameters necessary to obtain an authorization token from the external service information stored in the management information storage . The parameters necessary to obtain an authorization token include in addition to the received authorization code a client ID and a client secret associated with the external service ID of the online storage that has sent the authorization code.

At step S the authorization setting unit sends the obtained client ID and client secret and the received authorization code to the online storage to request an authorization token. The online storage verifies the authorization code received from the authorization setting unit and sends an authorization token to the authorization setting unit of the service providing system .

At step S the authorization setting unit receives the authorization token and requests the registration unit to register the authorization token. The registration unit registers the authorization token in the user information stored in the management information storage in association with the user to which the authorization setting is applied and the scope selected on the authorization setting screen. After the registration of the authorization token is completed the authorization setting unit reports the completion of registration to the portal service application . The portal service application causes the display unit of the terminal to display a screen showing the result of the authorization setting.

The online storage may be configured to send together with the authorization token a period of validity of the authorization token and a refresh token for reissuing an authorization token when the period of validity expires to the service providing system .

When a process to be performed in collaboration with the online storage is requested at step S the external collaborative authentication unit of the service providing system performs a login process for logging into the online storage .

For example the external collaborative authentication unit receives a request to log into the online storage from the data processing unit . The external collaborative authentication unit obtains information necessary for the login process that is associated with the user who is logged in the service providing system and the online storage for which the login process is to be performed from the user information stored in the management information storage unit . More specifically the external collaborative authentication unit obtains information for logging into the online storage that is associated with the tenant ID the login user ID and the login password of the user who is logged in the service providing system .

For example in the case of the user information of when receiving a request to log into the online storage A the external collaborative authentication unit obtains the account and the password for logging into the online storage A.

On the other hand when receiving a request to log into the online storage B in the user information of the external collaborative authentication unit obtains the account and the authorization token for logging into the online storage B.

When the online storage that collaborates with the service providing system is the online storage A for which authorization setting has not been made and which requires a login process the external collaborative authentication unit requests to log into the online storage A using the account and the password. The account and the password are an example of authentication information used to log into an external service. When receiving a login request including the account and the password the online storage A performs authentication based on the account and the password. When the authentication has succeeded the online storage A sends a response indicating that login is allowed to the external collaborative authentication unit . When the authentication has failed the online storage A sends a response indicating that login is not allowed to the external collaborative authentication unit .

Once the external collaborative authentication unit receives the response indicating that login is allowed from the online storage A the service providing system can upload store and download obtain data to and from the online storage A.

Thus once the external collaborative authentication unit receives the response indicating that login is allowed from the online storage the service providing system can perform at step S a process in collaboration with the online storage .

When the online storage that collaborates with the service providing system is the online storage B for which authorization setting has been made the external collaborative authentication unit requests to log into the online storage B using the account and the authentication token. The account and the authentication token are an example of authorization information used to log into an external service. When receiving a login request including the account and the authorization token the online storage B verifies the account and the authorization token. When the account and the authorization token have been successfully verified the online storage B sends a response indicating that login is allowed to the external collaborative authentication unit . When the account and the authorization token have not been successfully verified the online storage B sends a response indicating that login is not allowed to the external collaborative authentication unit .

Once the external collaborative authentication unit receives the response indicating that login is allowed from the online storage B the service providing system can perform at step S a process in collaboration with the online storage B within a usage range defined by the scope.

In an exemplary process of the information processing system of the present embodiment described below electronic data file such as application data or image data stored in the online storage is converted into print data and the print data is printed on the image forming apparatus . A process performed by the terminal to implement the process of converting electronic data stored in the online storage into print data and printing the print data on the image forming apparatus is described below.

The terminal sends authentication information entered for example on a login screen to the service providing system and thereby logs into the service providing system . The terminal displays for example a print job entry screen to request the user to select electronic data file to be entered as a print job.

When the user selects electronic data stored in the terminal and requests entry of a print job the terminal enters a print job by sending the selected electronic data to the service providing system .

Alternatively the user can choose to select electronic data stored in the online storage by for example pressing a Select from External Storage button on the print job entry screen. In this case the terminal requests a list of electronic data which is hereafter referred to as a user file list stored in the online storage in association with the user from the service providing system and displays the user file list obtained from the service providing system . The user can select electronic data from the displayed user file list and request entry of a print job.

When the user selects electronic data from the user file list and requests entry of a print job the terminal enters a print job by specifying the selected electronic data.

When multiple online storages are available the terminal may obtain user file lists from the online storages merge the obtained user file lists and display the merged user file list. Alternatively the terminal may be configured to request the user to select an online storage from the online storages and display a user file list obtained from the selected online storage .

In the information processing system of the present embodiment to implement the process of converting electronic data stored in the online storage into print data and printing the print data on the image forming apparatus the print service application may be configured as illustrated by .

The external service selection reception unit receives from the terminal a request to select electronic data stored in the online storage . The external service login request unit requests the external collaborative authentication unit of the platform to log into the online storage using an online storage account and an online storage password that correspond to a user who is logged in the service providing system .

The file list providing unit obtains a user file list from the online storage and provides the user file list to the terminal . The print job entry request reception unit receives a print job entry request from the terminal .

Based on the print job entry request from the terminal the external service file request unit specifies electronic data selected by the user and requests the data processing control unit of the platform to obtain the electronic data from the online storage . The data processing control unit obtains the electronic data selected by the user from the online storage by using the processing queue the data processing requesting unit and the data processing unit for obtaining electronic data from the online storage .

The print data generation request unit requests the data processing control unit of the platform to perform a process of generating print data from electronic data based on the print job entry request from the terminal .

The data processing control unit converts the electronic data selected by the user into print data by using the processing queue the data processing requesting unit and the data processing unit for converting electronic data into print data. The print data download request reception unit receives a print data download request from the image forming apparatus and sends print data to the image forming apparatus .

The above configuration enables a user to print electronic data stored in the online storage on the image forming apparatus .

At step S a user who intends to use a print service provided by the service providing system operates the input unit of the terminal to cause the terminal to access a portal site of the service providing system . Based on the operation performed by the user the terminal accesses the portal site of the service providing system .

When the access to the portal site from the terminal is detected the access control unit of the service providing system allows the terminal to access the portal service application . The user operates the input unit of the terminal to request login on a login screen. After logging into the portal service application the user can access the print service application .

At step S the user operates the input unit of the terminal to cause the terminal to select a print service of the service providing system . Based on the operation performed by the user the terminal accesses the print service application of the service providing system .

At step S the terminal displays for example a print job entry screen to request the user to select electronic data to be entered as a print job. On the print job entry screen the user can select electronic data stored in the terminal or electronic data stored in the online storage that is to be entered as a print job.

For example the user chooses to select electronic data stored in the online storage by for example pressing a Select from External Storage button on the print job entry screen. When the user chooses to select electronic data stored in the online storage YES at step S the terminal and the service providing system collaborate with each other to perform a process of entering a print job from an external service at step S. Details of step S are described later.

On the other hand when the user selects electronic data stored in the terminal on the print job entry screen NO at step S the terminal performs step S. At step S the terminal sends the electronic data selected by the user to the service providing system to enter a print job from the terminal .

At step S the external service selection reception unit of the print service application receives from the terminal a request to select electronic data stored in the online storage or selection of the online storage from which electronic data is to be obtained . The external service login request unit requests the external collaborative authentication unit of the platform to log into the online storage using an online storage account and an online storage password that correspond to a user who is logged in the service providing system . The external collaborative authentication unit performs a login process to log into the online storage using an online storage account and an online storage password that correspond to the logged in user.

At step S the file list providing unit of the print service application obtains a user file list from the online storage and provides the user file list to the terminal . The user can select electronic data from the user file list displayed on the terminal and request entry of a print job. When the user selects electronic data from the user file list and requests entry of a print job the terminal enters a print job by specifying the selected electronic data.

At step S the print job entry request reception unit receives a print job entry request from the terminal . At step S based on the print job entry request received from the terminal the external service file request unit requests the data processing control unit of the platform to obtain the selected electronic data from the online storage . The data processing control unit obtains the electronic data selected by the user from the online storage by using the processing queue the data processing requesting unit and the data processing unit for obtaining electronic data from the online storage .

At step S the print data generation request unit requests the data processing control unit of the platform to perform a process of generating print data from the electronic data obtained from the online storage . The data processing control unit converts the electronic data obtained from the online storage into print data by using the processing queue the data processing requesting unit and the data processing unit for converting electronic data into print data.

The generated print data is temporarily stored in the service providing system until a print data download request is received from the image forming apparatus . When a print data download request is received from the image forming apparatus the print data download request reception unit sends the print data to the image forming apparatus .

The above configuration enables a user being managed by the service providing system to print electronic data stored in the online storage on the image forming apparatus through collaboration between the service providing system and the online storage .

In the above embodiment the print service application requests the data processing control unit of the platform to obtain electronic data from the online storage . However the print service application may be configured to obtain electronic data directly from the online storage . Also in the above embodiment electronic data stored in the online storage is converted into print data to be printed on the image forming apparatus . However this disclosure may also be applied to other types of data processing. For example this disclosure may be applied to a process of converting electronic data stored in an external service into data with a data format that can be output from an output apparatus such as a projector or an electronic blackboard.

The information processing system of the present embodiment can properly manage services to be provided users who use the services and apparatuses that use the services and makes it possible to convert electronic data stored in an external service into output data and output the output data from an output apparatus.

A service providing system and a data providing method according to embodiments of the present invention are described above. However the present invention is not limited to the specifically disclosed embodiments and variations and modifications may be made without departing from the scope of the present invention. The terminal and the image forming apparatus are examples of a service receiving apparatus.

The management information storage is an example of a management information storage. The portal service application is an example of an authentication information receiving unit. The user authentication unit and the user device authentication unit are examples of an authentication unit. The external service file request unit is an example of a data requesting unit. The data processing control unit the processing queue the data processing requesting unit and the data processing unit are collectively an example of an obtaining unit. The print data generation request unit is an example of a conversion request unit.

The data processing control unit the processing queue the data processing requesting unit and the data processing unit are collectively an example of a conversion unit. The print data download request reception unit is an example of an output data providing unit. The external service selection reception unit is an example of an external service selection reception unit. The external service login request unit and the external collaborative authentication unit are examples of an external collaborative authentication unit. The file list providing unit is an example of a data list providing unit.

An aspect of this disclosure provides a service providing system and a data providing method that can control the provision of a service for converting electronic data received from an external service into output data and outputting the output data depending on recipients of the service.

