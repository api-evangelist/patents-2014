---

title: Using PCE as SDN controller
abstract: Embodiments relate generally to systems and methods for transitioning a system from a tradition network to a Software Defined Network (SDN) enabled network. In some embodiments, the systems and methods may comprise the use of a Path Computation Element (PCE) as a central controller. Smooth transition between traditional network and the new SDN enabled network, especially from a cost impact assessment perspective, may be accomplished using the existing PCE components from the current network to function as the central controller of the SDN network is one choice, which not only achieves the goal of having a centralized controller to provide the functionalities needed for the central controller, but also leverages the existing PCE network components.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09450864&OS=09450864&RS=09450864
owner: Futurewei Technologies, Inc.
number: 09450864
owner_city: Plano
owner_country: US
publication_date: 20141010
---
The present application claims priority to U.S. Provisional Patent Application No. 61 889 978 filed Oct. 11 2013 by Zhao et al. and entitled Using PCE as SDN Controller which is incorporated herein by reference as if reproduced in its entirety.

In certain network deployment scenarios service providers would benefit from the ability to dynamically adapt to a wide range of customer s requests for the sake of flexible network service delivery. The Software Defined Network SDN provides additional flexibility to network operation in comparison to the traditional network. However existing networking ecosystems have become complex and highly demanding in terms of robustness performance scalability flexibility agility etc. Additionally when migrating to an SDN enabled network from an existing network service providers and network operators may have difficulty keeping the network services scalable guarantee robustness and availability etc.

In one embodiment the disclosure includes a Path Computation Element PCE comprising a receiver configured to receive a path computation request from a path computation client PCC the path computation request requesting a path initiating at the PCC a processor coupled to the receiver and configured to compute the path from the PCC to the egress node via an intermediate node in response to the path computation request and assign label information for a label switched path LSP from the PCC the intermediate node and the egress node and a transmitter coupled to the processor and configured to set up the LSP along the computed path by transmitting the label information directly to the PCC the intermediate node and the egress node for storage in a Forwarding Information Base FIB .

In another embodiment the disclosure includes a method of managing a mixed domain of SDN compatible nodes and non SDN compatible nodes with a PCE the method comprising receiving a path computation request from an SDN compatible ingress node the path computation request requesting a path to a non SDN compatible egress node computing a path from the ingress to the egress node in response to the path computation request assigning label information for each node along the computed path and setting up a LSP along the computed path by transmitting the label information directly to the SDN compatible ingress node and the non SDN compatible egress node.

In yet another embodiment the disclosure includes a method for using a PCE as a central controller in a network comprising receiving by the PCE a pathway request from a PCC performing by the PCE route computations in response to the request from the PCC and directly controlling by the PCE the PCC and a plurality of nodes in communication with the PCC to set up a pathway based on the route computations.

These and other features will be more clearly understood from the following detailed description taken in conjunction with the accompanying drawings and claims.

It should be understood at the outset that although an illustrative implementation of one or more embodiments are provided below the disclosed systems and or methods may be implemented using any number of techniques whether currently known or in existence. The disclosure should in no way be limited to the illustrative implementations drawings and techniques illustrated below including the exemplary designs and implementations illustrated and described herein but may be modified within the scope of the appended claims along with their full scope of equivalents.

Disclosed herein are mechanisms for transitioning a system from a traditional network to an SDN enabled network. A smooth transition between a traditional network and an SDN enabled network especially from a cost impact assessment perspective may be accomplished using existing PCE components from the current network to function as a central controller of the SDN network. Such a choice not only achieves the goal of having a centralized controller to provide the functionalities needed for the central controller but also leverages the existing PCE network components. The PCE may setup LSPs based on requests from PCCs and may distribute the LSP information via label resource delegation and or label range negotiation to the LSP path nodes which may allow for the elimination of Resource Reservation Protocol RSVP TE path setup signaling. The LSP information may be distributed by using PCE Protocol PCEP which may allow a PCE to act as a central controller for both SDN nodes and legacy non SDN nodes. Additional details are included in internet engineering task force IETF document draft zhao pce central controller use cases 01 which is incorporated by reference.

Currently the SDN controller is operated based on the Openflow protocol which is not used in the core network. An SDN is a network technology that addresses customization and optimization concerns within complex networks. SDN architecture allows network administrators to have programmable central control of network traffic without requiring physical access to the network s devices. SDNs may employ Internet Protocol IP networks utilizing Transmission Control Protocol Internet Protocol TCP IP . SDNs may decouple the data forwarding capability e.g. the data plane from routing resource and other management functionality e.g. the control plane previously performed in the network nodes. Decoupling the control plane from the data plane of the network enables the network controller to efficiently control the network traffic through globally optimized traffic engineering and routing which departs from locally optimized shortest path first SPF . SDN may also simplify network operations or even have the capabilities to flatten the network with extended data routing vectors.

PCE is a technology already deployed in legacy networks. To migrate a legacy network to SDN network smoothly methods include using the PCE as the central controller. By using the PCE as the SDN controller existing Multiprotocol Label Switching MPLS PCE Interior Gateway Protocol IGP mechanisms and associated hardware are employed without requiring a significant change which may support a transition to a backwards compatible SDN network and allow expensive legacy equipment to be employed as other equipment is replaced. The novel PCE functionalities may include centralized control network virtualization simplified protocols through PCEP and simplification of MPLS network by simplifying and or eliminating the Label Distribution Protocol LDP and the Resource Reservation Protocol RSVP Traffic Engineering TE RSVP TE protocols for some or all network nodes.

In SDN there is no mechanism for setting up a LSP using PCE as a central controller. The disclosed systems devices and methods use an existing PCE solution to enable each PCE client and each path node along a calculated LSP to receive the LSP information from the PCE. The operations of a PCE controller include setting up LSPs by communicating LSP information to the head end node intermediate nodes and tail end node instead of transmitting path information to a PCC head end node and requiring the PCC to setup the LSP. This disclosure includes a signaling mechanism compatible with existing PCE servers and or PCE clients both for the resource reservation and for the LSP distribution.

The disclosure also includes a mechanism for building a backup P2MP LSP along a point of local repair PLR to protect a node and the downstream nodes of the protected node. Additionally based on the disclosed signaling mechanisms all the involved nodes may distinguish the primary and secondary paths thus a dual feeding method may not be needed. A virtualized network may be provided through multiple topologies and the primary and secondary LSPs may be identified by different forwarding states so that all the downstream nodes of the protected node can merge the traffic back to the primary path locally.

In an embodiment the label switched network is a packet switched network where data traffic is transported using packets or frames along network paths or routes. The packets may be routed or switched along a TE LSP established by a signaling protocol such as MPLS or Generalized MPLS GMPLS based on a path computed by the PCE and or developed by the nodes . The label switched network comprises a plurality of nodes coupled to one another using optical electrical or wireless links. The label switch network may also comprise a plurality of domains such as autonomous system AS domains or IGP areas which may each comprise a set of network elements corresponding to the same address management and or path computational responsibility. The domains are organized via physical mechanisms e.g. location connections etc. and or logical means mechanisms e.g. network topology protocols communication layers etc. . The different domains are coupled to each other and each comprise some of the nodes .

Nodes are any devices or components that support transportation of the packets through the label switched network . For example the nodes may include bridges switches routers or various combinations of such devices. The nodes comprise a plurality of ingress ports for receiving packets from other nodes logic circuitry that determines which nodes to send the frames to and a plurality of egress ports for transmitting frames to the other nodes . In some embodiments at least some of the nodes are label switched routers LSRs which are configured to modify or update the labels of the packets transported in the label switched network . In some embodiments some of the nodes are label edge routers LERs . For example the nodes at the edges of the label switched network are configured to insert or remove the labels of the packets transported between the label switched network and external networks. The first node and the last node along a path are sometimes referred to as the source node or head end node and the destination node or tail end node respectively. Although four nodes are shown in the label switched network the label switched network may comprise any quantity of nodes . Additionally the nodes may be located in different domains in the label switched network and may be configured to communicate across multiple domains. For example the nodes that correspond to different domains may exchange packets along a path that is established across multiple domains.

The control plane controller is any device configured to coordinate activities within the label switched network such as a Network Management System NMS or Operations Support System OSS . Specifically the control plane controller receives routing requests from the label switched network and returns the corresponding path information. In addition the control plane controller communicates with the PCE for instance using a PCEP provides the PCE with information used for path computation receives the computed path from the PCE and forwards the computed path to at least one of the nodes . The control plane controller may be located in a component outside of the label switched network such as an external server or may be located in a component within the label switched network such as a node .

The PCE is any device configured to perform all or part of the path computation for the label switched network e.g. based on a path computation request. Specifically the PCE receives the information that is used for computing a path from the control plane controller from the node or both. The PCE then processes the information to obtain the path. For instance the PCE computes the path and determines the nodes including the LSRs along the path. The PCE may then send all or part of the computed path information to the control plane controller or directly to at least one node . Further the PCE is typically coupled to or comprises a traffic engineering database TED a P2MP Path database PDB a P2P path database an optical performance monitor OPM a physical layer constraint PLC information database or combinations thereof which may be used to compute the path. The PCE may be located in a component outside of the label switched network such as an external server or may be located in a component within the label switched network such as a node . In an embodiment a plurality of PCEs which are associated to a plurality of domains in the label switched network perform a distributed path computation across the domains based on a path computation request for an inter domain P2MP tree as described in detail below.

A path computation request is sent to the PCE by a PCC. The PCC is any client application requesting a path computation to be performed by the PCE . The PCC may also be any network component that makes such a request such as the control plane controller or any node such as a LSR. For instance the PCC requests from the PCE a P2MP path or P2P path in a single domain or across multiple domains in the label switched network . Additionally the PCC may send the PCE at least some of the path required information for example via a PCEP path computation request and or through broadcast signaling via link state advertisements LSAs etc.

Data packets transported between network nodes such as the nodes are referred to as label switched packets and comprises labels that are used to switch the packets along the nodes of a computed path. A path computed or given and signaled by MPLS for transporting or routing the label switched packets is referred to as a LSP. For example the LSP is a TE LSP established using a Resource Reservation Protocol Traffic Engineering RSVP TE . The LSP may be a P2P TE LSP that extends from a source node to a destination node and is unidirectional where the packets are transported in one direction along the path e.g. from the source node to the destination node in the label switched network . Alternatively the LSP may be a P2MP TE LSP which extends from a source or root node to a plurality of destination or leaf nodes. The P2MP TE LSP may be considered as a combination of a plurality of P2P TE LSPs that share the same source node. In some embodiments the P2MP TE LSP is referred to as a P2MP tree and its P2P TE LSPs are referred to as Source to Leaf S2L sub LSPs. The P2MP tree is used to provide multicast services such as multicast Virtual Private Networks VPNs Internet Protocol Television IPTV content rich media distribution other high capacity applications or combinations thereof. Further the P2MP tree may be an inter domain P2MP tree where the source node and the leaf nodes may be distributed across multiple domains e.g. in the label switched network .

The network controller receives data from and transmits messages to the network nodes and . Some of the incoming messages or parts of the incoming messages are translated into a standard independent format for processing by some of the modules in the network controller . The standard independent format is based on an abstract network control data model that provides an abstraction of the attributes or features of the various standard formats. The network controller interacts with the network nodes and via a variety of application programming interface API protocols e.g. Openflow. The network controller determines the global network topology of the network . With the global network topology state information dynamic traffic flow volume information and other network state information the network controller makes decisions on how to assign resources and route applications information and or data packet flows through the network .

It is understood that by programming and or loading executable instructions onto the NE at least one of the processor the cache and the long term storage are changed transforming the NE in part into a particular machine or apparatus e.g. a multi core forwarding architecture having the novel functionality taught by the present disclosure. It is fundamental to the electrical engineering and software engineering arts that functionality that can be implemented by loading executable software into a computer can be converted to a hardware implementation by well known design rules. Decisions between implementing a concept in software versus hardware typically hinge on considerations of stability of the design and numbers of units to be produced rather than any issues involved in translating from the software domain to the hardware domain. Generally a design that is still subject to frequent change is preferred to be implemented in software because re spinning a hardware implementation is more expensive than re spinning a software design. Generally a design that is stable that will be produced in large volume is preferred to be implemented in hardware for example in an ASIC because for large production runs the hardware implementation is less expensive than the software implementation. Often a design is developed and tested in a software form and later transformed by well known design rules to an equivalent hardware implementation in an ASIC that hardwires the instructions of the software. In the same manner as a machine controlled by a new ASIC is a particular machine or apparatus likewise a computer that has been programmed and or loaded with executable instructions is viewed as a particular machine or apparatus.

In an embodiment a path computation request is sent to the PCE by a PCC wherein the PCC may be any client application requesting a path computation to be performed by the PCE . The PCC may also be any network component that makes such a request such as any of the nodes . For instance the PCC requests from the PCECC a P2MP path or P2P path in a single domain or across multiple domains in the label switched network . Additionally the PCC sends the PCECC at least some of the required path information. In the embodiment of any of the nodes may operate as a PCC by communicating information to the PCECC .

After receiving a path computation request the PCECC processes the information to compute the path. For instance the PCECC computes the path e.g. route and determine the nodes e.g. LSRs along the path and or performs wavelength assignment WA in an optical network embodiment. The PCECC then sends all or part of the computed path information directly to each of the nodes along the pathway. For example the PCE computes routing R and or WA RWA assigns labels e.g. MPLS labels and determines any other information needed to identify and forward packets through the network. The PCE then forwards such information to each node along the computed assigned path for storage in a Forwarding Information Base FIB or similar structure. The nodes then forward packets according to their corresponding FIB s. In contrast to legacy PCEs the PCECC is configured to directly communicate control all nodes along the path and not just the PCC head end node. Accordingly PCECC has no need to employ legacy RSVP TE functions and or similar setup signaling along the computed path which reduces network complexity and control signaling.

As shown in nodes and communicates with each other via an IGP which may allow the nodes and to determine adjacencies exchange routing and or status information etc. A copy of label databases for each of nodes and respectively are stored and accessed by the PCE and are also stored at each node in a FIB or similar structure. The PCE may also maintain LSP databases which may store lightpath information relevant to nodes respectively. For example label databases may comprise label information and associated port switching information e.g. node data while LSP databases may data related to the LSPs traversing an associated link.

In the embodiment shown in the PCE also comprises Traffic Engineering Database TEDB that comprises topology information link and or node status information and similar information that is employed to optimize network performance distributing traffic across the network to avoid congestion adjusting to link node failures etc. Additionally the PCE and each node and may comprise an LSP manager that is operable to setup delete modify and maintain LSPs and process associated label information. Additionally the PCE may employ RSVP LDP components to setup paths and delegate labels for the legacy node via associated protocols as needed. Additionally the PCE may employ constrained shortest path first CSPF module to perform path computations for the LSPs.

As discussed above in certain networks deployment scenarios service providers would like to keep all the existing MPLS functionalities in both MPLS and GMPLS network while removing the complexity of existing signaling protocols such as LDP and RSVP TE. This document discloses the use of the PCE as a central controller so that LSP can be calculated signaled initiated downloaded managed through a centralized PCE server to each network devices along the LSP path while leveraging the existing PCE technologies as much as possible.

This document also describes the use cases for using the PCE as the central controller where LSPs are calculated setup initiated downloaded maintained through extending the current PCE architectures and extending the PCEP.

In certain network deployment scenarios service providers would like to have the ability to dynamically adapt to a wide range of customer s requests for the sake of flexible network service delivery SDN provides additional flexibility in how the network is operated comparing the traditional network. The existing networking ecosystem has become complex and highly demanding in terms of robustness performance scalability flexibility agility etc. By migrating to the SDN enabled network from the existing network service providers and network operators must have a solution which they can evolve easily from the existing network into the SDN enabled network while keeping the network services scalable guarantee robustness and availability etc. Taking the smooth transition between traditional network and the SDN enabled network into account especially from a cost impact assessment perspective using the existing PCE components from the current network to function as the central controller of the SDN network is one choice which not only achieves the goal of having a centralized controller to provide the functionalities needed for the central controller but also leverages the existing PCE network components.

The PCEP provides mechanisms for PCEs to perform route computations in response to PCCs requests. PCEP can be used to enable active control of MPLS TE and GMPLS tunnels. PCE initiated setup and teardown of LSPs under the active stateful PCE model may be performed without the need for local configuration on the PCC thus allowing for a dynamic MPLS network that is centrally controlled and deployed. Addressing the requirements for SR technology leverages the source routing and tunneling paradigms such as remote initiated GMPLS LSPs. A source node can choose a path without relying on hop by hop signaling protocols such as LDP or RSVP TE. Each path is specified as a set of segments advertised by link state routing protocol e.g. Intermediate Source to Intermediate Source IS IS or Open Shortest Path First OSPF . A Segment Routed path SR path can be derived from an IGP Shortest Path Tree SPT . Segment Routed Traffic Engineering paths SR TE paths may not follow IGP SPT. Such paths may be chosen by a suitable network planning tool and provisioned on the source node of the SR TE path. It is possible to use a stateful PCE for computing one or more SR TE paths taking into account various constraints and objective functions. Once a path is chosen the stateful PCE can instantiate an SR TE path on a PCC using PCEP and SR specific PCEP extensions. By using the solutions provided herein LSPs in both MPLS and GMPLS networks can be setup deleted maintained synchronized through a centrally controlled dynamic MPLS network. Since in these solutions the LSP is signaled through the head end LER to the tail end LER either RSVP TE signaling protocol should be deployed in the MPLS GMPLS network or TGP protocol should be extended with node adjacency segment identifiers signaling capability to be deployed.

Some embodiments include using the PCE as the Central Controller. PCECC may not only remove the existing MPLS signaling totally from the control plane without losing any existing MPLS functionalities but also PCECC achieves this goal through utilizing existing PCEP without introducing a new protocol into the network. illustrates the PCECC architecture.

The combination of the functionality for global label range signaling and the functionality of LSP setup download cleanup using the combination of global labels and local labels is referred to herein as PCECC functionality. A current MPLS label has local meaning. That is MPLS labels are allocated locally and signaled through LDP RSVP TE BGP etc. dynamic signaling protocols. As SDN technology develops MPLS global label has been proposed. MPLS global labels can be used for identification of the location the service and the network in different application scenarios. From these use cases it can be seen that no matter SDN or traditional application scenarios solutions based on MPLS global label have an advantage over the existing solutions to facilitate service provisions.

To ease the label allocation and signaling mechanism e.g. with applications such as concentrated LSP controller being introduced a PCE can be conveniently used as a central controller and MPLS global label range negotiator.

For example PCE server and PCE clients may be configured to have the global label range negotiation and local label range negotiation functionality. To empower networking with centralized controllable modules there are many choices for downloading the forwarding entries to the data plane one way is the use of the OpenFlow protocol which helps devices populate their forwarding tables according to a set of instructions to the data plane. There are other candidate protocols to convey specific configuration information towards devices also. Since the PCEP protocol is deployed in some of the service network it may be leveraged to populate the MPLS forwarding table. For the centralized network the performance achieved through a distributed system cannot be easily matched if the entire forwarding path is computed downloaded and maintained by the centralized controller. The performance can be improved by supporting part of the forwarding path in the PCECC network through the segment routing mechanism except that the adjacency IDs for all the network nodes and links are propagated through the centralized controller instead of using the IGP extension. The node and link adjacency IDs can be negotiated through the PCECC with each PCECC clients and these IDs can be taken from the global label range which has been negotiated. With the capability of supporting SR within the PCECC architecture P2P forwarding path protection is supported within the PCECC network. These protection alternatives include end to end path protection local protection without operator management and local protection with operator management. With the capability of global label and local label existing at the same time in the PCECC network PCECC computes performs setup and maintains the P2MP and MP2MP LSP using the local label range for each network nodes. With the capability of setting up maintaining the P2MP MP2MP LSP within the PCECC network end end managed path protection service and the local protection are provided with the operation management in the PCECC network for the P2MP MP2MP LSP which includes both the RSVP TE P2MP based LSP and also the multicast label distribution protocol mLDP based LSP.

PCE clients as discussed herein have the capability to advertise PCECC capability to the PCECC. PCEs as discussed herein have the capability to negotiate a global label range for a group of clients. PCCs discussed herein are able ask for global label range assigned in path request message. PCEs may not be required to support label reserve service. Therefore a PCE may reject a Path Computation Request message with a reason code that indicates no support for label reserve service. PCEP provides a mechanism to return global label range and LSP label assignments of the computed path in a reply message. PCEP provides a mechanism to download the MPLS forwarding entry to the PCECC s clients.

Example 1 comprises Shared Global Label Range Reservation wherein PCECC Clients nodes report MPLS label capability to the central controller PCECC. The central controller PCECC collects MPLS label capability of all nodes. Then PCECC can calculate the shared MPLS global label range for all the PCECC client nodes. In the case that the shared global label range needs to be negotiated across multiple domains and the central controllers and of these domains are communicated to negotiate a common global label range. The central controller PCECC notifies the shared global label range to all PCECC client nodes.

Example 2 comprises Global Label Allocation wherein PCECC Client node sends a global label allocation request to the central controller PCECC . The central controller PCECC allocates the global label for Forward Error Correction FEC channel from the shared global label range and sends the reply to the client node . The central controller PCECC notifies the allocated label for FEC to all PCECC client nodes within PCE domain .

Examples include use cases of PCECC for SR Best Effort BE Path. In this mode of the solution the PCECC allocates the node segment ID and adjacency ID without calculating the explicit path for the SR path. The ingress of the forwarding path encapsulates the destination node segment ID on top of the packet. All the intermediate nodes forward the packet based on the final destination node segment ID. It is similar to the LDP LSP forwarding except that label swapping is using the same global label both for the in segment and out segment in each hop. The p2p SR BE path examples are explained as bellow Note that the node segment IDs for each node from the shared global labels ranges are also negotiated.

Example 1 R may send a packet to R by pushing an SR header with segment list . The path can be R R R R or R R R R depending on the route calculation on node R.

Example 2 comprises local link node protection. For the packet which has a destination of R R may be preinstalled as a backup forwarding entry to protect the R node. The pre installed the backup path can go through either node or link or link between R and R. The backup path calculation is locally decided by R and any IP FRR algorithms can be used.

Examples also include use cases of PCECC for SR Traffic Engineering TE Path. When a traffic engineering path is needed the PCECC allocates the node segment ID and adjacency ID calculates the explicit path for the SR path and passes this explicit path represented with a sequence of node segment ID and adjacency id. The ingress of the forwarding path encapsulates the stack of node segment ID and adjacency ID on top of the packet. For the case where strict traffic engineering path is needed all the intermediate nodes and links are specified through the stack of labels so that the packet is forwarded exactly as assigned. Even though it is similar to TE LSP forwarding where forwarding path is engineered Quality of Service QoS is only guaranteed through the enforcement of bandwidth admission control. As for the RSVP TE LSP case Qos is guaranteed through the link bandwidth reservation in each hop of the forwarding path. The P2P SR traffic engineering path examples are explained as below Note that the node segment ID for each node is allocated from the shared global labels ranges are negotiated and adjacency segment ids for each link are allocated from the local label pool for each node.

Example 1 R may send a packet P to R by pushing an SR header with segment list . The path would be R R R R.

Example 2 R may send a packet P to R by pushing an SR header with segment list . The path would be R R link R R.

Example 3 R may send a packet P to R while avoiding the links between R and R by pushing an SR header with segment list . The path should be R R R R R

Example 4 local link protection R sends a packet P to R by pushing an SR header with segment list . The path should be R R link R R. When node R receives the packet from R which has the header of R link R R and finds out there is a link failure of link then it will send out the packet with header of R R through link.

Example 5 local node protection R may send a packet P to R by pushing an SR header with segment list . The path should be R R R R R. When node R receives the packet from R which has the header of and also find out there is a node failure for node then it will send out the packet with header of to node instead of node.

Some embodiments may comprise use cases of PCECC for TE LSP. In the previous sections we have discussed the cases where the SR path is setup through the PCECC. Although those cases give the simplicity and scalability there are existing functionalities for the traffic engineering path such as the bandwidth guarantee through the full forwarding path and the multicast forwarding path which SR based solution cannot solve. Also there are cases where the depth of the label stack may have been an issue for existing deployment and certain vendors.

Examples include TE LSP Setup wherein Node sends a path request message for the setup of TE LSP from R to R. PCECC programs each node along the path from R to R with the primary path R link R link R link R link R. For the end to end protection PCECC program each node along the path from R to R with the secondary path R link R link R link R link R. It is also possible to have a secondary backup path for the local node protection setup by PCECC. For example if the primary path is the same as setup above then to protect the node R locally PCECC can program the secondary path as R link R link R link R. By doing this the node R is locally protected.

The multicast LSPs are setup either using the RSVP TE P2MP or mLDP protocols. The setup of these LSPs not only needs manual configurations but also requires complex protection schemes. By using the PCECC solution the multicast LSP can be computed and setup through centralized controller which has the full picture of the topology and bandwidth usage for each link. It not only reduces the complex configurations compared to the distributed RSVP TE P2MP or mLDP signaling but also supports computation of disjoint primary paths and secondary paths efficiently.

Step After R receives the packet with label it will forward to R by pushing header and R by pushing header .

Step After R receives the packet with label it will forward to R by pushing header . After R receives the packet with label it will forward to R by pushing header .

Some embodiments include PCECC for the End to End Protection of the P2MP MP2MP LSPs. In this section we describe the end to end managed path protection service and the local protection with the operation management in the PCECC network for the P2MP MP2MP LSP which includes both the RSVP TE P2MP based LSP and also the mLDP based LSP. An end to end protection for nodes and links can be applied for computing backup P2MP or MP2MP LSPs. During computation of the primarily multicast trees a PCECC server may also be taken into consideration to compute a secondary tree. A PCE may compute the primary and backup P2MP or MP2Mp LSP together or sequentially as illustrated in .

Embodiments also include the use of PCECC for the local protection of the P2MP MP2MP LSPs. In this section we describe the local protection service in the PCECC network for the P2MP MP2MP LSP. While the PCECC sets up the primary multicast tree it can also build the back LSP among PLR the protected node and multi points MPs e g. the downstream nodes of the protected node. In the cases where the amount of downstream nodes is huge this mechanism can avoid unnecessary packet duplication on PLR so that protect the network from traffic congestion risk.

Some embodiments include use cases of PCECC for LSP in the network migration. One of the main advantages for PCECC solution is that it has backward compatibility naturally since the PCE server itself can function as a proxy node of MPLS network for all the new nodes which do not support the existing MPLS signaling protocol.

Examples include PCECC initiated LSP setup in the network migration. In this example there are five nodes for the TE LSP from head end node to the tail end node . Where the NodeX is central controlled and other nodes are legacy nodes. Node sends a path request message for the setup of LSP destined for Node. PCECC sends a reply message for LSP setup with path node if node if node PCECC if node if node. Node Node Node PCECC Node sets up the LSP to Node normally using the local label as normal. Then the PCECC programs the outsegment of Node the insegment of Node and the insegment outsegment for NodeX.

While several embodiments have been provided in the present disclosure it should be understood that the disclosed systems and methods might be embodied in many other specific forms without departing from the spirit or scope of the present disclosure. The present examples are to be considered as illustrative and not restrictive and the intention is not to be limited to the details given herein. For example the various elements or components may be combined or integrated in another system or certain features may be omitted or not implemented.

In addition techniques systems subsystems and methods described and illustrated in the various embodiments as discrete or separate may be combined or integrated with other systems modules techniques or methods without departing from the scope of the present disclosure. Other items shown or discussed as coupled or directly coupled or communicating with each other may be indirectly coupled or communicating through some interface device or intermediate component whether electrically mechanically or otherwise. Other examples of changes substitutions and alterations are ascertainable by one skilled in the art and could be made without departing from the spirit and scope disclosed herein.

