---

title: Information processing system, information processing method, and information processing apparatus
abstract: An information processing system includes one or more information processing apparatuses that implement an output data reception unit that receives sets of output data via a network, an identification unit that identifies a user identifier to be associated with the received sets of output data by referring to user information stored in a user information storage unit, a storage processing unit that stores the sets of output data in a data storage unit in association with individual identifiers and a common identifier when the user identifier is not identified by the identification unit, a reporting unit that reports the common identifier via the network, and a transmission unit that receives the user identifier or a combination of an individual identifier and the common identifier via the network, and sends output data associated with the received user identifier or the received combination via the network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09507953&OS=09507953&RS=09507953
owner: Ricoh Company, Ltd.
number: 09507953
owner_city: Tokyo
owner_country: JP
publication_date: 20140522
---
The present application is based upon and claims the benefit of priority of Japanese Patent Application No. 2013 118522 filed on Jun. 5 2013 the entire contents of which are incorporated herein by reference.

An aspect of this disclosure relates to an information processing system an information processing method and an information processing apparatus.

There exists a system where print data is not immediately printed in response to a print request input by a user on for example a personal computer PC but is stored in a storage of a server or an image forming apparatus in association with a user name of the user see for example Japanese Laid Open Patent Publication No. 2004 236348 and Japanese Laid Open Patent Publication No. 2001 051915 . In the system when the user enters the user name and a password via an operations panel of an image forming apparatus the image forming apparatus performs authentication based on the user name and the password. When the authentication is successful the image forming apparatus displays on the operations panel a list of sets of print data stored in the storage in association with the user name. When a set of print data is selected from the list the image forming apparatus obtains the selected set of print data from the storage and prints the obtained set of print data.

With a system as described above a print is output when a user is present beside an image forming apparatus. This configuration makes it possible to prevent a print from being left unattended at the image forming apparatus or picked up by a wrong person. Accordingly this configuration makes it possible to improve the security of printed information.

With a system as described above however only a user having an account for authentication can execute a print process. Therefore for example such a system is inconvenient for a guest who has no account and needs to ask a person with an account to print a document. To solve this problem a common guest account may be provided for guests. With this approach however because a common account is used by multiple guests a guest can access print data of another guest. Thus this approach may compromise the security of printed information that the system is intended to provide.

As another approach an image forming apparatus dedicated for guests may be provided. However this approach increases costs and installation space.

In an aspect of this disclosure there is provided an information processing system including one or more information processing apparatuses that implement an output data reception unit that receives a plurality of sets of output data via a network an identification unit that identifies a user identifier to be associated with the received sets of output data by referring to user information stored in a user information storage unit a storage processing unit that stores the sets of output data in a data storage unit in association with individual identifiers assigned to the respective sets of output data and a common identifier common to the sets of output data when the user identifier is not identified by the identification unit a reporting unit that reports the common identifier via the network and a transmission unit that receives the user identifier or a combination of at least one of the individual identifiers and the common identifier via the network and sends at least one of the sets of output data associated with the received user identifier or the received combination of the at least one of the individual identifiers and the common identifier via the network.

Preferred embodiments of the present invention are described below with reference to the accompanying drawings. is a drawing illustrating an exemplary configuration of a printing system according to a first embodiment. As illustrated by the printing system may include one or more user terminals an email server a management server an authentication server a storage server and one or more image forming apparatuses that are connected to each other via a network N such as a local area network LAN or the Internet. A part or the entirety of the network N may be implemented by a radio communication network. Also the user terminals may be connected via a mobile communication network to the network N. In the present embodiment it is assumed that the printing system is in operation in an organization such as a company. In the first embodiment the organization is referred to as a company A .

Each user terminal is an information processing apparatus that is operated directly by a user of the printing system . For example the user operates the user terminal to enter a print request into the printing system . For example the user terminal may be implemented by a personal computer PC a cell phone a smartphone a tablet terminal or a personal digital assistant PDA . Also multiple user terminals may be implemented by different types of devices.

In the present embodiment users of the printing system include an authorized or registered user and a guest user. The authorized user indicates a user whose user information is registered in the printing system more specifically in a user information storage unit described later . That is the authorized user is a user who is registered in the printing system in advance and expected to use the printing system . An example of the authorized user is an employee of the company A. The guest user indicates a user whose user information is not registered in the printing system . That is the guest user is a user who does not have a preassigned right to use the printing system . An example of the guest user is a person who is not an employee of the company A.

The email server is a computer that transfers an email sent from the user terminal and an email sent from the management server . For example in response to an instruction from the user the user terminal sends an email including a print request to the management server . Electronic data to be printed is attached to the email including the print request. The electronic data may have any appropriate data format. Hereafter an email sent from the user terminal and including a print request is referred to as a print request email .

The authentication server is a computer that manages information hereafter referred to as user information of respective users in the company A and performs processes based on the user information. For example when an authentication request including a user name and a password is received the authentication server performs an authentication process. The authentication server also performs processes in response to a request to confirm whether an email address exists and a request to obtain a user name corresponding to an email address. The user information of a user includes an email address associated with a user name of the user.

The management server is a computer that generates for example print data based on electronic data included in a received print request email. The print data has a data format that the image forming apparatus can interpret. The management server associates the generated print data with a user name of a user corresponding to the sender of the print request email or an identifier generated for the print request email and sends the print data to the storage server . When a sender or source email address of the print request email is being managed by the authentication server in association with a user name the management server associates the print data with the user name. When the sender or source email address of the print request email is not being managed by the authentication server in association with a user name the management server associates the print data with an identifier generated in response to the print request email. Hereafter the identifier is referred to as a personal identification number PIN code .

The image forming apparatus prints print data that is stored in the storage server in association with a user name or a PIN code input by a user on the image forming apparatus .

Programs for implementing various processes at the management server may be provided via a storage medium such as a CD ROM. When the storage medium storing programs is mounted on the drive the programs are read by the drive from the storage medium and are installed in the secondary storage . Programs may not necessarily be installed from the storage medium . For example programs may be downloaded via a network from another computer. The secondary storage stores the installed programs and other necessary files and data.

The memory temporarily stores programs read from the secondary storage when the programs are executed. The CPU performs functions of the management server according to the programs temporarily stored in the memory . The interface connects the management server to a network.

The controller may include a CPU a random access memory RAM a read only memory ROM a hard disk drive HDD and a non volatile RAM NVRAM . The ROM stores for example programs and data used by the programs. The RAM is used for example as a storage area into which programs are loaded and as a work area for the loaded programs. The CPU executes the programs loaded into the RAM to implement various functions. The HDD stores for example programs and data used by the programs. The NVRAM stores for example various settings.

The scanner is a hardware component image scanning unit for scanning a document to obtain image data. The printer is a hardware component printing unit for printing print data on a recording medium such as paper. The modem is a hardware component for connecting the image forming apparatus to a telephone line and is used to send and receive image data via facsimile communications. The operations panel is a hardware component including an input unit such as buttons for receiving user inputs and a display unit such as a liquid crystal display panel. For example a liquid crystal display panel including a touch panel function may be used as the display unit. In this case the liquid crystal display panel may also function as the input unit. The network interface is a hardware component for connecting the image forming apparatus to a wired or wireless network such as a local area network LAN . The SD card slot reads for example programs stored in a secure digital SD card . With the image forming apparatus configured as described above in addition to the programs stored in the ROM and the HDD programs stored in the SD card can also be loaded into the RAM and executed. Instead of the SD card any other storage medium e.g. a CD ROM or a universal serial bus USE memory may be used. That is a storage medium that can be mounted on the image forming apparatus is not limited to the SD card . When a storage medium other than the SD card is used the SD card slot may be replaced with a hardware component corresponding to the storage medium used.

The scanner and the modem may be omitted from the image forming apparatus . That is the image forming apparatus may be implemented by a printer instead of a multifunction peripheral.

The email receiving unit receives a print request email. The print request email includes print object data e.g. an email body and or attached data that the user requests to print. For example the user sends from the user terminal an email including print object data to an email address destination with a specific domain. When the destination of a received email includes the specific domain the email receiving unit determines that the received email is a print request email.

The address confirmation unit sends an address confirmation request to request the authentication server to confirm whether a sender source email address of the print request email is registered in the authentication server . When the sender email address is registered in the authentication server the address confirmation unit receives a user name corresponding to the sender email address from the authentication server . The PIN code generating unit generates a PIN code when the sender email address is not registered in the authentication server . The print information generating unit generates print information corresponding to the print request email. The print information includes print data information related to a print job for the print data and a user name or a PIN code.

The response email generating unit generates an email hereafter referred to as a response email to be sent as a response to the print request email. The response email includes identification information of the print job for the print data. When a PIN code is generated in response to the print request email the PIN code is also included in the response email.

The email transmission unit sends the response email to the sender email address in the print request email. The print information transmission unit sends the print information to the storage server to store the print information in the storage server .

The authentication server may include a request processing unit and a user information storage unit . The user information storage unit stores user information for each authorized user. The request processing unit performs processes in response to an authentication request an address confirmation request and a user name request. The request processing unit may be implemented by executing a program installed in the authentication server by a CPU of the authentication server . The user information storage unit may be implemented for example by a secondary storage of the authentication server or a storage device connected via a network to the authentication server .

The storage server may include a print information reception unit a print information storage unit and a print information providing unit . The print information reception unit receives print information sent from the management server and stores the received print information in the print information storage unit . When a print information request is received from the image forming apparatus the print information providing unit sends to the image forming apparatus print information that is stored in the print information storage unit and includes a user name or a PIN code specified in the print information request.

The print information reception unit and the print information providing unit may be implemented by executing one or more programs installed in the storage server by a CPU of the storage server . The print information storage unit may be implemented for example by a secondary storage of the storage server or a storage device connected via a network to the storage server .

The image forming apparatus may include an authentication control unit a print information obtaining unit and a print control unit . These functional units may be implemented by executing one or more programs installed in the image forming apparatus by the CPU . The authentication control unit receives from a user a user name and a password or a PIN code. When a user name and a password are entered the authentication control unit requests the authentication server to perform authentication based on the user name and the password. The print information obtaining unit sends a print information request to the storage server . The print information request includes at least one of the user name and the PIN code received by the authentication control unit . The print control unit performs a printing process for print data obtained by the print information obtaining unit .

An exemplary process performed by the printing system is described below. is a sequence chart illustrating an exemplary print data storing process according to the first embodiment.

At step S in response to an instruction from the user the user terminal sends a print request email to a predetermined email address. Electronic data to be printed is attached to the print request email. The predetermined email address is an email address assigned in advance to the management server .

The email server transfers the print request email to the management server according to a known communication protocol for transferring emails S .

The print request email is received by the email receiving unit of the management server . When the print request email is received the management server sends an address confirmation request including a sender source email address of the print request email to the authentication server S . When the address confirmation request is received the request processing unit of the authentication server determines whether the sender email address specified in the address confirmation request is stored in the user information storage unit S .

At step S the request processing unit determines whether the sender email address specified in the address confirmation request is included in any one of the records of user information stored in the user information storage unit .

Next the request processing unit sends a response including a confirmation result to the management server S . The confirmation result indicates whether the sender email address exists in the user information storage unit i.e. whether the sender email address is included in any one of the records of user information stored in the user information storage unit .

When receiving the confirmation result the management server performs a process print information generating process for generating print information for the print request email S . Then the email transmission unit of the management server sends a response email for the print request email to the sender email address in the print request email S . The response email is transferred by the email server to the user terminal that has sent the print request email S . The response email is generated in the print information generating process.

After the response email is sent the print information transmission unit of the management server sends the print information to the storage server S . The print information includes print data generated in the print information generating process and information associated with the print data.

When receiving the print information the print information reception unit of the storage server stores the received print information in the print information storage unit S .

The job name is identification information assigned to each set of print data or to a print job executed for the print data. The user mode is information indicating whether a sender source email address of a print request email is stored in the user information storage unit . That is in the present embodiment the user mode indicates whether a user requesting printing is an authorized or registered user or a guest user. In U indicates an authorized user and G indicates a guest user. The user name indicates the name of an authorized user requesting printing. The request identification number and the data identification number constitute a PIN code assigned to a print request email sent from a guest user requesting printing. That is a PIN code is represented by a combination of a request identification number and a data identification number. The request identification number and the data identification number are included or valid in print information for a guest user. Details of the request identification number and the data identification number are described later. The file path name indicates a path name of a file containing print data. The date and time indicates for example when print information is generated.

Details of step S are described below. is a flowchart illustrating an exemplary print information generating process according to the first embodiment 

At step S the address confirmation unit determines whether the confirmation result received at step S of indicates that the sender email address of the print request email exists or is stored in the user information storage unit . When the confirmation result indicates that the sender email address exists YES at S the address confirmation unit obtains a user name corresponding to the sender email address from the authentication server S . In other words the address confirmation unit obtains a user name that is stored in the user information storage unit in association with the sender email address.

Next the print information generating unit generates print data for each of an email body and attached data print object data of the print request email S . When multiple sets of data are attached to the print request email the print information generating unit generates print data for each of the sets of attached data. Accordingly when the number of sets of attached data is N N 1 sets of print data are generated. Here 1 indicates print data generated for the email body. Alternatively print data may be generated only for attached electronic data. When the attached data is an archive file such as a zip file containing multiple files the print information generating unit extracts the files from the archive file and generates print data for each of the extracted files. Thus multiple sets of print data print jobs may be generated for one print request email.

Next the print information generating unit generates print information for each set of print data S . More specifically the print information generating unit generates a job name for each set of print data and includes the job name in the print information. In this case U is set as the user mode in each set of print information. Also the user name obtained at step S is set in the print information. Further the date and time when the print information is generated is set in the print information. One or more sets of print information generated at step S are sent to the storage server at step S of .

Then the response email generating unit generates a response email that includes the job names of sets of print information in for example the email body S . The generated response email is transferred at steps S and S of to the user terminal that has sent the print request email. The user reads the response email and identifies the job names corresponding to sets of print data generated in response to the print request email. When the sender email address exists in the user information storage unit the response email may not necessarily be sent to the user terminal . For example when a job name is generated based on the file name of electronic data the user can determine without receiving the response email the contents of print data based on the job name displayed on the image forming apparatus .

When the confirmation result indicates that the sender email address does not exist NO at S the PIN code generating unit generates PIN codes for the print request email S . In the present embodiment each PIN code has a format as indicated below.

That is a PIN code is represented by a data identification number and a request identification number that are separated by a delimiter . The data identification number and the request identification number may be arranged in the reverse order in the PIN code and may be combined in a different manner. Also when the number of digits of at least one of the data identification number and the request identification number is fixed the delimiter may be omitted. This is because the boundary between the data identification number and the request identification number can be identified when the number of digits of one of them is fixed.

The data identification number is an identification number that is unique to each set of print data generated based on the print request email i.e. each of sets of print data generated for the email body and the attached data . The request identification number or print request identification number is an identification number unique to each print request email. Accordingly the request identification number is common to multiple sets of print information that are generated based on the same print request email.

For example when a print request email includes six sets of attached data data identification numbers as illustrated by are assigned to sets of print data generated for the email body and the attached data

When a print request email includes six sets of attached data a total of seven data identification numbers are assigned to sets of print data of the email body and the attached data of the print request email. In 03 is assigned as a data identification number to the email body. In the present embodiment 03 is reserved as the data identification number for the email body. Accordingly 03 is commonly used as the data identification number for email bodies of all print request emails sent from guest users. Alternatively different data identification numbers for the email body may be used for different print request emails or different guest users i.e. email addresses of guest users . Also in data identification numbers 1 through 6 are assigned to sets of attached data. The data identification numbers in are just examples. Data identification numbers may be represented by other values and may include characters or symbols. That is data identification numbers may be generated in any appropriate manner unless duplicate data identification numbers are assigned to sets of print data generated for one print request email. The request identification number may be generated in any appropriate manner unless the request identification number becomes identical with a request identification number included in a PIN code associated with print information currently stored in the print information storage unit . A PIN code is preferably composed of characters that can be easily entered via the operations panel of the image forming apparatus or a software keyboard displayed on the operations panel . In the present embodiment a PIN code includes a request identification number that is commonly used for sets of print data or print information generated in response to one print request email. This for example makes it easier for the user to remember the PIN code.

Alternatively the request identification number may be generated for each guest user instead of for each print request email. In other words the same request identification number may be assigned to multiple print request emails from the same guest user. For example the PIN code generating unit stores the request identification number in the secondary storage in association with the sender email address of the print request email from the guest user. When a print request email includes a sender email address that is the same as the sender email address stored in the secondary storage in association with the request identification number the PIN code generating unit assigns the same request identification number to the print request email. In this case data identification numbers need to be selected or generated such that they do not become identical with the data identification numbers included in sets of print information currently stored in the print information storage unit and having the same request identification number.

Next the print information generating unit generates print data for each of the email body and the attached data print object data of the print request email S . In other words the print information generating unit generates print data for each of the data identification numbers. The process of step S is substantially the same as step S.

Next the print information generating unit generates print information for each set of print data S . More specifically the print information generating unit generates a job name for each set of print data and includes the job name in the print information. In this case G is set as the user mode in each set of print information. Also the data identification number and the request identification number constituting the PIN code generated at step S are set in the print information. The data identification number is set in the print information of print data that corresponds to the data identification number. Also the date and time when the print information is generated is set in the print information. One or more sets of print information generated at step S are sent to the storage server at step S of .

Then the response email generating unit generates a response email that includes the job names of sets of print information and the PIN codes in for example the email body S . The response email includes PIN codes for respective sets of print information as exemplified by .

The print objects in include in addition to the email body and sets of attached data selected when printing email body all sets of attached data and all sets of attached data . A data identification number 00 is assigned to selected when printing a data identification number 01 is assigned to email body all sets of attached data and a data identification number 02 is assigned to all sets of attached data . In the present embodiment similarly to 03 reserved for the email body 00 01 and 02 are reserved as data identification numbers. Each of 01 and 02 is a data identification number assigned to a combination of multiple print objects sets of print data .

Including multiple PIN codes in one response email makes it possible to change print objects depending on the PIN codes entered into the image forming apparatus . That is the user can specify a print object by entering the corresponding PIN code.

Although the correspondence between the PIN codes and the print objects is represented in a table format in the correspondence between the PIN codes and the print objects is not necessarily represented in a table format in the response email. The correspondence between the PIN codes and the print objects may be represented in any format that is understandable for a user who reads the response email.

Also when the rules for assigning data identification numbers and the meaning of reserved numbers are known to the user the response email may simply include one request identification number. In this case the user can identify a PIN code corresponding to a desired print object based on the request identification number.

The response email generated at step S is transferred at steps S and S of to the user terminal that has sent the print request email. The user reads the response email and identifies the PIN codes corresponding to sets of print data generated in response to the print request email. The user needs to enter the PIN codes in the image forming apparatus to print the corresponding sets of print data. With the response email the user can also identify the job names corresponding to the sets of print data. However the job names are not necessarily included in the response email.

Thereafter the user who has sent the print request email moves to a location where the image forming apparatus is installed and operates the image forming apparatus . Next an exemplary process performed by the image forming apparatus in response to user operations is described.

For example when a print function for printing print data stored in the storage server is called the authentication control unit displays a login screen on the operations panel S .

When the operator of the image forming apparatus is an authorized user the operator enters a user name and a password on the login screen . On the other hand when the operator is a guest user the operator enters on the login screen a PIN code corresponding to a print object that the operator intends to print. The PIN code is selected from PIN codes reported via a response email. For example when the operator intends to select a print object when printing i.e. select a print object from a list the operator enters a PIN code including 00 as the data identification number.

When a user name and a password or a PIN code is entered on the login screen and an OK button is pressed the authentication control unit determines whether a user name and a password are entered on the login screen S . When a user name and a password are entered YES at S the authentication control unit performs an authentication process S . More specifically the authentication control unit sends an authentication request including the entered user name and password to the authentication server . The request processing unit of the authentication server determines whether the combination of the user name and the password specified in the authentication request is stored in the user information storage unit . When the combination of the user name and the password are stored in the user information storage unit the request processing unit determines that the authentication is successful. When the combination of the user name and the password are not stored in the user information storage unit the request processing unit determines that the authentication has failed. The request processing unit sends information indicating the authentication result to the authentication control unit of the image forming apparatus that has sent the authentication request.

When the authentication is successful YES at S the print information obtaining unit obtains from the storage server a list of sets of print information print information list corresponding to the user name entered on the login screen S . More specifically the print information obtaining unit sends a print information list request including the user name to the storage server . When receiving the print information list request the print information providing unit of the storage server obtains one or more sets of print information including the user name specified in the print information list request from the print information storage unit see . That is when a user name and a password are entered on the login screen the print information providing unit obtains one or more sets of print information including the user mode U and the user name. The print information providing unit sends a list of the obtained sets of print information print information list to the image forming apparatus . The print information sent to the image forming apparatus at step S preferably does not include print data. When the authentication has failed NO at S step S is not performed.

After step S the print information obtaining unit of the image forming apparatus displays on the operations panel a list of for example job names included in the print information list received from the storage server S . The displayed list indicates candidates to be printed. Accordingly the user can select print information from the displayed list and request printing of print data corresponding to the selected print information.

When the user selects at least one job name from the displayed list the print information obtaining unit obtains print data corresponding to the selected job name from the storage server S . More specifically the print information obtaining unit sends a print data request including the selected job name to the storage server . When receiving the print data request the print information providing unit of the storage server sends print data corresponding to the job name specified in the print data request to the image forming apparatus .

When only one set of print information is obtained based on the specified user name in step S the print information obtaining unit may obtain the corresponding print data without performing step S. Also instead of sending a print information list to the image forming apparatus the print information providing unit may send print data identified based on the specified user name to the image forming apparatus .

Next the print control unit controls execution of a print job for the obtained print data S . As a result the print data is printed on a recording medium such as paper and the recording medium is output from the image forming apparatus .

On the other hand when a PIN code is entered on the login screen NO at S the print information obtaining unit separates the PIN code into a data identification number and a request identification number S . For example the print information obtaining unit separates the PIN code into a data identification number and a request identification number based on a delimiter. Next the print information obtaining unit determines whether the data identification number is 00 S . That is the print information obtaining unit determines whether the user specified selected when printing instead of specific print data.

When the data identification number is 00 YES at S the print information obtaining unit obtains a list of sets of print information print information list corresponding to the entered PIN code from the storage server S . More specifically the print information obtaining unit sends a print information list request including the PIN code to the storage server . When receiving the print information list request the print information providing unit of the storage server determines that the data identification number of the PIN code is 00 and determines that it is necessary to obtain all sets of print information including the request identification number of the PIN code. The print information providing unit obtains all sets of print information including the request identification number from the print information storage unit see . That is when a PIN code including the data identification number 00 is entered on the login screen the print information providing unit obtains all sets of print information including the user mode G and the request identification number of the PIN code.

Next step S and the subsequent steps are performed based on the print information list obtained at step S.

When the data identification number is not 00 NO at S the print information obtaining unit obtains one or more sets of print information corresponding to the entered PIN code from the storage server S . More specifically the print information obtaining unit sends a print information request including the PIN code to the storage server . When receiving the print information request the print information providing unit of the storage server identifies one or more sets of print information to be obtained from the print information storage unit based on the data identification number of the PIN code.

When the data identification number is 01 the print information providing unit obtains all sets of print information including the request identification number of the PIN code. When the data identification number is 02 the print information providing unit obtains sets of print information that include the request identification number of the PIN code and do not include the data identification number 03 i.e. excluding print information for the mail body . When the data identification number is neither one of 01 and 02 the print information providing unit obtains a set of print information including the data identification number and the request identification number of the PIN code.

The print information obtained at step S preferably includes print data. Also only print data itself may be obtained at step S. Next step S is performed for the print data in the obtained print information. Thus in this case a print job is executed for a print object s specified by the PIN code without performing the steps of displaying a print information list and selecting a print object from the displayed print information list.

As described above the first embodiment makes it possible to give a printing right even to a guest user whose account e.g. a user name and a password is not registered in the authentication server . This in turn reduces the need for a guest user to ask an authorized user to print a document. According to the first embodiment PIN codes are reported to a guest user in response to a print request email. This makes it possible to give a virtual and temporary account to the guest user. With this configuration a guest user can access only print data that is generated in response to a print request email sent from the guest user. Accordingly this configuration makes it possible to prevent a guest user from accessing print data of other guest users.

Also the first embodiment makes it possible to reduce the need to provide an image forming apparatus dedicated to guest users.

According to the first embodiment a guest user can specify a print object with a PIN code. When the data identification number of an entered PIN code is not 00 a print job is immediately executed without performing steps of displaying a print information list and selecting a print object from the displayed print information list. This is because the print object is uniquely identified by the data identification number of the entered PIN code. A guest user who performs printing using a PIN code is typically a visitor to a company. A visitor normally desires to immediately execute a print job corresponding to a print request email during the visit to the company. Also a visitor normally desires to execute a print job for all sets of print information generated in response to a print request email. Accordingly the steps of displaying a print information list and selecting a print object from the print information list may be bothersome for a guest user.

On the other hand when an email body and all sets of attached data are always automatically printed in response to entry of a PIN code it is inflexible and may result in waste of printing paper and toner. That is in some cases a guest user may also desires to limit print objects.

For the above reasons according to the present embodiment a PIN code including a data identification number for identifying a print object s is entered into the image forming apparatus . This configuration makes it possible to limit print objects as well as to immediately execute a print job.

In the present embodiment to make it easier for a user to remember and enter PIN codes the same request identification number is included in all PIN codes assigned to sets of print data generated in response to the same print request email. However different request identification numbers may be used for different sets of print data. Also a PIN code may be composed only of a data identification number. In this case the length of a data identification number is preferably longer than the length of data identification numbers provided as examples in the above descriptions. This is because a PIN code also functions as a security code to protect print data of a guest user. When the number of digits of a PIN code is small the PIN code can be easily identified by other users.

When multiple print request emails are sent from the same guest user multiple response emails including different PIN codes are sent to the user terminal of the guest user. Taking into account such a case the login screen may be configured to accept multiple PIN codes. In this case the print information obtaining unit may be configured to obtain sets of print information corresponding to the PIN codes from the storage server . This configuration eliminates the need to repeat steps such as displaying the login screen and displaying a print information list for each PIN code.

In the present embodiment a user name of a guest user is not identified. Therefore even when a log is recorded for a printing process performed on the image forming apparatus it is difficult to identify a guest user who requested the printing process. For this reason the image forming apparatus may be configured to impose limitations e.g. limiting the number of pages printable disabling color printing etc. on printing of print data corresponding to print information obtained based on a PIN code. This makes it possible to prevent the abuse of anonymity to for example print a large number of pages

An expiration date or time may be set for a PIN code. In this case the PIN code becomes invalid after the expiration date or time .

Also the sender email address of a print request email which is not stored in the user information storage unit may be recorded in a log in place of a user name. Including information such as an email address that can be used to identify a person in a log may function as a psychological deterrent to prevent the abuse of anonymity.

Next a second embodiment is described. Below differences between the first and second embodiments are mainly described. Accordingly configurations and methods of the second embodiment that are not described below may be substantially the same as those of the first embodiment.

In the second embodiment similarly to a cloud service functions of the management server the authentication server and the storage server are provided via the Internet. Accordingly in the second embodiment the user terminal and the email server are connected via the Internet to the management server and the image forming apparatus is connected via the Internet to the authentication server and the storage server .

The storage server further includes a user device information storage unit . The user device information storage unit stores in association with each corporate user identification information device ID of each image forming apparatus installed in the company of the corporate user.

A print data storing process of the second embodiment is substantially the same as the print data storing process described above with reference to except for some steps. At step S the user terminal sends a print request email to an email address of the management server which is assigned to a corporate user where the image forming apparatus to be used for printing is installed or a corporate user to which the image forming apparatus belongs .

The email receiving unit of the management server identifies the email address specified as the destination of the print request email and determines based on the identified email address the corporate user where the image forming apparatus to be used for printing is installed. The email receiving unit refers to the address information storage unit to determine the corporate user.

The company code is identification information assigned to each corporate user. The reception address is an email address of the management server assigned to the corporate user. From the view point of the management server the reception address is an email address or a part of an email address used to receive a print request email sent from the corporate user. In other words the reception address is a destination email address specified in the pint request email.

The email receiving unit stores a company code corresponding to the destination email address of the print request email in for example the memory .

In the print information generation process at step S the print information generating unit generates print information that additionally includes the company code stored in the memory . Accordingly at step S the print information including the company code is sent to the storage server . When receiving the print information the print information reception unit of the storage server stores the received print information in the print information storage unit S .

Thereafter the user who has sent the print request email moves to a location where the image forming apparatus is installed and operates the image forming apparatus . Next an exemplary process performed by the image forming apparatus in response to user operations is described.

A process performed by the image forming apparatus according to the second embodiment is substantially the same as the process described above with reference to except for some steps. At each of steps S S and S the print information obtaining unit sends to the storage server a print information list request or a print information request including a company code and a device ID in addition to a user name or a PIN code. The device ID is identification information of the image forming apparatus and is stored for example in the ROM the NVRAM or the HDD of the image forming apparatus . The company code is identification information of a company corporate user where the image forming apparatus is installed. For example the company code is preset in the image forming apparatus and stored in the NVRAM or the HDD .

Alternatively the device ID may be held by an application installed in the image forming apparatus . In this case the device ID can be used to identify an image forming apparatus where the application is installed. Thus in the present embodiment an identifier of an application installed in an image forming apparatus may be used as a device ID for identifying the image forming apparatus .

The print information providing unit of the storage server determines whether the combination of the company code and the device ID included in specified information specified in the print information list request is stored in the user device information storage unit .

When the combination of the company code and the device ID specified in the print information list request are not stored in the user device information storage unit the print information providing unit does not send a list of print information to the image forming apparatus . This is because the validity of the image forming apparatus sending the print information list request cannot be confirmed. In the present embodiment the image forming apparatus is determined to be valid when the image forming apparatus is installed in the company of an authorized corporate user.

When the combination of the company code and the device ID specified in the print information list request is stored in the user device information storage unit the print information providing unit obtains from the print information storage unit see one or more sets of print information corresponding to the company code and the user name or the PIN code specified in the print information list request. Thus according to the second embodiment the print information providing unit obtains print information that includes in addition to the user name or the PIN code request identification number and a data identification number a company code that is the same as the company code specified in the print information list request. The print information providing unit sends a list of the obtained sets of print information to the image forming apparatus .

When it is not necessary to verify the validity of the image forming apparatus no company code may be specified in the print information list request. In this case the print information providing unit may be configured to identify a company code by referring to the user device information storage unit based on the device ID specified in the print information list request and use the company code to obtain print information from the print information storage unit .

According to the second embodiment as described above different email addresses of the management server are assigned to corporate users. Also a company code is identified based on a print information list request sent from the image forming apparatus and a list of sets of print information including the company code is sent to the image forming apparatus . For example this configuration makes it possible to prevent a problem where print information generated in response to a print request email sent from a user of a company is returned as a print object in response to a print information list request sent from another user of another company having the same user name.

When an email address of an authorized user of a company is specified as a sender email address of a print request email and the correspondence between company codes of companies and email addresses of authorized users of the companies is managed a company code can be identified based on the sender email address of the print request email. Accordingly when the printing system is used only by authorized users it is not necessary to assign email addresses of the management server to respective company users.

However when a sender email address of a print request email is an email address of a guest user which is hereafter referred to as a user X there exists no company code corresponding to the email address. Therefore in this case it is not possible to identify a company code based on the print request email.

When no company code is identified print information including no company code is stored in the storage server and no company code is required to obtain print information corresponding to a print information list request the user X can print the print information print data in any company. In the second embodiment to prevent the above problem different email addresses of the management server are assigned to respective company users a company code is specified in a print information list request and a list of print information including the company code is returned to the image forming apparatus .

The email addresses of the management server assigned to the respective corporate users may be used as company codes. In this case the user device information storage unit may be omitted. Also in this case the email address assigned to a corporate user is included in the corresponding print information stored in the storage server . Also the email address is stored in advance in the image forming apparatus . The image forming apparatus sends a print information list request including the device ID and the email address to the storage server . The storage server returns a list of print information including the email address specified in the print information list request.

Next a third embodiment is described. Below differences from the first and second embodiments are mainly described. Accordingly configurations and methods of the third embodiment that are not described below may be substantially the same as those of the first or second embodiment.

The third embodiment is different from the first and second embodiments in the user authentication process performed at the image forming apparatus .

In the first embodiment a user name and a password or a PIN code is entered via the login screen . In this case the user needs to enter a user name and a password or a PIN code using for example a software keyboard. In the third embodiment to reduce the workload of the user the image forming apparatus includes a non contact card reader. The user uses a portable user terminal including an IC chip similar to that of an IC card. A storage unit of the user terminal stores for example a user name and a password. The user terminal also includes an application that reads the user name and the password from the storage unit and sends them via the card reader to the image forming apparatus when the user terminal is held over the card reader. The authentication control unit of the image forming apparatus performs an authentication process using the user name and the password received via the card reader.

The above configuration enables an authorized user to be authenticated by just holding the user terminal over the image forming apparatus .

When a print request email is sent from the user terminal being used by a guest user a response email including PIN codes is returned to the user terminal and stored in a storage unit of the user terminal . In this case when the user terminal is held over the card reader of the image forming apparatus the application of the user terminal searches the user terminal for an email where a predetermined email address is specified as the sender email address. When such an email is found the application sends PIN codes in the found email via the card reader to the image forming apparatus . The image forming apparatus displays the PIN codes to allow the user to select one of the PIN codes. The print information obtaining unit obtains print information corresponding to the selected PIN code.

With the above configuration a guest user can request the image forming apparatus to execute a print job based on print information corresponding to a PIN code by holding the user terminal over the card reader of the image forming apparatus .

The above embodiments are described using a printing system including the image forming apparatus for printing print data. However the present invention may also be applied to a system including a different type of output device such as a projector for projecting image data or a display device for displaying image data. In this case print object data is replaced with output object data to be output from a projector or a display device.

Also in the above embodiments an email is used to send print object data. However any communication means other than email may be used to send print object data to the management server . In this case the management server receives print object data or print object data and a user name from the user terminal . When the user name is not stored in the user information storage unit or when no user name is received the management server generates PIN codes and sends the PIN codes to the user terminal .

When company codes are used as in the second embodiment the management server receives a company code in addition to print object data or print object data and a user name from the user terminal . When no company code is received or the received company code is not stored in the management server the management server sends to the user terminal a message indicating that printing of print object data is not allowed. When the company code is stored in the management server but the user name is not stored in the user information storage unit or no user name is received the management server generates PIN codes and sends the PIN codes to the user terminal .

In the above embodiments the management server and the storage server may be implemented by one computer. Also the management server the storage server and the authentication server may be implemented by one computer. Further the functions of the management server the storage server and the authentication server may be provided by the image forming apparatus .

Conversely each of the management server the storage server and the authentication server may be implemented by multiple computers.

In the above embodiments print data is generated by the management server . However print data of electronic data attached to a print request email may be generated any one of the user terminal the management server the storage server and the image forming apparatus .

The service providing system is a computer system that provides a cloud service via a network. Although a cloud service is used as an example in the present embodiment the present embodiment may also be applied to any other type of service provided via a network such as a service provided by an application service provider ASP or a Web service.

The service providing system may include an access control apparatus a print service providing apparatus a service A providing apparatus a service B providing apparatus a common service providing apparatus and a database apparatus . These apparatuses may be implemented by separate computers or by one computer.

The access control apparatus controls access from the outside to the computers in the service providing system and controls distribution of loads among the computers.

The print service providing apparatus indicates one or more computers for controlling a process to provide a cloud print service. In the cloud print service print data is uploaded into a cloud environment in the present embodiment the service providing system so that the uploaded print data can be printed using an image forming apparatus when necessary.

The service A providing apparatus and the service B providing apparatus are examples of computers that provide services other than the cloud print service.

The common service providing apparatus is implemented by one or more computers and includes functions that are common to apparatuses e.g. the print service providing apparatus the service A providing apparatus and the service B providing apparatus that directly provide specific services via a network or functions called from multiple apparatuses.

The database apparatus is implemented by one or more computers or storage devices and functions as various storage units.

The user environment E is a system environment in an organization such as a company that is a user of the service providing system . As illustrated by the user environment E includes an image forming apparatus an image projector a mobile terminal an output apparatus and a user terminal . The apparatuses in the user environment E are connected to each other via a network either wired or wireless such as a local area network LAN .

The image projector projects image data. The mobile terminal may be for example a personal digital assistant PDA a tablet terminal a smartphone or a cell phone. The output apparatus is any other type of output apparatus.

The user environment E may also include a firewall F. The firewall F may be implemented by a known firewall. The firewall for example blocks requests from the outside of the user environment E.

The service providing system may also be accessible from an environment other than the user environment E. For example it is possible to access the service providing system via the Internet from a mobile terminal and a PC . The mobile terminal and the PC may be included in the user environment E.

The application layer L includes server applications that collaborate with apparatuses such as the image forming apparatus . In the example of the application layer L includes server applications such as a print service application a service A application and a service B application

The print service application is a server application related to the cloud print service. In the present embodiment the print service application is installed in the print service providing apparatus . The service A application and the service B application are examples of other server applications. In the present embodiment the service A application and the service B application are installed in the service A providing apparatus and the service B providing apparatus respectively.

The common service layer L includes functions that are common to multiple server applications or basic functions called from multiple server applications and is provided in the common service providing apparatus . The functions of the common service layer L can be called via a platform application programming interface API . The platform AIP is called basically from the server applications in the application layer L. The platform API may be made public to third vendors other than the operator company of the service providing system . In this case server applications may be provided by third vendors. Thus server applications may be developed using the platform API and added to the service providing system .

In the example of the common service layer L includes a user authentication unit an apparatus authentication unit a management information obtaining unit an email obtaining unit an apparatus communication unit a PIN code issuing unit a PIN code management unit and a data conversion unit .

The user authentication unit performs user authentication. The apparatus authentication unit performs authentication based on the relationship between the image forming apparatus a user and an organization. An organization indicates for example a company in the above embodiments and any other type of group. In the fourth embodiment identification information corresponding to a company code in the second embodiment is referred to as an organization code . The authentication based on the relationship between the image forming apparatus a user and an organization includes a process of determining whether the user and the image forming apparatus belong to the organization.

The management information obtaining unit for example obtains information stored in the database layer L in response to a request from the application layer L. The email obtaining unit obtains or receives emails stored in the email server according to a protocol such as the Post Office Protocol POP . The apparatus communication unit communicates with various apparatuses. The PIN code issuing unit issues or generates PIN codes. The PIN code management unit manages the correspondence between request identification numbers of PIN codes and organization codes. The data conversion unit converts formats of data. In the present embodiment the data conversion unit generates print data based on print object data.

The server applications in the application layer L and the units in the common service layer L are implemented for example by executing one or more programs installed in the computers constituting the service providing system by processors of the computers.

The database layer L includes databases storage units storing various types of information and is implemented by the database apparatus . In the example of the database layer L includes an address information storage unit a user device information storage unit a user information storage unit and a print information storage unit .

The address information storage unit has a configuration that is substantially the same as the configuration of the address information storage unit see . The user device information storage unit has a configuration that is substantially the same as the configuration of the user device information storage unit see . The user information storage unit has a configuration that is similar to but is slightly different from the configuration of the user information storage unit see . The difference between the user information storage unit and the user information storage unit is described later. The print information storage unit has a configuration that is substantially the same as the configuration of the print information storage unit see .

The classification of and the hierarchical relationship among the software components or functional units and the storage units of the service providing system illustrated by are just examples and such classification and a hierarchical relationship are not essential to implement the present embodiment. That is as long as the service providing system can perform processes as described in the present embodiment the classification of and the hierarchical relationship among the software components and the storage units of the service providing system may be determined freely.

As illustrated by the user terminal may include a Web browser and an email transmission unit . The Web browser may be implemented by any known Web browser. The email transmission unit sends emails. In the present embodiment the email transmission unit sends print request emails. The email transmission unit may be implemented by executing a program called a mailer by the user terminal .

As illustrated by the print service application may include an email analysis unit an organization code identification unit a user name identification unit a print information generating unit a response email generating unit an email transmission unit and a print information providing unit .

The email analysis unit analyzes a print request email to extract information such as print object data from the print request email. The organization code identification unit identifies an organization code corresponding to a destination email address of a print request email. The user name identification unit identifies a user name corresponding to a sender source email address of a print request email. The functions of the print information generating unit the response email generating unit the email transmission unit and the print information providing unit are substantially the same as the functions of the print information generating unit the response email generating unit the email transmission unit and the print information providing unit of .

At step S in response to an instruction from the user the email transmission unit of the user terminal sends a print request email to an email address assigned to an organization to which the user belongs. Contents of the print request email are substantially the same as those described in the above embodiments.

Next the email obtaining unit of the service providing system obtains the print request email from the email server S . Next the email analysis unit of the print service application extracts print object data from the print request email S . Next the organization code identification unit of the print service application identifies an organization code for the print request email by referring to the address information storage unit based on a destination email address of the print request email S . That is the organization code identification unit obtains an organization code stored in the address information storage unit in association with the destination email address. The address information storage unit of the fourth embodiment may have a configuration that is substantially the same as the configuration of the address information storage unit see except that company code in the address information storage unit is replaced with organization code .

Next the user name identification unit of the print service application determines whether a user name is identifiable based on a sender email address of the print request email S . More specifically the user name identification unit determines whether the sender email address is stored in the user information storage unit in association with the organization code which is hereafter referred to as a target organization code identified at step S.

The role is information indicating whether a user is an administrator or an end user user in . The administrator is a person who manages apparatuses such as the image forming apparatus that collaborate with the service providing system . For example the administrator performs operations to enable the image forming apparatus to collaborate with the service providing system . The end user user uses services provided by the service providing system .

At step S the user name identification unit determines whether user information including the organization code and the sender email address exists in the user information storage unit . When such user information exists a user name which is hereafter referred to as a target user name in the user information is identified.

When a target user name is identified YES at S the data conversion unit of the service providing system generates print data for the print object data S . When the print object data is in a format that can be printed without conversion step S may be omitted.

Next the print information generating unit generates print information S . The print information includes a job name the target organization code the target user name and the print data. The print information generating unit stores the generated print information in the print information storage unit .

Next the response email generating unit of the print service application generates a response email S . In this case the response email includes for example the job name. The email transmission unit sends the response email to the sender email address of the print request email S .

On the other hand when no user name is identified at step S NO at S the PIN code issuing unit of the service providing system generates a PIN code S . Step S may be substantially the same as step S of . Steps S through S are substantially the same as steps S through S. However print information generated at step S includes the job name the organization code the PIN code a data identification number and a request identification number the print data and a date and time. Also at step S a response email including the PIN code as illustrated in and the job name is generated.

Next an exemplary process of registering print information via the Web browser of the user terminal is described. In the fourth embodiment it is possible to register print information using communication means other than a print request email.

A user can log into the service providing system by entering login information in one of two patterns. In a first pattern an organization code a user name and a password are entered on the login screen . In a second pattern an organization code and a request identification number are entered on the login screen . In the case of the second pattern the user needs to obtain a request identification number in advance. When the issue number button is pressed a request identification number is issued. A process performed when the issue number button is described later.

When the OK button of the login screen is pressed the Web browser determines whether an organization code a user name and a password are entered on the login screen S . Here the Web browser performs processes based on definitions in a Web page e.g. hypertext markup language HTML data for displaying the login screen .

When an organization code a user name and a password are entered on the login screen YES at S the Web browser requests the service providing system to perform authentication based on the organization code the user name and the password S . That is the Web browser sends the organization code the user name and the password to the user authentication unit . The user authentication unit performs authentication based on whether the combination of the organization code the user name and the password is stored in the user information storage unit .

When the authentication is successful and login is allowed YES at S the Web browser displays a data entry screen S . The data entry screen allows the user to select one or more files to be printed from files stored in the user terminal . When files are selected via the data entry screen the Web browser transfers data stored in the files to the service providing system S .

When the data is received at the service providing system steps similar to steps S and S of are performed S S . As a result print information including print data generated based on the received data is stored in the print information storage unit .

On the other hand when an organization code a user name and a password are not entered on the login screen NO at S the Web browser determines whether an organization code and a request identification number are entered S . When an organization code and a request identification number are entered YES at S the Web browser requests the service providing system to perform authentication based on the organization code and the request identification number S . The user authentication unit performs authentication based on whether the combination of the organization code and the request identification number is registered in the service providing system .

When the authentication is successful and login is allowed YES at S the Web browser performs steps S through S. In this case at step S a data identification number is generated for each set of print data generated based on the transferred data. Also in this case a process similar to step S of is performed at step S. As a result print information including the organization code the request identification number and the data identification number is stored in the print information storage unit .

When the login information is entered on the login screen in neither the first nor the second pattern NO at S or the login has failed NO at S the Web browser displays an error screen S . In this case print information is not registered.

Next a process of issuing a PIN code via a Web interface is described below. The process is performed before authentication based on an organization code is performed.

At step S the Web browser receives a request to issue a request identification number. The Web browser receives the request to issue a request identification number when the issue number button is pressed after an organization code is entered on the login screen . The Web browser may be configured to display a response address specification screen as illustrated by when the issue number button is pressed.

The address input field is used to enter an email address which is hereafter referred to as a response address to be specified as a destination of an email including a request identification number to be issued. The check button is used to select whether to receive a request identification number via an email. When the check button is selected an email address can be entered in the address input field .

When the OK button is pressed the Web browser sends a request identification number issuance request including the organization code entered on the login screen to the service providing system . When a response address is entered on the response address specification screen the request identification number issuance request also includes the response address.

Next the PIN code issuing unit of the service providing system generates a request identification number S . The generated request identification number is managed by the PIN code management unit in association with the organization code included in the request identification number issuance request. For example the PIN code management unit manages the correspondence between organization codes and request identification numbers using a request identification number management table as illustrated by .

The PIN code management unit performs different steps depending on whether a response address is specified in the request identification number issuance request S . When a response address is specified YES at S the PIN code management unit sends an email including the generated request identification number to the response address S . When no response address is specified NO at S the PIN code management unit sends a response including a Web page for displaying the generated request identification number to the Web browser S .

In either case the user can obtain the request identification number. With the obtained request identification number the user enters login information in the second pattern described above with reference to .

An exemplary process of registering print information and issuing a PIN code using a print request email is described in more detail with reference to .

At step S the email transmission unit of the user terminal sends a print request email to an email address assigned to an organization to which the user belongs. The print request email is transferred to the email server according to for example the Simple Mail Transfer Protocol SMTP .

The email obtaining unit of the service providing system obtains the print request email stored in the email server according to for example the Post Office Protocol POP S S . Next the email obtaining unit transfers the print request email to the print service application S . The email analysis unit of the print service application extracts print object data from the print request email S .

The organization code identification unit of the print service application requests the management information obtaining unit to obtain an organization code corresponding to the destination email address of the print request email S . The management information obtaining unit obtains an organization code stored in the address information storage unit see in association with the destination email address S and sends the organization code which is hereafter referred to as a target organization code to the organization code identification unit S .

The user name identification unit of the print service application requests the management information obtaining unit to obtain a user name corresponding to the sender email address of the print request email S . The management information obtaining unit attempts to obtain a user name stored in the user information storage unit see in association with the sender email address S . Here it is assumed that no user name is obtained. Accordingly the management information obtaining unit sends a response indicating that no user name has been found to the user name identification unit S .

Because no user name has been identified the user name identification unit sends a PIN code issuance request including the target organization code to request the PIN code issuing unit to issue a PIN codes for each of the email body and one or more sets of attached data of the print request email S . The PIN code issuance request may also include information indicating the number of sets of attached data or identification information of each set of attached data. The PIN code issuing unit generates for the email body and sets of attached data of the print request email PIN codes including the same request identification number and different data identification numbers S and sends the request identification number and the target organization code to the PIN code management unit S . The PIN code management unit registers the target organization code and the request identification number in association with each other in the request identification number management table see S . Also the PIN code issuing unit sends a response including the generated PIN codes to the user name identification unit S .

Next the print information generating unit requests the data conversion unit to convert the print target data including the email body and one or more sets of attached data into print data S . The data conversion unit generates one or more sets of print data based on the print target data and stores the generated print data in a secondary storage S . The data conversion unit assigns identification information data ID to each set of generated print data. In the fourth embodiment the data ID is used as a job name. Then the data conversion unit sends to the print information generating unit a response including job names and path names of files where the sets of print data are stored S .

The print information generating unit generates for each set of print data print information that includes the job name the target organization code the data identification number the request identification number the path name of the file storing the print data and the date and time S . In this case the user mode G is specified in the print information.

Next the response email generating unit of the print service application generates a response email including the job names and the PIN codes S . The email transmission unit sends the response email to the sender email address of the print request email S .

At step S in response to entry of information on the login screen and the response address specification screen the Web browser of the user terminal sends a request identification number issuance request including an organization code to the service providing system .

In response to the request identification number issuance request the PIN code management unit obtains a substitute account from a substitute account management table S . A substitute account is an account used in place of an authentic account a user name and a password assigned to a user. A user typically a guest user who requests issuance of a request identification number does not normally have an account. Therefore such a user cannot be authenticated by the user authentication unit and cannot log into the service providing system . A substitute account is used for such a user who does not have an account.

Alternatively a user name and a password of an administrator of each organization may be used as a substitute account.

The PIN code management unit sends an authentication request including the user name and the password of the substitute account and the organization code to the user authentication unit S . The user authentication unit performs authentication by referring to the user information storage unit based on the organization code the user name and the password S . Next the user authentication unit sends the authentication result to the PIN code management unit S .

When the authentication is successful the PIN code management unit requests the PIN code issuing unit to issue a request identification number S . The PIN code issuing unit generates a request identification number S and sends the generated request identification number to the PIN code management unit S . The PIN code management unit registers the target organization code and the request identification number in association with each other in the request identification number management table see S . Then the PIN code management unit sends a response including the request identification number to for example the user terminal S . The response may be sent via an email or a Web page. When an email is used an email including the request identification number is sent to a response address specified in the request identification number issuance request. In this case the email can also be received by a terminal other than the user terminal .

The user can log into the service providing system using the request identification number. The user enters the organization code and the request identification number on the login screen see displayed by the Web browser and presses the OK button . When the OK button is pressed the Web browser sends a login request login request based on the request identification number including the organization code and the request identification number entered on the login screen to the service providing system S . When the request identification number is unique across organizations only the request identification number may be specified in the login request. In this case information identified based on the combination of the organization code and the request identification number in the subsequent steps may be identified based only on a PIN code.

The PIN code management unit of the service providing system performs authentication based on the organization code and the request identification number specified in the login request S . More specifically the PIN code management unit determines whether the combination of the organization code and the request identification number is registered in the request identification number management table. When the combination of the organization code and the request identification number is registered in the request identification number management table the PIN code management unit determines that the authentication is successful. When the combination of the organization code and the request identification number is not registered in the request identification number management table the PIN code management unit determines that the authentication has failed.

When the authentication based on the request identification number is successful authentication based on the substitute account is performed in a manner similar to steps S through S S through S . When the authentication based on the substitute account is successful it indicates the login process is successful. The PIN code management unit sends the organization code and the request identification number used for the successful login process to the print service application S .

The print service application sends a Web page for displaying a data entry screen as a response to the login request based on the request identification number to the user terminal S . The Web browser of the user terminal displays the data entry screen based on the Web page.

When one or more files are selected at the user terminal via the data entry screen the Web browser sends data stored in the files to the print service application S . Then print data is generated for the data through steps similar to steps S through S of S through S .

Next the print information generating unit of the print service application requests the PIN code issuing unit to issue a data identification number for each set of generated print data S . In response to the request the PIN code issuing unit generates PIN codes including the request identification number for respective sets of print data S . Then the PIN code issuing unit sends the generated PIN codes to the print information generating unit S . The print information generating unit generates for each set of print data print information that includes a path name of the print data a job name of the print data the organization code the request identification number the data identification number of the print data the date and time and the user mode G and stores the print information in the print information storage unit S through S .

In steps S through S represent a process performed when a normal login login based on an organization code a device ID a user name and a password is requested on the image forming apparatus . On the other hand steps S through S represent a process performed when a PIN code login login based on an organization code a device ID and a PIN code is requested on the image forming apparatus

When a user name and a password are entered on the login screen see displayed on the operations panel of the image forming apparatus and the OK button is pressed the authentication control unit sends a login request to the service providing system S . The login request includes an organization ID a device ID the user name and the password. The organization code and the device ID may be stored in advance in for example the HDD of the image forming apparatus . Alternatively the organization code may be entered via the login screen . In this case the login screen additionally includes an entry field for entering an organization code.

When the login request is received at the service providing system the apparatus authentication unit performs authentication S . The apparatus authentication unit determines that the authentication is successful when two conditions described below are satisfied. A first condition requires that the combination of the organization code and the device ID specified in the login request is stored in the user device information storage unit see . A second condition requires that the combination of the organization code target organization code the user name target user name and the password specified in the login request is stored in the user information storage unit see .

When the authentication is successful the apparatus authentication unit sends a print information list request including the target organization code and the target user name to the print service application S . The print information list request also includes the authentication result of step S in addition to the target organization code and the target user name.

The print information providing unit of the print service application obtains a list of sets of print information print information list including the target organization code and the target user name from the print information storage unit S . The print information obtained at step S preferably does not include print data. Next the print information providing unit sends a login result indicating that the login is successful and the obtained print information list to the image forming apparatus S .

The print information obtaining unit of the image forming apparatus displays on the operations panel a list of for example job names included in the print information list S . When the user selects at least one job name from the displayed list the print information obtaining unit sends a print data request including the selected job name to the print service application S . When receiving the print data request the print information providing unit of the print service application obtains print data corresponding to the job name specified in the print data request from the print information storage unit S . Next the print information providing unit sends the obtained print data to the image forming apparatus S .

Then the print control unit of the image forming apparatus controls execution of a print job for the obtained print data S . As a result the print data is printed on a recording medium such as paper and the recording medium is output from the image forming apparatus

When a PIN code is entered on the login screen see displayed on the operations panel of the image forming apparatus and the OK button is pressed the authentication control unit sends a login request to the service providing system S . The login request includes the organization ID the device ID and the PIN code.

Next steps similar to steps S through S of are performed S through S . After step S the PIN code management unit sends a print data request including the organization code and the PIN code used for the successful login process to the print service application S .

When receiving the print data request the print information providing unit of the print service application obtains print data corresponding to the organization code and the PIN code specified in the print data request from the print information storage unit S . More specifically the print information providing unit obtains print data corresponding to the organization code and a data identification number of the PIN code. In this exemplary process it is assumed that the data identification number of the PIN code entered at step S is not 00 . The print information providing unit sends the obtained print data to the image forming apparatus S .

Then the print control unit of the image forming apparatus controls execution of a print job for the obtained print data S . As a result the print data is printed on a recording medium such as paper and the recording medium is output from the image forming apparatus

In the above embodiments a system including the management server the authentication server and the storage server is an example of an information processing system. Also the service providing system is an example of an information processing system. Print object data and print data are examples of output data. The above embodiments may also be applied to apparatuses for outputting data other than print data. Each of the email receiving unit and the email obtaining unit is an example of an output data receiving unit. Each of the address confirmation unit and the user name identification unit is an example of an identification unit. A user name is an example of a user identifier. Data identification numbers other than 01 and 02 are examples of individual identifiers. Data identification numbers 01 and 02 are examples of group identifiers. A request identification number is an example of a common identifier. Each of the print information generating unit and the print information generating unit is an example of a storage processing unit. Each of the email transmission unit the email transmission unit and the PIN code management unit is an example of a reporting unit. Each of the print information providing unit and the print information providing unit is an example of a transmission unit. Each of the user information storage unit and the user information storage unit is an example of a user information storage unit. Each of the print information storage unit and the print information storage unit is an example of a data storage unit. Each of a print request email and print object data included in a print request email is an example of email data. The request identification number management table is an example of an identification information storage unit. The PIN code management unit is an example of a first reception unit and a second reception unit. The user authentication unit is an example of a third reception unit.

An aspect of this disclosure provides an information processing system an information processing method and an information processing apparatus that make it possible to give a right to output data even to a user who does not have a necessary account.

An information processing system an information processing method and an information processing apparatus according to the embodiments of the present invention are described above. However the present invention is not limited to the specifically disclosed embodiments and variations and modifications may be made without departing from the scope of the present invention.

The present invention can be implemented in any convenient form for example using dedicated hardware or a mixture of dedicated hardware and software. The present invention may be implemented as computer software implemented by one or more networked processing apparatuses. The network can comprise any conventional terrestrial or wireless communications network such as the Internet. The processing apparatuses can comprise any suitably programmed apparatuses such as a general purpose computer personal digital assistant mobile telephone such as a WAP or 3G compliant phone and so on. Since the present invention can be implemented as software each and every aspect of the present invention thus encompasses computer software implementable on a programmable device. The computer software can be provided to the programmable device using any storage medium for storing processor readable code such as a floppy disk hard disk CD ROM magnetic tape device or solid state memory device. 

