---

title: Overlaying text in images for display to a user of a digital magazine
abstract: A digital magazine server presents content retrieved from various sources to a user. The content may include various images, with images selected by the digital magazine server for presentation to a user along with additional content. Text associated with an image may also be retrieved and presented to the user along with the image. To improve presentation of images with text, the digital magazine server identifies features in an image and identifies regions of the image where text is capable of being presented without obscuring or being obscured by features of the image. The image is modified to present text associated with the image in one or more of the identified images, allowing the text to be presented without detracting from features of the image.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09483855&OS=09483855&RS=09483855
owner: Flipboard, Inc.
number: 09483855
owner_city: Palo Alto
owner_country: US
publication_date: 20140114
---
This application claims the benefit of U.S. Provisional Patent Application No. 61 752 951 filed on Jan. 15 2013 which is incorporated by reference herein in its entirety.

This invention generally relates to presenting images in a digital magazine and more specifically to overlaying text to images presented to a user via a digital magazine.

A digital magazine server provides digital content to its users as a digital magazine including various pages each including content items arranged in positions relative to each other. Frequently digital content provided by the digital magazine server to its users includes images and text associated with the images. To increase the number of content items presented in a page of the digital magazine a digital magazine server often includes text providing additional information about an image in the image itself. However conventional methods of including text in an image often result in the text being illegible or obscuring objects in the image likely to be of interest to a user.

A digital magazine server retrieves content from one or more sources and generates a personalized customizable digital magazine for a user based on the retrieved content. The digital magazine server organizes content items having at least one common characteristic into various sections based on page templates describing the relative positioning of content items to each other. Content items are presented to the user according to the sections.

The retrieved content items may be associated with images or include images and the digital magazine server selects images for presentation to the user. Text associated with an image is also identified and presented as part of the image or in conjunction with the image. However presenting text in an image may cause portions of the text to appear illegible because of objects or features of the image or may obscure portions of the image. To improve presentation of images with text to users via a digital magazine the digital magazine server identifies features in an image and identifies regions in an image capable of presenting text that do not obscure the identified features.

The digital magazine server selects text associated with an image for presentation in one or more of the identified regions capable of presenting text. For example an image template including regions capable of presenting text in similar locations to locations of the identified regions capable of presenting text. One or more regions in the image template capable of presenting text are selected and the image is modified to include text associated with the image in the selected regions of the image capable of presenting text. The modified image is then stored by the digital magazine server or presented to a user in a section of the digital magazine.

The figures depict various embodiments of the present invention for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.

A digital magazine server retrieves content from one or more sources and generates a personalized customizable digital magazine for a user based on the retrieved content. The generated digital magazine is retrieved by a digital magazine application executing on a computing device such as a mobile communication device tablet computer or any other suitable computing system and presented to the user. For example based on selections made by the user and or on behalf of the user the digital server application generates a digital magazine including one or more sections including content items retrieved from a number of sources and personalized for the user. The generated digital magazine allows the user to more easily consume content that interests and inspires the user by presenting content items in an easily navigable interface via a computing device.

The digital magazine may be organized into a number of sections that each include content having a common characteristic e.g. content obtained from a particular source . For example a section of the digital magazine includes articles from an online news source such as a website for a news organization another section includes articles from a third party curated collection of content associated with a particular topic e.g. a technology compilation and an additional section includes content obtained from one or more accounts associated with the user and maintained by one or more social networking systems. For purposes of illustration content included in a section is referred to herein as content items or articles which may include textual articles pictures videos products for sale user generated content e.g. content posted on a social networking system advertisements and any other types of content capable of display within the context of a digital magazine.

A source is a computing system capable of providing various types of content to a client device . Examples of content provided by a source include text images video or audio on web pages web feeds social networking information messages or other suitable data. Additional examples of content include user generated content such as blogs tweets shared images video or audio social networking posts and social networking status updates. Content provided by a source may be received from a publisher e.g. stories about news events product information entertainment or educational material and distributed by the source or a source may be a publisher of content it generates. For convenience content from a source regardless of its composition may be referred to herein as an article a content item or as content. A content item may include various types of content such as text images and video.

The sources communicate with the client device and the digital magazine server via the network which may comprise any combination of local area and or wide area networks using both wired and or wireless communication systems. In one embodiment the network uses standard communications technologies and or protocols. For example the network includes communication links using technologies such as Ethernet 802.11 worldwide interoperability for microwave access WiMAX 3G 4G code division multiple access CDMA digital subscriber line DSL etc. Examples of networking protocols used for communicating via the network include multiprotocol label switching MPLS transmission control protocol Internet protocol TCP IP hypertext transport protocol HTTP simple mail transfer protocol SMTP and file transfer protocol FTP . Data exchanged over the network may be represented using any suitable format such as hypertext markup language HTML or extensible markup language XML . In some embodiments all or some of the communication links of the network may be encrypted using any suitable technique or techniques.

The client device is one or more computing devices capable of receiving user input as well as transmitting and or receiving data via the network . In one embodiment the client device is a conventional computer system such as a desktop or a laptop computer. Alternatively the client device may be a device having computer functionality such as a personal digital assistant PDA a mobile telephone a smartphone or another suitable device. In one embodiment the client device executes an application allowing a user of the client device to interact with the digital magazine server . For example an application executing on the client device communicates instructions or requests for content items to the digital magazine server to modify content presented to a user of the client device . As another example the client device executes a browser that receives pages from the digital magazine server and presents the pages to a user of the client device . In another embodiment the client device interacts with the digital magazine server through an application programming interface API running on a native operating system of the client device such as IOS or ANDROID . While shows a single client device in various embodiments any number of client devices may communicate with the digital magazine server .

A display device included in the client device presents content items to a user of the client device . Examples of the display device include a liquid crystal display LCD an organic light emitting diode OLED display an active matrix liquid crystal display AMLCD or any other suitable device. Different client devices may have display devices with different characteristics. For example different client devices have display devices with different display areas different resolutions or differences in other characteristics.

One or more input devices included in the client device receive input from the user. Different input devices may be included in the client device . For example the client device includes a touch sensitive display for receiving input data commands or information from a user. Using a touch sensitive display allows the client device to combine the display device and an input device simplifying user interaction with presented content items. In other embodiments the client device may include a keyboard a trackpad a mouse or any other device capable of receiving input from a user. In another example the input device is configured to receive information from a user of the client device through a touchless interface. Examples of a touchless interface include sensors such as an image capture device to receive gestures from a client device user without the user physically contacting the display device or the client device . Additionally the client device may include multiple input devices in some embodiments. Inputs received via the input device may be processed by a digital magazine application associated with the digital magazine server and executing on the client device to allow a client device user to interact with content items presented by the digital magazine server .

The digital magazine server receives content items from one or more sources generates pages in a digital magazine by processing the received content and provides the pages to the client device . As further described below in conjunction with the digital magazine server generates one or more pages for presentation to a user based on content items obtained from one or more sources and information describing organization and presentation of content items. For example the digital magazine server determines a page layout specifying positioning of content items relative to each other based on information associated with a user and generates a page including the content items arranged according to the determined layout for presentation to the user via the client device . This allows the user to access content items via the client device in a format that enhances the user s interaction with and consumption of the content items. For example the digital magazine server provides a user with content items in a format similar to the format used by print magazines. By presenting content items in a format similar to a print magazine the digital magazine server allows a user to interact with content items from multiple sources via the client device with less inconvenience from horizontally or vertically scrolling to access various content items.

Each user of the digital magazine server is associated with a user profile which is stored in the user profile store . A user profile includes declarative information about the user that was explicitly shared by the user and may also include profile information inferred by the digital magazine server . In one embodiment a user profile includes multiple data fields each describing one or more attributes of the corresponding social networking system user. Examples of information stored in a user profile include biographic demographic and other types of descriptive information such as gender hobbies or preferences location or other suitable information. A user profile in the user profile store also includes data describing interactions by a corresponding user with content items presented by the digital magazine server . For example a user profile includes a content item identifier a description of an interaction with the content item corresponding to the content item identifier and a time when the interaction occurred.

While user profiles in the user profile store are frequently associated with individuals allowing individuals to provide and receive content items via the digital magazine server user profiles may also be stored for entities such as businesses or organizations. This allows an entity to provide or access content items via the digital magazine server . An entity may post information about itself about its products or provide other content items associated with the entity to users of the digital magazine server . For example users of the digital magazine server may receive a digital magazine or section including content items associated with an entity via the digital magazine server .

The template store includes page templates each describing a spatial arrangement layout of content items relative to each other on a page for presentation by a client device . A page template includes one or more slots each configured to present one or more content items. In some embodiments slots in a page template may be configured to present a particular type of content item or to present a content item having one or more specified characteristics. For example a slot in a page template is configured to present an image while another slot in the page template is configured to present text data. Each slot has a size e.g. small medium or large and an aspect ratio. One or more page templates may be associated with types of client devices allowing content items to be presented in different relative locations and with different sizes when the content items are viewed using different client devices . Additionally page templates may be associated with sources allowing a source to specify the format of pages presenting content items received from the source . For example an online retailer is associated with a page template to allow the online retailer to present content items via the digital magazine server with a specific organization. Examples of page templates are further described in U.S. patent application Ser. No. 13 187 840 filed on Jul. 21 2011 which is hereby incorporated by reference in its entirety.

The content store stores objects that each represent various types of content. For example the content store stores content items received from one or more sources within a threshold time of a current time. Examples of content items stored by the content store include a page post a status update a photograph a video a link an article video data audio data a check in event at a location or any other type of content. A user may specify a section including content items having a common characteristic and the common characteristic is stored in the content store along with an association with the user profile or the user specifying the section.

The layout engine retrieves content items from one or more sources or from the content store and generates a page including the content items based on a page template from the template store . Based on the retrieved content items the layout engine may identify candidate page templates from the template store score the candidate page templates based on characteristics of the slots in different candidate page templates and based on characteristics of the content items. Based on the scores associated with candidate page templates the layout engine selects a page template and associates the retrieved content items with one or more slots to generate a page where the retrieved content items are presented relative to each other and sized based on their associated slots. When associating a content item with a slot the layout engine may associate the content item with a slot configured to present a specific type of content item or to present content items having one or more specified characteristics. An example of using a page template to present content items is further described in U.S. patent application Ser. No. 13 187 840 filed on Jul. 21 2011 which is hereby incorporated by reference in its entirety.

In some embodiments the layout engine modifies an image retrieved from the content store or from one or more sources to improve presentation of text in conjunction with the image. For example the layout engine modifies the retrieved image to include text associated with the image. As further described below in conjunction with the layout engine identifies features of the image and identifies regions of the image capable of presenting text. A region of the image capable of presenting text is a region that is at least a threshold distance from one or more features of the image so the text does not obscure a feature of the image. The image is modified to include text in one or more of the regions capable of presenting text and the modified image is presented to a user of the digital magazine server allowing additional information to be presented along with the image while increasing the amount of display area available to display additional content items.

The connection generator monitors interactions between users and content items presented by the digital magazine server . Based on the interactions the connection generator determines connections between various content items connections between users and content items or connections between users of the digital magazine server . For example the connection generator identifies when users of the digital magazine server provide feedback about a content item access a content item share a content item with other users or perform other actions with content items. In some embodiments the connection generator retrieves data describing user interaction with content items from the user s user profile in the user profile store . Alternatively user interactions with content items are communicated to the connection generator when the interactions are received by the digital magazine server . The connection generator may account for temporal information associated with user interactions with content items. For example the connection generator identifies user interactions with a content item within a specified time interval or applies a decay factor to identified user interactions based on times associated with interactions. The connection generator generates a connection between a user and a content item if the user s interactions with the content item satisfy one or more criteria. In one embodiment the connection generator determines one or more weights specifying a strength of the connection between the user and the content item based on user interactions with the content item that satisfy one or more criteria. Generation of connections between a user and a content item is further described in U.S. patent application Ser. No. 13 905 016 filed on May 29 2013 which is hereby incorporated by reference in its entirety.

If multiple content items are connected to a user the connection generator establishes implicit connections between each of the content items connected to the user. In one embodiment the connection generator maintains a user content graph identifying the implicit connections between content items connected to a user. In one embodiment weights associated with connections between a user and content items are used to determine weights associated with various implicit connections between content items. User content graphs for multiple users of the digital magazine server are combined to generate a global content graph describing connections between various content items provided by the digital magazine server based on user interactions with various content items. For example the global content graph is generated by combining user content graphs based on mutual connections between various content items in user content graphs.

In one embodiment the connection generator generates an adjacency matrix from the global content graph or from multiple user content graphs and stores the adjacency matrix in the connection store . The adjacency matrix describes connections between content items. For example the adjacency matrix includes identifiers of content items and weights representing the strength or closeness of connections between content items based on the global content graph. As an example the weights indicate a degree of similarity in subject matter or similarity of other characteristics associated with various content items. In other embodiments the connection store includes various adjacency matrices determined from various user content graphs the adjacency matrices may be analyzed to generate an overall adjacency matrix for content items provided by the digital magazine server . Graph analysis techniques may be applied to the adjacency matrix to rank content items to recommend content items to a user or to otherwise analyze relationships between content items. An example of the adjacency matrix is further described in U.S. patent application Ser. No. 13 905 016 filed on May 29 2013 which is hereby incorporated by reference in its entirety.

In addition to identifying connections between content items the connection generator may also determine a social proximity between users of the digital magazine server based on interactions between users and content items. The digital magazine server determines social proximity or social distance between users using a variety of techniques. For example the digital magazine server analyzes additional users connected to each of two users of the digital magazine server within a social networking system to determine the social proximity of the two users. In another example the digital magazine server determines social proximity between a first and a second user by analyzing the first user s interactions with content items posted by the second user whether the content item is posted using the digital magazine server or on another social networking system. Additional examples for determining social proximity between users of the digital magazine server are described in U.S. patent application Ser. No. 13 905 016 filed on May 29 2013 which is incorporated by reference in its entirety. In one embodiment the connection generator determines a connection confidence value between a user and an additional user of the digital magazine server based on the user s and the additional user s common interactions with particular content items. The connection confidence value may be a numerical score representing a measure of closeness between the user and the additional user. For example a larger connection confidence value indicates a greater similarity between the user and the additional user. In one embodiment if a user has at least a threshold connection confidence value with another user the digital magazine server stores a connection between the user and the additional user in the connection store .

Using data from the connection store the recommendation engine identifies content items from one or more sources for recommending to a digital magazine server user. Hence the recommendation engine identifies content items potentially relevant to a user. In one embodiment the recommendation engine retrieves data describing interactions between a user and content items from the user s user profile and data describing connections between content items and or connections between users from the connection store . In one embodiment the recommendation engine uses stored information describing content items e.g. topic sections subsections and interactions between users and various content items e.g. views shares saved links topics read or recent activities to identify content items that may be relevant to a digital magazine server user. For example content items having an implicit connection of at least a threshold weight to a content item with which the user interacted are recommended to the user. As another example a the recommendation engine presents a user with content items having one or more attributes in common with a content item with which an additional user having a threshold connection confidence score with the user interacted. Recommendations for additional content items may be presented to a user when the user views a content item using the digital magazine may be presented as a notification to the user by the digital magazine server or may be presented to the user through any suitable communication channel.

In one embodiment the recommendation engine applies various filters to content items received from one or more sources or from the content store to efficiently provide a user with recommended content items. For example the recommendation engine analyzes attributes of content items in view of characteristics of a user retrieved from the user s user profile. Examples of attributes of content items include a type e.g. image story link video audio etc. a source from which a content item was received time when a content item was retrieved and subject matter of a content item. Examples of characteristics of a user include biographic information about the user users connected to the user and interactions between the user and content items. In one embodiment the recommendation engine analyzes attributes of content items in view of a user s characteristics for a specified time period to generate a set of recommended content items. The set of recommended content items may be presented to the user or may be further analyzed based on user characteristics and on content item attributes to generate more refined set of recommended content items. A setting included in a user s user profile may specify a length of time that content items are analyzed before identifying recommended content items to the user allowing a user to balance refinement of recommended content items with time used to identify recommended content items.

The search module receives a search query from a user and retrieves content items from one or more sources based on the search query. For example content items having at least a portion of an attribute matching at least a portion search query are retrieved from one or more sources . The user may specify sources from which content items are received through settings maintained by the user s user profile or by identifying one or more sources in the search query. In one embodiment the search module generates a section of the digital magazine including the content items identified based on the search query as the identified content items have a common attribute of their association with the search query. Presenting identified content items identified from a search query allows a user to more easily identify additional content items at least partially matching the search query when additional content items are provided by sources .

To more efficiently identify content items based on search queries the search module may index content items groups or sections of content items and user profile information. In one embodiment the index includes information about various content items such as author source topic creation data time user interaction information document title or other information capable of uniquely identifying the content item. Search queries are compared to information maintained in the index to identify content items for presentation to a user. The search module may present identified content items based on a ranking. One or more factors associated with the content items may be used to generate the ranking. Examples of factors include global popularity of a content item among users of the digital magazine server connections between users interacting with a content item and the user providing the search query and information from a source . Additionally the search module may assign a weight to the index information associated with each content item selected based on similarity between the index information and a search query and rank the content items based on their weights. For example content items identified based on a search query are presented in a section of the digital magazine in an order based in part on the ranking of the content items.

To increase user interaction with the digital magazine the interface generator maintains instructions associating received input with actions performed by the digital magazine server or by a digital magazine application executing on a client device . For example instructions maintained by the interface generator associate types of inputs or specific inputs received via an input device of a client device with modifications to content presented by a digital magazine. As an example if the input device is a touch sensitive display the interface generator includes instructions associating different gestures with navigation through content items or presented via a digital magazine. Instructions from the interface generator are communicated to a digital magazine application or other application executing on a client device on which content from the digital magazine server is presented. Inputs received via an input device of the client device are processed based on the instructions when content items are presented via the digital magazine server is presented to simplify user interaction with content presented by the digital magazine server .

The web server links the digital magazine server via the network to the one or more client devices as well as to the one or more sources . The web server serves web pages as well as other content such as JAVA FLASH XML and so forth. The web server may retrieve content item from one or more sources . Additionally the web server communicates instructions for generating pages of content items from the layout engine and instructions for processing received input from the interface generator to a client device for presentation to a user. The web server also receives requests for content or other information from a client device and communicates the request or information to components of the digital magazine server to perform corresponding actions. Additionally the web server may provide application programming interface API functionality to send data directly to native client device operating systems such as IOS ANDROID WEBOS or BlackberryOS.

For purposes of illustration describes various functionalities provided by the digital magazine server . However in other embodiments the above described functionality may be provided by a digital magazine application executing on a client device or may be provided by a combination of the digital magazine server and a digital magazine application executing on a client device . For example images may be over laid with text to generate modified images and presented by a digital magazine application executing on the client device . Alternatively information identifying slots of a page template used to generate a page of a digital magazine are communicated from a client device to the digital magazine server which identifies one or more images for presentation in content regions of a page the modified images are communicated from the digital magazine server to the client device for presentation.

In the example of when a digital magazine server generates a page for presentation to a user the digital magazine server populates slots in a page template with content items. Information identifying the page template and associations between content items and slots in the page template is stored and used to generate the page. For example to present a page to a user the layout engine identifies the page template from the template store and retrieves content items from one or more sources or from the content store . The layout engine generates data or instructions associating content items with slots within the page template . Hence the generated page includes various content regions presenting one or more content items associated with a slot in a location specified by the slot.

A content region may present image data text data a combination of image and text data or any other information retrieved from a corresponding content item. For example in the content region A represents a table of contents identifying sections of a digital magazine and content associated with the various sections are presented in content regions B H. For example content region A includes text or other data indicating that the presented data is a table of contents such the text Cover Stories Featuring followed by one or more identifiers associated with various sections of the digital magazine. In one embodiment an identifier associated with a section describes a characteristic common to at least a threshold number of content items in the section. For example an identifier refers to the name of a user of social network from which content items included in the section are received. As another example an identifier associated with a section specifies a topic an author a publisher e.g. a newspaper a magazine or other characteristic associated with at least a threshold number of content items in the section. Additionally an identifier associated with a section may further specify content items selected by a user of the digital magazine server and organized as a section. Content items included in a section may be related topically and include text and or images related to the topic.

Sections may be further organized into subsections with content items associated with one or more subsections presented in content regions. Information describing sections or subsections such as a characteristic common to content items in a section or subsection may be stored in the content store and associated with a user profile to simplify generation of a section or subsection for the user. A page template associated with a subsection may be identified and slots in the page template associated with the subsection used to determine presentation of content items from the subsection relative to each other. Referring to the content region H includes a content item associated with a newspaper to indicate a section including content items retrieved from the newspaper. When a user interacts with the content region a page template associated with the section is retrieved as well as content items associated with the section. Based on the page template associated with the section and the content items the digital magazine server generates a page presenting the content items based on the layout described by the slots of the page template. For example in the section page includes content regions presenting content items associated with the section. The content regions may include content items associated with various subsections including content items having one or more common characteristics e.g. topics authors etc. . Hence a subsection may include one or more subsections allowing hierarchical organization and presentation of content items by a digital magazine.

The digital magazine server or an application associated with the digital magazine server and executing on a client device obtains images from one or more sources or the from content store for presentation to a user of the digital magazine server in a digital magazine. For example an image is obtained from a source for display with content associated with the source . Alternatively an image is obtained from the content store for presentation with textual data retrieved from the content store .

The digital magazine server identifies features of the obtained image. A feature of an image is an object presented by the image or a region of the image including an object. In one embodiment the digital magazine server identifies features of the image by identifying edges of objects in the image however various image processing methods may be used to identify features of the obtained image. For example various edge detection techniques or object recognition algorithms may be used to identify objects. Additional characteristics of the image may also be analyzed such as abrupt changes in background color of the image to identify objects in the image. Alternatively features of the image are identified by manually review of the image. In another example the source from which the image is obtained provides information identifying features in the image along with the image.

Additionally the digital magazine server may identify additional information associated with identified features of the image. Examples of additional information include the location or position of the identified feature with respect to one or more boundaries of the image a distance between two or more identified features an identifier associated with a feature identified from the image and display attributes such as color shape or size of an identified feature. For example the digital magazine server identifies two objects of an image and information describing the objects e.g. the size of the objects the dimensions of the objects and the location of the objects with respect to the top left corner of the image . In one embodiment the digital magazine server identifies a group of pixels associated with an object and stores pixel indices of pixels in the group to identify a location in the image including the object.

Based at least in part on the identified features in the obtained image the digital magazine server identifies regions within the image capable of presenting text. A region capable of presenting text is a location of the image that does not display objects. Typically regions of an image that do not include objects or other features that would obscure text presented in the region. For example regions of an image including a feature making text included in the region illegible or not contiguous are not regions within the image capable of presenting text. In one embodiment the digital magazine server identifies regions of the image a threshold distance away from one or more identified features in the image as regions capable of presenting text. In another example the digital magazine server identifies regions of the image that are at least a threshold distance away from features in an image and have at least a threshold size as regions capable of presenting text. The digital magazine server may identify and group pixels in a region of an image at least a threshold distance away from one or more identified features of the image and identifies groups of pixels as regions of the image capable of presenting text based at least in part on sizes of pixel groups.

The digital magazine server may also identify additional information associated with the identified regions of the image. Examples of additional information associated with an identified region include a location or position of the identified region with respect to one or more boundaries of the image a distance between two or more identified regions an identifier associated with an identified region and display attributes of the identified region e.g. shape color or size of the identified region . For example the digital magazine server identifies a region in an image capable of presenting text and also identifies the size of the region the dimensions of the region the location of the region with respect to the top left corner of the image and an identifier associated with the identified region. In one embodiment the digital magazine server identifies a color associated with an identified region capable of presenting text. For example the digital magazine server identifies a color associated with an identified region by determining the average color of pixels in the identified region. The additional information may be stored along with the identifier and an association between the identifier and the image.

The digital magazine server selects text associated with the image for presentation in conjunction with the image. The text provides information associated with the image or information associated with the content associated with the image. For example if the image is included in a content item the selected text is a caption describing the image that also appears in the content item. In another example the selected text is a heading and a summary describing the content item associated with the image or including the image. In one embodiment the selected text is provided or identified by the source from which the image is received. Alternatively the text associated with an image is manually selected or is selected by analyzing content associated with the image and extracting one or more key word or phrases.

The selected text associated with the image may have a variety of attributes. For example the text has one or more display attributes such as color preferred size of the text for display or limits on text size for display a size of a region capable of presenting text within which to display the text a range of sizes of regions capable of presenting text within which to display the text or a preferred font for presenting the text. In one example one or more colors are associated with various portions of the selected text. As another example the text has one or more contextual attributes such as information indicating whether the text is a heading title caption or footnote or information describing a recommended position or location of the text within the image. Different portions of the selected text may have different attributes allowing different portions of the text to be displayed differently. For example the selected text includes a portion identified as a heading by a contextual attribute and an additional portion identified as a caption by a contextual attribute.

One or more regions of the image capable of presenting text are selected by the digital magazine server as regions in which to present the selected text. In one example the digital magazine server retrieves image templates from the template store having sizes similar to the obtained image. Each of the retrieved image templates includes regions for presenting text in various locations of the image template. The regions for presenting text in an image template may have varying sizes and different positions relative to each other in various image templates. In one embodiment the regions for presenting text identified by an image template are associated with additional information such as a location of the regions in the image template relative to a corner or boundary of the image templates or a description of the size and or shape of the regions in the image template. As the retrieved image templates have similar dimensions e.g. dimensions within a threshold amount of dimensions of the obtained image to the obtained image additional information associated with regions for presenting text in an image template provide information for associating regions for presenting text with regions capable of presenting text identified from the obtained image. For example location or positional information identifying the location of a region for presenting text in an image template is compared to location or positional information associated with regions of the obtained image capable of presenting text.

Based on the identified regions capable of presenting text in the obtained image the digital magazine server identifies image templates including regions for presenting text that have at least a threshold number of attributes matching or similar to attributes of the identified regions capable of presenting text. For example an image template including at least a threshold number of regions for presenting text that are within a threshold distance of regions capable of presenting text identified from the obtained image. The digital magazine server may compare various attributes of regions capable of presenting text in the obtained image to regions for presenting text from an image template e.g. dimensions shape location etc. to determine if the image template has regions for presenting text matching or similar to regions capable of presenting text from the obtained image. As an example the digital magazine server identifies two regions of an image that are capable of presenting text with a region rectangular in shape traversing the width of the image and located near an uppermost boundary of the image and another region triangular in shape and located near a lower right corner of the image. The digital magazine server identifies an image template including regions for presenting text having a similar size shape and location to the identified regions capable of presenting text in the image. After identifying an image template the digital magazine server selects regions within the image template for presenting text in which to present the selected text. For example the digital magazine server selects regions in the image template having a maximum degree of similarity to the identified regions. Alternatively regions in the identified image are selected based on the selected text or based on information associated with the selected text.

Alternatively one or more of the identified regions are selected to present the selected text independent of the image templates. For example the digital magazine server selects an identified region capable of presenting text to present the selected text based at least in part on the attributes associated with the selected text. For example a portion of the selected text is identified as a heading while another portion of the selected text is identified as a caption. The digital magazine server selects two identified regions to present the portions of the selected text based at least in part on the type of text associated with each portion in other embodiments additional attributes of portions of the text are used to select regions of the image capable of presenting text in which the selected text is presented. For example a region capable of presenting text in the image is located within a threshold distance of an upper boundary of an image and an additional region capable of presenting text in the image is located within a threshold distance of a lower right corner of the image. Based at least in part on the location information associated with the two identified regions capable of presenting text and the attributes of different portions of the selected text the portion of the text identified as a heading is presented in the region capable of presenting text in the image within the threshold distance of the upper boundary and the portion of the text identified as a caption is presented in the region of the image capable of presenting text located within the threshold distance of the lower right corner of the image.

In one embodiment the digital magazine server identifies portions of the selected text for presentation in a selected region of the image capable of presenting text based at least in part on the attributes associated with the selected region. For example the digital magazine server identifies portions of the selected text for presentation in different selected regions capable of presenting text based on the size and location of the selected regions. In one embodiment the digital magazine server selects two regions capable of presenting text within an image with one region positioned near an upper boundary of the image and having a center aligned with a center of the width of the image and an additional region located within a threshold distance of the lower right corner of the image. The digital magazine server may identify portions of the selected text for presentation in the region position near the upper boundary as text identified as a heading by associated contextual attributes. In one embodiment the digital magazine server stores information associating selected text with a region capable of presenting text in which the selected text is presented.

The digital magazine server may identify portions of the selected text for presentation in a selected region of the image capable of presenting text based at least in part on a color associated with the selected region and a color associated with portions of the selected text. For example the digital magazine server identifies portions of the selected text for presentation in a selected region based at least in part a difference between a color associated with the selected region and a color associated with the selected text. In another example a color contrast value is determined between colors associated with various portions of the selected text and the selected region. A portion of the selected text having a color contrast value greater than a threshold value is identified by the digital magazine server for presentation in the selected region.

In one embodiment the digital magazine server modifies the image to present text in the selected regions to the user of the digital magazine server. Based at least in part on the selected regions of the image capable of presenting text the digital magazine server overlays the selected text over the selected regions of the image capable of presenting text. Based on information associated with a selected region capable of presenting text the digital magazine server identifies the location or position of the selected region in the image and retrieves a portion of the selected text associated with the selected region. In one example the selected text associated with the selected region is identified based on an identifier associating the selected text or a portion of the selected text with the selected region.

In one embodiment the selected text associated with the selected region is modified based on attributes associated with the selected region and attributes associated with the selected text. In one embodiment a color a font or other attributes used to present the selected text in a selected region are modified based on the color the size or other attributes of the selected region. In one example the selected text is bounded by an outline that is based at least in part on the color of the selected text or the color of the selected region. In another example the color gradient of the selected text is modified based on the color of the selected text or the color of the selected region. As another example the display attributes associated with the selected region are modified based on the color of the selected text associated with the selected region. For example the color or gradient of the selected region is modified based on the color of the selected text. In another example the selected region is modified to present to the user a vignette surrounding the selected text. The portion of the selected text associated with the selected region is overlaid on the image in a location corresponding to the selected region. In one embodiment the modified image is stored in the content store .

The modified image is then presented to the user. For example the modified image is presented along with other content items in locations relative to each other based on slots in a page template. In one embodiment a page template is selected and a slot in the page template is identified for presenting the modified image. The modified image is retrieved and presented to the user in a location and a size determined from the identified slot.

The digital magazine server selects text to be presented with the image . For example the text provides a user of the digital magazine server with information associated with the image or associated with content that is associated with the image . The selected text may contain different portions each associated with one or more display attributes and or contextual attributes. In the example of a portion of the selected text is identified as a caption describing the image by an associated contextual attribute an additional portion of the selected text is identified as a heading describing content associated with the image by an associated contextual attribute and another portion of the selected text is identified as a summary of the content associated with the image by an associated contextual attribute.

In one embodiment based at least in part on the attributes associated with the portions of the selected text the digital magazine server selects one or more regions for presenting text in the image template similar to text regions and to display various portions of the selected text. The digital magazine server identifies one or more text regions for presenting the selected text based on the regions for presenting text in the image template associated with different portions of the selected text. For example the digital magazine server selects text region to present the portion of the selected text identified as a heading selects text region to present the portion of the selected text identified as a caption and selects text region to present the portion of the selected text identified as a summary. The digital magazine server identifies the location of the selected text regions and based at least in part on their associated location information and modifies the image to present the portions of the selected text associated with each of the selected text regions . The modified image which includes text overlaid on portions of the image in text regions and is presented to the user by the digital magazine server .

The foregoing description of the embodiments of the invention has been presented for the purpose of illustration it is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure.

Some portions of this description describe the embodiments of the invention in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations while described functionally computationally or logically are understood to be implemented by computer programs or equivalent electrical circuits microcode or the like. Furthermore it has also proven convenient at times to refer to these arrangements of operations as modules without loss of generality. The described operations and their associated modules may be embodied in software firmware hardware or any combinations thereof.

Any of the steps operations or processes described herein may be performed or implemented with one or more hardware or software modules alone or in combination with other devices. In one embodiment a software module is implemented with a computer program product comprising a computer readable medium containing computer program code which can be executed by a computer processor for performing any or all of the steps operations or processes described.

Embodiments of the invention may also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes and or it may comprise a general purpose computing device selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a non transitory tangible computer readable storage medium or any type of media suitable for storing electronic instructions which may be coupled to a computer system bus. Furthermore any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.

Embodiments of the invention may also relate to a product that is produced by a computing process described herein. Such a product may comprise information resulting from a computing process where the information is stored on a non transitory tangible computer readable storage medium and may include any embodiment of a computer program product or other data combination described herein.

Finally the language used in the specification has been principally selected for readability and instructional purposes and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the invention be limited not by this detailed description but rather by any claims that issue on an application based hereon. Accordingly the disclosure of the embodiments of the invention is intended to be illustrative but not limiting of the scope of the invention which is set forth in the following claims.

