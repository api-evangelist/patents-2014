---

title: Automatic payment code display system
abstract: Automatic payment code display systems and methods include a user device detecting a beacon system at a physical merchant location. The user device establishes a background communication process with the beacon system that occurs without user intervention subsequent to detecting the beacon system. The user device then provides the user account authentication token to the beacon system as part of the background communication process. The user device then receives a payment code from the beacon system as part of the background communication process. The user device then causes the payment code to be displayed, and the displayed payment code is configured to be utilized by a payment processing device at the physical merchant location in a payment transaction. The payment code may be caused to be displayed on a lock screen in a background display process that occurs without user intervention.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09589263&OS=09589263&RS=09589263
owner: PayPal, Inc.
number: 09589263
owner_city: San Jose
owner_country: US
publication_date: 20140627
---
The present disclosure generally relates to online and or mobile payments and more particularly to systems and methods for displaying payment codes automatically on a user device for use in making online and or mobile payments.

More and more consumers are purchasing items and services over electronic networks such as for example the Internet. Consumers routinely purchase products and services from merchants and individuals alike. The transactions may take place directly between a conventional or on line merchant or retailer and the consumer and payment is typically made by entering credit card or other financial information. Transactions may also take place with the aid of an on line or mobile payment service provider such as for example PayPal Inc. of San Jose Calif. Such payment service providers can make transactions easier and safer for the parties involved. Purchasing with the assistance of a payment service provider from the convenience of virtually anywhere using a mobile device is one main reason why online and mobile purchases are growing very quickly.

Some payment service providers provide online and mobile payment services for merchants with physical merchant locations and their customers. For example payment service providers may provide the online and or mobile payment services discussed above for utilization at physical merchant locations to allow customers to purchase products offered by the merchant using a customer device such as a mobile phone device or other portable computing device. The utilization of such customer devices frees the customer from having to carry around payment cards such as credit cards or debit cards in order to make payments. However the conventional use of customer devices to make payments raises a number of issues.

The conventional use of a customer devices to make a payment typically requires the following actions by the customer unlocking of the customer device e.g. by providing a user action such as a swipe or by providing user credentials such as a passcode or thumb scan opening up a payment application finding and selecting the merchant via the payment application to which the payment is to be made authenticating to the payment application instructing the payment application to generate a payment code and providing the payment code to the merchant. It has been found that this cumbersome process discourage the use of customer devices in making payments as typical customers find it easier and quicker to simply carry around and provide a payment card to the merchant. The results of these and similar issues with payments using customer devices have slowed the adoption of customer device payment systems.

Embodiments of the present disclosure and their advantages are best understood by referring to the detailed description that follows. It should be appreciated that like reference numerals are used to identify like elements illustrated in one or more of the figures wherein showings therein are for purposes of illustrating embodiments of the present disclosure and not for purposes of limiting the same.

The present disclosure provides systems and methods for automatically retrieving and displaying a payment code using background communication and display processes that occur without user intervention. A user with a user device may enter a physical merchant location of a merchant that includes a beacon system or other communication system that is configured to perform a background communication process with the user device. The background communication process is established between the user device and the beacon system without the user providing any instruction or input to the user device subsequent to entering a communication area provided by the beacon system at the physical merchant location and operates to communicate a user account authentication token from the user device to the beacon system. The beacon system then forwards that user account authentication token to a payment service provider device and the payment service provider device generates a payment code that may be associated with a user account of the user and a merchant account of the merchant. The payment service provider device then sends the payment code to the beacon system and the beacon system provides the payment code to the user device as part of the background communication process. The user device may then operate to display the payment code to the user via a background display process on the user device and may inform the user that the payment code is available to make a payment to the merchant at the merchant physical location if the user wishes to purchase a product or service from that merchant. As such a user may be automatically presented with a payment code for making purchases from a merchant upon entering a physical merchant location of that merchant without the need for the user to provide any instructions to their user device and or the need for an application to be launched or open on the user device. As such the utilization of the user device in making payments to merchants is greatly simplified for users providing a level of convenience that increases the likelihood of user device payment system adoption.

Referring now to an embodiment of a physical merchant location is illustrated. The physical merchant location includes a merchant building having a plurality of exterior walls and that define a physical merchant location interior . The exterior wall includes an exterior door e.g. a front door in the illustrated embodiment and an exterior window . In the illustrated embodiment the physical merchant location interior includes a merchant employee area a counter and a product display located behind the counter .

In one example the physical merchant location is a restaurant the merchant employee area is a kitchen the counter is an ordering counter and the product display is a menu that displays food or drinks that are available for purchase at the physical merchant location through the exterior window . However while a specific example of a restaurant is provided and discussed below to provide an example of one use of the automatic payment code display system of the present disclosure one of skill in the art in possession of the present disclosure will recognize that a wide variety of physical merchant locations will benefit from the teachings of the present disclosure and any merchant that is enabled to accept payments via the payment codes discussed below will fall within the scope of the present disclosure.

Referring now to an embodiment of a beacon device is illustrated. The beacon device includes a chassis that houses a first communications system such as for example a Wifi communications system a cellular communication system and or a variety of other communication systems known in the art. The first communications system is coupled to a beacon engine that may be provided by instructions on a memory system not illustrated in the beacon device that when executed by a processing system not illustrated in the beacon device cause the processing system to perform the functions of the beacon devices discussed below. The beacon engine is coupled to a second communication system such as for example a Bluetooth Low Energy BLE communication system a BLE direct communication system and or a variety of other communication systems known in the art. The beacon engine may be configured to receive any of a variety of signals through the second communication system and transmit those signals using the first communication system . While a few examples of communications components in the beacon device have been described one of skill in the art will recognize that other communications devices as well as other components that have been omitted for clarity of discussion and illustrated may be included in the beacon device and will fall within the scope of the present disclosure. One of skill in the art will recognize that the components described above allow for the beacon device to be provided in a relatively small form factor such that it may be placed inconspicuously almost anywhere. The chassis of the beacon device may include any of a variety of features that allow for the coupling of the beacon device to different areas in a physical merchant location discussed below.

Referring now to an embodiment of a beacon system is illustrated. As illustrated in the beacon system may be provided by positioning a plurality of the beacon devices discussed above with reference to in and around the physical merchant location discussed above with reference to . In the illustrated embodiment a plurality of the beacon devices are positioned in and around the physical merchant location . As discussed above the beacon devices may be sized such that they may be inconspicuously positioned virtually anywhere in or around the physical merchant location . For example the beacon devices may be positioned on the ceiling of the physical merchant location in the product counter and virtually anywhere else in the physical merchant location . Each of the beacon devices in the beacon system may be configured to wirelessly communicate via its first communications system with a merchant network communication device such as for example a Wifi wireless router connected to a network such as the Internet and merchant device connected to one or more network and or a variety of other network communication devices known in the art. As such the merchant network communication device may also include a variety of computing devices such as desktop computing systems laptop notebook computing systems server computing systems and or a variety of other computing systems known in the art.

Referring now to the operation of the beacon system may provide a portion of the automatic payment code display system discussed in further detail below. Each of the beacon devices is configured to create a communication area using its second communications system . For example the second communications system in each beacon device may be BLE communications device that provides an approximately 100 foot radius communications area. However other communications systems providing other communications areas are envisioned as falling within the scope of the present disclosure. As can be seen in the illustrated embodiment the beacon devices may be positioned in and around the physical merchant location such that the communications areas abut overlap or otherwise provide coverage for any area of interest within and around the physical merchant location . As such different configurations of the beacon devices within and around the physical merchant location may be selected to cover any area within and around the physical merchant location with a communications area . As discussed in further detail below each of the beacon devices are configured to communicate with user devices within their respective communications area e.g. using the second communication system to collect data and then send that data to the merchant network communication device e.g. using the first communication system such that the data may be provided to a merchant device a system provider device and or any other device operating to provide the display of automatic payment codes as discussed below. One of skill in the art will recognize that the use of BLE communication devices or BLE direct communication devices for communication between the beacon devices and user devices may be utilized to provide for low power communications via a background communication process with a user device e.g. when the user device is not being actively used by the user or when the user device is being used for reasons other than communication with the beacon device and without instruction from the user to communicate with the beacon devices . 

In the embodiments illustrated and discussed below the beacon devices and their communications areas are not illustrated for clarity of illustration and discussion but it should be understood that the communications between and retrieval of information from user devices by the beacon system and that provision of that information to a system provider device such that the payment service provider devices discussed below may be accomplished using beacon devices providing communications areas such as the beacon devices and communications areas illustrated in . However in some embodiments the beacon devices may be omitted from the portion of the automatic payment code display system and any communications between the user devices and the system provider devices may be provided over other networks e.g. Local Area Networks LANs the Internet cellular networks etc. Thus while a specific example of a portion of the automatic payment code display system is provided one of skill in the art in possession of the present disclosure will recognize that a wide variety of different physical merchant locations may incorporate the beacon devices or other communication systems in a variety of manners while remaining within its scope.

In the embodiments discussed below the automatic payment code display system and methods involve a system provider such as a payment service provider using a system provider device such as a payment service provider device to retrieve information collected by the beacon devices from user devices through a network e.g. the Internet . In such embodiments the system provider may associate the physical merchant location or its merchant the beacon devices merchant devices and or other components of the system with a merchant account or a physical merchant location account in a database located in a non transitory memory. As such information received from the beacon devices and merchant devices may be associated with the merchant account or physical merchant location account in the database and any of that information may be stored in associated with that merchant account or physical merchant location account. In other embodiments the system provider device may include a merchant device that is local to the physical merchant location and that communicates with the beacon devices using the merchant network communication device .

Referring now to an embodiment of a method for automatically displaying a payment code is illustrated. The method begins at block where user account authorization tokens are provided on a user device of a user. In the embodiments discussed below a payment service provider such as for example PayPal Inc. of San Jose Calif. acts as a system provider that provide payment codes that may be utilized in payment transactions between a merchant and a user to allow a user to purchase products and or services hereinafter products from the merchant. As such the payment service provider is associated with one or more payment service provider devices system provider devices that operate to perform the functions of the payment service provider devices system provider devices discussed below. However account providers e.g. checking account providers credit account providers etc. and or other entities may perform the functions of the system providers discussed below while remaining within the scope of the present disclosure.

In embodiments where the payment service provider is the system provider the payment service provider may provide payment service accounts to both merchants and users and as discussed above those merchant payment service accounts and user payment service accounts may be utilized in payment transactions between the merchants and user. For example a merchant payment service account may be linked to one or more merchant payment accounts of the merchant e.g. provided by an account provider and a customer payment service account may be linked to one or more customer payment accounts of the customer e.g. provided by an account provider . As such a payment transaction may involve the payment service provider transferring funds from a customer payment account to a merchant payment account to pay for products purchased by the customer. In addition the payment service provider may provide payment accounts to the merchant and or customer for making payments as well.

In an embodiment of block the payment service provider may provide the user a payment application that may be installed on a user device. The payment application may include instructions on a non transitory machine readable medium in the user device that when executed by one or more hardware processors in the user device cause the one or more hardware processors to perform the functions of the user devices discussed below. As such actions performed by the user device as discussed below may be enabled by the payment application or other applications . A user may associate their user payment service account provided by the payment service provider with the payment application by for example providing authentication credentials for the user payment service account to the payment application following the installation of the payment application on the user device. In addition the payment application may retrieve information from the user device e.g. a phone number or some other phone identifier and associate that information with the payment application and or the user payment service account. As such the payment application may be associated with the user the user device and or the user payment service account to enable the performance of the method .

In some embodiments of block upon or following the installation of the payment application on the user device one or more user account authentication tokens may be provided on the user device. In some embodiments the user account authentication token s may be included in the installation instructions for the payment application and thus the installation of the payment application on the user device results in the provisioning of the user account authentication token s on the user device. As such installation of the payment application on the user device may cause the user device to be pre loaded with user account authentication tokens. In another embodiment following the installation of the payment application on the user device the payment application may operate e.g. following the receipt and confirmation of user authentication credentials for the user payment service account to communicate with the payment service provider over a network e.g. the Internet to retrieve the user account authentication tokens and store them on the user device. While a few examples have been provided the provisioning of the user account authentication tokens on the user device may be performed in a variety of manners while remaining within the scope of the present disclosure.

In an embodiment the user account authentication token s that are provided on the user device at block may include an identifier for the user payment service account authentication credential for the user payment service account information about the user device a challenge framework for requesting additional information to be exchanged policy information such as constraints on the transaction or limits on a payment account consumer preferences such as a desire to use personal identification numbers or thresholds and or a variety of other authentication token information known in the art. As discussed below the user account authentication token s may be utilized during the method by the payment service provider to determine and or verify a user payment service account such that a payment code may be created or provided that enables the use of that user payment service account to make a payment and thus may include any information that allows the payment service provider to verify a user identity verify a user device identity verify a user payment service account ensure security of the information transmitted using the user account authentication token and or to otherwise safely and securely provide the payment codes discussed below. In an embodiment a payment application may provide a limited number of user account authentication tokens on a user device e.g. a set of 5 user account authentication tokens and may then provide additional user account authentication tokens on the user device when those previously provided user account authentication tokens have been used up.

In an embodiment a user may provide one or more user settings preferences and or other information that define the operation of the payment application on the user device with respect to the automatic display of the payment codes discussed below. For example a user may define which particular merchants that payment codes will be automatically displayed for the types of merchants that payment codes will be automatically displayed for the types of payment codes that will be automatically displayed the security features that will be associated with the display of payment codes and or any other characteristic associated with the display of the payment codes discussed below. As such the user may define how when and where a payment code will be automatically displayed according to the teachings below thus customizing the automatic display of payments codes in a manner that is most convenient efficient and secure to the user.

Referring now to and the method then proceeds to block where a background communication process is established between a user device and a beacon system at a physical merchant location. illustrates a user approaching the physical merchant location and entering the physical merchant location along a path . As discussed above with reference to the beacon system includes a plurality of beacon device that each provide a communication area that may extend throughout the physical merchant location as well as outside of the physical merchant location . In the embodiment illustrated in the user may have entered a communication area provided by the beacon system outside of the physical merchant location indicated by element outside the exterior window such that the user device of the user began communicating with the beacon system and the user device may have continued communicating with the beacon system throughout the path of the user into the physical merchant location .

In an embodiment of block upon entering a communication area provided by a beacon device in the beacon system the user device may detect the beacon system at the physical merchant location . For example as discussed above the user device may include a BLE communication system or a BLE direct communication system that continuously operates to search for other BLE communication systems. As such upon entering the communication area provided by a BLE communication system in a beacon device of the beacon system at the physical merchant location the user device may detect the beacon system . In response to detecting the beacon system the user device and the beacon system may operate to establish a background communication process e.g. through the beacon device that is providing the communication area within which the user device is located .

In an embodiment the establishment of the background communication process includes an exchange of information between the beacon system and the user device. For example in some embodiments the beacon system may provide the user device information about the beacon system information about the merchant that is associated with the merchant physical location and that provides the beacon system information that may be utilized to enable further communications with the beacon system and or a variety of other information that would be apparent to one of skill in the art in possession of the present disclosure. Similarly the user device may provide the beacon system information about the user device information about the user that is associated with the user device information that may be utilized to enable further communications with the user device and or a variety of other information that would be apparent to one of skill in the art in possession of the present disclosure.

In an embodiment the background communication process is a background computing process that does not require any user intervention instruction or input to be established or performed. As such the detection of the beacon system the establishment of the background communication process and the communications that occur using the background communication process are performed without input from the user i.e. other than the possible settings preferences and or other information that may be provided by the user for the payment application prior to entering a communication area provided by a beacon device to control how the payment application operates as discussed above . As such the background communication process may be established and performed by the user device without knowledge of the user including for example while the user device is stored is a pocket purse backpack or other storage system of the user while the user is using the user device for other purposes such as talking on the phone browsing a website or otherwise utilizing the user device and or according to a variety of other user device use scenarios known in the art. In some embodiments the background communication process may also be characterized by being provided by the payment application or other user device subsystem without an associated user interface or operating system service. In yet another embodiment the background communication process negates the need to go over the air OTA with the communications as the background communication process may have its own direct connection to the network. However one of skill in the art in possession of the present disclosure will recognize that a wide variety of background process techniques may be used to establish and perform the background communication process without the need for user intervention while remaining within the scope of the present disclosure.

Upon establishing the background communication process at block the user device and the beacon system may operate to communicate with each other via the background communication process to exchange any of a variety of information. For example information exchanged between the user device and the beacon system may be utilized such that the location of the user device in and around the physical merchant location can be tracked. As such may illustrate an embodiment of the tracking of the user device from the point outside of the physical merchant location interior along the path and to the point in the physical merchant location interior . The location tracking illustrated in may be enabled by the user device reporting its location to the beacon system by the beacon system determining the location of the user device based on signals received from the user device and different beacon devices and or in a variety of other manners known in the art.

The method then proceeds to block where a user account authentication token is transmitted form the user device to the payment service provider device using the background communication process. As discussed above the user device may include one or more user account authentication tokens that in some embodiments are included as part of or provided through the payment application from the payment service provider. In an embodiment of block the user device selects a user account authentication token e.g. a previously unused user account authentication token and transmits that user account authentication token to the beacon system using the background communication process e.g. without any user intervention . In some embodiments the payment application on the user device may use the information received from the beacon system to verify that the beacon system is authorized to receive the user account authentication token. For example the merchant may register the beacon system with the payment service provider and that registration may be available to the payment application to verify that the beacon system is authorized to receive the user account authentication token. However in many embodiments the user account authentication token may be encrypted such that its transmission to the beacon system may be performed without any verification of the beacon system .

In an embodiment of block the beacon system may receive the user account authentication token from the user device and in response send the user account authentication token over a network to a payment service provider device of the payment service provider. For example the beacon system may utilize the merchant network communication device to send the user account authentication token over the Internet to the payment service provider device. In an embodiment the beacon system may add beacon system information and or merchant information to the user account authentication token before sending it to the payment service provider device. For example information identifying the beacon system the merchant the physical merchant location and or other details of the merchant may be provided along with the user account authentication token to the payment service provider device.

The method then proceeds to block where a payment code is created and or otherwise provided by the payment service provider device. In an embodiment the payment service provider device receives the user account authentication token from the beacon system and may determine a variety of information from the user account authentication token. In some examples the payment service provider device may decrypt the user account authentication token to determine the information included in the user account authentication token. In some examples the payment service provider device may determine the identity of the merchant associated with the merchant physical location be retrieving the identity of the beacon system and or the merchant that was provided along with the user account authentication token. In some examples the payment service provider device may utilize a user account identifier and authentication credentials that are provided as part of the user account authentication token in order to determine a user account of a user associated with the user device from which the user account authentication token was received. While a few examples have been provided one of skill in the art in possession of the present disclosure will recognize that a wide variety of information may be provided in or with the user account authentication token that would be useful in creating and or otherwise providing the payment codes discussed below and thus at block the payment service provider device may retrieve any of that information for use in creating and or otherwise providing the payment code discussed below.

The payment service provider device then operates to create a payment code or may retrieve a previously created payment code at block . In an embodiment the payment service provider may use an identifier for the user payment service account of the user user authentication credentials for the user payment service account and an identifier for a merchant payment service account of the merchant to create the payment code. For example the payment service provider device may create a code using or associate a code with the identity of the user payment service account the user authentication credentials and the identity of the merchant payment service account. Furthermore other information may be used to create or be associated with the payment code created by the payment service provider device including but not limited to a time period that the payment code is valid a merchant or merchants with whom the payment code is valid a physical location or areas in which the payment code is valid and or any other payment code information. In some embodiments the payment code may include a character string that may include letters number punctuation symbols and or any other characters known in the art. In some embodiments the payment code may include a visual code such as a Universal Product Code UPC a Quick Response QR code and or a variety of other visual codes known in the art. In an embodiment the code may be a wirelessly transmitted code such as for example a code that may be transmitted via a wireless communication system such as for example a code that may be transmitted using Near Field Communication NFC Bluetooth and or a variety of other wireless transmission systems known in the art. In an embodiment the code may be an optical code such as for example a code that may be transmitted via a Light Emitting Diode LED a display and or a variety of other light producing devices known in the art. While a few examples have been provided one of skill in the art will recognize that a wide variety of payment codes may be created that are associated with the user payment service account while remaining within the scope of the present disclosure.

In an embodiment the payment code may be a one time use code such that once that payment code is used to make a payment to a merchant discussed below the payment service provider will no longer accept that payment code for use in making a payment. In some embodiments the payment code may be a multi use code such that the payment service provider will accept that payment code for use in making multiple different payments to one or more merchants. In some embodiments the payment code may be restricted in use to the merchant at the physical merchant location e.g. merchant payment service account information included in the payment code may restrict the use of that payment code to transferring funds from the user payment service account to the merchant payment service account of that merchant . In some embodiments the payment code may be restricted in use to a predetermined time period such that following the predetermined time period the payment code will not be accepted by the payment service provider.

While the payment codes described herein are generally discussed as allowing a user to make a payment to a merchant from their payment account for a purchase amount other types of payment codes will fall within the scope of the present disclosure. For example payment codes may be created and or provided at block that include coupons special offers rewards purchases and or any other information that might be useful in an exchange between a user and a merchant. As such the system provider device may retrieve information associated with the user and or the merchant to determine whether the merchant is offering a coupon whether the user has saved a coupon whether the merchant is providing a special offer whether the user has qualified for a rewards purchase and or other information that may then be used to create provide the payment code at block .

The method then proceeds to block where the payment code is transmitted from the payment service provider device to the user device using the background communication process. In an embodiment the payment service provider device transmits the payment code created at block to the beacon system over the network. For example the payment service provider device may transmit the payment code over the Internet to the merchant network communication device which then operates to transmit that payment code to one or more of the beacon devices . In an embodiment of block the beacon system may receive the payment code from the payment service provider device and in response send the payment code to the user device using the background communication process. As such the user device may receive the payment code from the beacon system using the background communication process and without any intervention input or instructions from the user.

The method then proceeds to block where a payment code notification is provided on the user device. In an embodiment in response to receiving the payment code at block the user device operates to provide a payment code notification. In some of the examples discussed below the payment code notification may include the payment code while in other examples discussed below the payment code notification may require some action by the user in order to display the payment code. As discussed below the provisioning of the payment code notification may be performed as part of a background provisioning process that occurs without user intervention input or instructions. As such the payment code notification may be provided on the user device to inform a user who may be unaware that the payment code has been received by their user device that the payment code has been received. While in the embodiments illustrated and discussed below the provisioning of the payment code notification and or the payment occurs through the display of the payment code notification and or payment code other methods of providing the payment code notification may include an audio notification a tactile notification e.g. a vibration of the user device that is indicative to the user of the user device receiving a payment code and or a variety of other notifications known in the art.

Referring now to an embodiment of a user device is illustrated that includes a display displaying a lock screen . The lock screen may be a user interface element provided by the operating system running on the user device and may operate to regulate immediate access to the user device by requiring that the user perform a particular action in order to access the functionality of the user device such as for example providing authentication credentials providing a particular button combination performing a particular touch gesture or gestures and or a variety of other user lock screen actions known in the art. In the embodiment illustrated in a payment code notification is displayed on the lock screen in a background display process that occurs without user intervention. However the payment code notification may be displayed on any of a variety of screens provided by the operating system other than lock screens including home screens application screens and or a variety of other user device screens known in the art.

The display of the payment code notification on the lock screen in the background display process may be provided using a variety of background display processes including providing the payment code notification as a pop up window a text message an appointment message and or a variety of other elements that may be displayed on the user device without the input instruction or intervention from the user. As such in embodiments where a user that is not using their user device the background communication process discussed above may result in the user device receiving the payment code and the background display process may result in the payment code notification alerting the user via the unused user device e.g. by providing a sound a tactile response displaying the notification etc. that the payment code has been received and or is available. In embodiments where the user is currently using their user device the background communication process discussed above may result in the user device receiving the payment code and the background display process may result in the payment code notification alerting the user on the currently used user device e.g. by providing a sound a tactile response displaying the notification over a currently used application etc. that the payment code has been received and or is available.

In the illustrated embodiment the payment code notification includes a payment application identifier a notification instruction and a payment code . In some embodiments the payment code notification illustrated in may be particularly beneficial for user devices that include operating systems that restrict those user devices to displaying text in background display processes such as the display of information on a lock screen. In some embodiments the transmission of the user account authentication token at block to the payment service provider device may include information about the capabilities e.g. payment code display capabilities of the user device and or its operating system and those capabilities may be used by the payment service provider device to determine the type of payment code that should be transmitted. Additionally the transmission of the user account authentication token at block to the payment service provider device may include information about the capabilities e.g. payment code acceptance capabilities of the merchant device s at the physical merchant location and or their operating system s and those capabilities may be used by the payment service provider device to determine the type of payment code that should be transmitted.

As such the payment service provider device may have determined at block that the user device can only display text in a background display process and or that the merchant device s at the physical merchant location only accept text payment codes and thus created or otherwise provided that text payment code for transmission to the user device at block . The payment code notification in instructs the user via the notification instruction that they may use the payment code to make a payment to the merchant at the merchant physical location . As such without intervention from the user subsequent to entering a communication area provided by the beacon system at the physical merchant location the payment code is retrieved and displayed on the user device . As discussed in further detail below the user may then simply provide the payment code to the merchant at the merchant physical location in order to make a purchase from that merchant.

Referring now to the user device is illustrated displaying another embodiment of the lock screen with a payment code notification . The payment code notification includes a payment application identifier a notification instruction and a payment code . In some embodiments the payment code notification illustrated in may be particularly beneficial for user devices that include operating systems that allow user devices to display images in background display processes such as the display of an image on a lock screen. Similarly as discussed above the payment service provider device may have determined at block that the user device can display images in a background display process and or that the merchant device s at the physical merchant location accept image payment codes and thus created or otherwise provided that image payment code a QR code in the illustrated embodiment for transmission to the user device at block . The payment code notification in instructs the user via the notification instruction that they may use the payment code to make a payment to the merchant at the merchant physical location . As such without intervention from the user subsequent to entering a communication area provided by the beacon system at the physical merchant location the payment code is retrieved and displayed on the user device . As discussed in further detail below the user may then simply provide the payment code to the merchant at the merchant physical location in order to make a purchase from that merchant.

Referring now to the user device is illustrated displaying another embodiment of the lock screen with a payment code notification . The payment code notification includes a payment application identifier a notification instruction and a user action section . In some embodiments the payment code notification illustrated in may be particularly beneficial for user devices that include operating systems that do not allow user devices to display images in background display processes such as the display of information on a lock screen. Similarly as discussed above the payment service provider device may have determined at block that the user device cannot display images in a background display process but that the merchant device s at the physical merchant location accept image payment codes and thus created or otherwise provided that image payment code a QR code in the illustrated embodiment for transmission to the user device at block .

The payment code notification in instructs the user via the notification instruction to perform a user action using the user action section in order to access the payment code received by the user device at block . While the illustrated embodiment includes a user action section that requires a user input such as a swipe touch input other user action section may require user actions such as the provision of a passcode an authentication touch gesture a spoken authentication a fingerprint scan and or a variety of other user actions known in the art. Upon receiving the user input associated with the requested user action using the user action section the payment application on the user device may provide a payment application screen including a payment code that in the embodiment illustrated in includes a QR code. As such without intervention from the user subsequent to entering a communication area provided by the beacon system at the physical merchant location the payment code is retrieved and that payment code may quickly and easily be displayed on the user device in response to a user action provided in response to a payment code notification. As discussed in further detail below the user may then simply provide the payment code to the merchant at the merchant physical location in order to make a payment to that merchant.

Following the provision of the payment code on the user device the user may use the payment code to make a purchase from the merchant at the physical merchant location or may disregard the payment code if the user does not wish to make a purchase from the merchant at the physical merchant location . In some embodiments the user at the physical merchant location may select food to purchase from the merchant and upon the merchant providing a purchase amount for the selected food the user may then provide the payment code to the merchant. For example the user may allow the merchant to view the displayed payment code illustrated in may read off the displayed payment code to the merchant and or may otherwise provide the payment code to the merchant such that the merchant can enter the payment code into a point of sale POS device or other payment processing device. In another example the user may provide the displayed payment code or illustrated in respectively to a scanning device e.g. a QR code scanner or other payment code reading device that is coupled to a payment processing device at the physical merchant location . In another example the user may execute an audio file of the payment code such that an audio recognition device at the physical merchant location may receive the payment code information. While a few examples have been provided the provision of the payment code to a merchant may be performed in a variety of other manners while remaining within the scope of the present disclosure. If the user does not desire to purchase anything from the merchant at the physical merchant location and ignores the payment code notification the user device may stop displaying the payment code after a predetermined amount of time.

Upon receiving the payment code the payment processing device at the merchant physical location may transmit the payment code over the network to the payment service provider device along with purchase details that may include the purchase amount the goods being purchased and or any other information relevant to the purchase transaction between the user and the merchant. The payment service provider device may then use the information included in and provided along with the payment code to determine the user payment service account and the merchant payment service account and may operate to transfer funds equal to the purchase amount from the user payment service account or a user payment account associated with that user payment service account to the merchant payment service account or a merchant payment account associated with that merchant payment service account . The payment service provider device may notify the merchant device that the funds have been or will be transferred from the user payment service account to the merchant payment service account such that the merchant may be assured that any products purchased by the user have been paid for. In embodiments where the payment code was created and or provided to incorporate a coupon special offer rewards purchase the system provider device may then use the coupon special offer rewards purchase and or other information to adjust the payment amount as necessary.

Thus systems and methods for displaying a payment code have been provided that utilize a background communication process which may be performed between a beacon system at a physical merchant location and a user device that enters a communication area associated with that physical merchant location to transmit a payment code to the user device without the need for any user intervention. That payment code may then be displayed or otherwise provided by the user device and if the user desires to make a payment to the merchant at the merchant physical location the user may simply provide that payment code to the merchant. The systems and methods of the present disclosure greatly simplify the retrieval and display of payment codes making the provisioning of that payment code to a merchant by a user as simple as simply removing their user device from their pocket. Such systems and methods are expected to greatly increase the adoption of user device payment systems which have up to this point in time been delayed due to the cumbersome procedures required to retrieve and display payment codes.

While the examples above of the automatic payment code provisioning system are directed to quickly and easily providing a payment code to a merchant to perform a transaction involving a payment service provider the teachings of the present disclosure may be applied to the automatic provisioning of codes to any entity requesting that code. For example the teachings of the present disclosure may be utilized at an airline and or airport such that a user entering an airport may have their airline airport security access code automatically provided on their user device for provision to airport security to enter the airport and or to an airline employee to enter an airplane gate and access and airplane. In another example the teachings of the present disclosure may be utilized at an event such as a music event or sporting event such that a user entering an event venue may have their ticketing code automatically provided on their user device for provision to venue security to enter the venue or access particular areas of the venue. In yet another example the teachings of the present disclosure may be utilized at a rental agency such as a car rental agency such that a user entering rental location may have their rental code automatically provided on their user device for provision to a rental employee to quickly and easily retrieve their rental car. Thus while a few examples of the automatic provisioning of codes on a user device have been provided one of skill in the art in possession of the present disclosure will recognize that a wide variety of entities that utilize codes for user access user verification and or other purposes will benefit from the teachings of the present disclosure and fall within its scope.

Referring now to an embodiment of a network based system for implementing one or more processes described herein is illustrated. As shown the network based system may comprise or implement a plurality of servers and or software components that operate to perform various methodologies in accordance with the described embodiments. Exemplary servers may include for example stand alone and enterprise class servers operating a server OS such as a MICROSOFT OS a UNIX OS a LINUX OS or other suitable server based OS. It can be appreciated that the servers illustrated in may be deployed in other ways and that the operations performed and or the services provided by such servers may be combined or separated for a given implementation and may be performed by a greater number or fewer number of servers. One or more servers may be operated and or maintained by the same or different entities.

The embodiment of the networked system illustrated in includes a plurality of user devices a plurality of merchant devices a plurality of beacon devices a plurality of account provider devices a payment service provider device and or a system provider device in communication over one or more networks . The user devices may be the user devices discussed above and may be operated by the users discussed above. The merchant devices and beacon devices may be the merchant devices and beacon devices discussed above and may be operated by the merchants discussed above as well as in some embodiments the system provider as well. The account provider device may be the account provider devices discussed above and may be operated by the account providers discussed above which may include checking account providers savings account providers credit account providers and or a variety of other account providers known in the art. The payment service provider device may be the payment service provider devices discussed above and may be operated by a payment service provider such as for example PayPal Inc. of San Jose Calif. The system provider devices may be the system provider devices discussed above and may be operated by the system providers discussed above.

The user devices merchant devices beacon devices account provider devices payment service provider device and or system provider device may each include one or more processors memories and other appropriate components for executing instructions such as program code and or data stored on one or more computer readable mediums to implement the various applications data and steps described herein. For example such instructions may be stored in one or more computer readable mediums such as memories or data storage devices internal and or external to various components of the system and or accessible over the network .

The network may be implemented as a single network or a combination of multiple networks. For example in various embodiments the network may include the Internet and or one or more intranets landline networks wireless networks and or other appropriate types of networks.

The user devices may be implemented using any appropriate combination of hardware and or software configured for wired and or wireless communication over network . For example in one embodiment the user devices may be implemented as a personal computer of a user in communication with the Internet. In other embodiments the user devices may be a smart phone personal digital assistant PDA laptop computer and or other types of computing devices.

The user devices may include one or more browser applications which may be used for example to provide a convenient interface to permit the user to browse information available over the network . For example in one embodiment the browser application may be implemented as a web browser configured to view information available over the Internet.

The user devices may also include one or more toolbar applications which may be used for example to provide user side processing for performing desired tasks in response to operations selected by the user. In one embodiment the toolbar application may display a user interface in connection with the browser application.

The user devices may further include other applications as may be desired in particular embodiments to provide desired features to the user devices . In particular the other applications may include a payment application for payments assisted by a payment service provider through the payment service provider device . The other applications may also include security applications for implementing customer side security features programmatic customer applications for interfacing with appropriate application programming interfaces APIs over the network or other types of applications. Email and or text applications may also be included which allow user to send and receive emails and or text messages through the network . The user devices includes one or more user and or device identifiers which may be implemented for example as operating system registry entries cookies associated with the browser application identifiers associated with hardware of the user devices or other appropriate identifiers such as a phone number. In one embodiment the user identifier may be used by the payment service provider device to associate the user with a particular account as further described herein.

The merchant devices may be maintained for example by a conventional or on line merchant conventional or digital goods seller individual seller and or application developer offering various products and or services in exchange for payment to be received conventionally or over the network . In this regard the merchant devices may include a database identifying available products and or services e.g. collectively referred to as items which may be made available for viewing and purchase by the user.

The merchant devices also include a checkout application which may be configured to facilitate the purchase by the payer of items. The checkout application may be configured to accept payment information from the user through the user devices and or from the payment service provider through the payment service provider device over the network .

Referring now to an embodiment of a user device is illustrated. The user device may be the user devices discussed above. The user device includes a chassis having a display and an input device including the display and a plurality of input buttons . One of skill in the art will recognize that the user device is a portable or mobile phone including a touch screen input device and a plurality of input buttons that allow the functionality discussed above with reference to the methods above. However a variety of other portable mobile user devices and or desktop user devices may be used in the methods discussed above without departing from the scope of the present disclosure.

Referring now to an embodiment of a computer system suitable for implementing for example the user devices merchant devices beacon devices account provider devices payment service provider device and or the system provider device discussed above is illustrated. It should be appreciated that other devices utilized by customers merchants payment service providers account providers and or system providers in the system discussed above may be implemented as the computer system in a manner as follows.

In accordance with various embodiments of the present disclosure computer system such as a computer and or a network server includes a bus or other communication mechanism for communicating information which interconnects subsystems and components such as a processing component e.g. processor micro controller digital signal processor DSP etc. a system memory component e.g. RAM a static storage component e.g. ROM a disk drive component e.g. magnetic or optical a network interface component e.g. modem or Ethernet card a display component e.g. CRT or LCD an input component e.g. keyboard keypad or virtual keyboard a cursor control component e.g. mouse pointer or trackball a location determination component e.g. a Global Positioning System GPS device as illustrated a cell tower triangulation device and or a variety of other location determination devices known in the art and or a camera component . In one implementation the disk drive component may comprise a database having one or more disk drive components.

In accordance with embodiments of the present disclosure the computer system performs specific operations by the processor executing one or more sequences of instructions contained in the memory component such as described herein with respect to the user devices merchant devices beacon devices account provider devices payment service provider device and or system provider device. Such instructions may be read into the system memory component from another computer readable medium such as the static storage component or the disk drive component . In other embodiments hard wired circuitry may be used in place of or in combination with software instructions to implement the present disclosure.

Logic may be encoded in a computer readable medium which may refer to any medium that participates in providing instructions to the processor for execution. Such a medium may take many forms including but not limited to non volatile media volatile media and transmission media. In one embodiment the computer readable medium is non transitory. In various implementations non volatile media includes optical or magnetic disks such as the disk drive component volatile media includes dynamic memory such as the system memory component and transmission media includes coaxial cables copper wire and fiber optics including wires that comprise the bus . In one example transmission media may take the form of acoustic or light waves such as those generated during radio wave and infrared data communications.

Some common forms of computer readable media includes for example floppy disk flexible disk hard disk magnetic tape any other magnetic medium CD ROM any other optical medium punch cards paper tape any other physical medium with patterns of holes RAM PROM EPROM FLASH EPROM any other memory chip or cartridge carrier wave or any other medium from which a computer is adapted to read. In one embodiment the computer readable media is non transitory.

In various embodiments of the present disclosure execution of instruction sequences to practice the present disclosure may be performed by the computer system . In various other embodiments of the present disclosure a plurality of the computer systems coupled by a communication link to the network e.g. such as a LAN WLAN PTSN and or various other wired or wireless networks including telecommunications mobile and cellular phone networks may perform instruction sequences to practice the present disclosure in coordination with one another.

The computer system may transmit and receive messages data information and instructions including one or more programs i.e. application code through the communication link and the network interface component . The network interface component may include an antenna either separate or integrated to enable transmission and reception via the communication link . Received program code may be executed by processor as received and or stored in disk drive component or some other non volatile storage component for execution.

Referring now to an embodiment of a user device is illustrated. In an embodiment the device may be the user devices discussed above. The device includes a communication engine that is coupled to the network and to a payment code engine that is coupled to a user account authentication token database . The communication engine may be software or instructions stored on a computer readable medium that allows the device to send and receive information over the network . The payment code engine may be software or instructions stored on a computer readable medium that is configured to detect a beacon system establish a background communication process with the beacon system retrieve a user account authentication token from the user account authentication token database and send it to the beacon system receive a payment code from the beacon system provide a payment code notification e.g. for display provide a payment code e.g. for display and or provide any of the other functionality that is discussed above. While the user account authentication token database has been illustrated as a single database that is located in the device one of skill in the art will recognize that it may include multiple database and be connected to the payment code engine through the network without departing from the scope of the present disclosure.

Where applicable various embodiments provided by the present disclosure may be implemented using hardware software or combinations of hardware and software. Also where applicable the various hardware components and or software components set forth herein may be combined into composite components comprising software hardware and or both without departing from the scope of the present disclosure. Where applicable the various hardware components and or software components set forth herein may be separated into sub components comprising software hardware or both without departing from the scope of the present disclosure. In addition where applicable it is contemplated that software components may be implemented as hardware components and vice versa.

Software in accordance with the present disclosure such as program code and or data may be stored on one or more computer readable mediums. It is also contemplated that software identified herein may be implemented using one or more general purpose or specific purpose computers and or computer systems networked and or otherwise. Where applicable the ordering of various steps described herein may be changed combined into composite steps and or separated into sub steps to provide features described herein.

The foregoing disclosure is not intended to limit the present disclosure to the precise forms or particular fields of use disclosed. As such it is contemplated that various alternate embodiments and or modifications to the present disclosure whether explicitly described or implied herein are possible in light of the disclosure. For example the above embodiments have focused on merchants and users however a user can pay or otherwise interact with any type of recipient including charities and individuals. The payment does not have to involve a purchase but may be a loan a charitable contribution a gift etc. Thus merchant as used herein can also include charities individuals and any other entity or person receiving a payment from a customer. Having thus described embodiments of the present disclosure persons of ordinary skill in the art will recognize that changes may be made in form and detail without departing from the scope of the present disclosure. Thus the present disclosure is limited only by the claims.

