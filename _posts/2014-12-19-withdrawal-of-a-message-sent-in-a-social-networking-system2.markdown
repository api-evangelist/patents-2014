---

title: Withdrawal of a message sent in a social networking system
abstract: Some embodiments of a method for withdrawal a message include receiving, by a mobile device, an input to send a first message to a first recipient, the first message containing at least one image or video. The mobile device processes the first message for transmittal to the first recipient. In response to detecting a request to withdraw the first message within a timeout period, the mobile device determines that the first message has not been sent from the mobile device and terminates the processing of the first message for sending.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09641477&OS=09641477&RS=09641477
owner: FACEBOOK, INC.
number: 09641477
owner_city: Menlo Park
owner_country: US
publication_date: 20141219
---
Embodiments of the invention are related to the field of electronic communications. More specifically the embodiments are related to withdrawing messages sent in a social networking system.

A social networking system allows its user to connect to and communicate with other social network users. The communications may be through users sending each other messages which may include one or more audios videos and or images. The messaging often does not incur per message charge it is less disruptive than real time communications e.g. telephone calls and it can contain more information e.g. video or images than other means of communications. Thus messaging has become imminently popular among social network users.

With the popularity of messaging comes risks to the users. The ease of sending messages especially those including video or an image lends to the possibility of a user sending a spontaneous message the user regrets sharing.

Exemplary methods apparatuses and systems withdraw a message upon detecting a request from the user to withdraw the message within a timeout period. In one embodiment a sending device receives an input to send a message to a recipient. The sending device processes the message for sending to the recipient. If within the timeout period and or the message has not been sent the sending device detects a user request to withdraw the message the sending device terminates the processing and sending of the message.

When the request is detected after the message has been sent a request to withdraw the message is sent to a message server of a social networking system. Upon receiving the request to withdraw the message the message server determines whether or not the message has been sent from the message server. If the message has not been sent from the message server the message server terminates the processing of the message for sending. In one embodiment the message server also puts the message on a blacklist to ensure the recipient can no longer retrieve the message. If the message was sent to the recipient the message server transmits a withdrawal request to the recipient device e.g. a user device so that the recipient device may withdraw or otherwise prevent the message from being viewed by the recipient.

The request from the user to withdraw the message may be provided by the user in a variety of ways such as rapidly shaking the user device touching tapping a representation of the recipient on a display of the user device touching or tapping an animation on the display of the user device that represents the processing the message etc. In one embodiment the message withdrawal timeout period is adjusted based on one or more of a variety of factors the social affinity between the user and the recipient the number of users included as recipients of the message and or the frequency of communications between the user and the recipient s . Additionally the processing of the message in the sending device may include waiting for the expiration of the timeout period prior to sending to the message. In one embodiment if another message to be sent is received from the user during the timeout period the pending message awaiting the expiration of the timeout period is sent prior to the expiration of the timeout period and the new message causes the reset of the timeout period.

Other features and advantages will be apparent from the accompanying drawings and from the detailed description.

In the following description numerous specific details are set forth. However it is understood that embodiments of the invention may be practiced without these specific details. In other instances well known circuits structures and techniques have not been shown in detail in order not to obscure the understanding of this description. It will be appreciated however by one skilled in the art that the invention may be practiced without such specific details. Those of ordinary skill in the art with the included descriptions will be able to implement appropriate functionality without undue experimentation.

References in the specification to one embodiment an embodiment an example embodiment etc. indicate that the embodiment described may include a particular feature structure or characteristic but every embodiment may not necessarily include the particular feature structure or characteristic. Moreover such phrases are not necessarily referring to the same embodiment. Further when a particular feature structure or characteristic is described in connection with an embodiment it is submitted that it is within the knowledge of one skilled in the art to implement such feature structure or characteristic in connection with other embodiments whether or not explicitly described. In the following description and claims the terms coupled and connected along with their derivatives may be used. It should be understood that these terms are not intended as synonyms for each other. Coupled is used to indicate that two or more elements which may or may not be in direct physical or electrical contact with each other co operate or interact with each other. Connected is used to indicate the establishment of communication between two or more elements that are coupled with each other. A set as used herein refers to any positive whole number of items including one item.

An electronic device stores and transmits internally and or with other electronic devices over a network code composed of software instructions and data using machine readable media such as non transitory machine readable media e.g. machine readable storage media such as magnetic disks optical disks read only memory flash memory devices phase change memory and transitory machine readable transmission media e.g. electrical optical acoustical or other form of propagated signals such as carrier waves infrared signals . In addition such electronic devices include hardware such as a set of one or more processors coupled to one or more other components e.g. one or more non transitory machine readable storage media to store code and or data and network connections to transmit code and or data using propagating signals as well as user input output devices e.g. a keyboard a touchscreen and or a display in some cases. The coupling of the set of processors and other components is typically through one or more interconnects within the electronic devices e.g. busses and possibly bridges . Thus a non transitory machine readable medium of a given electronic device typically stores instructions for execution on one or more processors of that electronic device. One or more parts of an embodiment of the invention may be implemented using different combinations of software firmware and or hardware. A user device and a social networking system may comprise one or more electronic devices. Additionally while a social networking system is used to describe embodiments of withdrawing messages it will be understood that these concepts are generally applicable to other messaging services network services entities websites etc.

Messaging through social networking systems particularly when utilized in a mobile device e.g. cellphone tablet wearable device encourages sharing impromptu text images and or video. For example a messaging service may utilize a single input to both capture an image of a user via a front facing camera on the user device and send the image to one or more recipients. While expediting the process of sharing a moment in time this type of messaging may cause the user to inadvertently send an image or other message the user ultimately would prefer not to share. Thus it is advantageous for a social networking system or other messaging system to provide users the ability to withdraw a message.

In some embodiments the social networking system comprises one or more computing devices storing user profiles associated with users and or other objects as well as connections between these users and or objects. The users and or other objects are associated with user devices A N which are enabled to interact with social networking system and can be any type of computing device capable of receiving user input as well as transmitting and or receiving data via a network e.g. network . For example the user devices A N can include conventional computer systems such as a desktop or laptop computer or may include devices having computer functionalities such as Personal Digital Assistants PDA cellular or mobile telephones smart phones tablet phablet in or out of car navigation systems gaming devices wearable electronic device or other electronic devices. Some user devices are small light and they can be carried by the user easily and they are referred to as mobile devices.

In one embodiment a user device e.g. A may execute a messaging application e.g. A allowing a user of the user device A to interact with the social networking system . For example the user application A may be an application based on a web browser e.g. Microsoft Windows Internet Explorer Mozilla Firefox Apple Safari Google Chrome Opera etc. . In an embodiment the user application A is a special purpose client application App such as Facebook for iPhone or iPad etc. and in an embodiment the user application A is the native operating system of the user device A such as Windows Mac OSX IOS or ANDROID which may utilize an Application Programming Interface API to directly interface with the social networking system through API request server .

The user devices A N are configured to communicate with the social networking system via a network or collection of networks such as the Internet a corporate Intranet a Virtual Private Network VPN a Local Area Network LAN a Wireless Local Area Network WLAN a cellular network a Wide Area Network WAN a Metropolitan Area Network MAN or a combination of two or more such networks. The network may be wired wireless or a combination of both. In one embodiment the network uses standard communications technologies and or protocols. Thus the network may include links using technologies such as Ethernet Institute of Electrical and Electronics Engineers IEEE 802.11 Worldwide Interoperability for Microwave Access WiMAX 3G 4G Long Term Evolution LTE Code Division Multiple Access CDMA Digital Subscriber Line DSL cable modems etc. Similarly the networking protocols used on the network may include Multiprotocol Label Switching MPLS Transmission Control Protocol TCP Internet Protocol IP TCP IP User Datagram Protocol UDP Hypertext Transport Protocol HTTP Simple Mail Transfer Protocol SMTP and or File Transfer Protocol FTP . Data exchanged over the network may be represented using technologies and or formats including Hypertext Markup Language HTML Extensible Markup Language XML or JavaScript Object Notation JSON among other formats. In addition all or some of links can be encrypted using conventional encryption technologies such as Secure Sockets Layer SSL Transport Layer Security TLS or Internet Protocol security IPsec .

The social networking system fundamentally relies upon information representing its users and a set of objects. Users using the social networking system may add connections to other users or objects of the social networking system to which they desire to be connected and may also interact with these other users or objects. The users of the social networking system are individuals e.g. humans and the objects may include entities such as businesses organizations universities manufacturers brands celebrities etc. concepts or other non human things including but not limited to a location an album an article a book a concept etc.

In some embodiments the social networking system also allows users to interact with external e.g. third party applications e.g. websites external storage and or external servers e.g. server end stations .

Based on the stored data about users objects and the connections between the users and or objects the social networking system generates and maintains a social graph in a social graph store comprising a plurality of nodes interconnected by a plurality of edges. Each node in the social graph represents a user or object that can act on another node and or that can be acted on by another node. An edge between two nodes in the social graph represents a particular kind of connection between the two nodes which may result from an action that was performed by one of the nodes on the other node. For example when a user identifies an additional user as a friend an edge in the social graph is generated connecting a node representing the first user and an additional node representing the additional user. The generated edge has a connection type indicating that the users are friends. As various nodes interact with each other the social networking system adds removes or otherwise modifies edges connecting the various nodes to reflect the interactions.

Embodiments use the social graph to determine affinity or other characterization of a relationship between users. This characterization of the relationship between two users may be used to determine an amount of time to allow for the potential withdrawal of a message between the users as described with reference to

To provide these functionalities the embodiment of the social networking system includes an API request server a web server the message server an action logger and a set of data stores . This embodiment also includes within the data stores a social graph store including a blacklist discussed in more detail with reference to as well as a content store an action log a user profile data store and an object data store . In other embodiments the social networking system may include additional fewer or different modules for various applications. Of course conventional components such as processors memories security mechanisms load balancers failover servers management and network operations consoles and the like are not shown in so as to not obscure the details of the system.

The social networking system allows its users through user devices A N to communicate or otherwise interact with each other and access content as described herein. The social networking system stores user profiles in the user profile data store . A user profile includes declarative information about the user that was explicitly shared by the user and may also include profile information inferred by the social networking system . In one embodiment a user profile includes multiple data fields each data field describing one or more attributes of the corresponding user of the social networking system . The user profile information stored in user profile data store describes the users of the social networking system including biographic demographic and other types of descriptive information such as work experience educational history gender relationship status hobbies location other preferences and the like. The user profile may also store information provided by the user. For example images or videos provided by the user may also be stored within the user profile. In other embodiments only textual data of the user is stored in the user profile and other data e.g. images videos are stored in multimedia stores and associated with the user e.g. through associating a user identifier of the user with an image video identifier of the multimedia content . In certain embodiments images or videos including or depicting users of the social networking system may be tagged with identification information of those users. A user profile in the user profile data store may also maintain references to actions stored in the user profile or in an action log by the corresponding user performed on content items in a content store and stored in an edge store . A user may also specify one or more privacy settings which are stored in that user s user profile. Privacy settings limit information that the social networking system or other users of the social networking system are permitted to access from that user s user profile.

The web server links the social networking system via the network to one or more user devices A N by accepting requests for from the user devices A N and or transmitting web pages or other web related content to the user devices A N such as image files audio files video files Java applets Flash XML JavaScript Cascading Style Sheets CSS and so forth. The web server in some embodiments is configured to utilize a set of one or more network interfaces to send and receive messages across the network . In some embodiments the web server additionally or alternately utilizes the message server e.g. a dedicated server end station a dedicated software application etc. to communicate with the user devices A N which is operative to send and or receive instant messages queued messages e.g. email text and SMS Short Message Service messages or utilize any other suitable messaging technique.

In some embodiments a message sent by a user to another user by way of the social networking system can be viewed by other users of the social networking system for example by certain connections of the user directly connected users in the social graph other users more than one hop away in the social graph etc. receiving the message. An example of a type of message that can be viewed by other users of the social networking system besides the recipient of the message is commonly known as a post. In some embodiments a user can send a private message to another user that can only be retrieved by the other user.

When a user takes an action within the social networking system the action may be recorded in an action log by an action logger subject to any privacy settings and restrictions of the user and or social networking system . In one embodiment the social networking system maintains the action log as a database of entries. When an action is taken on the social networking system the social networking system can add an entry for that action to the action log . In accordance with various embodiments the action logger is capable of receiving communications from the web server about user actions on and or off the social networking system . The action logger populates the action log with information about those user actions. This information may be subject to privacy settings associated with the user. Any action that a particular user takes with respect to another user is associated with each user s profile through information maintained in a database or other data repository such as the action log . Examples of actions taken in the social networking system that may be stored in the action log include but are not limited to adding a connection to another other user sending a message to the other user reading a message from the other user viewing content e.g. posts images videos associated with or created by the other user attending an event posted by another user being tagged in photos with another user etc. In some embodiments certain actions are described in connection with more than one user and these actions may be associated with those users as well and stored in the action log .

The action log may be used by the social networking system to track other user actions on the social networking system as well as actions on an external application e.g. website that are communicated to the social networking system . Users may interact with various objects on the social networking system including commenting on posts sharing links and checking in to physical locations via a mobile device accessing content items in a sequence or other interactions. Information describing these actions is stored in the action log . Additional examples of interactions with objects on the social networking system included in the action log include logging in to the social networking system commenting on a photo album communications between users becoming a fan of a musician or brand by liking a page of the respective entity adding an event to a calendar joining a group creating an event authorizing an application using an application and engaging in a transaction. Additionally the action log records a user s interactions with advertisements on the social networking system as well as other applications operating on the social networking system . In some embodiments data from the action log is used to infer interests or preferences of the user augmenting the interests included in the user profile and allowing a more complete understanding of user preferences.

The API request server allows external systems e.g. an external application of external server and or user applications A of user devices A N to access information from or transmit information to the social networking system by issuing API calls. The information provided by the social networking system may include user profile information or the connection information of users subject to the individual privacy settings of the user. For example a system e.g. external application may send an API request to the social networking system via the network to publish a story on behalf of a user request information about a user after having been given permission to do so by the user upload a photograph on behalf of a user etc. API requests are received at the social networking system by the API request server which then processes the request by performing actions sought by the API requests determining appropriate responses to the API requests and transmitting back these responses back to the requesting application via the network .

The content store stores content items associated with user profiles such as images videos and or audio files. Content items from the content store may be displayed when a user profile is viewed or when other content associated with the user profile is viewed. For example displayed content items may show images or video associated with a user profile or show text describing a user s status. Additionally other content items may facilitate user engagement by encouraging a user to expand his connections to other users or entities to invite new users to the system or to increase interaction with the social network system by displaying content related to users objects activities or functionalities of the social networking system . Examples of social networking content items include suggested connections or suggestions to perform other actions media provided to or maintained by the social networking system e.g. pictures videos status messages or links posted by users to the social networking system events groups pages e.g. representing an organization or commercial entity and any other content provided by or accessible via the social networking system .

The content store also includes one or more pages associated with entities included social graph store . An entity is a type of object that can be a non individual user of the social networking system such as a business a vendor an organization or a university. However in some embodiments of the invention an entity may represent a celebrity or other well known individual and thus an entity object node for a person may exist in the social graph serving as a brand for that individual and perhaps having an associated page that other users may like and also a user node for that same person may also exist in the social graph serving as a representation for a personal account of that person . A page includes content associated with an entity and instructions for presenting the content to a user of the social networking system . For example a page identifies content associated with the entity s stored content from the object data store as well as information describing how to present the content to users viewing the page.

When a user requests a user device e.g. user device A to send a message to a recipient e.g. the user of user device B the message is delivered via social networking system . The social networking system receives the message from the sender and delivers the message to the recipient. According to embodiments set forth herein the message may be withdrawn by one or more different entities. If the message has not been sent from the user device the messaging application within the user device e.g. messaging application A may terminate processing of the message for sending to the recipient. If the message has been sent from the user device to social networking system message server of social networking system may withdraw the message from being transmitted to the recipient. If the message has been sent from message server the message server may request the withdrawal of the message from the recipient device e.g. user device B and messaging application B . The different withdrawals of messages are discussed in further detail herein.

At reference a user device receives an input to send a first message to a recipient. In one embodiment the user is a user of a social networking system e.g. social networking system . Alternatively the user is a user of another messaging platform. In one embodiment the recipient may be an individual user a group of users or a posting page for others to view and comment.

At reference the user device processes the first message for transmittal to the recipient. For example the processing may be performed by messaging application of user device as discussed above. In one embodiment the processing includes waiting for a timeout period e.g. 5 seconds to expire before sending the first message to the recipient. For example the timeout period may be measured from the receipt of the input to send the first message. In one embodiment the user device uses a fixed timeout period. In another embodiment the user device uses a dynamic range of timeout periods. This timeout period may be referred to herein as the client timeout period to differentiate this timeout period from a second timeout period implemented by the message server the server timeout period. The server time period is described with reference to . The range of the timeout periods will be discussed in more detail below with reference to .

In one embodiment the user device stores the message in a queue during the processing. The queuing also referred to as buffering of messages may be implemented in various ways. In one embodiment each recipient has a corresponding queue that the stores only messages for the specific recipient. In an alternative embodiment multiple all recipients share a single queue. In one embodiment the one or more queues each are able to hold a single message. Alternatively the one or more queues are each able to hold multiple messages.

At reference the user device determines whether or not the user device has received an input to send a second message within the client timeout period. In one embodiment the determination is made per recipient i.e. the second message is to be sent to the same recipient as the first message and the first message is currently stored in a queue corresponding to that recipient. Alternatively the second message may be addressed to any recipient e.g. all recipients share a single queue.

If the second message is received at reference the processing of the second message causes the user device to send the first message even if the client timeout period for the first message has not expired. For example the user device may determine that the corresponding queue contains a threshold number of messages. By sending the first message the user device makes space within the queue for the second message. The receipt of the second message also resets the client timeout period. As such the user device waits until the new client timeout period expires or an input to send a third message before sending the second message. As used herein the sending of a message by a user device or social networking system includes initiating a transmission of the message. For example the sending or initiating the transmission of the first message may include processing the message for transmission waiting for a timeout period to expire etc. The transmission of the message to the recipient involves transmitting the message via a network to the social networking system. The social networking system e.g. the message server in turn initiates the transmission to the receiving user device.

If the second message is not received at reference the user device determines whether or not the user device has detected an input to withdraw the first message or otherwise to not share the first message with the recipient . In one embodiment the user device determines if a request to withdraw the first message is received within the client timeout period. If there is no such request the user device sends the first message to the recipient e.g. via a message server at reference . After the first message has been sent to the recipient the user device determines if a request to withdraw the first message is received at reference . If a request to withdraw the first message is received method optionally proceeds via off page connector A which starts another process for withdrawing the first message as discussed herein below. If the request is not received the user device may keep monitoring the request to withdraw at reference e.g. for a limited time until another message is received etc. .

If the user device receives an input to withdraw the first message at reference the user device determines whether or not the first message has been sent. If the first message has already been sent method optionally proceeds via off page connector A.

If the first message has not been sent from the user device the user device terminates the processing of the first message at reference .

Not all of the described features of method are necessary for implementing embodiments of the invention. For example an embodiment may not make the determination of reference resulting in the user device processing the first message regardless of a second message.

An input requesting the withdrawal of a message may be implemented using one or more of a variety of sensors. For example the user device may include a display screen capable of touch input often referred to as a touch screen . Additionally the device may include a motion sensor e.g. an accelerometer or a gyroscope a sound sensor e.g. a microphone a galvanic skin response sensor etc.

In one embodiment the user device detects the motion of the user device through the motion sensor. If the user device experiences a rapid shaking within the client timeout period the user device determines that the motion is to be treated as a request to withdraw the message.

A variety of other inputs may trigger the withdrawal of the message. For example the mobile device using the sound sensor may interpret speech input to be a request to withdraw a message. In one embodiment one or more of the inputs for triggering the withdrawal referred to as undo inputs of the message is interpreted by user device as a user command to withdraw the message when the undo input is received immediately following input to initiate the transmission of the message or during a client timeout period after the user device receives the input to initiate transmission of the message.

At reference user device A receives a request to withdraw the message. At reference user device A determines that the message was sent to message server . In response user device sends a request to withdraw the message to message server at reference . The request contains a message identifier to enable message server to determine which message to withdraw. The identifier of the message may be a transaction identifier or other unique identifier of the message.

At reference message server determines the message has not been sent yet. In one embodiment message server enters a representation of the message e.g. the message identifier into a blacklist in response to receiving the withdrawal request and determining the message has not been sent yet and terminate processing of the message. For example message server maps the received identifier to a message being processed for transmission to user device B. The blacklist is a data structure indicating messages are inaccessible to one or more recipients. When a recipient attempts to retrieve a message from message server message server checks the blacklist and if the message is on the blacklist the request for retrieval is rejected. In one embodiment message server terminates the processing of the message or otherwise cancels the transmission of the message to user device B in response to receiving the withdrawal request and determining the message has not been sent yet.

At reference upon receiving the request to withdraw the message from user device A at reference message server determines that the message has been sent to user device B at reference . Similar to the description above message server maps a transaction identifier or other unique message identifier received in the withdrawal request to messages that have been transmitted to determine that the message was sent to user device B.

In response to determining the message has been sent to user device B message server sends a request to withdraw the message to user device B at reference . In response to the withdrawal request user device B causes the message to not be displayed further displayed e.g. deleting or modifying the message to a user at reference . In one embodiment user device B deletes the message in response to the request to withdraw the message. In another embodiment user device B modifies the message to replace the content with another content. For example if the message included a photo or video user device B modifies the message to replace the photo or video with a default image or video as a representation of the withdrawal of the message. Alternatively the photo or video may be blurred redacted or otherwise obscured.

In one embodiment user device A sends confirmation of the successful withdrawal of the message to user device A via message server at reference . In one embodiment the recipient is also notified that the message for him her a group has been withdrawn.

At reference the message server receives a message addressed to a recipient from a user device. The message server processes the received message for delivery to the recipient. For example the message server maps the recipient address in the received message to a user account and or recipient device. In one embodiment the processing includes a server timeout period before the message is transmitted to the recipient device.

At reference the message server determines whether or not the message server has received a message withdrawal request. In one embodiment the message server makes this determination during or at the expiration of the server timeout period. For example prior to sending the message the message server determines whether or not the message is on a blacklist. In another embodiment the message server makes this determination as a part of receiving a message withdrawal request. As discussed herein the message withdrawal request includes a message identifier to enable the message server to identify the corresponding message to be withdrawn. If the message server has not received a message withdrawal request the message server sends the message to the recipient at reference .

If the message server has received a message withdrawal request at reference of the message server determines whether or not the message server has sent the message to the recipient device. If the message has not been sent at reference the messaging server terminates the processing of the message and enters the message in a blacklist. As a result the recipient device does not receive and is prohibited from retrieving the message.

If the message was sent from the message server at reference the message server transmits a withdrawal request to the recipient device e.g. as described with reference to above .

Note methods and each include a timeout period referred to respectively as the client timeout period and the server timeout period for detecting a request not to share a message. The timeout period can be in the range of 1 second to 30 minutes. The two timeout periods may or may not be the same. Also the timeout period may be adjusted by the sending user device or the message server depending on various factors. For example if the recipient is a group of users the timeout period s may be longer to give the user more time to withdraw the sharing. In one embodiment the larger the group the longer the timeout periods. In one embodiment if the recipient is someone with which the sending user communicates frequently the timeout periods may be shorter. Additionally the timeout period may be adjusted based upon the social affinity between the sending user and the recipient. For example if the user and the recipient are directly connected within a social networking system or otherwise are connected as friends the timeout period may be set shorter than when the user and the recipient are indirectly connected or determined to be coworkers. The determination of the social affinity may be based on the social graph discussed herein.

In one embodiment users are able to add demographic information to user profiles . In one embodiment for demographic information that has not been entered by a user a social network application generates an estimate based upon the user s actions connections and or actions of connections. For example User B has not entered an alma mater into user profile . A social network application may determine from User B s contacts activities cities of residence etc. that User B s likely alma mater is one or both of Brigham Young University and Harvard University. In one embodiment the user profiles include additional information such as relationships to other users places where the user works has worked user interests etc.

In one embodiment users are able to provide feedback on actions of other users entities. As a result actions are also viewed as objects that may be acted upon. For example User B listened to music by the artist The Killers. As a result the social networking system publishes a narrative associated with User B e.g. in a newsfeed profile of User B etc. indicating that User B listened to music by the artist The Killers. In viewing a newsfeed profile of User B or another form of social networking system publication s the social networking system displays the narrative to User A. The social networking system then receives input from User A indicating that User A likes that User B listened to The Killers.

In one embodiment demographic data further includes a weight or score indicating an affinity between a user and another user object. For example repeated user action with one object may indicate a stronger affinity for said object than another object with which the user has limited interaction. First degree connections e.g. the friendship between User A and User B may indicate a stronger affinity than second degree connections e.g. User A is friends with User B who is friends with User C creating a second degree connection between User A and User C. An indication that two users are married may indicate a stronger affinity than if two users are friends. Additionally temporal and geographic proximity of actions users are other exemplary indicators of affinity. In one embodiment users may select privacy settings to control what network service data is shared with whom the data is shared and or what data used for selecting candidate objects.

From the social graph the social networking system may determine the social affinity of the sending user and the recipient. As described above the social networking system the message server and or the sending user device may set adjust the timeout period s to a corresponding value based upon the determined social affinity. For example a table or other data structure may map different levels values or types of social affinity to corresponding timeout periods. The system device setting the timeout period uses the table to look up the timeout period corresponding to the determined social affinity.

Data processing system includes memory which is coupled to microprocessor s . Memory may be used for storing data metadata and programs for execution by the microprocessor s . For example memory may include one or more of the data stores and or may store modules described herein. Memory may include one or more of volatile and non volatile memories such as Random Access Memory RAM Read Only Memory ROM a solid state disk SSD Flash Phase Change Memory PCM or other types of data storage. Memory may be internal or distributed memory.

Data processing system includes network and port interfaces such as a port connector for a dock or a connector for a USB interface FireWire Thunderbolt Ethernet Fibre Channel etc. to connect the system with another device external component or a network. Exemplary network and port interfaces also include wireless transceivers such as an IEEE 802.11 transceiver an infrared transceiver a Bluetooth transceiver a wireless cellular telephony transceiver e.g. 2G 3G 4G etc. or another wireless protocol to connect data processing system with another device external component or a network and receive stored instructions data tokens etc.

Data processing system also includes display controller and display device and one or more input or output I O devices and interfaces . Display controller and display device provides a visual user interface for the user. I O devices allow a user to provide input to receive output from and otherwise transfer data to and from the system. I O devices may include a mouse keypad or a keyboard a touch panel or a multi touch input panel camera optical scanner audio input output e.g. microphone and or a speaker an accelerometer other known I O devices or a combination of such I O devices. It will be appreciated that one or more buses may be used to interconnect the various components shown in .

As used herein the terms computer device system processing system processing device and apparatus comprising a processing device may be used interchangeably with data processing system and include the above listed exemplary embodiments.

Additional components not shown may also be part of data processing system and in certain embodiments fewer components than that shown in may also be used in data processing system . It will be apparent from this description that aspects of the inventions may be embodied at least in part in software. That is the computer implemented method s of message withdrawal described herein may be carried out in a computer system or other data processing system in response to its processor or processing system executing sequences of instructions contained in a memory such as memory or other non transitory machine readable storage medium. For example memory may store messaging application external application an application for messenger server etc. The software may further be transmitted or received over a network not shown via network interface device . In various embodiments hardwired circuitry may be used in combination with the software instructions to implement the present embodiments. Thus the techniques are not limited to any specific combination of hardware circuitry and software or to any particular source for the instructions executed by data processing system

Different embodiments of the invention may be implemented using different combinations of software firmware and or hardware. Thus the techniques shown in the figures can be implemented using code and data stored and executed on one or more electronic devices e.g. an end system a network element . Such electronic devices store and communicate internally and or with other electronic devices over a network code and data using computer readable media such as non transitory computer readable storage media e.g. magnetic disks optical disks random access memory read only memory flash memory devices phase change memory and transitory computer readable transmission media e.g. electrical optical acoustical or other form of propagated signals such as carrier waves infrared signals digital signals . In addition such electronic devices typically include a set of one or more processors coupled to one or more other components such as one or more storage devices non transitory machine readable storage media user input output devices e.g. a keyboard a touchscreen and or a display and network connections. The coupling of the set of processors and other components is typically through one or more busses and bridges also termed as bus controllers . Thus the storage device of a given electronic device typically stores code and or data for execution on the set of one or more processors of that electronic device.

As detailed herein some embodiments of a method for withdrawal of a message include receiving by a mobile device an input to send a first message to a first recipient the first message containing at least one image or video processing by the mobile device the first message for transmittal to the first recipient detecting within a timeout period by the mobile device a first request to withdraw the first message determining that the first message has not been sent from the mobile device in response to detecting the first request and terminating by the mobile device the processing of the first message for sending in response to the detection of the first request and the determination that the first message has not been sent.

Additionally some embodiments of the method further include one or more of 1 In some embodiments of the method the detection within the timeout period comprises at least one of detecting a level of shaking of the mobile device over a predetermined threshold detecting a touch or tap of a representation of the recipient on display of the mobile device and detecting a touch or tap of a send animation for the processing of the message 2 In some embodiments of the method the timeout period is adjustable based on at least one of social affinity between the user and the recipient a number of users included in the recipient and frequency of communication between the user and the recipient 3 In some embodiments of the method the processing of the first message comprises waiting for the timeout period to expire prior to sending to the first recipient 4 In some embodiments of the method the waiting includes placing the first message in a processing queue and the method further includes processing a second message for sharing by the mobile device to a second recipient wherein the processing causes sending of the first message from the mobile device prior to the timeout period expiring 5 In some embodiments of the method only the first and second recipient being the same recipient causes sending the first message from the mobile device 5 In some embodiments of the method the method further includes detecting a second request from the user to withdraw the second message determining that the second message has been sent from the mobile device and sending to a server coupled to the mobile device and an electronic device of the second recipient a request to withdraw the message upon the determination the request to withdraw containing a message identifier of the second message 6 In some embodiments of the method the request to withdraw when executed by the server causes the server to enter the second message into a blacklist wherein the electronic device of the second recipient is prohibited from retrieving messages within the blacklist 7 In some embodiments of the method the request to withdraw when executed by the server causes the server to determine whether the second message has been sent from the server toward the electronic device of the second recipient and to transmit a withdrawal request to the electronic device of the second recipient upon the determination that the second message has been sent to the electronic device and wherein the withdrawal request includes the identifier of the message 8 In some embodiments of the method the withdrawal request of the second message may cause the electronic device to perform at least one of the following deleting the second message in the electronic device distorting the second message from viewing by the recipient replacing the second message with a default message and sending a notification of a result of the withdrawal request toward the mobile device.

As detailed herein some embodiments of a non transitory machine readable medium storing instructions for withdrawal of a message the instructions include receiving by a mobile device a input to send a first message to a first recipient the first message containing at least one image or video processing by the mobile device the first message for transmittal to the first recipient detecting within a timeout period by the mobile device a first request from the user not to withdraw the first message determining that the first message has not been sent from the mobile device in response to detecting the first request and terminating by the mobile device the processing of the first message for sending in response to the detection of the first request and the determination that the first message has not been sent.

Additionally some embodiments of the method further include one or more of 1 In some embodiments of the non transitory machine readable medium the detection within the timeout period comprises at least one of detecting a level of shaking of the mobile device over a predetermined threshold detecting a touch or tap of a representation of the recipient on display of the mobile device and detecting a touch or tap of a send animation for the processing of the message 2 In some embodiments of the non transitory machine readable medium the timeout period is adjustable based on at least one of social affinity between the user and the recipient a number of users included in the recipient and frequency of communication between the user and the recipient 3 In some embodiments of the non transitory machine readable medium the processing of the first message comprises waiting for the timeout period to expire prior to sending to the first recipient 4 In some embodiments of the non transitory machine readable medium the waiting includes placing the first message in a processing queue and the method further includes processing a second message for sending to a second recipient wherein the processing causes sending of the first message from the mobile device prior to the timeout period expiring 5 In some embodiments of the non transitory machine readable medium only the first and second recipient being the same recipient causes sending the first message from the mobile device 6 In some embodiments of the non transitory machine readable medium the method further includes detecting a second request to withdraw the second message determining that the second message has been sent from the mobile device and sending to a server coupled to the mobile device and an electronic device of the second recipient a request to withdraw sharing the message with the recipient upon the determination the request to withdraw containing a message identifier of the second message 7 In some embodiments of the non transitory machine readable medium the request to withdraw when executed by the server causes the server to enter the second message into a blacklist wherein the electronic device of the second recipient is prohibited from retrieving messages within the blacklist 8 In some embodiments of the non transitory machine readable medium the request to withdraw when executed by the server causes the server to determine whether the second message has been sent from the server toward the electronic device of the second recipient and to transmit a withdrawal request to the electronic device of the second recipient upon the determination that the second message has been sent to the electronic device and wherein the withdrawal request includes the identifier of the message 9 In some embodiments the withdrawal request of the second message causes the electronic device to perform at least one of the following deleting the second message in the electronic device distorting the second message from viewing by the recipient replacing the second message with a default message and sending a notification of a result of the withdrawal request toward the mobile device.

While the flow diagrams in the figures herein above show a particular order of operations performed by certain embodiments of the invention it should be understood that such order is exemplary e.g. alternative embodiments may perform the operations in a different order combine certain operations overlap certain operations etc. .

While the invention has been described in terms of several embodiments those skilled in the art will recognize that the invention is not limited to the embodiments described can be practiced with modification and alteration within the spirit and scope of the appended claims. The description is thus to be regarded as illustrative instead of limiting.

