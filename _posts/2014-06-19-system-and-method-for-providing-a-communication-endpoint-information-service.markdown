---

title: System and method for providing a communication endpoint information service
abstract: A system and method for providing a telephony endpoint information service at a communication platform includes obtaining information of a first endpoint through a set of information collection processes; storing the obtained information in an endpoint repository; receiving an endpoint query request of a communication event, wherein the endpoint query request specifies at least a first endpoint; accessing endpoint information for the first endpoint; and augmenting the communication event according to the accessed endpoint information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09225840&OS=09225840&RS=09225840
owner: Twilio, Inc.
number: 09225840
owner_city: San Francisco
owner_country: US
publication_date: 20140619
---
This application claims the benefit of U.S. Provisional Application Ser. No. 61 836 937 filed on 19 Jun. 2013 which is incorporated in its entirety by this reference.

This invention relates generally to the portable telephony field and more specifically to a new and useful system and method for providing a communication endpoint information service in the telephony field.

The phone is becoming an increasingly important tool for communicating. In addition to traditional use as a tool for voice communication the capabilities of the phone have expanded to media sharing text messaging video calls screen sharing and other features. While many devices offer ever expanding functionality users also have more variety in the carrier plans to support various features. Additionally devices can now include a range of various capabilities varying between basic phones simple cell phones smart phones VoIP devices connected smart devices and other telephony devices. With so much diversity in the capabilities of a phone it can be difficult for developers carriers and service providers to accommodate the variety of capabilities. Application developers and communication platforms are often limited to building tools that target legacy devices or to targeting those with newer capabilities and possibly alienating those with older devices or limited functionality. Thus there is a need in the telephony field to create a new and useful system and method for providing a communication endpoint information service. This invention provides such a new and useful system and method.

The following description of preferred embodiments of the invention is not intended to limit the invention to these preferred embodiments but rather to enable any person skilled in the art to make and use this invention.

As shown in a system for providing a communication endpoint information service of a preferred embodiment includes a communication endpoint interface service of a communication platform and a communication endpoint repository. The system functions to enable information of communication endpoints to be collected accessed and used in operational logic of a communication platform. Since capabilities can vary greatly between the devices assigned to communication endpoints the system preferably enables capabilities to be tracked and used in operation of the communication platform. Also the current user owner of a communication endpoint can influence how communication should occur e.g. what is the native language of the user .

The system is preferably incorporated into a communication platform that provides capabilities of communicating or interacting with a communication endpoint. The communication platform is preferably substantially similar to the one described in U.S. Pat. No. 8 306 021 issued 6 Nov. 2012 which is hereby incorporated in its entirety by this reference. The communication platform can alternatively have any suitable architecture or functionality. In one variation the communication platform facilitates communicating media messages to and or from various endpoints e.g. provides an API for programmatic MMS messaging . The capabilities of a device to render the media message may impact how and what media is communicated to the communication endpoint. The communication platform can additionally or alternatively provide voice and or video communication with one or more endpoints. The system can additionally collect information related to the user of the endpoint device such as language interests communication habits and other suitable demographic information. The system and the communication platform are preferably implemented on a cloud hosted computing environment but may alternatively be implemented on a computing cluster or any suitable network accessible computing environment.

A communication endpoint or endpoint for short is preferably an address to which PSTN SIP SMS MM OTT over the top client application communication and or any suitable form of communication can be directed. The medium of the communication channel can be voice audio video text virtual reality or other suitable forms of media. The communication can additionally be synchronous e.g. a phone call or asynchronous e.g. messaging . A telephony endpoint is one preferred type of communication endpoint and telephony endpoint can be a phone number a short code a toll free number a SIP address an application username or any suitable address type compatible with a communication system. A client endpoint can be a SIP address e.g. sip username example.com port an IP address or any suitable address type. Additionally the system is preferably configured such that information of a communication endpoint can be continuously or periodically updated to contribute new or changing information.

The communication endpoint interface service or interface service for short functions to provide a service interface for interacting with communication endpoints. The interface service is preferably an intermediary component between the communication endpoint repository and components of the communication platform. The interface service preferably includes an application programming interface API that can be used by other components for interacting with records of telephony endpoints. The API interface acts as an intermediary abstraction layer between stored endpoint information and various services of the communication platform. The communication endpoints can be endpoints owned hosted ported terminated and or otherwise operated managed by the communication platform but the communication endpoints may alternatively or additionally be outside communication endpoints operated by outside entities. Even if the communication does not terminate the communication endpoint or otherwise manage the communication endpoint information of the endpoint can be observed and collected through communication that passes through the communication platform to and from that communication endpoint. The outside communication endpoint information can be collected and observed when managed endpoints communicate with outside endpoints. By implementing the interface service in front of the endpoint repository the components of the communication platform are independent of the inner functionality and organization of the endpoints. New features and capabilities can be added while gracefully degrading for communication endpoints that lack updated information. The interface service preferably abstracts access to communication endpoint information. Any request to inspect call message start a session request a new number create port delete and or interact with an endpoint preferably passes through the interface service. Multiple instances of the interface service can additionally be deployed to scale the service according to demand.

The API of the interface is preferably a RESTful API but may alternatively be any suitable API such as SOAP. The API preferably works according to an HTTP request and response model. HTTP requests or any suitable request communication to the management service preferably observe the principles of a RESTful design. RESTful is understood in this document to describe a Representational State Transfer architecture as is known in the art. The RESTful HTTP requests are preferably stateless. The components of the communication platform and or the interface service preferably do not need to remember or store previous communications to be aware of the state. In a preferred implementation components of the communication platform preferably call out to the interface service when interacting with a communication endpoint. In one example scenario if the communication platform is processing a request to send a message e.g. SMS or MMS a messaging service for example can call out to the interface service to inspect properties that may impact the messaging. The supported media types and capabilities may result in altering the media delivered to the device of the communication endpoint. In another example scenario if the communication platform is processing a request to start a synchronous communication session e.g. PSTN SIP video screen sharing or other form of communication session a service can call out to the interface to inspect properties of the destination endpoint and modify the communication session initiation or the communication session.

The communication endpoint interface service can additionally include or communicate with information capture modules that function to retrieve collect and or produce information of various communication endpoints. The capture modules may be a script routine process or service operable on the interface service. Alternatively the capture modules may be implemented in cooperation with another server and or other suitable computing device. The information capture modules can collect information. In one variation the operation of a communication platform e.g. transmission routing of communication execution of communication applications and the like is used as one source of information. In another variation one or more information capture modules collect information from outside sources. Various capture modules may be used in cooperation or individually. As shown in one preferred set of capture modules can include a carrier information query module a message protocol inspector module a resource access monitor module a content monitor module and or any suitable type of capture module.

A carrier information query module functions to access outside carrier information of the communication endpoint. The carrier information query module is preferably configured to communicate using MMor MMSC to access endpoint information from outside carriers. Alternatively if the communication platform is the MMSC then the information may be accessed directly from within the communication platform. In another variation outside data providers may provide an API or any suitable interface to obtain information. Multiple data providers could additionally be used.

A message protocol inspector module functions to pull information from protocol responses that contain information. For example the MMS notification response may include device related information that can be captured and stored. Similarly when an inbound message in particular a MMS message is received the message package may include information that can be extracted. For example the user agent used when sending an MMS may be observed and collected.

A resource access monitor module functions to use ancillary hosted resources that correlate with communications to obtain information. Ancillary hosted resources can include media hosting link redirecting service e.g. link shortening two factor authentication service and or other hosted resources services. The ancillary hosted resources are preferably used in combination with communications to an endpoint and then a recipient of the communication will access the hosted resource using an application or browser. This out of communication access can be mapped to the device used in the communication and information from this access can be associated with the communication endpoint.

A content monitor module functions to inspect the communications context and content occurring within the communication platform and detecting patterns in the communication. The content monitor module can be used to identify language patterns if certain types of messages failed preferred communication endpoints e.g. who and where does a particular communication endpoint communicate with . For text messages the message text content transmitted to or from an endpoint can be used as an indication of languages and interests. In voice communications text to speech audio may be processed according to the text directives. Speech detection can additionally or alternatively be used. In a manner similar to the resource access monitor the implied access of a resource reference may be used as a signal of endpoint information. In particular application links can be used as a signal that the recipient device supports that particular app. For example if an app store link is sent to a first endpoint then the operating system associated with that app store link may be used as endpoint information. The actual target application website or other resource of the resource reference may additionally be used as implied endpoint information. For example a link to a camera application can be used as a signal that the endpoint is associated with a device with a camera.

The telephony endpoint repository functions to store communication endpoint data. A communication endpoint preferably has a record stored in a database or distributed through several database tables. An endpoint record may include various properties of a communication endpoint such as a unique identifier of the telephony endpoint the direct inbound address e.g. the phone number or short code carrier origin properties a cleanliness quality score capability properties e.g. SMS MMS Fax etc. status e.g. mobile landline client application type toll free etc. screen resolution and display capabilities language service plan e.g. do they get free SMS MMS messages activity patterns e.g. when is the communication who does the endpoint communicate with what does the endpoint communicate etc. and or other suitable properties of a telephony endpoint. Origin properties can include NPs e.g. area code NXX e.g. three digit vanity digits of a number ISO country codes region properties and or any suitable origin properties. The records may include various sets of information depending on the information that is collected.

As shown in a method for providing a communication endpoint information service of a preferred embodiment can include obtaining information of a telephony endpoint S storing the obtained information S and providing a communication endpoint interface service S. The method functions to enable information of communication endpoints to be collected and accessed in a communication platform. The method can further function to unify several disparate types and forms of information relating to a telephony endpoint and transform the information into an actionable resource within a platform. The method is preferably implemented by the system described above but any suitable system may alternatively be used to implement the method. Within the system above the provided communication endpoint interface service can be used internally with a communication platform. Additionally or alternatively the interface service can be exposed to outside partners registered users and or the public. Not only can the method be used to collect information about communication endpoints owned operated and managed by the communication platform but also the method may be used to construct a wide communication endpoint knowledgebase that expands to communication endpoints owned and operated by other parties.

Block S which includes obtaining information of a telephony endpoint functions to retrieve collect and or produce information of various communication endpoints. Information is preferably obtained from multiple sources and can employ multiple processes to obtain the information. Various processes of endpoint information collection can be performed at various information capture modules as described above but the collection of information may alternatively architected within a communication platform in any suitable manner. The type of information obtained can relate to various properties of the communication endpoint. Preferably the obtained information relates to functional and usage based information such as the carrier origin properties a cleanliness quality score capability properties e.g. SMS MMS Fax PSTN voice SIP voice video etc. status e.g. mobile landline geographic association s client application type toll free etc. device type application type device application features e.g. camera audio capabilities media playing capabilities etc. screen resolution and display capabilities language service plan e.g. do they get free SMS MMS messages a data plan etc. activity patterns e.g. when is the communication who does the endpoint communicate with what does the endpoint communicate user preferences etc. and or other suitable properties of a telephony endpoint. As shown in the properties of an endpoint information record can be populated with various properties.

Furthermore an endpoint may be associated with multiple devices and or applications as shown in . Accordingly the method may comprise obtaining device information of an endpoint across multiple devices used with the endpoint. Endpoint information can additionally be obtained across multiple applications. Capabilities usage patterns and other endpoint information properties are preferably tracked for each device application in a set of possible endpoint devices applications. For example the preference of a user to use one device over another device can be tracked per endpoint. Endpoints change owners periodically. Accordingly the history of an endpoint can similarly be information obtained through tracking and processing endpoint information. In one implementation an endpoint information record can include a data structure as a set of devices if known where each device can include a set of properties known or predicted for that device of the endpoint. The information may be structured as a dictionary. The properties of the endpoint information object can have different policy settings so different entities have different access. For example internal services may be able to access the full set of properties and information while a subset of basic information may be available through a public API.

The communication endpoint interface service preferably updates information when the communication endpoint is encountered during operation of the communication platform. A communication endpoint is encountered when receiving an endpoint query request of a communication event. The endpoint query request preferably indicates that the endpoint has some role in the particular communication event. The communication event can include attempting to make an outgoing communication from the communication endpoint when receiving an inbound communication directed at the communication platform merging a communication endpoint with a communication session e.g. adding to a conference call when asynchronously querying information of the communication endpoint and other various steps in operation of the communication platform. The communication can be synchronous e.g. PSTN call SIP video screen sharing etc. or asynchronous communication e.g. SMS MMS instant messaging or media messaging . The communication endpoint interface service as described above is preferably an intermediary layer used by other services of a platform. API calls are preferably made to inspect various aspects like routing information application URI s and other information. The interface service preferably uses inspecting of the API calls to trigger some events. An eventing system may be used to inspect and respond to various types of API calls. Other components i.e. capture modules may be integrated into other portions of the system so that information can be reported back to the records of the communication endpoint repository.

The obtained information can be obtained updated periodically during initial access of the telephony endpoint during any action that touches or augments a record of a telephony endpoint or at any suitable time. Some basic information like carrier information may be obtained upon adding porting the communication endpoint to the communication endpoint. In one variation communication endpoints are tested e.g. functionality tests or measured for cleanliness and these quality scores can be added as a parameter of communication endpoint information. Obtaining information of a telephony endpoint can include querying outside telephony information services extracting information from a message notification response synchronizing resource access of messages aggregating usage history information and or other techniques for acquiring information about a communication endpoint.

Querying outside telephony information service functions to aggregate information from an existing information database. Carriers can provide APIs for accessing basic information of a communication endpoint. Querying an outside telephony information service can include using an inter carrier protocol such as MM. Alternatively the information may be accessed from an MMSC. In another variation the method may be implemented by an MMSC and thus the information is available from within the system. In one exemplary scenario a MMS module may be prompted to send a MMS message. The MMS module upon determining a destination endpoint preferably calls out to the communication endpoint interface service to determine properties of the destination endpoint. If the information is not already stored the endpoint interface service can access carrier information through MMR for the destination endpoint. This information may include carrier network of the destination endpoint if the device is MMS enabled and if the endpoint has a messaging plan. The information about the destination endpoint can be used in determining if and how a message is delivered.

Extracting information from a message notification response functions to use messaging protocol response messages in determining information about the receiving device. Preferably transmitting an MMS message includes message passing that includes information about the destination endpoint. The relevant information is preferably extracted from the protocol messages and stored in record for the destination endpoint. When transmitting a MMS message a MMSC will determine if the destination is MMS capable. In some instances the response messages can include header information that specifies or indicates information relating to the receiving device. For example with MMprotocol communication user agent information can be obtained through use of the protocol. Similarly MMcan be used to obtain information from inbound messages. In particular the acknowledgment messages delivered during handshaking of MMS messaging can include a user agent related header field. Extracting information from message notification response may include integrating with communication components. The communication component preferably synchronizes desired information with the communication endpoint interface service or the endpoint repository. In the above example a MMS messaging module handles the messaging protocol and transmission of multimedia messages. The MMS messaging module may expose a programmatic hook to observe the acknowledgment header information. Alternatively the MMS messaging module may actively call out to the communication interface service when a protocol message with desired information is identified. Information from message notification responses can preferably be extracted from any suitable destination endpoint. For example user agent information can be collected for outside communication endpoints as well as owned communication endpoints.

As a related variation obtaining information of a telephony endpoint may include detecting device information from incoming communication message. In the messaging protocol and assets passed during message delivery various endpoint properties may be exposed. In particular when receiving a MMS message from an endpoint the user agent of the transmitting device may be collected.

Synchronizing resource access of messages functions to use access of external media by a first device to correlate to the device of the destination endpoint. Synchronizing resource access can include adding a trackable resource reference into a content field of a communication to an endpoint and obtaining device information associated with access of the resource reference. In one variation an original resource reference is detected in the communication and a redirection URI is created an inserted to replace the original resource reference. In another variation a trackable resource reference may be added to the communication content. Preferably the access of the resource reference depends on a user actively attempting to access the resource and using a tracking link to detect and collect information as shown in . This can enable information to be collected that may not otherwise be available when transmitting to a destination endpoint. Alternatively the access may be implied just in the transmission of the resource reference. For example the type of application referenced in the content of an SMS message e.g. an app store or calendar app etc. may provide some implied information. The content of the referenced to resource may additionally or alternatively provide implied information. In the initial variation obtaining information preferably involves employing a secondary service that works with or facilitates transmission of a MMS SMS or alternative form of device message. The message will preferably be modified to include a reference to a platform hosted resource. The platform hosted resource is preferably linked or referenced such that a second application is used to open the link. There are various ways of using a platform hosted resource to result in second application access from which information may be obtained. In a first variation a link shortening service is provided by the communication platform. Accordingly synchronizing resource access of messages can include transforming the resource reference into a tracking link i.e. a trackable resource reference and in obtaining device information inspecting endpoint device information during access of the tracking link and redirecting to the resource reference. Any SMS or MMS messages that pass through the communication platform can be detected and converted into controlled links to unique proxy tracking URI s. The tracking URI i.e. redirection URI is preferably unique to the particular destination endpoint so that any access of the link can be correlated with the particular destination endpoint or even communication message. When a user accesses the URI e.g. activating the link displayed in a text messaging app a browser can opens up the shortened link on the device. During a browser session the user agent screen size location information and other information from the HTTP headers JavaScript or other suitable techniques can be collected. Various capability tests can be run within the browser to verify particular capabilities. JavaScript may execute various checks to determine different capabilities of the device. Alternatively an alternative non browser application may open the URI and collect information.

Synchronizing resource access can additionally or alternatively include processing the target application resource of the resource reference and determining at least one property of endpoint information implied through the expected access of the resource reference as shown in . The target application processing preferably uses the presence of a resource reference as a signal of properties of the endpoint. Those properties may not be confirmed or directly observed. The target application resource is preferably used when the URI specifying an application schema which will be correspondingly opened by an application and possibly not the browser . Such examples may include application download links of an application store calendar events social network applications and other suitable applications. The type of application being linked to can be used as one signal. For example Android and iOS devices may be differentiated based on the type of download links included in a message. Additionally the destination content within the application can be processed and used to assign different properties. The content properties may be used to provide a set of user interest properties. For example if a user receives a Sports app link the endpoint information may be supplemented with properties that indicate an interest in sports and the corresponding OS of the endpoint. As such implied information may be incorrect or inaccurate at times the endpoint information is preferably continuously re evaluated and updated to provide predicted information.

In another variation a token validating service can be used in combination or within the communication platform as shown in . The token validating service is preferably used for pin codes in two factor authentication but may be used for other application based code functionality. The token validating service will preferably generate a unique token code for a destination endpoint. The token is preferably transmitted to the destination endpoint. The token code can then be entered into a mobile application that is assumed to be on the same device as the device of the destination endpoint. Information is preferably collected from the device during this access. A code validation service is preferably run by or in communication with the communication platform and will gain access to evaluate the endpoint device during a code validation request. For example the code validation portion of the application may run within an iframe in a browser view. In another variation the destination endpoint may be configured for use by a client application e.g. a mobile application . The mobile app preferably transmits device information to the communication platform for association with the destination endpoint.

Aggregating usage history information functions to characterize and or use activity with the communication endpoint to contribute information about the communication endpoint as shown in . Usage history preferably includes monitoring endpoint usage activity communications that involve the communication endpoint as an origin destination or other suitable participant of the communication. The usage activity is preferably used in generating endpoint usage pattern information as part of the endpoint information. Various forms of information can be obtained from usage history. The usage history is preferably used to characterize communication patterns or identify signals indicating capabilities. The usage history is preferably obtained through the communication platform.

In one variation the use history includes communication transaction history wherein the type of communications and the number of those communications can be used as a signal of communication abilities. Making outgoing communications is preferably a strong signal that the communication endpoint is configured to use that form of communication. For example if a number of SMS messages originate from the communication endpoint then that communication endpoint can be indicated as being SMS capable. This can similarly be performed for MMS client messaging protocols voice calls video calls screen sharing calls and or any suitable form of communication. Furthermore the number and or frequency of the communications can be used to form a measure of those capabilities. This can function to infer phone plans for a communication endpoint without full visibility into the carrier contract of that endpoint. In one exemplary scenario a first communication endpoint sends only one or two SMS messages in a month and a second communication endpoint sends five hundred in a month. The first communication endpoint is preferably marked as a low volume SMS capable communication endpoint e.g. the user does not like SMS messages and or does not have a plan that includes many messages and the second communication endpoint is marked as a high volume e.g. the user prefers communicating over SMS and may have a pre paid SMS plan . The measure can be a categorization such as low volume and high volume but the measure can additionally be a numeric measure based on usage data.

In another variation aggregating usage history information can include processing geographic preferences of a communication endpoint. Area codes and country codes can work to provide insight into the geographic region associated with a communication endpoint. Processing geographic preferences of a communication endpoint can function to infer geographic associations based on communication involved in the communication. The communication endpoints that call a first endpoint and or the communication endpoints that are called by the first endpoint can be used to create additional geographic associations for the first endpoint. The additional geographic associations are preferably based on the number percentage and or frequency of calls that involve particular geographic regions. For example endpoint A may make numerous calls to phone numbers with area codes belonging to San Francisco Oakland and Springfield Mo. Phone calls in lower numbers may occur with other various locations. In response to the high frequency and number of calls to San Francisco Oakland and Springfield Mo. these three regions are added to an information field for the communication endpoint. Additionally timing of geographic preferences may additionally be used to determine geographic preference based on day of the week month time of day and the like. Similarly the geographic preferences can be characterized according to the duration of the calls content of the messages variety of endpoints e.g. communicate with the same five communication endpoints or never call the same number more than a few times. or other suitable patterns form related communication endpoints.

In another variation monitoring endpoint usage activity can comprise processing content of a communication and generating at least one property of the endpoint information from the content. In one variation the content is text or media content included in a message as shown in . The message can be a synchronous message or an asynchronous message. Processing the message content can include detecting language performing keyword categorization classification analyzing referenced links or media performing natural language processing e.g. to identify sentiment or other information and or any suitable form of message content analysis. The messages may be SMS MMS or other forms of messages transmitted from the communication platform to a destination endpoint. But the messages may alternatively be received messages directed at the communication platform or for routing to another endpoint. The content endpoint information may be assigned to the sender the receiver and or both. In a second variation the content is synchronous communication such as voice video screen sharing virtual reality media and or any suitable synchronous communication session. Processing synchronous content may use various speech recognition techniques object recognition or other forms of content detection. In the case where automated speech or automated video avatars are controlled the content directives may be analyzed based on content. As in the example shown in a text to speech directive in a voice communication application may be analyzed in a manner substantially similar to the message processing described above.

Block S which includes storing the obtained information functions to maintain a record for a communication endpoint. Obtained information can be for communication endpoints owned or operated by the communication platform but may additionally or alternatively include outside communication endpoints. Information about outside communication endpoints is preferably obtained by the communication platform when the communication endpoint facilitates a communication involving the communication endpoint. For example if a communication endpoint operated by the communication platform calls the outside communication endpoint then information about that outside communication endpoint may be collected through that communication session. The information of the communication endpoint is preferably stored in a database system. The data structure for the information can be architected in any suitable manner.

Preferably a communication endpoint includes a number of basic parameters that can be completed through knowledge of just the address of the communication endpoint. A record for a communication endpoint can include the direct inbound address carrier country from country code region from area code screen resolution service plan SMS capability MMS capability voice capability voice protocol e.g. PSTN SIP etc. video capability screen sharing capability device type device applications application geographic preferences e.g. who does the user communicate with communication usage rates user information presence information e.g. a communication endpoint simultaneously assigned to multiple devices languages and or other suitable information. Some information of the communication endpoint is substantially static such as country code and area code region. Some information may alternatively be continuously updated or changed for various reasons. Various devices and or applications may share the use of an endpoint. For example a mobile phone may have the same communication endpoint as a tablet.

Block S which includes providing a communication endpoint interface service functions to enable access and interactions with the information of the communication endpoint. The communication endpoint interface service preferably provides an internal API used by the components within the communication platform. The API may additionally or alternatively be a public API. In one variation a portion of the API can be exposed for public access. The public access API is preferably facilitated by a public API module for the communication platform and the public API module fulfills endpoint information calls by using the internal API of the communication endpoint interface service. The API of the interface is preferably a RESTful API but may alternatively be any suitable API such as SOAP. The API preferably works according to an HTTP request and response model. HTTP requests or any suitable request communication to the interface service preferably observe the principles of a RESTful design. The interface of the communication endpoint interface service is preferably used for querying information of a particular communication endpoint. For example an API call may request a True False response indicating if the communication endpoint is MMS capable. Additionally or alternatively the communication endpoint interface service can facilitate API calls that alter the information of the communication endpoint. For example information feedback can be supplied through the API. Mutative API calls may be used by internal components of the communication platform that cooperate in obtaining information of the communication endpoint. In one variation the API calls provide the supplemental information as a sub resource of a communication. For example to obtain information about a device a REST API call may be sent to a URI of the pattern http . . . . . . Message MessageSID DeviceInfo or to obtain information about the carrier involved the URI may be http . . . . . . Message MessageSID CarrierInfo . In another variation an API may request a structured data file JSON with information about communication. The request can include a parameter to specify that the additional endpoint related information should be included in that structured data file.

The obtained endpoint information can further be used in altering operation of a communication platform. The method preferably includes receiving an endpoint query request of a communication event and augmenting the communication event according to the information stored for an associated endpoint. The endpoint query request preferably occurs during the transmission or routing of a communication. The communication platform will include communication routing processing logic that will depend on information about an endpoint. The endpoint query request will preferably specify or reference at least one endpoint. The endpoint information for the associated endpoint is accessed and then can be used to influence the communication. In one exemplary use case the operating system of a device of an endpoint may be obtained and then the content type can be altered. For example a developer application may submit a request with the intent of delivering a boarding pass. If the operating system is known and there is particular media type that supports boarding pass type content such as a passbook application then the content is converted into a passbook file format. The content is preferably reactively adapted based on the endpoints. This preferably abstracts away the complexities of multiple protocols for developers and a developer can simply specify what their intent is for the communication. This content adaption can similarly be performed for other forms of content such as calendars tasks multimedia files maps tickets or other forms of content which may have specific device applications for handling.

As shown in a method S for providing telephony endpoint information can include receiving a telephony endpoint query request of a communication event S providing a communication endpoint interface service S obtaining information of a telephony endpoint S storing the obtained information S and augmenting the communication event according to the obtained information S. Method S expands upon the functionality of method S to enable information of communication endpoints to be collected accessed and automatically used in operational logic of a communication platform. In a preferred implementation the method is used for multimedia messaging e.g. MMS applications where the media can be customized to accommodate device capabilities for the receiving endpoint. In an alternative implementation the method can be used to automatically adjust communication language e.g. text or spoken based on properties of the communication endpoint. Blocks S S and S function to create the endpoint repository. Blocks S S and S are substantially similar Blocks S S and S respectively. Preferably information about a communication endpoint is collected prior to the communication that is augmented by the information. Alternatively information about a communication endpoint can be collected on demand i.e. in response to or during a communication session . In addition to providing a communication endpoint interface service usable by various components the interface service generated through blocks S and S can be integrated into operation of the communication platform in various ways.

Block S which includes receiving a telephony endpoint query request of a communication event functions to initiate communication endpoint influence on a communication session. The communication platform is preferably used to facilitate an application e.g. an automated phone service phone tree number redirection tool and the like . The communication session and possibly the application state may be handed by a call router or other suitable component s of the communication platform. Prior to or during a communication session with a communication endpoint the call router will make an internal API call to the communication endpoint interface service. The call is preferably made for information that will conditionally influence the state of the communication. In one variation the components of the communication platform will simply request the information the interface service provides requested information and the components then use that information to determine a response. In this variation the query request is preferably for particular types of information of a communication endpoint or endpoints. Alternatively the interface service may enforce the actions involving a communication endpoint. In this variation the action taken on the communication endpoint is communicated through the API of the interface service and the interface service includes application logic to determine proper response to actions involving a communication endpoint. By centralizing the application logic to the interface service a central policy can be enforced so that conditional logic based on communication endpoint information is kept consistent throughout the communication platform.

Block S which includes augmenting the communication event according to the obtained information functions to react to the query request and alter a communication. In one variation augmenting the communication event can include selecting a media format in the communication which functions to transcode translate or generate media that targets media capabilities of the endpoint. The media format is preferably selected according to device capabilities from the endpoint information. In another variation augmenting the communication event can include selecting a communication medium format which functions to alter the mode of communication e.g. SMS MMS voice video etc. . As another variation the augmenting of a communication event can be used in negotiating a common or compatible format of communication. Various approaches may be used in facilitating use of the endpoint information to augment a communication. Preferably intent to communicate is expressed or triggered within the communication platform and then the communication platform determines how to execute the communication. Access of the endpoint information is preferably used during or prior to negotiating a communication. The method preferably includes receiving an endpoint query request that specifies at least one involved endpoint.

In one variation augmenting the communication event can include validating a communication request. For example the endpoint capabilities of an endpoint can be validated prior to performing an action that depends on those capabilities. Various alternative communication options can be triggered if capabilities of the endpoint are not sufficient. If a communication cannot be completed an error message or an alternative action can be triggered. For example a MMS server may be prompted to send an MMS message to a destination endpoint. The information for the destination endpoint is queried and if the information indicates that the endpoint is capable of MMS communication the MMS message is delivered. If the information on the endpoint indicates the endpoint is not capable of MMS communication an error message is delivered. In one variation this response is delivered to a developer application. An option to send the MMS as a link in an SMS message can be an optional action from this error message. Similarly options to attempt the MMS message disregarding the warning or to cancel the message may additionally or alternatively be option responses. In another variation the media used in the communication can be customized to the capabilities of a device. Preferably screen size resolution can be used to dynamically generate media prior to communicating the media to the endpoint. The smart media formatting can be used for MMS messages but may additionally be used in video screen sharing or other rich media communications. In one implementation a MMS component is prompted to transmit a MMS message. A media tool e.g. such as a headless browser or an image rendering service may be used to generate the image or media. The screen resolution of the device for the endpoint is preferably queried from the endpoint repository and delivered as input to the media tool. An image or other suitable media file is preferably dynamically generated or selected for delivery to the endpoint. If the device has a resolution of 320 480 then the image is preferably generated to that resolution and aspect ratio. If the screen resolution is 1024 768 then the image is generated for that resolution and aspect ratio. Alternatively instead of generating the media the media may be transcoded according to the information of the device. The information for the communication endpoint can additionally be used for automatic translation of messages to a preferred language of the communication endpoint prioritize communications between calls SMS and MMS alter communication routing within the system change the content of communication change frequency and timing of communication and or use the information in any suitable manner to alter the communication with the communication endpoint. The form of communication augmentation can be used in any suitable alternative manner.

The system and methods of the preferred embodiment and variations thereof can be embodied and or implemented at least in part as a machine configured to receive a computer readable medium storing computer readable instructions. The instructions are preferably executed by computer executable components preferably integrated with the communication endpoint interface service. The computer readable medium can be stored on any suitable computer readable media such as RAMs ROMs flash memory EEPROMs optical devices CD or DVD hard drives floppy drives or any suitable device. The computer executable component is preferably a general or application specific processor but any suitable dedicated hardware or hardware firmware combination device can alternatively or additionally execute the instructions.

As a person skilled in the art will recognize from the previous detailed description and from the figures and claims modifications and changes can be made to the preferred embodiments of the invention without departing from the scope of this invention defined in the following claims.

