---

title: Electrocardiograph (ECG) signal processing
abstract: Technology for processing an electrocardiograph (ECG) signal is disclosed. The ECG signal can be identified, wherein the ECG signal is affected by baseline wander noise. Signal processing can be performed on the ECG signal affected by baseline wander noise in order to determine a start time and an end time for individual waveforms in the ECG signal affected by baseline wander noise. Features for the individual waveforms in the ECG signal can be extracted, wherein the features indicate one or more cardiac function metrics.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09629564&OS=09629564&RS=09629564
owner: Intel Corporation
number: 09629564
owner_city: Santa Clara
owner_country: US
publication_date: 20140926
---
The popularity of wearable technology such as smart watches and smart eyewear has grown in recent years. Wearable technology can include clothing or accessories that incorporate computer and electronic technologies. Wearable technology can perform a variety of functions that are beneficial to a user in addition to being aesthetically pleasing to the user. For example wearable technology can provide health monitoring and health metrics music listening global positioning system GPS capabilities activity tracking telephony services internet browsing etc. for the user that is wearing the wearable technology.

Reference will now be made to the exemplary embodiments illustrated and specific language will be used herein to describe the same. It will nevertheless be understood that no limitation of the scope of the technology is thereby intended.

Before specific invention embodiments are disclosed and described it is to be understood that this disclosure is not limited to such embodiments including the particular structures process steps or materials disclosed herein but is extended to equivalents thereof as would be recognized by those ordinarily skilled in the relevant arts. It should also be understood that terminology employed herein is used for the purpose of describing particular examples only and is not intended to be limiting. The same reference numerals in different drawings represent the same element. Numbers provided in flow charts and processes are provided for clarity in illustrating steps and operations and do not necessarily indicate a particular order or sequence.

As used in this specification and the appended claims the singular forms a an and the include plural referents unless the context clearly dictates otherwise. Thus for example reference to a sensor includes a plurality of such sensors.

As used herein the terms baseline wander baseline wander noise and noise can be used interchangeably and refer variation in signal or to an effect caused by variation in signal received by an ECG sensor due to causes other than cardiac function. A number of factors may cause or contribute to baseline wander such as signal interruption or interference for example less that optimal or varied i.e. changing contact between a subject and a sensor the presence of bodily fluids i.e. sweat or electrical interference from surrounding power sources such as power lines.

Reference throughout this specification to an example means that a particular feature structure or characteristic described in connection with the example is included in at least one embodiment of the present invention. Thus appearances of the phrases in an example or an embodiment in various places throughout this specification are not necessarily all referring to the same embodiment.

As used herein a plurality of items structural elements compositional elements and or materials can be presented in a common list for convenience. However these lists should be construed as though each member of the list is individually identified as a separate and unique member. Thus no individual member of such list should be construed as a de facto equivalent of any other member of the same list solely based on their presentation in a common group without indications to the contrary. In addition various embodiments and example of the present invention can be referred to herein along with alternatives for the various components thereof. It is understood that such embodiments examples and alternatives are not to be construed as defacto equivalents of one another but are to be considered as separate and autonomous representations under the present disclosure.

Furthermore the described features structures or characteristics can be combined in any suitable manner in one or more embodiments. In the following description numerous specific details are provided such as examples of layouts distances network examples etc. to provide a thorough understanding of invention embodiments. One skilled in the relevant art will recognize however that the technology can be practiced without one or more of the specific details or with other methods components layouts etc. In other instances well known structures materials or operations are not shown or described in detail to avoid obscuring aspects of the disclosure.

In this specification comprises comprising containing and having and the like can have the meaning ascribed to them in U.S. Patent law and can mean includes including and the like and are generally interpreted to be open ended terms. The terms consisting of or consists of are closed terms and include only the components structures steps or the like specifically listed in conjunction with such terms as well as that which is in accordance with U.S. Patent law. Consisting essentially of or consists essentially of have the meaning generally ascribed to them by U.S. Patent law. In particular such terms are generally closed terms with the exception of allowing inclusion of additional items materials components steps or elements that do not materially affect the basic and novel characteristics or function of the item s used in connection therewith. For example trace elements present in a composition but not affecting the compositions nature or characteristics would be permissible if present under the consisting essentially of language even though not expressly recited in a list of items following such terminology. When using an open ended term like comprising or including it is understood that direct support should be afforded also to consisting essentially of language as well as consisting of language as if stated explicitly and vice versa.

The terms first second third fourth and the like in the description and in the claims if any are used for distinguishing between similar elements and not necessarily for describing a particular sequential or chronological order. It is to be understood that any terms so used are interchangeable under appropriate circumstances such that the embodiments described herein are for example capable of operation in sequences other than those illustrated or otherwise described herein. Similarly if a method is described herein as comprising a series of steps the order of such steps as presented herein is not necessarily the only order in which such steps may be performed and certain of the stated steps may possibly be omitted and or certain other steps not described herein may possibly be added to the method.

As used herein the term substantially refers to the complete or nearly complete extent or degree of an action characteristic property state structure item or result. For example an object that is substantially enclosed would mean that the object is either completely enclosed or nearly completely enclosed. The exact allowable degree of deviation from absolute completeness may in some cases depend on the specific context. However generally speaking the nearness of completion will be so as to have the same overall result as if absolute and total completion were obtained. The use of substantially is equally applicable when used in a negative connotation to refer to the complete or near complete lack of an action characteristic property state structure item or result. For example a composition that is substantially free of particles would either completely lack particles or so nearly completely lack particles that the effect would be the same as if it completely lacked particles. In other words a composition that is substantially free of an ingredient or element may still actually contain such item as long as there is no measurable effect thereof.

As used herein the term about is used to provide flexibility to a numerical range endpoint by providing that a given value may be a little above or a little below the endpoint. Unless otherwise stated use of the term about in accordance with a specific number or numerical range should also be understood to provide support for such numerical terms or range without the term about . For example for the sake of convenience and brevity a numerical range of about 50 angstroms to about 80 angstroms should also be understood to provide support for the range of 50 angstroms to 80 angstroms. Furthermore it is to be understood that in this specification support for actual numerical values is provided even when the term about is used therewith. For example the recitation of about 30 should be construed as not only providing support for values a little above and a little below 30 but also for the actual numerical value of 30 as well.

An initial overview of technology embodiments is provided below and then specific technology embodiments are described in further detail later. This initial summary is intended to aid readers in understanding the technology more quickly but is not intended to identify key features or essential features of the technology nor is it intended to limit the scope of the claimed subject matter.

Wearable computing devices include smart watches health and fitness devices etc. that enable users to monitor heart rate and physical activity. An electrocardiograph ECG is a physiological signal often measured in wearable and mobile computing devices. An ECG is a recording of the electrical activity of a heart measured over time. The ECG can identify electrical impulses generated by polarization and depolarization of cardiac tissue in the heart and translate the electrical impulses into an ECG signal. The ECG signal is then used to measure a rate and regularity of heartbeats a size and position of heart chambers a presence of damage to the heart whether a certain area of the heart is contributing more or less to the electrical activity of the heart than expected etc. Measurements of the ECG signal can be used for a wide range of applications such as cardiac monitoring biometrics for authentication wellness and fitness and stress and emotion modeling.

The ECG signal can be measured via a sensor on the wearable device connected to the user. In other words the user s ECG can be measured using electrodes that are attached to the user s skin. Signal processing techniques can be used to extract parameters of interest from the ECG signal. Various features or characteristics of the ECG signal can be identified and interpreted in order to classify a cardiac state of the user. For example certain features of the ECG signal can indicate a normal ECG an abnormal ECG a presence of arrhythmia etc.

Additional problems can result from the baseline wander noise in the ECG signal . The intermediate waveforms in the ECG signal can be difficult to detect due to the fluctuating reference axis across the entire ECG signal. Crucial measurements can be contained in these undetected or partially detected intermediate waveforms in the ECG signal thereby potentially causing incorrect interpretation of the user s cardiac state. In one example automatically extracting information or parameters from the noisy ECG waveform can be increasingly complex since additional signal processing techniques are required to remove the baseline wander noise from the ECG signal . When the wearable device is running continuously sensing applications complex signal processing techniques can disadvantageously impact the wearable device s battery life. This disadvantage can be magnified for applications involving multi lead or multi strip ECG measurements. In addition numerous applications involve real time response e.g. physiotherapy exercise monitoring cardiac monitoring and using complex techniques to denoise the ECG signal can be impractical.

The features in the ECG waveform can include but are not limited to an RR interval the PR interval a PR segment the QRS wave complex a J point the ST segment an ST interval and the QT interval. The RR interval approximately 0.6 seconds s to 1.2 s in duration can be an interval between an R wave and the next R wave. The PR interval approximately 120 milliseconds ms to 200 ms in duration can be measured from the beginning of the P wave to the beginning of the QRS wave complex. The PR segment approximately 50 ms to 120 ms in duration can connect the P wave and the QRS wave complex. The QRS wave complex approximately 80 ms to 120 ms in duration can reflect a rapid depolarization of the right and left ventricles in the heart. The J point can represent a point at which the QRS wave complex finishes and the ST segment begins. The ST segment approximately 320 ms in duration can be measured from the J point to the end of the T wave. The QT interval can be measured from the beginning of the QRS wave complex to the end of the T wave.

In one example inferences on the user s cardiac state can be made based on the features of the ECG waveform . For example a shorted QT interval or a prolonged QT interval can indicate hyperkalemia or certain genetic abnormalities. A flattened or inverted T wave can indicate coronary ischemia hypocalcemia etc. Hyperacute T waves can indicate acute myocardial infarction. Numerous other inferences about the user s cardiac state can be determined based on the various features of the ECG waveform .

As described herein a novel technique can be performed directly on the noisy ECG signal to extract features without complex processing or error correction. The ECG signal can be processed in two steps 1 Individual waveforms of a noisy ECG signal i.e. an ECG signal corrupted or distorted by baseline wander noise and their respective locations can be detected without missing any waveforms and 2 Feature extraction techniques can be directly applied on the original noisy ECG signal once the locations of the individual waveforms are detected. The novel technique described herein can improve prior ECG signal denoising techniques that are complex and challenging to implement in wearable applications. The novel technique described herein can extract information from the noisy ECG signal without adding additional noise or distortion to the ECG signal. In addition the novel technique described herein can be well suited for continuous sensing applications that operate on wearable devices.

In step the noisy ECG signal e.g. an ECG signal with baseline wander noise can be identified. The noisy ECG signal can be measured via a sensor on a wearable device. In step a moving average can be calculated from the noisy ECG signal. The moving average for the noisy ECG signal also known as a running average can be an average of a set of samples beginning with the first sample. The next element in the moving average can begin from the second sample using the same number of samples and so on. In other words calculating the moving average involves creating a series of averages of different subsets of a data set. A first element of the moving average can be obtained by taking an average of an initial fixed subset of the data set. Then the subset can be modified by shifting forward that is excluding the first number of the data set. A new subset of numbers can be created and the average can be determined for the new subset of numbers. This process can be repeated over the entire data set.

In step the moving average can be removed or subtracted from the noisy ECG signal in order to correct the noisy ECG signal. The moving average can correspond to low frequency baseline drift of the noisy ECG signal. Therefore removing the moving average from the ECG signal can result in a direct current DC offset being removed from each of the individual waveforms in the ECG signal. The removal of the DC offset can result in an ECG signal that is substantially noiseless as illustrated in . The noisy ECG signal that has been corrected so that the baseline wander noise has been substantially removed can be referred to as a corrected ECG signal.

In step the most prominent peaks in the corrected ECG signal e.g. the R peaks and peak locations for each of the R peaks can be detected. The R peak can be a marker for each individual waveform in the ECG signal. In one configuration the R peak locations can be detected from the corrected ECG signal using a defined threshold. For example sections of the ECG signal that have peak values higher than the defined threshold e.g. 70 can be identified. A maximum value for each of these sections in the ECG signal can be identified wherein the maximum value designates the R peak location. Thus the R peak locations for each of the individual waveforms in the corrected ECG signal can be detected as a function of time. As a non limiting example the first R peak location in the corrected ECG signal can be at 0.8 seconds the second R peak location in the corrected ECG signal can be at 1.65 seconds and so on.

In step feature extraction can be applied on the original ECG signal i.e. the ECG signal affected by baseline wander noise using the R peak locations identified in the corrected ECG signal. In other words the corrected ECG signal i.e. the noise corrected ECG signal cannot be used for further processing due to distortion in the corrected ECG signal. Rather the detected R peak locations and the original noisy ECG signal can be used for feature extraction. The known R peak locations in the corrected ECG signal e.g. the first R peak location at 0.8 seconds the second R peak location at 1.65 seconds and so on can correspond in time to the R peak locations in the noisy ECG signal. In other words in the noisy ECG signal the first R peak location is also at 0.8 seconds the second R peak location is also at 1.65 seconds and so on.

In step ECG features e.g. inter wave intra wave time intervals amplitudes amplitude ratios etc. can be identified for each individual waveform in the noisy ECG signal. Since the R peak locations are known in the noisy ECG signal other wave intervals in the noisy ECG signal e.g. P waves T waves can be determined for each individual waveform based on the R peak locations. As previously described the P wave can occur in the ECG waveform before the R peak and the T wave can occur in the ECG waveform after the R peak. For each P wave and T wave an onset and offset value can be determined. The onset value can refer to a beginning of the P wave or the T wave. The offset value can refer to an end of the P wave or the T wave. The onset and offset values can be determined by identifying slope changes in the individual waveform in the noisy ECG signal immediately to the right of the R peak i.e. for the T wave and immediately to the left of the R peak i.e. for the P wave . The slope changes can be positive or negative. In one example the onset and offset values can be detected based on locations within the individual waveform in the ECG signal that indicate maximum slope changes. In one configuration slope changes in the individual waveform in the ECG signal can be sought in accordance with known approximate time ranges. For example Q peaks can occur approximately 200 ms after the P peak the R peak can occur approximately 800 ms after the Q peak etc. If a slope change is not detected that individual waveform in the noisy ECG signal can be classified as being abnormal.

In step wave peaks e.g. P peaks and T peaks can be identified for each individual waveform in the noisy ECG signal using a local baseline. In other words the baseline can be localized for each individual waveform in the noisy ECG signal. In one example onset or offset values for a wave e.g. the P wave included in the individual waveform can be used as a local reference axis. In general the reference axis for a noisy ECG signal can be improper since for example the amplitude of the ECG signal can be moved by an offset value due to the baseline wander noise. Therefore the amplitude of a wave onset or offset e.g. P wave onset T wave offset or alternatively the amplitude of a wave peak e.g. an amplitude for the P wave peak can be set as the local reference for that particular waveform in the noisy ECG signal. The amplitudes for the R wave the T wave etc. can be measured with respect to the local reference. In other words when determining the amplitudes of the various waves and wave peaks in the individual waveform in the noisy ECG signal a common reference basis can be used in the individual waveform. Other waveforms in the noisy ECG signal may use a different local reference. Rather than using a unique reference for all the waveforms in the noisy ECG signal the local reference can be set per each individual waveform. In one example the local reference for each ECG waveform can be identified using a slope technique i.e. the onset value for setting the local reference can be determined based on slope changes in the individual waveform .

In step features such as wave intervals and time durations for each of the wave intervals can be determined for each individual waveform in the noisy ECG signal. The wave intervals can be determined with respect to the local reference for each individual waveform in the noisy ECG signal. In addition peak values can be identified for each individual waveform in the noisy ECG signal with respect to the local reference. For example peak values for the P peak T peak etc. can be determined for each individual waveform in the ECG signal.

Based on the wave intervals and peak values various features can be extracted from each individual waveform in the noisy ECG signal. For example PR intervals R R intervals QT segments etc. can be extracted from the noisy ECG signal. Each of the extracted features can represent cardiac function metrics such as atrial depolarization ventricular polarization or depolarization etc. These physiological phenomena can be directly reflected in the ECG waveform as a combination of wave peaks wave onsets wave offsets wave intervals etc.

In one configuration the ECG signal measured at the sensor can be affected by noise such as baseline wander noise. Therefore signal processing can be performed on the noisy ECG signal and then the features can be extracted for individual waveforms in the noisy ECG signal. The feature extraction module can calculate a moving average for the noisy ECG signal. The moving average for the noisy ECG signal can be an average of a set of samples beginning with the first sample. The next element in the moving average can begin from the second sample using the same number of samples and so on. The feature extraction module can remove the moving average from the noisy ECG signal in order to obtain a corrected ECG signal that is substantially noiseless. In other words a direct current DC offset can be removed from the noisy ECG signal thereby resulting in the corrected ECG signal. The feature extraction module can determine a plurality of R peak locations in the corrected ECG signal using a defined threshold.

The feature extraction module can select an R peak location in an individual waveform in the noisy ECG signal using the plurality of R peak locations that are identified in the corrected ECG signal. In other words the R peak locations in the corrected ECG signal correspond with the R peak locations in the noisy ECG signal. The feature extraction module can determine an onset value for a P wave in the individual waveform and an offset value for the P wave in the individual waveform. In addition the feature extraction module can determine an onset value for a T wave in the individual waveform and an offset value for the T wave in the individual waveform. For example the feature extraction module can identify one or more slope changes in the individual waveform in the noisy ECG signal. These slope changes can occur on the individual waveform either before the R peak in time or after the R peak in time. The locations for the P wave and the T wave e.g. the onset values and offset values for the P wave and the T wave respectively can be identified in the individual waveform in the noisy ECG signal based on the one or more slope changes.

In one configuration the feature extraction module can select a local reference point in the individual waveform in the noisy ECG signal using an amplitude associated with one of the onset value for the P wave or the onset value for the T wave. The feature extraction module can determine one or more peak amplitudes in the individual waveform in the noisy ECG signal with respect to the local reference point wherein the peak locations include a P peak location and a T peak location. In other words the feature extraction module can assign amplitudes for each of the P wave the R wave the T wave etc. with respect to the local reference point. The feature extraction module can extract features from the individual waveform in the noisy ECG signal using the peak locations with respect to the local reference point.

The cardiac function metrics module can infer cardiac function metrics based on the features extracted from the noisy ECG signal. The cardiac function metrics can indicate whether the user s heart is healthy or unhealthy based on the features of the noisy ECG signal. For example an R R interval PR interval and other features of the noisy ECG signal can indicate various cardiac function metrics such as an abnormal heart beat or a normal heart beat i.e. a heartbeat within an acceptable range . Certain cardiac function metrics can indicate whether the user has medical concerns e.g. hyperkalemia hypocalcemia based on the features extracted from the noisy ECG signal. The cardiac function metrics module can notify the user to contact a health care professional when the extracted features from the ECG signal indicate potential abnormalities.

The cardiac function metrics module can provide the cardiac function metrics to a display . Therefore the user can view the cardiac function metrics determined by the wearable device . In one example the display can be included in the wearable device . Alternatively the display can be part of a computing device that is external to the wearable device . In another example the cardiac function metrics module can provide the features extracted from the noisy ECG signal and or the cardiac function metrics to a cloud back end computing system for further processing or logging.

The wearable device can use various standards and protocols to transmit data e.g. cardiac function metrics or other health information related to the user to external computing devices. For example the wearable device can use orthogonal frequency division multiple access OFDMA in a downlink DL transmission and single carrier frequency division multiple access SC FDMA in an uplink UL transmission. Standards and protocols that use orthogonal frequency division multiplexing OFDM for signal transmission include the third generation partnership project 3GPP long term evolution LTE e.g. Releases 8 9 10 or 11 the Institute of Electrical and Electronics Engineers IEEE 802.16 standard e.g. 802.16e or 802.16m which is commonly known to industry groups as WiMAX Worldwide interoperability for Microwave Access and the IEEE 802.11 standard e.g. 802.11 2012 802.11ac 802.11ad which is commonly known to industry groups as WiFi.

The wearable device can be capable of communicating via licensed spectrum such as through a cellular network and via unlicensed spectrum such as via a WiFi hotspot. WiFi is a common name provided to the IEEE 802.11 set of standards for communicating in unlicensed spectrum including the 2.4 3.7 and 5 GHz frequency bands. The set of standards includes the IEEE 802.11a standard released in 1999 for communication in the 5 GHz and 3.7 GHz band the IEEE 802.11b standard also released in 1999 for communication in the 2.4 GHz band the 802.11g standard released in 2003 for communication in the 2.4 GHz range via orthogonal frequency division multiplexing OFDM and or direct sequence spread spectrum DSSS and the 802.11n standard released in 2009 for communication in the 2.4 GHz and 5 GHz bands using multiple input multiple output MIMO . Other examples of communication standards utilized at the wearable device can include Bluetooth Bluetooth low energy low power WiFi or other wireless local area network standards.

A feature extraction module in the computing device can identify the ECG signal received from the wearable device . The feature extraction module can preprocess the ECG signal including both clean and noisy ECG signals in order to detect the individual waveforms and their respective R peaks in the ECG signal. The feature extraction module can subsequently perform additional signal processing on the ECG signal in order to extract features for individual waveforms in the ECG signal. The feature extraction module can calculate a moving average for the noisy ECG signal and remove the moving average from the noisy ECG signal in order to obtain a corrected ECG signal that is substantially noiseless. The feature extraction module can determine a plurality of peak locations e.g. R peak locations in the corrected ECG signal using a defined threshold.

In one configuration the feature extraction module can select an R peak location in an individual waveform in the noisy ECG signal using the plurality of peak locations that are identified in the corrected ECG signal. The feature extraction module can determine an onset value for a P wave in the individual waveform and an offset value for the P wave in the individual waveform and determine an onset value for a T wave in the individual waveform and an offset value for the T wave in the individual waveform. The feature extraction module can select a local reference point in the individual waveform in the noisy ECG signal using an amplitude associated with one of the onset value for the P wave or the onset value for the T wave. In one example the feature extraction module can determine one or more peak locations e.g. a P peak location and a T peak location in the individual waveform in the noisy ECG signal with respect to the local reference point. In addition the feature extraction module can extract features from the individual waveform in the noisy ECG signal using the peak locations with respect to the local reference point. The features extracted from the individual waveform can include PR intervals R R intervals etc.

A cardiac function metrics module in the computing device can determine cardiac function metrics based on the features extracted from the noisy ECG signal. The cardiac function metrics can indicate whether the user s heart is healthy or unhealthy based on the features of the noisy ECG signal. The cardiac function metrics module can provide the cardiac function metrics to a display thereby allowing the user to view whether the ECG signal is normal or abnormal. The display can be included in the computing device or located external to the computing device .

Another example provides functionality of circuitry of a wearable device operable to determine cardiac function metrics of a subject as shown in the flow chart in . The functionality can be implemented as a method or the functionality can be executed as instructions on a machine where the instructions are included on at least one computer readable medium or one non transitory machine readable storage medium. The wearable device can be configured to measure an electrocardiograph ECG signal using a sensor at the wearable device wherein the ECG signal includes a noisy ECG signal as in block . The wearable device can be configured to perform signal processing on the noisy ECG signal in order to identify peak locations for individual waveforms in the noisy ECG signal as in block . The wearable device can be configured to extract features from the noisy ECG signal using the peak locations for individual waveforms in the noisy ECG signal as in block . In addition the wearable device can be configured to identify one or more cardiac function metrics based on the features extracted from the noisy ECG signal as in block .

In one configuration the wearable device can be further configured to provide the cardiac function metrics for display on the wearable device. In one example the noisy ECG signal is affected by baseline wander noise. In another example the one or more cardiac function metrics indicate at least one of a healthy ECG signal for the subject attached to the wearable device or an unhealthy ECG signal for the subject attached to the wearable device.

In one aspect the features extracted from the individual waveforms in the noisy ECG signal include wave amplitudes and time intervals for the individual waveforms in the noisy ECG signal. In addition the features extracted from the individual waveforms in the noisy ECG include at least one of a PR interval a QRS width a QT interval an ST segment or an R R interval.

In one configuration the wearable device can be further configured to calculate a moving average for the noisy ECG signal remove the moving average from the noisy ECG signal in order to obtain a corrected ECG signal that is substantially noiseless wherein removing the moving average from the noisy ECG signal comprises removing a direct current DC offset from the noisy ECG signal and determine a plurality of R peak locations in the corrected ECG signal using a defined threshold. In addition the wearable device can be further configured to select an R peak location in an individual waveform in the noisy ECG signal using the plurality of R peak locations that are determined in the corrected ECG signal that is substantially noiseless identify a P peak location for a P peak and a T peak location for a T peak in the individual waveform in the noisy ECG signal using the R peak location and local maxima on the noisy ECG signal identify a Q wave location and an S wave location in the individual waveform in the noisy ECG signal using local minima on the noisy ECG signal determine an onset value for the P peak and an offset value for the P peak using slope changes in the noisy ECG signal determine an onset value for the T peak and an offset value for the T peak using slope changes in the noisy ECG signal select a local reference point in the individual waveform in the noisy ECG signal using an amplitude associated with one of the onset value for the P peak the offset value for the P peak the onset value for the T peak or the offset value for the T peak and extract features from the individual waveform in the noisy ECG signal with respect to the local reference point wherein the features are used to identify the cardiac function metrics. In one example the wearable device can be further configured to identify one or more slope changes in the individual waveform in the noisy ECG signal and identify the P peak location and the T peak location in the individual waveform in the noisy ECG signal using the one or more slope changes.

Another example provides functionality of a system operable to detect cardiac function metrics in a subject using signal features as shown in the flow chart in . The functionality can be implemented as a method or the functionality can be executed as instructions on a machine where the instructions are included on at least one computer readable medium or one non transitory machine readable storage medium. The system can include a wearable sensor configured to receive an electrocardiograph ECG signal from the subject wherein the ECG signal includes a noisy ECG signal. The system can include a feature extraction module configured to perform signal processing on the noisy ECG signal in order to identify peak locations for individual waveforms in the noisy ECG signal and extract features from the noisy ECG signal using the peak locations for individual waveforms in the noisy ECG signal. The system can include a cardiac function metrics module configured to identify one or more cardiac function metrics based on the features extracted from noisy ECG signal. In one configuration the feature extraction module and the cardiac function metrics module can be included in a computing device of the system . The system can include a display configured to receive the cardiac function metrics from the controller and display the cardiac function metrics to an operator of the system.

In one example at least one of the feature extraction module the cardiac function metrics module or the display is located external to the wearable sensor . In another example the noisy ECG signal is affected by baseline wander noise. In an additional example the features extracted from the individual waveforms in the noisy ECG signal include wave amplitudes and time intervals for the individual waveforms in the noisy ECG signal. In yet another example the features extracted from the individual waveforms in the noisy ECG include at least one of a PR interval a QRS width a QT interval an ST segment or an R R interval.

In one example the feature extraction module is further configured to calculate a moving average for the noisy ECG signal remove the moving average from the noisy ECG signal in order to obtain a corrected ECG signal that is substantially noiseless wherein removing the moving average from the noisy ECG signal comprises removing a direct current DC offset from the noisy ECG signal and determine a plurality of R peak locations in the corrected ECG signal using a defined threshold. In addition the feature extraction module can be further configured to select an R peak location in an individual waveform in the noisy ECG signal using the plurality of peak locations that are determined in the corrected ECG signal that is substantially noiseless identify a P peak location for a P peak and a T peak location for a T peak in the individual waveform in the noisy ECG signal using the R peak location and local maxima on the noisy ECG signal identify a Q wave location and an S wave location in the individual waveform in the noisy ECG signal using local minima on the noisy ECG signal determine an onset value for the P peak and an offset value for the P peak using slope changes in the noisy ECG signal determine an onset value for the T peak and an offset value for the T peak using slope changes in the noisy ECG signal select a local reference point in the individual waveform in the noisy ECG signal using an amplitude associated with one of the onset value for the P peak the offset value for the P peak the onset value for the T peak or the offset value for the T peak and extract features from the individual waveform in the noisy ECG signal with respect to the local reference point wherein the features are used to identify the one or more cardiac function metrics.

Another example provides a method for processing an electrocardiograph ECG signal as shown in the flow chart in . The method can be executed as instructions on a machine where the instructions are included on at least one computer readable medium or one non transitory machine readable storage medium. The method can include the operation of identifying the ECG signal wherein the ECG signal is affected by baseline wander noise as in block . The method can include performing signal processing on the ECG signal affected by baseline wander noise in order to determine a start time and an end time for individual waveforms in the ECG signal affected by baseline wander noise as in block . In addition the method can include extracting features of the individual waveforms of the ECG signal by using signal values in each individual waveform wherein the features indicate one or more cardiac function metrics as in block .

In one example the method can include measuring the ECG signal using a sensor in a wearable device that is attached to a user. In another example the method can include determining the cardiac function metrics to indicate at least one of a healthy ECG signal or an unhealthy ECG signal based on the features extracted in the individual waveforms in the ECG signal.

In one configuration the step of performing the signal processing on the ECG signal affected by baseline wander further comprises calculating a moving average for the ECG signal affected by baseline wander noise removing the moving average from the ECG signal affected by baseline wander noise in order to obtain a corrected ECG signal that is substantially noiseless and determining a plurality of peak locations in the corrected ECG signal using a defined threshold the peak locations in the corrected ECG signal identifying locations of a plurality of R peaks. In other words an R peak location may be determined in an individual waveform in the ECG signal by calculating the moving average of the ECG signal and then subtracting the moving average from the original ECG signal that is affected by baseline wander noise.

In addition the method further comprises selecting an R peak location in an individual waveform in the ECG signal affected by baseline wander noise using the plurality of peak locations that are determined in the corrected ECG signal that is substantially noiseless identifying a P peak location for a P peak and a T peak location for a T peak in the individual waveform in the ECG signal affected by baseline wander noise using the R peak location and local maximum on the noisy ECG signal identifying a Q wave location and an S wave location in the individual waveform in the noisy ECG signal using local minima on the noisy ECG signal determining an onset value for the P peak and an offset value for the P peak using slope changes in the noisy ECG signal determining an onset value for the T peak and an offset value for the T peak using slope changes in the noisy ECG signal selecting a local reference point in the individual waveform in the ECG signal affected by baseline wander noise using an amplitude associated with one of the onset value for the P peak the offset value for the P peak the onset value for the T peak or the offset value for the T peak and extracting features from the individual waveform in the ECG signal affected by baseline wander noise with respect to the local reference point wherein the features are used to identify the one or more cardiac function metrics. In other words signal processing may be performed on the ECG signal affected by baseline wander noise beginning from the R peak to detect the other individual waves in the ECG waveform e.g. P wave T wave Q and S waves by determining local minima and maxima points at different locations of the ECG waveform.

Various techniques or certain aspects or portions thereof can take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives non transitory computer readable storage medium or any other machine readable storage medium wherein when the program code is loaded into and executed by a machine such as a computer the machine becomes an apparatus for practicing the various techniques. Circuitry can include hardware firmware program code executable code computer instructions and or software. A non transitory computer readable storage medium can be a computer readable storage medium that does not include signal. In the case of program code execution on programmable computers the computing device can include a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. The volatile and non volatile memory and or storage elements can be a RAM EPROM flash drive optical drive magnetic hard drive solid state drive or other medium for storing electronic data. The node and wireless device can also include a transceiver module a counter module a processing module and or a clock module or timer module. One or more programs that can implement or utilize the various techniques described herein can use an application programming interface API reusable controls and the like. Such programs can be implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the program s can be implemented in assembly or machine language if desired. In any case the language can be a compiled or interpreted language and combined with hardware implementations.

It should be understood that many of the functional units described in this specification have been labeled as modules in order to more particularly emphasize their implementation independence. For example a module can be implemented as a hardware circuit comprising custom VLSI circuits or gate arrays off the shelf semiconductors such as logic chips transistors or other discrete components. A module can also be implemented in programmable hardware devices such as field programmable gate arrays programmable array logic programmable logic devices or the like.

Modules can also be implemented in software for execution by various types of processors. An identified module of executable code can for instance comprise one or more physical or logical blocks of computer instructions which can for instance be organized as an object procedure or function. Nevertheless the executables of an identified module need not be physically located together but can comprise disparate instructions stored in different locations which when joined logically together comprise the module and achieve the stated purpose for the module.

Indeed a module of executable code can be a single instruction or many instructions and can even be distributed over several different code segments among different programs and across several memory devices. Similarly operational data can be identified and illustrated herein within modules and can be embodied in any suitable form and organized within any suitable type of data structure. The operational data can be collected as a single data set or can be distributed over different locations including over different storage devices and can exist at least partially merely as electronic signals on a system or network. The modules can be passive or active including agents operable to perform desired functions.

In one embodiment there is provided a wearable device operable to determine cardiac function metrics of a subject the wearable device comprising circuitry configured to 

In one embodiment the wearable device can be configured to provide the cardiac function metrics for display on the wearable device.

In one embodiment the one or more cardiac function metrics indicate at least one of a healthy ECG signal for the subject attached to the wearable device or an unhealthy ECG signal for the subject attached to the wearable device.

In one embodiment the features extracted from the individual waveforms in the noisy ECG signal include wave amplitudes and time intervals for the individual waveforms in the noisy ECG signal.

In one embodiment the features extracted from the individual waveforms in the noisy ECG include at least one of a PR interval a QRS width a QT interval an ST segment or an R R interval.

In one invention embodiment there is provided a system operable to detect cardiac function metrics in a subject using signal features the system comprising 

In one embodiment at least one of the feature extraction module the cardiac function metrics module or the display is located external to the wearable sensor.

In one embodiment the features extracted from the individual waveforms in the noisy ECG signal include wave amplitudes and time intervals for the individual waveforms in the noisy ECG signal.

In one embodiment the features extracted from the individual waveforms in the noisy ECG include at least one of a PR interval a QRS width a QT interval an ST segment or an R R interval.

In one invention embodiment there is provided a method for processing an electrocardiograph ECG signal the method comprising 

In one embodiment such a method can further comprise measuring the ECG signal using a sensor in a wearable device that is attached to a user.

In one embodiment such a method can further comprise determining the cardiac function metrics to indicate at least one of a healthy ECG signal or an unhealthy ECG signal based on the features extracted in the individual waveforms in the ECG signal.

In one embodiment performing the signal processing on the ECG signal affected by baseline wander further comprises 

In one embodiment there is provided at least one non transitory machine readable storage medium comprising a plurality of instructions adapted to be executed to implement the methods recited herein.

While the forgoing examples are illustrative of the principles of the present invention in one or more particular applications it will be apparent to those of ordinary skill in the art that numerous modifications in form usage and details of implementation can be made without the exercise of inventive faculty and without departing from the principles and concepts of the disclosure. Accordingly it is not intended that the disclosure be limited except as by the claims set forth below.

