---

title: Tier based layer promotion and demotion
abstract: Among other things, one or more systems and techniques for tier based layer modification, such as promotion or demotion, for a design layout are provided herein. A metal scheme describes one or more metal layers of the design layout, which are grouped into a set of tiers based upon resistivity similarity between the metal layers. Wire segments of the design layout are evaluated for promotion to tiers providing improved performance, for demotion to tiers providing decreased performance so that relatively faster routing resources are freed up for other wire segments, or for modification such as widening of wire segments. Via count penalties corresponding to timing delays of additional vias used to reassign wire segments are taken into account during promotion. Routing resource gains associated with reassigning wire segments are taken into account during demotion. In this way, wire segments of the design layout are promoted, demoted, or modified.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09436793&OS=09436793&RS=09436793
owner: Taiwan Semiconductor Manufacturing Company Limited
number: 09436793
owner_city: Hsin-Chu
owner_country: TW
publication_date: 20140129
---
Electronic design tools allow designers to layout simulate and analyze electrical components such as integrated circuits. In an example a schematic designer creates a schematic diagram of an integrated circuit. The schematic diagram comprises symbols that represent components of the integrated circuit. However the schematic diagram does not represent a physical layout of the integrated circuit. A layout designer creates a design layout such as a physical layout of the integrated circuit using the schematic diagram. The design layout comprises one or more polygons representing metal silicon or other components or portions thereof. A metal scheme describes one or more metal layers comprising wire segments of the design layout.

The following disclosure provides many different embodiments or examples for implementing different features of the provided subject matter. Specific examples of components and arrangements are described below to simplify the present disclosure. These are of course merely examples and are not intended to be limiting. For example the formation of a first feature over or on a second feature in the description that follows may include embodiments in which the first and second features are formed in direct contact and may also include embodiments in which additional features may be formed between the first and second features such that the first and second features may not be in direct contact. In addition the present disclosure may repeat reference numerals and or letters in the various examples. This repetition is for the purpose of simplicity and clarity and does not in itself dictate a relationship between the various embodiments and or configurations discussed.

Further spatially relative terms such as beneath below lower above upper and the like may be used herein for ease of description to describe one element or feature s relationship to another element s or feature s as illustrated in the figures. The spatially relative terms are intended to encompass different orientations of the device in use or operation in addition to the orientation depicted in the figures. The apparatus may be otherwise oriented rotated 90 degrees or at other orientations and the spatially relative descriptors used herein may likewise be interpreted accordingly.

One or more techniques and systems for tier based layer modification for a design layout are provided. A design layout for an integrated circuit comprises one or more layers such as metal layers comprising wire segments used to route components of the integrated circuit. A metal scheme describes resistances sizing properties or other properties constraints for the metal layers. In some embodiments upper metal layers have relatively lower resistance routing resources that provide relatively higher performance while lower metal layers have relatively higher resistance routing resources that provide relatively lower performance. Increased resistance and resistance variance between metal layers can impede power performance and area. Accordingly as provided herein wire segments such as timing relevant segments are reassigned such as promoted to promotion tiers that provide relatively faster performance. Promotion takes into account the metal scheme and takes into account delays introduced by additional vias used for reassignment of wire segments from current tiers to promotion tiers. Wire segments such as non timing relevant segments are reassigned such as demoted from current tiers to demotion tiers that have decreased performance so that relatively faster routing resources of the current tiers are made available for timing relevant segments. Such promotion and demotion of wire segments increases performance of wire segments such as timing relevant segments while mitigate unnecessary vias and frees up relatively faster routing resources for the timing relevant segments.

A method of tier based layer modification for a design layout is illustrated in . A design layout for an integrated circuit or other circuitry comprises one or more layers such as metal layers. A metal scheme describes the metals layers such as sizing properties resistances or other properties constraints of the metal layers. At the metal scheme is evaluated to group metal layers of the design layout into a set of tiers. In an embodiment a first metal layer such as vertical wire segments having a width W and a second metal layer such as horizontal wire segments having the width W are grouped into a tier based upon the first metal layer having a first resistance property corresponding to a second resistance property of the second metal layer. Because the first metal layer and the second metal layer have similar resistivity performance of the first wire segment and the second wire segment are similar and are thus grouped together into the tier. In some embodiments a tier comprises a single layers or multiple layers.

The design layout comprises one or more components that are routed according to nets. A net comprises one or more component nodes connected by wire segments. At a first net within the design layout is identified. The first net comprises one or more wire segments such as a first wire segment. At a current performance for the first wire segment is determined based upon a current tier of the set of tiers to which the first wire segment is assigned. In an embodiment the set of tiers comprises a first tier having slow performance due to a high resistance of metal routing resources within the first tier a second tier having medium performance due to a medium resistance of metal routing resources within the second tier and a third tier having fast performance due to a low resistance of metal routing resources within the third tier. Responsive to identifying the first wire segment as being currently assigned to the second tier the current performance for the first wire segment is determined as the medium performance.

At a potential performance for the first wire segment is determined based upon a potential tier of the set of tiers to which the first wire segment could be reassigned. At the current performance and the potential performance are evaluated to either retain the assignment of the first wire segment to the current tier or reassign the first wire segment to the potential tier. In some embodiments the first wire segment such as a timing relevant segment is reassigned to a promotion tier having a relatively faster performance than the current tier based upon the reassignment resulting in a performance improvement notwithstanding delay introduced by additional via resources used to perform the reassignment. The reassignment is performed where the potential performance corresponding to the performance increase from the promotion and a reduction to the performance increase by the delay from the additional via resources is above an improvement threshold. In some embodiments the first wire segment such as a non timing relevant segment is reassigned to a demotion tier having relatively slower performance than the current tier based upon the reassignment resulting in a routing resource gain corresponding to relatively faster resources within the current tier that are freed up from the reassignment and a performance decrease that is within a performance decrease threshold for the first wire segment.

In some embodiments the first wire segment is determined as comprising a timing relevant segment such that the first wire segment would benefit from increased performance. The potential tier is identified as a promotion tier such as the third tier having the fast performance based upon the first wire segment comprising the timing relevant segment. A via count penalty associated with reassigning the first wire segment from the current tier to the potential tier is determine. In some embodiments the via count penalty corresponds to a delay associated with using 3 additional vias to reroute the first wire segment from the second tier to the third tier. The potential performance is identified based upon reducing the fast performance of the third tier using the delay. If the potential performance corresponding to the fast performance of the third tier reduced by the delay from the 3 additional vias provides improved performance compared to the medium performance of the second tier as the current tier then the first wire segment is reassigned such as promoted from the second tier to the third tier. Otherwise the first wire segment is retained within the second tier. In some embodiments responsive to retaining the assignment of the first wire segment to the current tier a size parameter of the first wire segment is increased such as an increase to a width of the first wire segment. In some embodiments responsive to retaining the assignment of the first wire segment to the current tier a buffer is inserted into the current tier with respect to the first wire segment.

In some embodiments the first wire segment is determined as comprising a non timing relevant segment such that the first wire segment is evaluated to determine whether reassignment such as demotion of the first wire segment to a relatively slower tier is advantageous to free up relatively faster routing resources of the current tier. The potential tier is identified as a demotion tier such as the first tier having the slow performance based upon the first wire segment comprising the non timing relevant segment. A routing resource gain associated with reassigning the first wire segment from the current tier to the potential tier is determined. In some embodiments the routing resource gain corresponds to an amount of medium performance routing resources within the second tier that are freed up from reassigning the first wire segment from the second tier to the first tier. The potential performance is identified based upon the slow performance of the first tier adjusted based upon the routing resource gain. If the evaluation of the current performance and the potential performance indicates that the benefit of the routing resource gain is greater than the performance decrease for the first wire segment then the first wire segment is reassigned from the second tier to the first tier so that routing resources of the second tier are made available for other wire segments such as timing relevant segments.

In some embodiments the metal scheme comprises a first metal layer having a first resistance a second metal layer having a second resistance a third metal layer having the second resistance a fourth metal layer having a third resistance a fifth metal layer having the third resistance a sixth metal layer having a fourth resistance a seventh metal layer having the fourth resistance an eighth metal layer having a fifth resistance and a ninth metal layer having the fifth resistance. The second resistance is smaller than the first resistance the third resistance is smaller than the second resistance the fourth resistance is smaller than the third resistance and the fifth resistance is smaller than the fourth resistance. As the resistance of the metal layers decreases performance increases such as speed of a wire segment. In some embodiments sixth metal layer the seventh metal layer the eighth metal layer and the ninth metal layer are relatively faster layers while the first metal layer the second metal layer the third metal layer the fourth metal layer and the fifth metal layer are relatively slower layers. In some embodiments the first metal layer is grouped into a first tier based upon the first resistance the second metal layer and the third metal layer are grouped into a second tier based upon the second resistance the fourth metal layer and the fifth metal layer are grouped into a third tier based upon the third resistance the sixth metal layer and the seventh metal layer are grouped into a fourth tier based upon the fourth resistance and the eight metal layer and the ninth metal layer are grouped into a fifth tier based upon the fifth resistance. The set of tiers is taken into account when reassigning such as promoting or demoting wire segments between tiers because the set of tiers is indicative of performance gains or losses associating with promoting or demoting wire segments.

The design layout comprises one or more nets such as a first net. The first net comprises a first component node assigned to the first tier a second component node assigned to the third tier a third component node assigned to the first tier a fourth component node assigned to the third tier a fifth component node assigned to the third tier a sixth component node assigned to the first tier a seventh component node assigned to the first tier and an eighth component node assigned to the first tier. The component nodes within the first net are connected by wire segments such as a first wire segment assigned to the third tier a second wire segment assigned to the third tier a third wire segment assigned to the fourth tier a fourth wire segment assigned to the third tier fifth wire segment assigned to the fourth tier a sixth wire segment assigned to the fourth tier and a seventh wire segment assigned to the fourth tier.

The promotion component and the demotion component are configured to evaluate the design layout in light of the metal scheme such as based upon the tier structure . In some embodiments the promotion component determines that a path 1 2 4 5 7 comprising the first component node the first wire segment the second component node the third wire segment the fourth component node the seventh wire segment the fifth component node the fifth wire segment and the seventh component node is a timing relevant path comprising timing relevant segments.

Accordingly the promotion component evaluates the first wire segment the third wire segment the seventh wire segment and the fifth wire segment to determine whether reassignment such as promotion of the wire segments would improve performance. The promotion component determines via count penalties associated with reassigning respective wire segments from current tiers to potential tiers. In some embodiments the promotion component reassigns the third wire segment from the fourth tier to the fifth tier as a promoted third wire segment because promoting the third wire segment from the fourth tier to the fifth tier results in performance improvement notwithstanding a via count penalty corresponding to a timing delay from additional via routing resources used for the reassignment. The promotion component reassigns the seventh wire segment from the fourth tier to the fifth tier as a promoted seventh wire segment because promoting the seventh wire segment from the fourth tier to the fifth tier results in performance improvement notwithstanding a via count penalty corresponding to a timing delay from additional via routing resources used for the reassignment. The promotion component reassigns the fifth wire segment from the fourth tier to the fifth tier as a promoted fifth wire segment because promoting the fifth wire segment from the fourth tier to the fifth tier results in performance improvement notwithstanding a via count penalty corresponding to a timing delay from additional via routing resources used for the reassignment. However the promotion component does not reassign the first wire segment from the third tier to a potential tier such as the fifth tier because such a promotion does not result in performance improvement due to a via count penalty corresponding to a timing delay associated with a number of vias used for routing between tiers for the promotion. In this way the design layout is modified to create a modified design layout

In some embodiments the demotion component evaluates a current performance of the sixth wire segment at the fourth tier with a potential performance of reassigning the sixth wire segment to a demotion tier such as the third tier. The demotion components determines that a routing resource gain corresponding to routing resources on the fourth tier that are freed up by reassigning the sixth wire segment from the fourth tier compensates for a decrease in performance from reassigning the sixth wire segment from the fourth tier to the third tier. According the demotion component reassigns such as demotes the sixth wire segment from the fourth tier to the third tier as a demoted sixth wire segment resulting in a modified design layout . In this way routing resources on the fourth tier are freed up for timing relevant segments.

The design layout comprises one or more nets such as a first net and a second net. The first net comprises a first component node assigned to the first tier a second component node assigned to the third tier a third component node assigned to the first tier a fourth component node assigned to the third tier a seventh component node assigned to the first tier and an eighth component node assigned to the first tier. The component nodes within the first net are connected by wire segments such as a first wire segment assigned to the fifth tier a second wire segment assigned to the fifth tier a third wire segment assigned to the fifth tier a fourth wire segment assigned to the fifth tier and a fifth wire segment assigned to the fifth tier. The second net comprises a fifth component node assigned to the fourth tier and a sixth component node assigned to the fourth tier. The component nodes within the second net are connected by wire segments such as a sixth wire segment assigned to the third tier. In some embodiments the first net and the second net are not to be electrically connected and thus the fifth wire segment and the sixth wire segment are to be assigned to different tiers because of overlap between the fifth wire segment and the sixth wire segment .

In some embodiments the fifth wire segment is identified as a non timing relevant segment and the sixth wire segment is identified as a timing relevant segment. Accordingly the demotion component evaluates a current performance of the fifth wire segment at the fifth tier with a potential performance of reassigning such as demoting the fifth wire segment to a demotion tier such as the fourth tier. The demotion component determines that a routing resource gain corresponding to routing resources on the fifth tier that are freed up by reassigning the fifth wire segment from the fourth tier compensates for a decrease in performance from reassigning the fifth wire segment from the fifth tier to the fourth tier. According the demotion component reassigns such as demotes the fifth wire segment from the fifth tier to the fourth tier as a demoted fifth wire segment resulting in a modified design layout . In this way routing resources on the fifth tier are freed up for timing relevant segments such as the sixth wire segment .

Still another embodiment involves a computer readable medium comprising processor executable instructions configured to implement one or more of the techniques presented herein. An exemplary computer readable medium is illustrated in wherein the implementation comprises a computer readable medium e.g. a CD R DVD R flash drive a platter of a hard disk drive etc. on which is encoded computer readable data . This computer readable data in turn comprises a set of computer instructions configured to operate according to one or more of the principles set forth herein. In one such embodiment the processor executable computer instructions may be configured to perform a method such as at least some of the exemplary method of for example. In another such embodiment the processor executable instructions may be configured to implement a system such as at least some of the exemplary system of at least some of the exemplary system of and or at least some of the exemplary system of for example. Many such computer readable media may be devised by those of ordinary skill in the art that are configured to operate in accordance with the techniques presented herein.

As used in this application the terms component module system interface and the like are generally intended to refer to a computer related entity either hardware a combination of hardware and software software or software in execution. For example a component may be but is not limited to being a process running on a processor a processor an object an executable a thread of execution a program and or a computer. By way of illustration both an application running on a controller and the controller can be a component. One or more components may reside within a process and or thread of execution and a component may be localized on one computer and or distributed between two or more computers.

Furthermore the claimed subject matter may be implemented as a method apparatus or article of manufacture using standard programming and or engineering techniques to produce software firmware hardware or any combination thereof to control a computer to implement the disclosed subject matter. The term article of manufacture as used herein is intended to encompass a computer program accessible from any computer readable device carrier or media. Of course many modifications may be made to this configuration without departing from the scope or spirit of the claimed subject matter.

Although not required embodiments are described in the general context of computer readable instructions being executed by one or more computing devices. Computer readable instructions may be distributed via computer readable media discussed below . Computer readable instructions may be implemented as program modules such as functions objects Application Programming Interfaces APIs data structures and the like that perform particular tasks or implement particular abstract data types. Typically the functionality of the computer readable instructions may be combined or distributed as desired in various environments.

In other embodiments device may include additional features and or functionality. For example device may also include additional storage e.g. removable and or non removable including but not limited to magnetic storage optical storage and the like. Such additional storage is illustrated in by storage . In some embodiments computer readable instructions to implement one or more embodiments provided herein may be in storage . Storage may also store other computer readable instructions to implement an operating system an application program and the like. Computer readable instructions may be loaded in memory for execution by processing unit for example.

The term computer readable media as used herein includes computer storage media. Computer storage media includes volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions or other data. Memory and storage are examples of computer storage media. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM Digital Versatile Disks DVDs or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by device . Any such computer storage media may be part of device .

Device may also include communication connection s that allows device to communicate with other devices. Communication connection s may include but is not limited to a modem a Network Interface Card NIC an integrated network interface a radio frequency transmitter receiver an infrared port a USB connection or other interfaces for connecting computing device to other computing devices. Communication connection s may include a wired connection or a wireless connection. Communication connection s may transmit and or receive communication media.

The term computer readable media may include communication media. Communication media typically embodies computer readable instructions or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal may include a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal.

Device may include input device s such as keyboard mouse pen voice input device touch input device infrared cameras video input devices and or any other input device. Output device s such as one or more displays speakers printers and or any other output device may also be included in device . Input device s and output device s may be connected to device via a wired connection wireless connection or any combination thereof. In some embodiments an input device or an output device from another computing device may be used as input device s or output device s for computing device .

Components of computing device may be connected by various interconnects such as a bus. Such interconnects may include a Peripheral Component Interconnect PCI such as PCI Express a Universal Serial Bus USB firewire IEEE 1394 an optical bus structure and the like. In another embodiment components of computing device may be interconnected by a network. For example memory may be comprised of multiple physical memory units located in different physical locations interconnected by a network.

Those skilled in the art will realize that storage devices utilized to store computer readable instructions may be distributed across a network. For example a computing device accessible via a network may store computer readable instructions to implement one or more embodiments provided herein. Computing device may access computing device and download a part or all of the computer readable instructions for execution. Alternatively computing device may download pieces of the computer readable instructions as needed or some instructions may be executed at computing device and some at computing device .

Various operations of embodiments are provided herein. In one embodiment one or more of the operations described may constitute computer readable instructions stored on one or more computer readable media which if executed by a computing device will cause the computing device to perform the operations described. The order in which some or all of the operations are described should not be construed as to imply that these operations are necessarily order dependent. Alternative ordering will be appreciated by one skilled in the art having the benefit of this description. Further it will be understood that not all operations are necessarily present in each embodiment provided herein. Also it will be understood that not all operations are necessary in some embodiments.

Further unless specified otherwise first second and or the like are not intended to imply a temporal aspect a spatial aspect an ordering etc. Rather such terms are merely used as identifiers names etc. for features elements items etc. For example a first object and a second object generally correspond to object A and object B or two different or two identical objects or the same object.

Moreover exemplary is used herein to mean serving as an example instance illustration etc. and not necessarily as advantageous. As used herein or is intended to mean an inclusive or rather than an exclusive or . In addition a and an as used in this application are generally to be construed to mean one or more unless specified otherwise or clear from context to be directed to a singular form. Also at least one of A and B or the like generally means A or B or both A and B. Furthermore to the extent that includes having has with or variants thereof are used in either the detailed description or the claims such terms are intended to be inclusive in a manner similar to comprising .

Also although the disclosure has been shown and described with respect to one or more implementations equivalent alterations and modifications will occur to others skilled in the art based upon a reading and understanding of this specification and the annexed drawings. The disclosure includes all such modifications and alterations and is limited only by the scope of the following claims. In particular regard to the various functions performed by the above described components e.g. elements resources etc. the terms used to describe such components are intended to correspond unless otherwise indicated to any component which performs the specified function of the described component e.g. that is functionally equivalent even though not structurally equivalent to the disclosed structure. In addition while a particular feature of the disclosure may have been disclosed with respect to only one of several implementations such feature may be combined with one or more other features of the other implementations as may be desired and advantageous for any given or particular application.

According to an aspect of the instant disclosure a method for tier based layer modification for a design layout is provided. The method comprises evaluating a metal scheme for the design layout to group metal layers of the design layout into a set of tiers. A first net within the design layout is identified. The first net comprises a first wire segment. A current performance for the first wire segment is determined based upon a current tier of the set of tiers to which the first wire segment is assigned. A potential performance for the first wire segment is determined based upon a potential tier of the set of tiers to which the first wire segment could be reassigned. The current performance and the potential performance are evaluated to either retain the assignment of the first wire segment to the current tier or reassign the first segment to the potential tier.

According to an aspect of the instant disclosure a system for tier based layer promotion for a design layout is provided. The system comprises a promotion component. The promotion component is configured to evaluate a metal scheme for the design layout to group metal layers of the design layout into a set of tiers. The promotion component is configured to identify a first net within the design layout. The first net comprises a first wire segment. The promotion component is configured to determine a current performance for the first wire segment based upon a current tier to which the first wire segment is assigned. The promotion component is configured to determine a potential performance for the first wire segment based upon a promotion tier to which the first wire segment could be reassigned. The promotion component is configured to evaluate the current performance and the potential performance to either retain the assignment of the first wire segment to the current tier or to reassign the first wire segment to the promotion tier.

According to an aspect of the instant disclosure a system for tier based layer demotion for a design layout is provided. The system comprises a demotion component. The demotion component is configured to evaluate a metal scheme for the design layout to group metal layers of the design layout into a set of tiers. The demotion component is configured to identify a first net within the design layout. The first net comprises a first wire segment. The demotion component is configured to determine a current performance for the first wire segment based upon a current tier to which the first wire segment is assigned. The demotion component is configured to determine a potential performance for the first wire segment based upon a demotion tier to which the first wire segment could be reassigned. The demotion component is configured to evaluate the current performance and the potential performance to either retain the assignment of the first wire segment to the current tier or to reassign the first wire segment to the demotion tier.

The foregoing outlines features of several embodiments so that those skilled in the art may better understand the aspects of the present disclosure. Those skilled in the art should appreciate that they may readily use the present disclosure as a basis for designing or modifying other processes and structures for carrying out the same purposes and or achieving the same advantages of the embodiments introduced herein. Those skilled in the art should also realize that such equivalent constructions do not depart from the spirit and scope of the present disclosure and that they may make various changes substitutions and alterations herein without departing from the spirit and scope of the present disclosure.

