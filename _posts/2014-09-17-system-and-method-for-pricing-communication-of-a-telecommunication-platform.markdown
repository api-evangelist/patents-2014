---

title: System and method for pricing communication of a telecommunication platform
abstract: A system and method that include receiving a communication pricing query; mapping the communication pricing query to a billable item; resolving a price of a billable item within a set of hierarchically defined pricing models with sparse overrides, wherein each pricing model is defined for a set of billable items; and returning the price of the billable item in a response to the communication pricing query.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09338018&OS=09338018&RS=09338018
owner: Twilio, Inc.
number: 09338018
owner_city: San Francisco
owner_country: US
publication_date: 20140917
---
This application claims the benefit of U.S. Provisional Application Ser. No. 61 879 016 filed on 17 Sep. 2013 which is incorporated in its entirety by this reference.

This invention relates generally to the telecommunication field and more specifically to a new and useful system and method for pricing communication of a telecommunication platform in the telecommunication field.

Usage of a telecommunication infrastructure is accompanied by cost. Traditionally end users were required to agree to contracts that locked the customer into a payment plan. Service providers additionally operate through contracts based on infrastructure and communication usage. In recent years telecommunication platforms have emerged that integrate with internet based technologies allowing more interactive and application driven communications over channels such as PSTN SMS MMS and the like. However the contract based ecosystem of telecommunication limits the way that such platforms can be offered. Thus there is a need in the telecommunication field to create a new and useful system and method for pricing communications of a telecommunication platform. This invention provides such a new and useful system and method.

The following description of preferred embodiments of the invention is not intended to limit the invention to these preferred embodiments but rather to enable any person skilled in the art to make and use this invention.

As shown in a system for pricing communication of a telecommunication platform of a preferred embodiment includes a pricing application programming interface API a platform pricing model and a pricing engine. The system is preferably implemented within a multitenant telecommunication platform such as the ones described in U.S. Pat. No. 8 306 021 filed 2 Apr. 2009 and U.S. Pat. No. 8 315 369 filed 2 Mar. 2010 which are both incorporated in their entirety by this reference. The system functions to facilitate representing numerous complex and changing contractual agreements across a variety of billable items within a telephony platform. The billable items can directly correlate to physical communication transactions and sessions occurring over a telephony or alternative communication network. The system improves the management and enforcement of pricing agreements across the telecommunication platform. While the system described is preferably implemented for a communication platform which often deals with complex pricing depending on the properties of the communication and agreed upon plans the system may similarly be applied to other pricing and metric applications where highly customizable accounting systems are implemented across a platform.

The telecommunication platform of the preferred embodiment functions to provide a wide variety of communication channels to multiple entities. The telecommunication platform can be any suitable type of communication platform. The platform is preferably multitenant. In other words multiple users customers developers companies preferably share use of the infrastructure of the platform. These accounts their sub accounts groups of accounts e.g. regional areas and other segments within the platform can have different pricing agreements. As such there may be multiple different pricing contracts that are configured for a sub set of the communication on the platform. In some implementations accounts may include sub accounts. In many instances an account used to implement an application is offered to a number of sub accounts. In this situation the pricing system can be used to offer customized pricing to the sub account holders. Additionally an account can manage multiple endpoints e.g. telephone numbers short codes SIP addresses or any suitable communication destination origin point . A given endpoint can have different pricing characteristics based on the endpoint type network country and other factors. Preferably the telecommunication platform is a platform that enables software developers to configure account applications to programmatically make receive and interact with voice calls video calls text messages media messages and other forms of communication. The telecommunication platform can include capabilities to interface with the public switched telephone network PSTN short message service SMS multimedia messaging service MMS and or session initiation protocol SIP based communication but may additionally or alternatively interface with client applications proprietary communication protocols or any suitable communication channel.

All the various options of who is making a communication who is involved in the communication what features are used during for the communication e.g. recording conference call transcription call waiting communication tracking high quality call setting low quality call setting what medium a communication what carrier is used for the communication and numerous other factors can be used to define different creditable item. A creditable item is preferably some item related to use of the platform for which some entity is credited. In a preferred implementation the creditable item is a billable item for which an associated account holder of the platform is billed. However in some situations a creditable item may have no association with billing and financial transactions. For example if the platform is offered for free then an account may have some allocated amount of credit for which different actions are deducted from this credit.

The telecommunication platform can additionally include an API to programmatically interact with the platform . The API may include various interface mechanisms to control various aspects of the communication platform such as making calls or sending messages but the API preferably includes a set of interfaces that define the pricing API . Billing on the telecommunication platform is preferably based on usage of the different communication options and platform features e.g. conferencing recording speech to text conversion queuing and other features .

The pricing API of the preferred embodiment functions as an interface for services of the platform to determine pricing of a billable item or event. The pricing API can include an interface to request a price for a creditable item and a pricing model interface to interact with the platform pricing model. The pricing API is preferably implemented as a service API within the platform that other services can query. The pricing API may additionally be integrated within a billing engine so that prices can be accounted for when managing bills of accounts and or subaccounts. The pricing API is preferably a RESTful API but may alternatively be any suitable API such as SOAP. The API preferably works according to an HTTP request and response model. HTTP requests or any suitable request communication to the communication platform preferably observe the principles of a RESTful design. RESTful is understood in this document to describe a Representational State Transfer architecture as is known in the art. The pricing API preferably includes calls to specify the type of communication in question. In reply to the query a response is generated with the price. In one usage mode the pricing API is used to preemptively query prices prior to executing an action. Cost of an action may be highly variable depending on the properties of the communication and the pricing API no enables actions to be modified according to the cost. In one example a communication service may query to determine the price of sending a message prior to sending. Price querying can be used internally or alternatively the pricing API may be exposed externally to outside developers e.g. account holders . In another usage mode the pricing API is used for accounting of executed actions which is often used by a billing engine to determine the bill for an account. The pricing API preferably is the access mechanism of the pricing engine which processes a pricing model. The pricing engine is preferably configured for evaluating a query and appropriately applying the pricing model to the query.

The pricing API can additionally include an interface for defining and updating the platform pricing model . Preferably administrators of the communication platform can update a pricing model. In another variation when a user signs up they may select from different usage plans or customize a usage plan in which case a pricing model targeted at that account usage can be automatically set through the pricing API. The platform pricing model is preferably a mutable object which functions to allow for flexible and dynamic updates to the pricing. This may be beneficial in giving the communication platform the flexibility to negotiate with different customers and service providers to define targeted service offerings. Using the pricing API different elements of the platform pricing model root pricing models currency pricing models other sub models to be created edited or deleted i.e. mutated at any suitable instant which allows the platform pricing model to evolve and change over time.

The platform pricing model of the preferred embodiment functions as a set of data objects that define pricing for billable items through various scopes. The platform pricing model is preferably a set of individual pricing models that define customized pricing for various billable items. The platform pricing model preferably includes a set of root pricing models that define pricing for a full set of creditable items i.e. billable items within the communication platform and a set of sub models that override at least a portion of a root pricing sub model and depend on at least one parent pricing model. The platform pricing model enables prices to be defined for different forms of communication destinations origin addresses durations or size of communication carriers or routing options mediums of communication volumes or rates of communication accounts and account levels promotions and marketing offers and or other suitable properties of a communication. The platform pricing model is preferably a set of ordered sub models configured with sparse overrides that define prices of billable items within the platform as shown in . The pricing models within the platform pricing model are preferably hierarchical in that there can exist a parent child relationship wherein a child pricing model a sub model for a more specific pricing model depends from one or more parent pricing model. A root pricing model is preferably base of the hierarchy. The pricing model includes at least two sub models and can include any suitable number of sub models. The sub models are preferably ordered in a parent child class organization such that a child model can override defined pricing of the parent model. The sub models are preferably defined with relative priority such that when evaluating base prices and discounts the pricing engine consistently processes the models in a defined and predictable manner. A root pricing model is preferably the lowest priority pricing sub model and defines a full set of billable items such that each billable item is defined by at least the root pricing model. The pricing models dependent on the root pricing model are defined by child pricing models which can sparsely define price overrides. Sparse overrides are price definitions for a subset of the full set of billable items or groups of billable items. If a child model does not define a price of a particular billable item or a group of billable items then the next sub model is referenced until a price is determined which ultimately can occur at the root pricing model. The sub models preferably include price definitions which determine how to a price and or discounted for a particular item.

The set of pricing models preferably include a root pricing model. The root pricing model is the highest level parent of child pricing model and functions as the default or base pricing model. As the default pricing model the root pricing model does not inherit or override another sub model. All sub models are preferably child sub models that override the root model or override a sub model that inherits from the root pricing model . If a child pricing model does not define pricing of a billable item the pricing engine will arrive at the root pricing model and use the defined pricing. The root pricing model preferably defines the default pricing for the full set of billable items. The full set of billable items preferably includes all accountable events and items. Furthermore the full set is defined across all SKU groups and variations of types of communication. The platform pricing model may define its application to all billable items by defining base billable item categories. For example the platform pricing model may include a fixed price for PSTN phone calls SMS messages and MMS messages. In this example sub models may define targeted pricing models that are more targeted for a particular billable item such as a phone call made in the US a MMS sent to a particular destination or communications for a particular account made at a particular time of day. In one variation the root pricing model includes a single sub model that is defined for all billable items. In another variation the root pricing model can include a set of sub models without any pricing model dependency but that as a set collectively define default pricing for the full set of billable times. In other alternative embodiments the default pricing may be a dynamic or algorithmically generated value that functions as the root pricing model. The root pricing model is preferably defined for a single currency i.e. the root currency but the root pricing model can alternatively be defined for multiple currencies.

The set of sub models additionally includes child pricing models that function to sparsely override pricing defined by parent pricing models. The child pricing models are preferably defined for subsets of the accounts of the telecommunication platform and or different classifications of usage for which pricing differs from a default pricing of the root pricing model. The pricing sub models function to enable contracts to be flexibly crafted specifically for different classes of users or service models. Accounts of the telecommunication platform sub accounts of those accounts carriers service provides and other entities may have child pricing models defined. The child pricing models enable specialized pricing and discounts to be offered to select entities.

Additionally a sub model can be modeled as two classes of pricing sub models a group pricing model and an item pricing model. Each sub model preferably targets a particular scope of communications such as countries carriers accounts and the like. Within these scopes the group and item pricing models make price definitions easier to maintain. An item pricing sub model includes price definitions for individual billable items. Price definitions within an item pricing sub model enable a high level of granularity in crafting pricing contracts. The group pricing sub model functions as a convenient mechanism for defining price definitions that apply to a set of different billable items. A price definition within the group sub model can be applied to SKU groups a range of endpoints to a set of different carriers to multiple regions. Instead of individually assigning the price definitions of each related billable item a single price definition is set. This can simplify the management of the pricing models when a single price definition can be altered to update multiple billable item prices this while not sacrificing the capability of high granularity. The item pricing sub model is of higher priority than corresponding group pricing sub model and as such the item pricing sub model is resolved before referencing the group pricing sub model. An item price definition can override a group price definition.

Price definitions function as the configuration of pricing a billable item or a group of billable items . The price definition can enable fixed pricing price discounts and tiered pricing based on some metric. In one variation a price definition may include a fixed price or be undefined. If a fixed price is encountered that price rate is applied to the communication. For some situations the fixed price is the per instance price of the billable item. While price herein is typically expressed in monetary values the price can alternatively be indicative or expressed in terms of operational cost to support execution and functioning of a telecommunication platform. Implementing a telecommunication platform requires tremendous amount of resources of which many are supplemented or coupled to infrastructure or systems managed by various industries that results in communication cost which can be communicated in terms of cost usage metrics number of channels options transactions communication volume or any suitable metric. For example a fixed price of 0.01 for an SMS billable item can indicate each SMS message sent is 0.01. More preferably a price definition includes a quantity parameter and an increment parameter. The quantity parameter can define what is counted. For messages a quantity of one will charge for each message. A quantity of five will only charge for every five messages. For voice calls the quantity may be 60 seconds such that the fixed price is multiplied against the number of minutes. The increment quantity may define how accounting is measured or rounded. For voice calls an increment quantity of 30 seconds will round to the nearest 30 seconds. The increment quantity may define rounding to the closest value rounding down or rounding up. In place of a fixed price the price definition can include a discount price. A price definition may additionally include a minimum quantity parameter which functions to define the minimum unit of charge for an action. If usage does not meet the minimum quantity parameter then the usage is charged for that minimum value. For example voice calls may be rounded up to the nearest 10of a minute with a 30 second minimum. In this case a 2 second call is charged at thirty seconds the minimum was not bet and a 32 second call is charged at 36 seconds. A discount price defines a change in the price relative to a parent fixed price. Thus a pricing engine continues processing the pricing model until a fixed price is found and then applies the discount price. The discount price can be a percentage off or a fixed price discount. Additionally a price definition may define pricing tiers. A pricing tier is a set of price definitions within a range of usage. As an example a first price may be set for the first one thousand messages and a second price is used for messages after a thousand have been sent. Any suitable number of tiers can be configured. A tier will preferably include a fixed price or a discount price as well as a metric parameter and threshold parameter which defines how the tier is applied. The metric parameter is the value measured to determine the tier. Metrics may include count time data transmission account spending age of account or any suitable metric. A plurality of metrics may additionally be used such that more complicated thresholds can be implemented e.g. threshold of one hundred messages or after account spends 20 . The pricing engine may query an outside service to access the metric data. The threshold parameter is a condition that defines the bounds of what communications the price should be applied. Tiers preferably do not inherit discounts of other tiers. If a tier has a discount price the next concrete price of a parent model is used with the discount price.

In one example a customer of the telecommunication service may negotiate a contract with the telecommunication platform provider for better rates on particular types of communications. A child pricing model can be defined for the account of that customer that includes overrides that specify that text messages to United States Canada and the UK get a special rate and that voice calls originating from Japan get a discount when made to these countries. Thus the sparse overrides allow considerable flexibility in negotiating complicated contracts and furthermore the contract can be added to the system quickly without impacting other contracts.

The pricing model can additionally include currency pricing models which function as special child pricing models to convert between a root currency and a second currency. The currency pricing model preferably defines a currency price for a full set of billable items within that currency. The pricing model will include a root currency conversion factor that is applied to the root pricing model which provides the root pricing of a given currency. The root currency conversion factor can be a value that converts between an original currency and a second currency. In one variation the factor is a static value that is substantially fixed however the factor may be edited periodically either programmatically or through user input. The factor may alternatively be dynamically updated from an outside currency conversion source which can be based on current exchange rates between currencies. The factor may alternatively include price setting rules to round up or down to defined values. For example the pricing of a billable item may round to the closest integer value powers of two five or ten. Additionally the currency pricing model includes a sparse override currency model. Particular groups or individual billable items can be overridden such that custom pricing can be set that doesn t strictly follow the conversion factor. Currency pricing overrides can be used to provide vanity pricing i.e. pricing that fit into common price setting values like 0.99 1.99 and the like . The sparse override currency model is preferably substantially similar to other child models used in sparsely overriding the root model or a parent model. Child models for a defined currency preferably inherit from the appropriate currency pricing model. As shown in a child model will preferably be defined for yen. This child model will inherit pricing from a currency pricing model which includes a sparse override currency model and a conversion factor. The pricing model is a child of the root pricing model set in dollars in this example.

The pricing engine of the preferred embodiment functions to evaluate a query of the pricing API according to the billing item and generating a price. The pricing engine is preferably configured to step through sub models of the pricing model until the price is resolved. The pricing engine will preferably start with the lowest child pricing model e.g. the one most specific for the particular item . For example if the billable item is for a particular account then the pricing model of that account is evaluated first if it exists. If the billable item is for a particular sub account of the account then the pricing model of that sub account is preferably evaluated. If a fixed price is not determined the pricing engine then proceeds to the next lowest pricing model. This continues until a discrete price is determined. As discussed above a fixed price will resolve that price. A discounted price can apply a discount on a price resolved from a parent sub model the second most specific pricing sub model . A tiered price definition calculates the price based on usage. Any suitable of data model search algorithm may be used to identify an appropriate pricing sub model for a particular billable item. A discrete price will eventually be resolved since the root pricing model defines a price for the full set of billable items.

As shown in a method for pricing communication of a telecommunication platform of a preferred embodiment can include receiving a communication pricing query S mapping the communication pricing query to a billable item S resolving a price of a billable item within a set of pricing models S and returning the price of a billable item in a response S. The method functions to evaluate a price measurement for a billable item or event. The method is preferably implemented within a system substantially similar to the one described above but may alternatively be used in any suitable system. The method preferably utilizes a platform pricing model that includes a hierarchical structured set of pricing sub models that depend from one or more root pricing model. The creation and use of the platform pricing model can enable sub models to define sparse over rides of higher level base pricing for one or more billable items.

When applied within a telecommunication platform the method can enable various billing arrangements and contracts to be represented within manageable system. The telecommunication platform will preferably bill for usage rather than fixed long term plans. This can enable accounts to easily scale their usage. Accounts may negotiate special pricing for different forms of usage. Since a telecommunications platform may require negotiating and renegotiating contracts with carriers and other forms of service providers as well as enterprise large customers the method provides a substantially flexible approach to adapting pricing for different entities. Similarly some accounts may be given certain special pricing due to promotions marketing or business development efforts. Additionally the telecommunication platform will have numerous forms of communications that leverage various outside services networks carriers and other third party entities. With communication being a highly variable item the price and cost of any given communication can vary greatly depending on properties such as the involved endpoints and the properties of the communication. The method can function to accommodate all this variability in a flexible and maintainable manner.

The method preferably includes defining a platform pricing model S which functions to generate a data model that defines pricing resolution. Defining a platform pricing model can additionally function to augment the pricing model of the platform as shown in . Defining the pricing model can include adding removing a new pricing sub model editing price definitions of the model and or changing the targeting of a group.

The pricing model is preferably defined through a pricing model interface. The pricing model interface can be an API through which the pricing model may be augmented or queried programmatically. The API may be used internally. Pricing models can be automatically augmented based on different platform events and state. Similarly information from the pricing model may be used in operational decisions of the platform. Additionally or alternatively all or a portion of the API may be exposed to outside entities which can enable outside developers to integrate programmatically with a pricing sub model. In one variation developer accounts can be granted API access to programmatically augment a portion of the pricing model. For example an account could be granted right to create and augment child models for sub accounts of the account.

The pricing model interface may alternatively or additionally include a graphical user interface that can function as a control panel for an administrator of pricing within the platform. The user interface preferably provides interface tools for viewing the current state of the pricing model editing existing configuration of the pricing model adding child models removing child models re prioritizing child models updating currency conversion and other actions to manipulate the pricing model. The user interface can additionally include tools to query the pricing API for different communications which can be used in testing customer support and other applications. Users administrators can be granted permissions to augment various portions of the pricing model. For example a customer support user may only be able to augment account pricing models. While a pricing administrator may be granted to augment the root pricing models and currency conversion pricing models. In one example a user interface can allow an administrator to select to create a new pricing model. The user then defines a billable item or group of billable items that is targeted. Then the user can add a price definition. A preview interface may display a list of pricing results for matching billable items with different usage properties for example showing pricing for phone calls 1 minute long 5 minutes and 10 minutes in length in a preview menu . In one variation multiple pricing sub models may be generated through a single user interface. For example if special pricing is being generated for a particular account then pricing models for voice calls SMS and MMS may be defined within a unified interface. In this variation the billable item is defined by inheriting different contexts. The parent billable item context is the account which is added to the three billable items one for voice calls by the account one for SMS messages by the account and one for MMS messages by the account. The platform pricing model can alternatively be defined using any suitable interface.

The platform pricing model is preferably a hierarchical structure of a set of pricing models. The platform pricing model preferably defines pricing for a full set of billable items within the platform. It can be appreciated that some items may be billed with prices defined outside of the method while still using the model for the set of billable items to which the method is a desired approach. Defining a platform pricing model preferably includes setting a root pricing model for the set of billable items within the platform S and setting a pricing a set of pricing sub models that sparsely over ride at least a portion of the root pricing model for a subset of billable items in the platform S as shown in . The root pricing model and the pricing sub models can include setting individual pricing models at distinct instances. For example a first pricing model e.g. a pricing model defined for calls over a first carrier can be defined at a first instance and a second pricing model e.g. a pricing model defined for calls by a second carrier can be defined at a second instance e.g. a month after the first instance . The sequence of defining a platform pricing model can have any suitable order or timing. The root pricing model is preferably defined initially but any pricing sub model can be updated at any suitable time independent of hierarchical position.

The root pricing model preferably defines the pricing for the full set of billable items. In one variation there is a single sub model that defines the root pricing model. In another variation multiple root sub models are used in combination to define pricing for the full set of billable items. For example the root pricing model may include a root pricing sub model that sets the default pricing for voice calls a root pricing sub model that sets the default pricing for SMS messages and a root pricing sub model that sets the default pricing for MMS messages. Any billable time that does not have a more targeted pricing sub model can preferably be resolved by the root pricing model.

The pricing sub models preferably include sub models that are specifically set to over ride the price definition for one or more billable item. The pricing sub models can depend from the root pricing model but can additionally depend from a higher pricing sub model. For example a first pricing sub model may define specific pricing for voice calls on a first carrier but then a more targeted child sub model may depend on the first pricing sub model and override the price definition for a particular set of endpoints of that first carrier e.g. a billable item defined by carrier and endpoints . In other words the billable item of the second pricing sub model is included in the set of billable items of the first pricing sub model. However as the second pricing model structured as a more targeted sub model is a child of the first sub model the second pricing model takes initial precedence during resolution of a price for that billable item. A pricing sub model preferably includes a billable item parameter which defines what items it targets. Different properties of a billable event can be used to create targeted pricing. For example for a given communication there may be an origin endpoint e.g. the caller a destination endpoint e.g. the callee a communication mode e.g. voice SMS MMS SIP IP messaging video screensharing etc. features e.g. recording conferencing text to speech speech to text media analysis call waiting etc. duration service provider e.g. telephone carrier used in terminating call location account s and or any suitable property. For example a billable item can be defined by a specified communication mode a caller communication endpoint and a callee communication endpoint. Pricing sub models additionally include price definition which is a value or function that is used in generating the price or quote. The pricing definition can be a fixed price a discount price a tired pricing function or any suitable pricing function.

Additionally defining the platform pricing model can include setting a currency sub model that defines a full set of billable items in a second currency S as shown in . A currency sub model can function as a root pricing model for pricing within a particular function. A currency pricing sub model may include a pricing definition which is a function of a pricing sub model in a different currency. Preferably the currency pricing sub model will depend on the root pricing model and will include at least one currency sub model that translates from the first currency to the second. In this way all billable items can be resolved into the second currency. The currency sub model can additionally define a pricing definition function that rounds prices in the second currency to specific value patterns which can enable automatic vanity prices in a different currency. From the currency sub model additional pricing sub models can be defined that over ride billable items in that currency. Any number of currency pricing models can be defined to support any number of currencies.

Block S which includes receiving a communication pricing query functions to initialize price calculation at a pricing service. The communication pricing query preferably specifies communication information. The communication information is a receipt characterization or property list of distinguishing attributes of a communication executable by the platform. The communication information can be for completed communication an in progress communication or a pending potential communication. The communication information preferably includes at least the originating endpoint the destination endpoint s the medium of communication and optionally characterizations of the communicated content. The endpoints include phone numbers short codes SIP addresses usernames ids or other communicative addresses. The mediums of communication can include voice calls e.g. PSTN phone calls SIP calls and the like messaging e.g. SMS MMS client application messaging email fax and the like video calls screen sharing and other forms of communication. The communicated content can include the media or message to be communicated the size of the message the duration of a call the priority of the message e.g. send whenever vs. send immediately the time of the message and other suitable properties.

In a first scenario the communication pricing query originates from a communication service of the telecommunication platform. A voice service which manages and processing voice calls or a messaging service which manages and processes message communication . Other services such as a video services email services fax services screen sharing services and other suitable services can be additionally interface with the pricing service. In one variation the query may be used in selecting a routing option of a particular communication. For example multiple communication pricing queries may be made specifying different routing variations of a communication e.g. sending over different protocols using different carrier networks etc. . The pricing results may be used by the communication service to select the cheapest routing option.

In a second scenario the communication pricing query originates from a billing engine that is accounting for usage for a particular account sub account. When a bill for an account is being processed the billable items accumulated by the account can be added to a billing queue. The billing queue can be a shared queue of items that are awaiting pricing information. A billing engine when available dequeues the billable items and submits a communication pricing query to the pricing API.

Block S which includes mapping the communication pricing query to a billable item functions to determine the properties that would define the communication within the billing engine. Mapping the query preferably includes accessing endpoint information. An endpoint information service provides information about the involved endpoints. The endpoint information service preferably collects and manages detailed information about endpoints. Carrier network information and country of the destination origin endpoint is preferably provided through this service. Different forms of communication may depend on different properties and thus only the required information for the communication in question may be accessed. In the case of SMS country destination can determine price. In another variation country and carrier for SMS can be used. For example a mobile country code MCC and a mobile network code MNC may be used as a key for identifying a billable messaging item. In the case of voice calls country and carrier can determine price. Other endpoint information can additionally be used such as area code phone number type e.g. business mobile home etc. communication history of endpoint if endpoint has a client application installed presence information of the endpoint e.g. is the user currently available and other suitable forms information.

The endpoint information can be used to select or derive a billable item as shown in . A billable item defines the properties of the event or item that is accountable. In one variation country code is accessed and then the network code is accessed. This information can be used to generate populate or retrieve an appropriate billable item. A billable item is a characterization of a billable item. For example an SMS message sent from a US area code A to a US area code B could be one exemplary billable item. A billable item can include the medium of communication the endpoints the carrier the size or duration of the communication the content of the communication and other suitable properties. The medium of communication can include PSTN SIP alternative synchronous communication SMS MMS push notification client application communication proprietary messaging or other forms of communication. The billable item may additionally or alternatively specify networks area codes country codes and other properties.

Block S which includes resolving price of a billable item within a set of pricing models functions to identify a price for the billable item. As described above a pricing model is preferably a set of sub models that define prices within various scopes. In one preferred implementation there is one root pricing model which is a sub model scoped to define the default price of a billable item if no other sub model defines the price. The root pricing model defines a price for the full set of billable items such that any billable item has determinable price. The other sub models i.e. child models are preferably sparsely defined models that selectively override pricing of parent sub models. Any sub model can inherit from the root pricing model and they are able to override what they need or override a group of what they need. The child models can be nested so pricing models can additionally inherit from other pricing sub models and in effect create a hierarchy of sparsely defined pricing sub models.

Sparsely defined models may include only a sub set of the billable items which may be an empty set. A price definition within a sub model will override or take precedence over a price definition of the root model and any intermediate parent models. The child models can alternatively subclass or inherit pricing of other sub models. The child models can be defined for different scopes which are selectively applied to a billable item based on the properties of the billable item in question. The child models have a priority such that a pricing engine will resolve a price by evaluating the sub models in the order of their priority until a price is resolved. In other words resolving a price will involve moving up through a hierarchy of price models. As the pricing models are associated with different scopes this can be used to enable pricing to be customized and targeted. The child model scopes may be associated with country area code carriers sub set of customers e.g. free account premium account business account etc. specific accounts sub accounts of accounts and other suitable scope categories. As shown in child models can include geographic price customization by enabling country and region scopes. As shown in child models can include account level customization by enabling account child models and sub account child models. An exemplary order of child pricing model order can be sub account account region country and carrier. As shown in this may additionally include currency conversion models that precede the root pricing model. Various child models are preferably defined and only a subset will be relevant to any billable item. For example a child model for a first account will not be used for a second account. The set of sub models can form a hierarchical tree of which the relevant sub models are used when evaluating any billable item as shown in . When resolving the billable item a billing engine preferably progresses up the hierarchy of pricing models from child to parent towards the root . The pricing engine escapes the pricing resolving process when the price is determined. Alternatively there may be no implicit hierarchical linked connection between pricing sub models. Instead the sub models are preferably indexed according to billable item properties and resolving a price of a billable item comprises querying the pricing sub models within the platform pricing model. The pricing sub model that most closely defines the billable item is used in calculating a quote or price. Higher level price definitions which are more general in their targeting have less priority than price definition of the lower level pricing models which have higher priority and are evaluated before moving to the next highest priority pricing model . Additionally or alternatively different billable item property types may have different priority when determining which pricing sub model takes precedence. For example a carrier billable item property may be higher level and therefore less priority than an endpoint billable item property. So a pricing sub model for an endpoint will be used over a pricing sub model for a carrier.

Resolving price of a billable item includes evaluating price definition within a child pricing model S and if pricing is not defined within a child pricing model evaluating price definition of a root pricing model S. Evaluating price definition within the child pricing model functions to evaluate the highest priority child model for the particular billable item. A child pricing model may be defined for accounts sub accounts countries geographical regions classes of endpoints e.g. phone numbers or endpoints associated with a specific carrier or service provider and other suitable categories. Evaluating the child model will include checking if a price definition exists for the billable item and if it does using that price definition and if not proceeding to the next highest priority sub model which may be the root model. A price definition for a billable item or a group of billable items will define how a price is set. The price definition can enable fixed pricing price discounts and tiered pricing based on some metric. In one variation a price definition may include a fixed price or be undefined. If a fixed price is encountered that price rate is applied to the communication. For some situations the fixed price is the per instance price of the billable item. For example a fixed price of 0.01 for an SMS billable item can indicate each SMS message sent is 0.01. More preferably a price definition includes a quantity parameter and an increment parameter. The quantity parameter can define what is counted. For messages a quantity of one will charge for each message. A quantity of five will only charge for every five messages. For voice calls the quantity may be 60 seconds such that the fixed price is multiplied against the number of minutes. The increment quantity may define how accounting is measured or rounded. For voice calls an increment quantity of 30 seconds will round to the nearest 30 seconds. The increment quantity may define rounding to the closest value rounding down or rounding up. In place of a fixed price the price definition can include a discount price. A price definition may additionally include a minimum quantity parameter which functions to define the minimum unit of charge for an action. If usage does not meet the minimum quantity parameter then the usage is charged for that minimum value. For example voice calls may be rounded up to the nearest 10of a minute with a 30 second minimum. In this case a 2 second call is charged at thirty seconds the minimum was not bet and a 32 second call is charged at 36 seconds. A discount price defines a change in the price relative to a parent fixed price. Thus a pricing engine continues processing the pricing model until a fixed price is found and then applies the discount price. The discount price can be a percentage off or a fixed price discount. Additionally a price definition may define pricing tiers. A pricing tier is a set of price definitions within a range of usage. As an example a first price may be set for the first one thousand messages and a second price is used for messages after a thousand have been sent. Any suitable number of tiers can be configured. A tier will preferably include a fixed price or a discount price as well as a metric parameter and threshold parameter which defines how the tier is applied. The metric parameter is the value measured to determine the tier. Metrics may include count time data transmission account spending age of account or any suitable metric. A plurality of metrics may additionally be used such that more complicated thresholds can be implemented e.g. threshold of one hundred messages or after account spends 20 . The pricing engine may query an outside service to access the metric data. The threshold parameter is a condition that defines the bounds of what communications the price should be applied. Tiers preferably do not inherit discounts of other tiers. If a tier has a discount price the next concrete price of a parent model is used with the discount price.

In one implementation a child model includes two sub models one an item pricing model and one a group pricing model. Evaluating price definition within a child pricing model can include evaluating an item pricing model and subsequently evaluating a group pricing model. The item pricing model includes price definitions for specific billable items. The item pricing model functions to provide high granularity in defining customized pricing. The group pricing model includes price definition for groups of billable items. The grouped billable items make it easier to create a single price definition that covers several billable items. For example if a price definition needs to be applied to a block of endpoints a price definition can be set in the group billable item that targets all the associated billable items as opposed to repeatedly setting the same price definition for each billable item individually. This functions to improve maintainability of the pricing models it is easier to set and update in bulk.

If pricing is not defined after evaluating child pricing models Block S includes evaluating price definition of a root pricing model which functions to use a default price. The root pricing model is used if no child models included a price definition for the billable item or a group including the billable item. The root pricing model may alternatively be accessed if a discount price was defined in a child model but a fixed price was not identified when checking the higher level child models. The root pricing model preferably defines a fixed price for the full set of billable items. The price definitions can similarly be defined with an item pricing model and a group pricing model.

Additionally resolving a price of a billable item can include evaluating price definition within a currency conversion model. Preferably child models are defined within the expected currency. For example a child model for Japanese calls will include price definitions specified in Yen. If a fixed price is identified within a child model there is no need to convert currency. However if the price resolving process proceeds to the root pricing model then a currency conversion model is used. A currency conversion model can be similar to a child model in that an item pricing model and a group pricing model can be defined. Specific default prices can be set for the currency. This can be used to provide vanity prices that may be marketed as user appealing prices e.g. 1 . These are set to disregard strict currency conversion from the root pricing model. This as for price definitions of child models above can be sparsely defined. If a price definition is not defined in the currency conversion pricing model a conversion factor is applied to the root pricing model. This can be a set conversion rate or be dynamically set to an exchange rate. Having all pricing depend from a master root pricing model can enable new features to be quickly pushed to production only a single pricing model would require updating. An alternative approach can use a root pricing model defined for each currency.

Block S which includes returning price of a billable item in a response functions to transmit a response to the query. The price is preferably returned according to a defined API of the pricing API. As mentioned above checking a price preferably only involves checking the price of the communication and may not result in billing for the communication. The price can be used in augmenting the operation of the telephony service returned to an outside application or optionally used by a billing engine in calculating a bill. In one variation the communication pricing query may specify several billable items in a batch query. Such a query can improve performance. In one variation these may be optional communication options. If optional communication options the pricing API may return the price of the cheapest one the most expensive the average price or any suitable. In one variation the price for the customer is returned. Additionally or alternatively the cost to the telephony platform is returned. The cost could be obtained in a manner substantially similar to the price where sparsely defined pricing models are procedurally processed to determine the cost. The cost may be beneficial to selecting routing options. In one variation the routes may be selected to increase revenue routing options with low cost and high price . In another variation the price of the parent account may be returned as well as the price for the sub account. This can be used by the billing engine to appropriately charge and credit the accounts. For example an account may use the telecommunication platform to resell a service to sub accounts. That service may generate revenue or subsidize the cost of communication. A billing engine can appropriately charge the account for the price owed to the communication platform

As shown in an exemplary pricing model can include a root model currency conversion models a carrier child model and at least an account child model. A first exemplary request for pricing of a communication will be for an SMS message from endpoint A to endpoint B by application ABC. The account child model exists for application ABC and thus application ABC includes customized pricing for billable items. Additionally application ABC is a Japanese based application and so prices are set in yen. For this first exemplary request the resulting billable item is checked in an item pricing model of the account child model i.e. the application ABC pricing model . A pricing definition is not found. The pricing engine then proceeds to the next highest pricing model of the group pricing model of the account child model. In this case a price definition exists for SMS message to a range of endpoints of which endpoint B is included. The price definition has two tiers a fixed price of 0.5 for the first 1000 by the account and 1 for messages beyond that. The pricing engine will read the message count for the account of application ABC and since in this example they have sent over one thousand messages the price is 0.01 for that message. This exemplary request illustrates the sparse overrides and the use of tiers in a pricing definition. In a second exemplary request for pricing of a communication will be for a twenty minute voice call from endpoint A to endpoint C. The pricing engine does not identify an associated price definition in the account pricing model. Endpoint C happens to be an endpoint on Carrier X which has a special pricing child model defined. A pricing definition is defined in the item pricing model of the Carrier X child model. The pricing model is a discount price of 10 off. Since this is a discount price definition the pricing engine continues to resolve the price by checking in other pricing models. There is not a price definition in the group pricing model and the currency pricing model doesn t include a pricing definition. The root pricing model does include a fixed price definition for voice calls of 20 minutes as 0.01 per minute. The conversion factor of the currency pricing model converts this to 1 which after the 10 discount is 0.9 per minute. This price is returned in the response.

The system and method of the preferred embodiment and variations thereof can be embodied and or implemented at least in part as a machine configured to receive a computer readable medium storing computer readable instructions. The instructions are preferably executed by computer executable components preferably integrated with the pricing engine and API of a communication platform. The computer readable medium can be stored on any suitable computer readable media such as RAMs ROMs flash memory EEPROMs optical devices CD or DVD hard drives floppy drives or any suitable device. The computer executable component is preferably a general or application specific processor but any suitable dedicated hardware or hardware firmware combination device can alternatively or additionally execute the instructions.

As a person skilled in the art will recognize from the previous detailed description and from the figures and claims modifications and changes can be made to the preferred embodiments of the invention without departing from the scope of this invention defined in the following claims.

