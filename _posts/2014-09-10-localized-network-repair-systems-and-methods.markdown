---

title: Localized network repair systems and methods
abstract: A localized repair method in a network using a control plane includes, responsive to a failure on a local repair segment defined on a connection traversing the network, generating a release message in the control plane; attempting a local repair on the local repair segment; if the local repair is unsuccessful, transmitting the release message to redial the connection; and, if the local repair is successful, signaling a new sub-path based on the local repair. A controller and a network are also disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09407359&OS=09407359&RS=09407359
owner: Ciena Corporation
number: 09407359
owner_city: Hanover
owner_country: US
publication_date: 20140910
---
The present patent application patent claims the benefit of priority of Indian Patent Application No. 2152 DEL 2014 filed on Jul. 30 2014 and entitled LOCALIZED NETWORK REPAIR SYSTEMS AND METHODS the contents of which are incorporated in full by reference herein.

The present disclosure relates generally to networking systems and methods. More particularly the present disclosure relates to localized network repair systems and methods such as for the photonic domain and the Optical Transport Network OTN domain.

Optical network control planes provide automatic allocation of network resources in an end to end manner. Exemplary control planes may include Automatically Switched Optical Network ASON as defined in ITU T G.8080 Y.1304 Architecture for the automatically switched optical network ASON the contents of which are herein incorporated by reference Generalized Multi Protocol Label Switching GMPLS Architecture as defined in IETF Request for Comments RFC 3945 and the like the contents of which are herein incorporated by reference Optical Signaling and Routing Protocol OSRP from Ciena Corporation which is an optical signaling and routing protocol similar to PNNI Private Network to Network Interface and MPLS or any other type control plane for controlling network elements at one or more layers and establishing connections there between. As described herein these control planes deal with routing signals at Layers 0 1 and 2 i.e. photonic signals time division multiplexing TDM signals such as for example Synchronous Optical Network SONET Synchronous Digital Hierarchy SDH Optical Transport Network OTN Ethernet MPLS and the like.

Conventionally in a control plane enabled network when a failure interrupts a call path the call is torn down and the head end redials the call. At the photonic layer e.g. Dense Wave Division Multiplexing DWDM gracefully adding and removing a call from the network takes time and the repair action is limited by photonic constraints e.g. reach of an optical modem . In OTN connections can be referred to as High Order HO where there is a single large client i.e. an Optical channel Data Unit k ODUk in an Optical channel Transport Unit k OTUk or Low Order LO where there is multiplexing i.e. an ODUj into an ODUk .

As restoration speed is important and removing unnecessary work is desirable. Conventionally there are single link techniques that involve a single span between adjacent nodes such as described in commonly assigned U.S. Pat. No. 7 391 720 LOCAL SPAN MESH RESTORATION the contents of which are incorporated by reference herein. However it would be desirable to have multi span techniques or techniques based on attributes of the photonic domain or OTN domain for local repair which can improve restoration speed avoid DWDM changes when necessary and or prevent HO LO modifications in OTN.

In an exemplary embodiment a localized repair method in a network using a control plane includes responsive to a failure on a local repair segment defined on a connection traversing the network generating a release message in the control plane attempting a local repair on the local repair segment if the local repair is unsuccessful transmitting the release message to redial the connection and if the local repair is successful signaling a new sub path based on the local repair. The local repair can include releasing the connection on the local repair segment while maintaining the connection outside of the local repair segment and installing the new sub path in the local repair segment. The local repair segment can be between two boundary nodes on a path of the connection and wherein the boundary nodes are nodes with three or more degrees. The localized repair method can further include designating one of the two boundary nodes to perform the local repair and signal the other of the two boundary nodes. Optionally the local repair segment is between optical electrical conversion points of the connection. Alternatively the local repair segment is a High Order HO Optical Transport Network OTN multiplexing segment of the connection.

The localized repair method can further include changing a wavelength in the new sub path to avoid wavelength blocking. The release message is stored at the local repair segment while the local repair is performed to ensure that network wide involvement is avoided unless the repair is unsuccessful. The connection can be one of a Subnetwork Connection SNC Subnetwork Connection Protection SNCP and a Label Switched Path LSP . The failure is a regenerator failure at a boundary node of the local repair segments and the local repair comprises switching to another regenerator located at the boundary node with a wavelength retuned thereon. The local repair can be determined as unsuccessful based on any of a crankback in setup in the local repair an inactivity timer expiration and violating Absolute Route Diversity requirements.

In another exemplary embodiment a controller includes an interface communicatively coupled to one or more nodes in a network a processor communicative coupled to the interface and memory storing computer executable instructions that when executed cause the processor to obtain a path for a connection in the network operating a control plane and utilize local repair segments on the connection in the network based on boundary points in the path wherein the boundary points are nodes between which the connection has an ability to be locally repaired wherein the boundary points are any of optical electrical conversion points or Optical Transport Network OTN multiplexing points and wherein the control plane is configured upon a failure in the local repair segments to attempt a local repair first without network wide involvement. The local repair segments can be determined based on optical electrical conversion points of the connection. The local repair segments can be determined based on High Order HO Optical Transport Network OTN multiplexing segments of the connection in the network.

Responsive to the failure a wavelength in the local repair segments can be changed to avoid wavelength blocking. In the local repair segments network wide signaling of a release message can be constrained until the local repair fails or if the local repair is successful to avoid network wide involvement in the failure for the connection during the local repair. The failure can include a regenerator failure at one of the boundary points and the local repair can include switching to another regenerator located at the one of the at boundary points with a wavelength retuned thereon. The local repair can be determined unsuccessful based on any of a crankback in setup in the local repair an inactivity timer expiration and violating Absolute Route Diversity requirements.

In yet another exemplary embodiment a network includes a plurality of nodes a plurality of links interconnecting the plurality of nodes a control plane operated between the plurality of nodes a connection with a path through some of the plurality of links between two nodes of the plurality of nodes one of the two nodes is a source node and another of the two nodes is a destination node and wherein the path includes two boundary nodes and a local repair segment defined on the path between the two boundary nodes wherein upon a failure in the local repair segment control plane signaling to tear down the connection is store within the local repair segment such that a local repair is attempted first and if the local repair is unsuccessful the control plane signaling is released for a tear down of the connection and a redial. The two boundary nodes can be any of optical electrical conversion points or Optical Transport Network OTN multiplexing points.

In various exemplary embodiments localized network repair systems and methods such as for the photonic domain and the Optical Transport Network OTN domain are described. From an abstract perspective the localized network repair systems and methods consider a local repair segment that can be defined based on attributes in the photonic domain or the OTN domain. That is the local repair segment may not be a single link but it does not require mesh restoration or end to end call redialing which involve the network . The local repair segment enables the localized network repair systems and methods to perform local repair without involvement of the head end or source nodes or other nodes necessarily. For example in the photonic domain the local repair segment may include an electrical optical electrical EOE segment and in the case of a transceiver failure the localized network repair systems and methods enable the network to switch to another transceiver for localized repair instead of involving the network. Such a technique advantageously avoids adding removing wavelengths requiring optical control loops avoid network wide messaging etc. In another example in the OTN domain the local repair segment may include segments where a connection is carried HO versus LO. In summary the localized network repair systems and methods introduce the local repair segments which are segments that lend themselves to localized repair and where avoiding network wide repair has advantages e.g. removing wavelength add delete requirements losing control plane signaling in OTN because of a clock transient etc. .

Referring to in exemplary embodiments network diagrams illustrate an exemplary network for describing the localized network repair systems and methods. The network includes a photonic layer formed by sites A B C D E a Time Division Multiplexing TDM layer formed by switches X Y and a control plane . Those of ordinary skill in the art will recognize various other network configurations topologies etc. that may be contemplated with the network . The sites A C E are three way Reconfigurable Optical Add Drop Multiplexers ROADMs i.e. three way is equivalent to three degrees. The site B is a two way ROADM i.e. two way is equivalent to two degrees and the site D is an optical line amplifier. Each of the ROADM sites A B C E includes fiber connections one for each way or degree and equipment configured to switch wavelengths between the degrees. A node can be referred to as an N degree node where N refers to the number of ingress egress directions associated with the node. For example a 2 degree node is connected to two adjacent nodes a 3 degree node is connected to three adjacent nodes etc. The ROADM can include a Wavelength Selective Switch WSS 1 N multiplexers demultiplexers etc. Any type of instantiation of the ROADM is contemplated herein. Additionally the site E has an intermediate regenerator between the site A and the site D for optical electrical optical OEO regeneration. Note the regenerator is an OEO conversion point. The switches X Y can be packet optical switches or the like which can provide OTN connections therebetween. The sites are configured through the ROADMs to provide wavelength connectivity and switching therebetween and the switches X Y are configured to provide TDM and packet switching therebetween. Note various other components can be included in the network which are omitted for illustration purposes.

The control plane can include without limitation ASON GMPLS OSRP etc. The control plane is configured to implement software processes algorithms etc. that control configurable features of the network such as automating discovery of the sites and the switches capacity on the links between the sites port and wavelength availability on the sites and the switches connectivity between ports dissemination of topology and bandwidth information between the sites and the switches path computation and creation for connections network level protection and restoration and the like. As part of these functions the control plane can include a topology database that maintains the current topology of the network based on control plane signaling and a connection database that maintains available bandwidth on the links again based on the control plane signaling. The control plane can a distributed control plane thus a plurality of the controllers e.g. located at the sites . can act together to operate the control plane using the control plane signaling to maintain database synchronization. In source based routing a source node for a connection is responsible for path computation and establishment by signaling in the network . For example the source node can signal a path through various techniques such as Resource Reservation Protocol Traffic Engineering RSVP TE G.7713.2 Private Network to Network Interface PNNI Constraint based Routing Label Distribution Protocol CR LDP etc. and the path can be signaled as a Designated Transit List DTL in PNNI or an Explicit Route Object ERO in RSVP TE CR LDP. As described herein the connection can refer to a signaled end to end connection such as a Subnetwork Connection SNC Subnetwork Connection Protection SNCP Label Switched Path LSP etc. Path computation generally includes determining a path i.e. traversing the links through the network from the source node to the destination node based on a plurality of constraints such as administrative weights on the links bandwidth availability on the links etc. The source node can also define the validation constraints that are provided in the setup messages.

In the network an exemplary connection is illustrated between the switches X Y through the sites A E D C. For illustration purposes the connection can be an SNC specified by a DTL. Of course the connection can be any end to end signaled connection. Note the site D does not need to be specified necessarily in the DTL since it is an amplifier. The DTL is made up of node link ID pairs. In the network there are four paths between the sites A C namely through 1 the sites A C un regenerated 2 the sites A B C un regenerated 3 the sites A E C un regenerated and 4 the sites A E C regenerated . Note the paths 3 and 4 are the same with the difference being the inclusion of the regenerator in the path 4 . Note there can be additional sites switches etc. between the sites A C and these are omitted for illustration purposes. In this example the connection is established by the control plane on the path 4 i.e. through the sites A E C including the regenerator at the site E. That is the control plane has established the connection via a call and can redial the connection in the event of a failure.

For the connection optical electrical conversion points include the sites A E C. That is there is an Optical Multiplex Section OMS between the sites A E and the sites E D. Specifically at the site A the three way ROADM interconnects to the switch X at the site E the regenerator is connected to the three way ROADM and at the site C the three way ROADM interconnects to the switch Y. The optical electrical conversion points include optical modems i.e. transceivers TR which provide the OEO conversion. As described herein at the photonic layer gracefully adding and removing a call from the network takes time and there are photonic constraints such as the reach of the optical modem. In an exemplary embodiment the goal of the localized repair systems and methods is to define local repair segment and for the photonic layer ideally to encompass an EOE segment i.e. between optical modems.

In assume the connection experiences a failure of the regenerator . Conventionally without the localized repair systems and methods the connection is redialed from the source node or head end e.g. the site A. This can include adding a new wavelength on the other paths which may not be desirable in terms of time to rebalance the photonic layer photonic constraints etc. For example conventionally the control plane will signal the failure of the regenerator causing a redial of the connection which is removed from its current path and a new path is determined e.g. between the sites A C direct. A new wavelength is added to the new path requiring a photonic control loop to balance power levels. This process involves the entire network can be time consuming etc. That is the control plane reacts to line faults such as the failure of the regenerator and for restoration to occur the data plane is torn down and re established. This involves tearing down the path by signaling the removal of the path which for the photonic layer is an expensive slow proposition.

In with the local repair segment the nearest optical electrical conversion point can determine the best path and opportunity to perform wavelength conversion. With the localized repair systems and methods instead of involving the network and redialing the connection through involvement of the head end the local repair segment selects a new regenerator to locally switch to at the site E. Here the regenerator can include a tunable optical modem which adjusts to the same wavelength as the regenerator and the three way ROADM at the site E switches off the regenerator to the regenerator . In this manner the failure of the regenerator is addressed locally without head end involvement and without photonic layer adjustments. The failure of the regenerator is still communicated to the head end but the head end knows it can simply re dial the connection over the same path with a different connection point at the site E using the regenerator . The concept of the local repair segment constrains the repair to the local repair segment instead of redialing a connection. Here at the photonic layer the local repair segment is between optical electrical conversion points. When there is a failure associated with a regenerator path at a local node the failed regenerator equipment is substituted with working equipment without notifying the network or the head end node.

Referring to in an exemplary embodiment diagrams illustrate network models for determining local repair segment boundaries for the localized repair systems and methods. The model is a two way ROADM site such as the site B in the network the model is a three way ROAM site such as the site E in the network and the model is a logical diagram of an OTN connection. The models relate to the photonic layer and the model relates to the OTN layer. With respect to the photonic layer and the OTN layer the local repair segment is based on where something interesting occurs that makes this segment amenable to a localized repair. Specifically this is not necessarily a single link but a segment. For the photonic layer the boundary points for the local repair segment in the photonic layer can be optical electrical conversion points. Specifically the local repair segment in the photonic layer can be an EOE segment. Here the local repair can be changing one of the E s in the EOE. In the photonic layer the following terminology can be used to define a path 

First the model does not lend itself to being a boundary point for a local repair segment. Specifically the model is a two way ROADM and there needs to be more than two directions at a site to support a local repair action i.e. there is no way to support an added OEO function in the model at the photonic layer. For the model there is no optical electrical conversion i.e. the control plane views the model simply as a node link in the path. The model includes an optical electrical conversion point . Specifically the model is a three way ROADM with two line side degrees and a local add drop degree . From an OEO perspective the degrees are optical and the degree is electrical since an OEO operation can be performed at the model . The degree can include multiplexer demultiplexer banks and one or more optical modems TR to perform OEO conversion.

For the OTN layer the boundary points can be OTN HO LO switching points and the local repair segments can be ODUk ODUj over OTUk segments. In OTN networks connections can be either TDM i.e. ODUj into an OTUk or a single large client single i.e. ODUk in OTUk . In the model segments are Low Order LO where an ODUk is carried by itself in an ODUk and segment is High Order HO where an ODUj is carried multiplexed into an ODUk. In the segments i.e. where there is a single large client the client s clock not the node or network element clock is used for the OTUk clock. This creates an OAM P transient event when the clock disappears or appears. All of the OTUk and ODUk overhead is unavailable during this transient event and disadvantageously for a control plane using this overhead there is a loss of control plane signaling. OTN networks are typically deployed with multiple OTUk rates such as OTU4 OTU3 etc. and an ODU connection may traverse these different rates. For example in the model there can be an ODU3 connection which is transported in an OTU3 in the segments and multiplexed in an OTU4 in the segment . Similar to the photonic layer and associated optical electrical conversion points the changeover between the segments can be an ideal boundary for a local repair segment. Here the OTN network may perform a segmented repair and not have to wait for the OTUk or ODUk GCC to come back. For example the local repair segment in an OTN network can be a multiplexed zone i.e. any of the HO segments . That is the localized repair systems and methods for OTN can differentiate between call path that is 1 1 mapped LO and when it is multiplexed HO with local repair segments created based on these distinctions. If a failure occurs on a multiplexed section the localized repair systems and methods initially constrain the teardown operations to the multiplexed areas and attempt there. If no path can be found locally then the tear down can continue to the home node.

Referring to in an exemplary embodiment a flowchart illustrates a local repair method utilizing the local repair segments. The local repair method contemplates operation in the network with various defined local repair segments such as defined by the boundaries described herein. Generally the local repair method can be implemented in any network utilizing a control plane e.g. ASON GMPLS OSRP etc. that has identifiable local repair segments. The local repair method provides an ability to remove call teardowns by the control plane when a local repair can be implemented instead of having to redial a call. The local repair method includes path computation and call placement in a network for a connection step . The path computation and call placement can be performed by the control plane and the network can include a photonic layer an OTN layer etc. The local repair method contemplates any path computation technique to compute photonic paths across the network specifically those needing OEO for the purposes of signal regeneration for viability or wavelength conversion to overcome wavelength blocking The local repair method contemplates any path computation technique to compute TDM paths such as for OTN SNCs LSPs etc. The call placement can be done via existing techniques in the control plane to signal and establish a connection.

In the local repair method extended local repair boundary nodes are established and there is a designation of master slave for the extended local repair boundary nodes step . The step can be performed before during or after the call is established in the step . Here extended local repair boundaries nodes are established such as based on the description in . For identifying the extended local repair boundary nodes at the photonic layer these are nodes where there is optical electrical conversion. For example for a photonic connection the extended local repair boundaries nodes could include at least 2 ROADM nodes with directionality 2. In an exemplary embodiment regenerator sites can be selected as boundary points at they can provide wavelength conversion as well. For an OTN connection the extended local repair boundaries nodes are where an ODU connection is multiplexed. Thus in the photonic layer the local repair segment is an EOE segment and in the OTN layer the local repair segment is a multiplexed segment. The extended local repair boundaries nodes are at ends of the local repair segment and one of these nodes is designated as a master node and the other as a slave node. This designation can be based on the call signaling order on control plane node ID e.g. lower number ID is the master etc. With the connection established and the local repair segments and extended local repair boundaries nodes designated the connection can operate in the network step . This is steady state operation for the connection i.e. no failures. If there is a failure as determined in step a call tear down message is sent responsive to the failure step .

Note the local repair method can be implemented for any failure in the network but the local repair is only performed if the failure is within one of the local repair segments as defined by the master nodes and the slave nodes. Assuming the failure is with a local repair segment a slave node starts a timer for period of time e.g. a predetermined time period such as 250 ms etc. and a master node closes topology and computes a local path repair and if successful sends a setup message to slave node step . Additionally when the call tear down message reaches the master node or the slave node it is halted i.e. not forwarded. For example the master node and or the slave node can receive the call tear down message and determine if the associated failure is within their associated local repair zone. If so the master node and or the slave node hold store the call tear down message to attempt local repair. In this manner the control plane is involved in signaling the call tear down message but the master node and or the slave node hold this call tear down message to first attempt the local repair.

In the local repair the master node is responsible for closing the topology. The slave waits for the period of time e.g. 250 ms etc. and if no setup message from the master node is received during this period of time then the call tear down message continues step . The master node can attempt to close the topology and compute a local repair path. If none is found by the master node the call tear down message continues. In the case where the slave node finds the time expire or the master node is unable to find the local repair path the call tear down message continues to the head end or originating source node for call teardown and redialing as per normal control plane behavior in a failure scenario step . If the master node finds a path a setup message is signaled to the slave node and localized setup occurs step . Here the call tear down message is halted and does not need to continue since the master node and the slave node will do the local repair without requiring call teardown and redial. The source node learns of the repair by the typical mechanism in the control plane. Thus the local repair method is fully contained within the control plane and acts as an adjunct repair method that is first attempted to avoid having to fully teardown a call.

Referring to in exemplary embodiments network diagrams illustrate a network of various sites for describing exemplary operations of the local repair method . The network includes sites A B C D E M X Y Z which are interconnected by links L L in a meshed fashion. For ease of illustration no underlying equipment is shown but those of ordinary skill in the art will recognize that the various sites can include switches DWDM equipment etc. to form the photonic layer and the OTN layer. The network includes a control plane which can be ASON GMPLS OSRP etc. Also the network includes two five way ROADM sites A E which have local regenerators . In a connection is established between the site Z and the site C with an associated Designated Transit List DTL . Note DTL is used in PNNI ASON OSRP and a similar concept in GMPLS is an Explicit Route Object ERO . Since the sites A E can be local repair boundary nodes the DTL can be configured independently per EOE segment and then cascaded. Specifically for the connection in the DTLs include 

From the photonic layer perspective each of the DTLs DTL DTL DTL can be a local repair segment. That is assume the sites A E include OEO regeneration each of the DTLs DTL DTL DTL is a separate photonic segment from a wavelength perspective for optimization. In assume there is a failure on the link L. Subsequent to the failure a call teardown is generated by the control plane but held at the sites A E as shown in . Specifically the connection is not released on the DTL and the DRL while the local repair method is implemented. For example assume the master node is the site A e.g. lower node ID and the slave node is the site E. The call teardown is held at the sites A E for the period of time and the site A computes an alternate path e.g. a DTL of site A L site X L site E . This path is signaled between the site A and the site E and the connection is restored on a sub path of the DTL as shown in . Thus the idea is to reroute the sub path in the cascaded DTL CacsDTL so the service would tear down on L L and would be created on sub path L and L. This sub Path can be reconfigured or computed through an in skin or external Path Computation Element PCE or explicitly programmed provided by a user.

Again one advantage of this approach is that photonic optimization is run independently on EOE segments e.g. the DTLs DTL DTL DTL and thus this approach gives better restoration times and less power transients variations in a network since only one segment requires photonic optimization. Also retune wavelength conversion decisions can be made locally on the segment to work around wavelength blocking e.g. a different wavelength is needed on the DTL from the DTL . Thus the advantage of wavelength conversation can be leveraged as well and the two sub paths may be calculated independently of wavelength continuity. This is beneficial when restoration can be achieved on a different wavelength due to wavelength continuity blocking Another advantage of the localized repair systems and methods is it reduces and localizes the impact of a failure to a smaller part of the network. Also this can provide a deterministic model to a user who can even control it through explicit provisioning.

Additionally this same model can be used in a multi layer control plane e.g. photonic and OTN. Paths in different layers can be considered separately and a cascaded DTL can be created and used similarly to the concept described earlier. For OTN HO Connections i.e. ODUj multiplexed in OTUk links can be designated for segment restoration. This reduces the span of OTN transient Protocol. For example in the same example as assume the connection is an ODU3 and on the DTL and the DTL it is carried in an OTU3 i.e. LO and on the DTL the ODU3 is multiplexed into an ODU4 i.e. a HO . Thus the DTL is a local repair segment in the OTN domain. The same operations can occur as shown in and the advantage is the transients are reduced as the control plane is not lost on the other DTLs DTL DTL .

Referring to in an exemplary embodiment a timing diagram illustrates operation of a connection between two nodes with the localized repair systems and methods. In this example there are intermediate nodes between the end nodes with the nodes being OEO points. At first time the connection is signaled from the source node to the destination node through all of the intermediate nodes e.g. a connection setup message. Assuming each node is capable of supporting the connection the connection setup message is passed along to each subsequent node to the destination node which in turn creates a connect message e.g. an ACK message and a connect phase begins at time . This connect message is passed similarly from the destination node to the source node through all of the intermediate nodes .

At a time local repair segments are installed defined i.e. restorable regenerator segments sub paths EOE segments HO segments etc. In this example the local repair segments are between the nodes local repair segment and the nodes local repair segment . Note not every segment has to have a local repair segment e.g. the segments between the nodes and the nodes do not have a local repair segment. In this example the node is designated the master node and the node is the slave node for the local repair segment and the node is designated the master node and the node is the slave node for the local repair segment . For example the master slave designation is based on Node ID egress ingress ports etc. Note the local repair segments can be determined before during or after the times . For example the initial connection setup can install the restorable segments attribute on respective nodes i.e. master slave intermediate INT .

The local repair segments can validate protection routes for their associated segments from both ends the master node and the slave node for bookkeeping periodically e.g. protection segment route is validated for both link as well as bundle diversity. The local repair segments each include the master node the slave nodes and one or more intermediate nodes INT for a restorable segment. At a time there are back to back failures affecting the nodes and the associated local repair segments . Subsequently at a time the local repair method can be implemented. There is a failure notification and release sent on each of the local repair segments since the failures occur here. Note the nodes will hold these associated messages per the local repair method . For the local repair segment the slave node starts an inactivity timer e.g. 250 ms and may only start this if the protect route for the local repair segment is valid based on the bookkeeping if not there is no local repair and the release message is not held . The master node sends a setup on the protect route if valid otherwise the release message is sent not held. This same process is implemented on the local repair segment as well.

The local repair can include aggregating all connections in to minimize setup if possible as well as retuning wavelengths on a colorless regenerator port to avoid wavelength blocking. At a time the local setup messages are provided on the local repair segments while the network wide release messages are held and service is restored for the connection via local repair instead of redial to the source node . Note this can be a new type of setup connect message in the control plane for the master node and the slave node. The types of error scenarios of the local repair can include any crankback treated as a failure and leads to a reattempt a failure to reestablish triggers release type path inactivity timer expiry triggers release type path and Absolute Route Diversity ARD restrictions.

The local repair segments can include various signaling attributes that are done within the control plane . First initial connection setup signaling installs the restorable segments attribute on respective nodes i.e. master slave intermediate. Second the protection segment route for the local repair segments is validated for both link as well as bundle diversity. Third the master slave determination is signaled based on associated criteria. Fourth release messages are generated on the local repair segments such as i TYPE SEGMENT RELEASE Triggered ALL Conditions ii SEGMENT RELEASE triggers the SEGMENT RESTORATION on Master Slave but tear down on INT nodes iii PATH RELEASE triggers tear down complete path iv PATH RELEASE used only for error scenarios during segment restoration v CALLREF Different Call Ref range used to avoid contention . Finally both the master node and the slave node can do periodic status check of protection route based on their routing database to decide whether to send SEGMENT SETUP or start INACT TMR respectively.

Referring to in an exemplary embodiment a block diagram illustrates an exemplary node for use with the localized repair systems and methods described herein. In an exemplary embodiment the exemplary node can be a network element that may consolidate the functionality of a multi service provisioning platform MSPP digital cross connect DCS Ethernet and or Optical Transport Network OTN switch dense wave division multiplexed DWDM platform etc. into a single high capacity intelligent switching system providing Layer 0 1 and or 2 consolidation. In another exemplary embodiment the node can be any of an OTN add drop multiplexer ADM a multi service provisioning platform MSPP a digital cross connect DCS an optical cross connect an optical switch a router a switch a wavelength division multiplexing WDM terminal an access aggregation device a ROADM etc. For example the node can be any digital system with ingress and egress digital signals and switching therebetween of channels timeslots tributary units etc. Additionally the node can be any optical system with ingress and egress optical signals and switching therebetween of wavelengths. Of course the node can be both digital and optical.

In an exemplary embodiment the node includes common equipment one or more line modules and one or more switch modules . The common equipment can include power a control module operations administration maintenance and provisioning OAM P access user interface ports and the like. The common equipment can connect to a management system through a data communication network as well as a Path Computation Element PCE Software Defined Network SDN controller OpenFlow controller etc. . The management system can include a network management system NMS element management system EMS or the like. Additionally the common equipment can include a control plane processor such as a controller illustrated in configured to operate the control plane as described herein. The node can include an interface for communicatively coupling the common equipment the line modules and the switch modules therebetween. For example the interface can be a backplane mid plane a bus optical or electrical connectors or the like. The line modules are configured to provide ingress and egress to the switch modules and to external connections on the links to from the node . In an exemplary embodiment the line modules can form ingress and egress switches with the switch modules as center stage switches for a three stage switch e.g. a three stage Clos switch. Other configurations and or architectures are also contemplated. The line modules can include optical transceivers such as for example 1 Gb s GbE PHY 2.5 Gb s OC 48 STM 1 OTU1 ODU1 10 Gb s OC 192 STM 64 OTU2 ODU2 10 GbE PHY 40 Gb s OC 768 STM 256 OTU3 ODU3 40 GbE PHY 100 Gb s OTU4 ODU4 100 GbE PHY ODUflex etc. In the optical system the line modules can be optical modems and the switching can be via ROADM components.

Further the line modules can include a plurality of optical connections per module and each module may include a flexible rate support for any type of connection such as for example 155 Mb s 622 Mb s 1 Gb s 2.5 Gb s 10 Gb s 40 Gb s and 100 Gb s N 1.25 Gb s and any rate in between. The line modules can include wavelength division multiplexing interfaces short reach interfaces and the like and can connect to other line modules on remote network elements end clients edge routers and the like e.g. forming connections on the links . From a logical perspective the line modules provide ingress and egress ports to the node and each line module can include one or more physical ports. The switch modules are configured to switch channels timeslots tributary units packets etc. between the line modules . For example the switch modules can provide wavelength granularity Layer 0 switching SONET SDH granularity such as Synchronous Transport Signal 1 STS 1 and variants concatenations thereof STS n STS nc Synchronous Transport Module level 1 STM 1 and variants concatenations thereof Virtual Container VC3 etc. OTN granularity such as Optical Channel Data Unit 1 ODU1 Optical Channel Data Unit 2 ODU2 Optical Channel Data Unit 3 ODU3 Optical Channel Data Unit 4 ODU4 Optical Channel Data Unit flex ODUflex Optical channel Payload Virtual Containers OPVCs ODTUGs etc. Ethernet granularity Digital Signal n DSn granularity such as DS0 DS1 DS3 etc. and the like. Specifically the switch modules can include Time Division Multiplexed TDM i.e. circuit switching and or packet switching engines. The switch modules can include redundancy as well such as 1 1 1 N etc. In an exemplary embodiment the switch modules provide OTN switching and or wavelength switching.

Those of ordinary skill in the art will recognize the node can include other components which are omitted for illustration purposes and that the systems and methods described herein are contemplated for use with a plurality of different network elements with the node presented as an exemplary type of network element. For example in another exemplary embodiment the node may not include the switch modules but rather have the corresponding functionality in the line modules or some equivalent in a distributed fashion. For example as a ROADM there may not be digital components only optical. For the node other architectures providing ingress egress and switching therebetween are also contemplated for the systems and methods described herein. In general the systems and methods described herein contemplate use with any network element providing switching of channels timeslots tributary units wavelengths etc. and using the control plane . Furthermore the node is merely presented as one exemplary node for the systems and methods described herein.

In an exemplary embodiment a network can include a plurality of the nodes a plurality of links interconnecting the plurality of nodes e.g. photonic links OTN links etc. at least two nodes of the plurality of nodes including three or more degrees a control plane operated between the plurality of nodes e.g. the control plane a connection including a path through some of the plurality of links between two nodes of the plurality of nodes one of the two nodes is a source node and another of the two nodes including a destination node and wherein the path includes the at least two nodes and a local repair segment defined between the at least two nodes wherein upon a failure in the local repair segment control plane signaling to tear down the connection is halted within the local repair segment such that a local repair is attempted first and if the local repair is unsuccessful the control plane signaling to tear down the connection is release for a tear down of the connection and a redial.

Referring to in an exemplary embodiment a block diagram illustrates a controller to provide control plane processing and or operations administration maintenance and provisioning OAM P for the node . The controller can be part of common equipment such as common equipment in the node or a stand alone device communicatively coupled to the node via the DCN . The controller can include a processor which is hardware device for executing software instructions such as operating the control plane. The processor can be any custom made or commercially available processor a central processing unit CPU an auxiliary processor among several processors associated with the controller a semiconductor based microprocessor in the form of a microchip or chip set or generally any device for executing software instructions. When the controller is in operation the processor is configured to execute software stored within memory to communicate data to and from the memory and to generally control operations of the controller pursuant to the software instructions. The controller can also include a network interface a data store memory an I O interface and the like all of which are communicatively coupled therebetween and with the processor .

The network interface can be used to enable the controller to communicate on the DCN such as to communicate control plane information to other controllers to the management system and the like. The network interface can include for example an Ethernet card e.g. 10BaseT Fast Ethernet Gigabit Ethernet or a wireless local area network WLAN card e.g. 802.11 . The network interface can include address control and or data connections to enable appropriate communications on the network. The data store can be used to store data such as control plane information provisioning data OAM P data etc. The data store can include any of volatile memory elements e.g. random access memory RAM such as DRAM SRAM SDRAM and the like nonvolatile memory elements e.g. ROM hard drive flash drive CDROM and the like and combinations thereof. Moreover the data store can incorporate electronic magnetic optical and or other types of storage media. The memory can include any of volatile memory elements e.g. random access memory RAM such as DRAM SRAM SDRAM etc. nonvolatile memory elements e.g. ROM hard drive flash drive CDROM etc. and combinations thereof. Moreover the memory may incorporate electronic magnetic optical and or other types of storage media. Note that the memory can have a distributed architecture where various components are situated remotely from one another but may be accessed by the processor . The I O interface includes components for the controller to communicate to other devices. Further the I O interface includes components for the controller to communicate with the other nodes such as using overhead associated with OTN signals.

In an exemplary embodiment the controller is configured to communicate with other controllers in the network to operate the control plane for control plane signaling. This communication may be either in band or out of band. For SONET networks and similarly for SDH networks the controllers may use standard or extended SONET line or section overhead for in band signaling such as the Data Communications Channels DCC . Out of band signaling may use an overlaid Internet Protocol IP network such as for example User Datagram Protocol UDP over IP. In an exemplary embodiment the controllers can include an in band signaling mechanism utilizing OTN overhead. The General Communication Channels GCC defined by ITU T Recommendation G.709 are in band side channels used to carry transmission management and signaling information within Optical Transport Network elements. The GCC channels include GCC0 and GCC1 2. GCC0 are two bytes within Optical Channel Transport Unit k OTUk overhead that are terminated at every 3R Re shaping Re timing Re amplification point. GCC1 2 are four bytes i.e. each of GCC1 and GCC2 include two bytes within Optical Channel Data Unit k ODUk overhead. For example GCC0 GCC1 GCC2 or GCC1 2 may be used for in band signaling or routing to carry control plane traffic. Based on the intermediate equipment s termination layer different bytes may be used to carry control plane signaling. If the ODU layer has faults it has been ensured not to disrupt the GCC1 and GCC2 overhead bytes and thus achieving the proper delivery control plane signaling. Other mechanisms are also contemplated for control plane signaling.

The controller is configured to operate the control plane in the network . That is the controller is configured to implement software processes algorithms etc. that control configurable features of the network such as automating discovery of the nodes capacity on the links port availability on the nodes connectivity between ports dissemination of topology and bandwidth information between the nodes path computation and creation for connections network level protection and restoration and the like. As part of these functions the controller can include a topology database that maintains the current topology of the network based on control plane signaling e.g. HELLO messages and a connection database that maintains available bandwidth on the links again based on the control plane signaling. Again the control plane is a distributed control plane thus a plurality of the controllers can act together to operate the control plane using the control plane signaling to maintain database synchronization. In source based routing the controller at a source node for a connection is responsible for path computation and establishing by signaling other controllers in the network . For example the source node and its controller can signal a path through various techniques such as Resource Reservation Protocol Traffic Engineering RSVP TE G.7713.2 Private Network to Network Interface PNNI Constraint based Routing Label Distribution Protocol CR LDP etc. and the path can be signaled as a Designated Transit List DTL in PNNI or an Explicit Route Object ERO in RSVP TE CR LDP. As described herein the connection refers to a signaled end to end connection such as an SNC SNCP LSP etc. Path computation generally includes determining a path i.e. traversing the links through the nodes from the source node to the destination node based on a plurality of constraints such as administrative weights on the links bandwidth availability on the links etc.

In an exemplary embodiment the controller can be an in skin or external PCE. The controller can include an interface communicatively coupled to one or more nodes in a network e.g. a backplane interface a network interface etc. a processor communicative coupled to the interface and memory storing instructions that when executed cause the processor to compute a path for a connection in the network responsive to signaling from a control plane and define local repair segments on the connection in the network based on boundary points in the path where the connection has an ability for local repair the boundary points including any of optical electrical conversion points or Optical Transport Network multiplexing points and wherein the control plane is configured upon a failure in the local repair segments to attempt a local repair first without network wide involvement.

It will be appreciated that some exemplary embodiments described herein may include one or more generic or specialized processors one or more processors such as microprocessors digital signal processors customized processors and field programmable gate arrays FPGAs and unique stored program instructions including both software and firmware that control the one or more processors to implement in conjunction with certain non processor circuits some most or all of the functions of the methods and or systems described herein. Alternatively some or all functions may be implemented by a state machine that has no stored program instructions or in one or more application specific integrated circuits ASICs in which each function or some combinations of certain of the functions are implemented as custom logic. Of course a combination of the aforementioned approaches may be used. Moreover some exemplary embodiments may be implemented as a non transitory computer readable storage medium having computer executable instructions stored thereon for programming a computer server appliance device etc. each of which may include a processor to perform methods as described and claimed herein. Examples of such computer readable storage mediums include but are not limited to a hard disk an optical storage device a magnetic storage device a ROM Read Only Memory a PROM Programmable Read Only Memory an EPROM Erasable Programmable Read Only Memory an EEPROM Electrically Erasable Programmable Read Only Memory Flash memory and the like. When stored in the non transitory computer readable medium software can include instructions executable by a processor that in response to such execution cause a processor or any other circuitry to perform a set of operations steps methods processes algorithms etc.

Although the present disclosure has been illustrated and described herein with reference to preferred embodiments and specific examples thereof it will be readily apparent to those of ordinary skill in the art that other embodiments and examples may perform similar functions and or achieve like results. All such equivalent embodiments and examples are within the spirit and scope of the present disclosure are contemplated thereby and are intended to be covered by the following claims.

