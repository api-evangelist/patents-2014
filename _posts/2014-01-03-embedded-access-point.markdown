---

title: Embedded access point
abstract: A device includes a first processing unit and an interface configured to communicate with an embedded access point including a wireless communication module configured to establish (i) a first wireless connection with a first station, and (ii) a second wireless connection with a separate access point. The device further includes a second processing unit configured to control a first wireless network including the device and the first station to operate the embedded access point as an access point for the first wireless network, and operate the embedded access point as a station in a second wireless network that includes the embedded access point and the separate access point. The separate access point provides access point functionality for the second wireless network, and the embedded access point is configured to be powered via the interface.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08873468&OS=08873468&RS=08873468
owner: Marvell International Ltd.
number: 08873468
owner_city: Hamilton
owner_country: BM
publication_date: 20140103
---
This application is a continuation of U.S. patent application Ser. No. 12 752 947 filed on Apr. 1 2010 which claims the benefit of U.S. Provisional Patent Application No. 61 175 534 entitled AP Solution which was filed on May 5 2009 the entire disclosure of each of which are hereby incorporated by reference herein in their entireties.

The present disclosure relates generally to an access point for a wireless network more particularly to a low power and small footprint access point.

The background description provided herein is for the purpose of generally presenting the context of the disclosure. Unless otherwise indicated herein the approaches described in this section are not prior art to the claims in this application and are not admitted to be prior art by inclusion this section.

A wireless access point connects various wireless communication devices to a wireless network and relays data to and or from the associated wireless communication devices. For example the wireless communication devices such as for example computers printers data storage devices audio video devices and or the like may be connected to an access point directly or indirectly and may exchange data with each other. Thus the wireless access point is a very popular choice for implementing a home wireless network.

Typically a wireless access point is a stationary device that requires an external power source and therefore cannot be used when no power source is available. Moreover to connect to a network via a stationary access point a wireless device must be within a certain limited operational range of the wireless access point.

In an embodiment a first wireless access point includes a wireless communication module configured to establish i a first wireless connection between the first wireless access point and a first station and ii a second wireless connection between the first wireless access point and a second wireless access point. The first wireless access point further includes a processing unit configured to perform i first network functions in a first basic service set BSS including the first wireless access point and the first station the first network functions for providing access point functionality for the first BSS and ii second network functions in a second BSS including the first wireless access point and the second wireless access point the second wireless access point providing access point functionality for the second BSS. The first wireless access point further includes an interface configured to couple with a device separate from the first wireless access point the wireless communication module and the processing unit being configured to be powered by the device separate from the first wireless access point via the interface.

In various implementations one or more of the following features may be included. The device separate from the wireless access point operates as a host device and the first processing unit communicates with the second processing unit via the first connector and the second connector. The power source includes a battery. The first connector includes one of a universal serial bus USB connector or a secure digital SD connector. The first processing unit performs at least one of authentication encryption and dynamic rate adaptation in connection with the first BSS. The wireless communication module is configured to establish a second wireless connection with a second station where the first processing unit routes data between the first station and the second station without routing the data via the first connector. The wireless communication module is configured to establish a second wireless connection with a further access point so that the access point operates as a station in a second BSS including the access point and the further access point. The wireless access point includes a memory unit to buffer data received via the wireless communication module.

In another embodiment a device includes a first processing unit and an interface configured to communicate with an embedded access point. The embedded access point includes a wireless communication module configured to establish i a first wireless connection with a first station and ii a second wireless connection with a separate access point. The device further includes a second processing unit configured to control a first wireless network including the device and the first station to operate the embedded access point as an access point for the first wireless network and operate the embedded access point as a station in a second wireless network that includes the embedded access point and the separate access point. The separate access point provides access point functionality for the second wireless network and the embedded access point is configured to be powered via the interface.

In various implementations one or more of the following features may be included. The embedded access point comprises a connector that is removably connectable with the interface. The device includes a second wireless communication module to communicate with a base station operating in a second wireless communication network where the embedded access point is configured to communicate with the second wireless communication module via the interface. The wireless network including the embedded access point and the station is a wireless local area network and the second wireless network is a mobile telephony network. The devices includes a first memory unit for use by the first processing unit where the embedded access point includes a second memory unit to buffer data received via the wireless communication module. The second processing unit is configured to implement a TCP IP stack in connection with the wireless network. The device includes a user interface to receive configuration commands related to the access point where the first processing unit forwards the configuration commands to the second processing unit via the interface.

In another embodiment a method is disclosed for operating a first access point device receiving power from a host device via an interface between the host device and the first access point device and establishing a first wireless connection between the first access point device and a station. The method further includes establishing a second wireless connection between the first access point device and a second access point performing first network functions in a first basic service set BSS including the first access point device and the station the first network functions providing access point functionality for the first BSS. The method also includes performing second network functions in a second BSS including the first wireless access point device and the second wireless access point the second wireless access point providing access point functionality for the second BSS.

In various implementations one or more of the following features may be included. The access point is a first access point the wireless connection is a first wireless connection the BSS is a first BSS and the method includes establishing a second wireless connection with a second access point via the wireless communication module and causing the first access point to join a second BSS as a station where the second BSS includes the first access point and the second access point. The method includes communicating via the first BSS and via the second BSS without powering down the first access point. The wireless connection is a first wireless connection and the station is a first station and the method includes establishing a second wireless connection with a second station via the wireless communication module of the access point where the BSS includes the first access point the first station and the second station receiving a data unit where the data unit travels from the first station to the second station and routing the data unit to the second station without transmitting the data unit to the host via the first connector. The method includes receiving a data unit from the station determining that the data unit is addressed to the host device or to a device external to the BSS and forwarding the data unit to the host via the first connector where the host operates in an external network.

As one of the conditions for establishing a communication link to the stationary AP in order to access the server or other network hosts a device equipped with a wireless transceiver must be within the operating range of the stationary AP . Thus a personal computer disposed within the range and the stationary AP can communicate and form a basic service set BSS i.e. an association of devices including an access point and at least one station . On the other hand a personal computer is disposed outside the range and cannot establish a communication link with the stationary access point to participate in the BSS . Similarly if the personal computer leaves the range the communication link to the stationary AP will be lost.

During operation the embedded AP operates independently of the signal processing and control unit to control the operation of the BSS which may include one or several stations wirelessly connected to the embedded AP . The embedded AP implements the functionality of the stationary AP illustrated in as well as one or more or none of such features as efficient power management station specific rate adaptation Wi Fi and Bluetooth coexistence support etc. discussed in more detail below. The embedded AP in effect provides a portable network cloud which wireless devices e.g. laptops with wireless cards wireless printers personal digital assistants etc. can join to communicate with each other or with external hosts via the network . Thus in one mode of operation the embedded AP routes or forwards data units between the devices and . In another mode of operation the embedded AP routes or forwards data units between the device or and the network . Additional modes of operation of the embedded AP and the mobile phone as well as various topologies of the BSS that the embedded AP can support are discussed in more detail with reference to .

In general the signal processing and control unit implements the primary functionality of the mobile phone or a similar portable device and can include a processor having an architecture suitable for low power applications such as an Advanced RISC Machine ARM processor. In an embodiment the signal processing and control unit utilizes an operating system OS such as the Symbian OS the QNX OS or any other suitable operating system to run drivers and applications. In an embodiment because the embedded AP includes an independent processing module such as a microprocessor or a processor embedded in an application specific integrated circuit ASIC for example the embedded AP consumes few resources of the mobile phone and does not require that the signal processing and control unit implement AP specific functionality. Rather an AP interface allows the embedded AP and the signal processing and control unit to exchange data and control information. In an embodiment the AP interface supports a standard application programming interface API function set to make the embedded AP easily portable i.e. easily incorporated into a variety of different mobile phones or other types of devices . In some embodiments the AP interface is compatible with the Secure Digital SD standard so that the embedded AP is incorporated into an SD card and can be removably inserted into an SD connector of the mobile phone . In other embodiments the AP interface is a Universal Serial Port USB based interface and the embedded AP is provided in a separate external housing that is removably connectable to the mobile phone via a universal serial bus USB cable. Other suitable interfaces can also be used such as other industry standard interfaces proprietary interfaces etc.

In at least some of the embodiments the AP interface enables easy insertion and removal of the embedded AP from the housing of the mobile phone . If implemented using a USB standard in one embodiment the AP interface includes a female USB connector and the embedded AP includes a male USB connector. In another embodiment the embedded AP includes a female USB connector and a USB cable is utilized to couple the AP with the AP interface . It is noted that in some embodiments the AP interface is also for coupling with devices other than the embedded AP such as memory cards power supplies a personal computer etc. Also in some embodiments in which the AP includes a connector for removably connecting with other devices such as the mobile phone the embedded AP is similarly compatible with devices other than the mobile phone .

With continued reference to the example mobile phone includes a memory unit e.g. RAM and a mass data storage e.g. a magnetic disk a DVD drive and several modules to provide user interaction a microphone a display a user input device e.g. a keyboard a keypad a touch screen etc. and an audio output module e.g. a speaker . Further a power source such as a lithium battery or other suitable battery provides power to both the embedded AP and the signal processing and control unit . The AP interface accordingly can provide power transfer functionality in addition to data transfer functionality. In an embodiment the embedded AP lacks a power source such as a battery that is sufficient to support all functionality of the embedded AP and is therefore powered directly from the power source via the AP interface . In other words the embedded AP includes either no power source or includes only a secondary power source that cannot support all transmitting receiving processing etc. functions of the embedded AP . For example the embedded AP can include a battery for powering a battery backed up memory. However in some embodiments the embedded AP includes a power processing unit such as a DC to DC converter to adjust the voltage amperage frequency or other characteristics of the supply signal provided via the AP interface . It is noted that the power source in these embodiments does not supply a charging current to a battery of the embedded AP that is sufficient to support all functions of the embedded AP . Thus in these embodiments the power source is considered to directly power the embedded AP albeit via a power processing circuit if included.

In addition to the mobile phone the embedded AP can be used with any electronic device. Moreover it is noted that the electronic device need not operate in a network and that the embedded AP can be used to connect several devices in a local network without providing access to the Internet or other external network.

Next an example embedded AP is discussed with reference to followed by a discussion of an AP controller that can be used in the embedded AP or the embedded AP with reference . then illustrate several example BSS topologies in which the embedded AP or can be used. Finally illustrate example methods for configuring a device to operate in a dual BSS mode and routing data units between stations using an embedded AP respectively.

Similar to the embedded AP the embedded AP illustrated in can be used with the mobile phone or another electronic device. In an embodiment the embedded AP is based on a Marvell 8688 chipset. The embedded AP includes a processing unit that can be for example an ARM processor. The processing unit implements an AP controller one example of which is discussed with reference to . The processing unit is coupled to a static random access memory SRAM unit an RF module a baseband module a media access control MAC unit and a Bluetooth BT unit .

As illustrated in the RF module is coupled to an antenna . In general the RF module can implement any desired wireless technology such as one or several standardized communication protocols including for example the IEEE Standard 802.11a and its updates and amendments the IEEE Standard 802.11b the IEEE Standard 802.11g the IEEE Standard 802.11n and the IEEE draft standards 802.15.3 or 802.15.3c. To operate according to one or several of these standards the RF module can include one or several encoders and decoders interleavers and de interleavers modulators and demodulators digital to analog and analog to digital converters and other components used in an RF communication path.

The embedded AP receives data control signals and power via a host interface that can be similar to or compatible with the AP interface discussed above. In particular the host interface can include a set of electrical connectors to support power and data transfer and a housing component to mate with a corresponding interface component of the device. As one example the host interface can include a male USB connector insertable into a female USB connector provided on the AP interface . Using a data channel the embedded AP exchanges data units e.g. packets frames streams with a host that utilizes the embedded AP . A control channel carries configuration commands and other information to ensure interoperability between the embedded AP and the corresponding host. On a portable device a user can enter configuration data related to the embedded AP using a user interface of the portable device e.g. the display and the user input module illustrated in and the portable device can in turn forward configuration commands to the embedded AP via the control channel . Further a power channel provides a relatively small electrical signal to power the CPU and other modules of the embedded AP . In one embodiment the power channel directly powers the CPU . In another embodiment the power channel directly powers the RF module . In yet another embodiment the power channel directly powers the CPU and the RF module . It is noted that because the embedded AP does not require an external user interface such as the modules of the embedded AP can be configured to utilize very little power from the power source of the host device.

Moreover in an embodiment the embedded AP is configured to further reduce power consumption by implementing power saving techniques such as those described in co pending U.S. patent application Ser. No. 12 435 871 filed on May 5 2009 and entitled Access Point Enhancements and in U.S. Provisional Patent Application No. 61 118 727 entitled Portable AP Enhancements which was filed on Dec. 1 2008 both of which are incorporated herein by reference in their entireties. As one example the embedded AP powers down for small periods of time without disconnecting from stations participating in a BSS. In an embodiment the embedded AP powers down according to a schedule of communication timeslots so that the RF module receives or transmits data only when the embedded AP is scheduled to participate in a timeslot or potentially can participate in a contention period timeslot .

In an embodiment the BT module is for establishing Bluetooth communication links with external devices. The AP controller ensures that Wi Fi and BT properly coexist in the embedded AP . In particular the AP controller allows Wi Fi traffic e.g. data being downloaded from the Internet to a laptop via the mobile phone and Bluetooth traffic e.g. a streaming music file being downloaded from the Internet played by the mobile phone and transmitted to a headset to share a common channel with no adverse effect on each other. In some embodiments the AP controller can implement the techniques described in U.S. Provisional Patent Application No. 61 243 077 entitled AP PS Enhancements filed on Sep. 16 2009 the entire disclosure of which is incorporated herein by reference.

The AP controller includes an authentication module and an encryption module to support secure authorized access to the corresponding one or several BSS clouds. In an embodiment the encryption module supports one or several of the Wireless Encryption Protocol WEP the Wi Fi Protected Access WPA WPA2 the WLAN Authentication and Privacy Infrastructure WAPI etc. with open system authentication pre shared key PSK the IEEE 802.1x Standard for port based network access control etc. To facilitate configuration the AP controller further includes a Wi Fi Protected Setup WPS module .

The AP controller further includes a rate adaptation module to support link specific data rates to provide efficient throughput on each link. Referring back to in an embodiment the rate adaptation module configures the link between the embedded AP and the device to have one data rate and the link between the embedded AP and the device to have another data rate. The data rate on each of these links may depend on the required quality of service and or on physical conditions on each link.

With continued reference to a channel selection module evaluates several wireless channels to select the least congested channel. To this end the channel selection module can use any suitable techniques including those known in the art. In an embodiment a BT Wi Fi coexistence controller ensures that a device using the embedded AP or can concurrently carry out Wi Fi and BT operations as discussed above with reference to . Still further an access controller implements a suitable access control mechanism to selectively allow or deny access to the corresponding BSS. For example in an embodiment the access controller grants or denies access to each of the devices based on device identity device type or any other parameter which may be user configurable . Also a power control module implements power management logic as discussed above.

A TCP IP stack controller supports one or several network protocol layers e.g. IP TCP UDP etc. to route data between stations operating in the BSS with which the corresponding embedded AP is associated and support certain network functionality without relying on the host that includes the embedded AP. It is noted that the TCP IP stack controller allows the host e.g. the mobile phone to execute host specific applications without needing to utilize its processing power for TCP IP stack control functions. In an embodiment the TCP IP stack controller also supports HTTP and or HTTPS so that the embedded AP can run a web server for example. In this embodiment a user can configure the embedded AP using a standard web browser.

A buffering controller allows the embedded AP or to buffer data using the SRAM unit see when appropriate. For example when the embedded AP or routes data between the devices and see the embedded AP and need not transfer data units via the host interface and can instead utilize local resources. It is noted that the buffering controller and the SRAM unit permit the host device to preserve both space and processing power that would otherwise need to be dedicated for data units being transferred between the devices and . Additionally or alternatively the buffering controller can also support a configuration option to route data packets to the memory of the host via the host interface . Referring back to a user can thus choose to always route data including data internal to the BSS via the mobile phone for the purposes of monitoring network traffic for example.

Referring again to a forwarding controller implements at least some of the routing and forwarding functionality discussed above in an embodiment. In this embodiment the forwarding controller determines that a data unit such as an Ethernet packet traveling from the device to the device illustrated in can be routed locally i.e. within the BSS . Accordingly the forwarding controller buffers the data packet using the buffering controller and the SRAM unit see and routes the data packet via the RF module and the antenna . In at least some of the embodiments the forwarding controller processes the data packet without waking up the host. On the other hand if the data packet is addressed to the host e.g. the mobile phone or a host on the Internet the forwarding controller forwards the data packet to the host via the host interface to be consumed by the host or forwarded to the network .

With continued reference to a dual BSS mode controller allows the corresponding embedded AP to participate in multiple BSS clouds. For example in one embodiment the embedded AP is adapted to operate as a station in one BSS and as AP in another BSS when desirable. In at least some of the embodiments the embedded AP is adapted to participate in multiple BSS clouds concurrently when desirable. The BSS mode controller controls the timing of context switching of the AP controller i.e. transitioning from one mode of operation to another mode of operation. Thus the BSS mode controller does not require that the embedded AP be power cycled to transition between different modes of operation in an embodiment. The BSS mode controller also stores the BSS identity of the AP controller for each BSS context. Dual mode of operation i.e. operating as an AP in one BSS and a station in another BSS concurrently is further discussed below with reference to .

From the foregoing it is noted that embedded AP or is configured to operate as a portable access point and allows a portable device such as a mobile phone to provide a mobile Wi Fi cloud. In one embodiment the embedded AP or has a low code footprint because the AP controller is dedicated specifically to AP functionality. Further in an embodiment the embedded AP or is constructed with a small form factor convenient for packaging in a small form factor because the embedded AP or does not require a dedicated power source or user interface devices such as a display a keypad or even a button. In an embodiment the embedded AP or is packaged in a USB pen drive form factor. Still further in an embodiment the embedded AP or consumes little power during operation and can be configured to sleep when not in service.

Of course a device can also use an embedded AP such as the embedded AP or to operate in multiple modes. For example a embedded AP laptop computer can operate the embedded AP similar to host illustrated in for one application and similar to the personal computer illustrated in for another application. As another example a mobile phone can utilize an embedded AP for tethering i.e. connecting one or several computers to a network such as the Internet and using the embedded AP as a modem. At other times the same mobile phone can be used to set up a BSS similar to the BSS illustrated in .

At least some of the various blocks operations and techniques described above may be implemented utilizing hardware a processor executing firmware instructions a processor executing software instructions or any combination thereof. When implemented utilizing a processor executing software or firmware instructions the software or firmware instructions may be stored on any computer readable medium such as on a magnetic disk an optical disk or other storage medium in a RAM or ROM or flash memory processor hard disk drive optical disk drive tape drive etc. Likewise the software or firmware instructions for the AP controller or another component discussed above may be delivered to a user or a system via any known or desired delivery method including for example on a computer readable disk or other transportable computer storage mechanism or via communication media. Communication media typically embodies computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic radio frequency infrared and other wireless media. Thus the software or firmware instructions may be delivered to a user or a system via a communication channel such as a telephone line a DSL line a cable television line a fiber optics line a wireless communication channel the Internet etc. which are viewed as being the same as or interchangeable with providing such software via a transportable storage medium . The software or firmware instructions may include machine readable instructions that when executed by the processor cause the processor to perform various acts.

While the present invention has been described with reference to specific examples which are intended to be illustrative only and not to be limiting of the invention changes additions and or deletions may be made to the disclosed embodiments without departing from the scope of the invention.

