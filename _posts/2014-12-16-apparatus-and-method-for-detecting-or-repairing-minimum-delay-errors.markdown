---

title: Apparatus and method for detecting or repairing minimum delay errors
abstract: Described are apparatuses and methods for detecting or repairing minimum-delay errors. The apparatus may include a minimum-delay error detector (MDED) to receive a clock signal and a data path signal and to detect a minimum-delay error (MDE) in the data path based on the received data path signal and the clock signal. The MDE may be repaired by adjusting one or more regional clock buffers coupled to the MDED. Further, the apparatus may include minimum-delay path replicas (MDPRs) used for detecting and repairing MDEs during normal system operations. Other embodiments may be described and/or claimed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09520877&OS=09520877&RS=09520877
owner: Intel Corporation
number: 09520877
owner_city: Santa Clara
owner_country: US
publication_date: 20141216
---
This invention was made with Government support under contract number FA8650 13 37338 awarded by the Department of Defense. The Government has certain rights in this invention.

This disclosure relates generally to electronic circuits. More particularly but not exclusively the present disclosure relates to apparatuses and methods for detecting or repairing minimum delay errors.

Conventional clocking disciplines of synchronous digital very large scale integration VLSI circuits such as single phase positive edge triggered clocking entail both timing paths with a minimum and maximum delay requirement. Maximum delay paths need to be faster than a given threshold to meet a target operating frequency while guaranteeing proper data setup timing at capturing flip flops in pipelines while minimum delay paths need to be longer than a lower limit to avoid pipeline data corruption due to race through or hold time violations at the capturing flip flop.

In particular at the end of minimum delay paths pipeline data corruption may occur due to fast e.g. faster than nominal data path delay long e.g. longer than nominal clock skew or a degraded hold time of the capturing flip flop. Such minimum delay violations may be caused by integrated circuit IC power supply Vcc noise clock jitter Process Voltage Temperature PVT variations and other noise sources and are normally aggravated by aging. In particular clock skew typically degrades due to aging. In fact the transistor threshold voltage Vt and thus the clock buffer delays may increase due to aging especially under direct current DC stress found in gated clock domains while constantly activated clock domains suffer from aging to a lesser extent.

Unfortunately on manufactured state of the art microchips it is virtually impossible to detect and locate pipeline data corruption due to a minimum delay problem e.g. fast data path increased clock skew increased flip flop hold time . Additionally unlike maximum delay problems on critical timing paths which may be resolved by reducing the clock frequency or increasing the voltage minimum delay errors are not sensitive to frequency and may be impossible to eliminate with voltage adjustment. Therefore a single minimum delay failure could result in a completely non functional microprocessor or system on chip SoC .

The background description provided herein is for generally presenting the context of the disclosure. Unless otherwise indicated herein the materials described in this section are not prior art to the claims in this application and are not admitted to be prior art or suggestions of the prior art by inclusion in this section.

The embodiments described herein include apparatuses and methods for detecting or repairing minimum delay errors. In various embodiments a specifically designed circuit for detecting minimum delay errors may be inserted at the capturing flip flop of a pipeline segment. In a minimum delay debug mode maximum delay paths may be restricted to toggle only during a specific clock phase i.e. either high or low while data transitions during the other clock phase i.e. either low or high may be detected and identified as minimum delay errors.

In some embodiments an apparatus may include a clock circuit to receive a first clock signal with a first frequency in a normal operation mode and further output a second clock signal with a second frequency in a minimum delay debug mode wherein the second frequency in the minimum delay debug mode is lower than the first frequency in the normal operation mode. The apparatus may further include a minimum delay error detector MDED coupled to the clock circuit to receive the second clock signal and a data signal from a data path to detect a minimum delay error MDE in the data path based on the received data signal and the second clock signal in the minimum delay debug mode.

In some embodiments a system may include a first regional clock buffer RCB and a second RCB coupled to the first RCB. The system may further include a first circuitry coupled to the first RCB to receive a first clock signal from the first RCB. The system may further include a second circuitry coupled to the first circuitry and the second RCB to receive a data signal from the first circuitry via one or more inter regional paths and to receive a second clock signal from the second RCB. The system may further include a third circuitry coupled to the first circuitry and the second circuitry including a minimum delay error detector MDED and a minimum delay path replica MDPR having a delay equal to or shorter than a shortest data path of the one or more inter regional paths. The MDED may detect a minimum delay error MDE of the MDPR caused by a delay between the second clock signal and the first clock signal. In some embodiments MDEs may be caused by the second clock signal being delayed with respect to the first clock signal. These embodiments will be described in more detail below. Other technical effects will also be evident from the descriptions to follow.

In the following description numerous details are discussed to provide a more thorough explanation of embodiments of the present disclosure. However it will be apparent to one skilled in the art that embodiments of the present disclosure may be practiced without these specific details. In other instances well known structures and devices are shown in block diagram form rather than in detail in order to avoid obscuring embodiments of the present disclosure.

Note that in the corresponding drawings of the embodiments signals are represented with lines. Some lines may be thicker to indicate more constituent signal paths and or have arrows at one or more ends to indicate the information flow direction. Such indications are not intended to be limiting. Rather the lines are used in connection with one or more exemplary embodiments to facilitate easier understanding of a circuit or a logical unit. Any represented signal as dictated by design needs or preferences may actually comprise one or more signals that may travel in either direction and may be implemented with any suitable type of signal scheme.

Throughout the specification and in the claims the term connected means a direct electrical connection between the objects that are connected without any intermediary devices. The term coupled means either a direct electrical connection between the objects that are connected or an indirect connection through one or more passive or active intermediary devices. The term circuit means one or more passive and or active components that are arranged to cooperate with one another to provide a desired function. The term signal means at least one current signal voltage signal or data clock signal. The meaning of a an and the include plural references. The meaning of in includes in and on. 

The terms substantially close approximately near and about generally refer to being within 20 of a target value. The term scaling generally refers to converting a design schematic and layout from one process technology to another process technology. The term scaling generally also refers to downsizing layout and devices within the same technology node. The term scaling may also refer to adjusting e.g. slowing down a signal frequency relative to another parameter for example power supply level.

Unless otherwise specified the use of the ordinal adjectives first second third etc. to describe a common object merely indicates that different instances of like objects are being referred to and are not intended to imply that the objects so described must be in a given sequence either temporally spatially in ranking or in any other manner.

In various embodiments apparatus may include a clocked storage circuit such as flip flop FF to receive data e.g. din from the pipeline as well as a clock signal e.g. clk . FF may be coupled to another clocked storage circuit such as flip flop FF via a data path. Data may be transmitted from FF to FF via a selected data path e.g. a short timing path or a long timing path . Short timing path may have a minimum delay requirement and long timing path may have a maximum delay requirement. As an example long timing path may have a maximum delay requirement to meet the operating frequency target without violating the setup time of the capturing FF . As another example short timing path may have a minimum delay requirement to avoid data corruption at FF .

In various embodiments FF may capture data launched from FF via the selected data path which may add some delay to the data. In some embodiments data output from FF may travel via the long timing path to FF which may receive the data with a long delay. In some embodiments data output from FF may travel via the short timing path to FF which may receive the data with a short delay instead.

In various embodiments apparatus may include clock circuit CC to receive a clock signal clkin and output another clock signal clk. The clock signal clk may travel in the same direction as the data signal as shown. The clock signal clk may be received by FF . However clk a skewed version of clk e.g. caused by a clock skew may be received by FF and MDED . Thus FF and FF may receive the clock signal e.g. sent from a regional clock buffer not shown at different times. Clock skew may be caused by for example unbalanced clock trees wire interconnect length variations temperature variations variation in intermediate devices capacitive coupling material imperfections or differences in input capacitance on the clock inputs of devices using the clock. In various embodiments the clock skew may cause minimum delay violations.

CC may be located at the input of the clock distribution network in some embodiments. In various embodiments CC may receive clkin and output another clock signal clk. In a normal operation mode CC may work as a pass through entity so that clk may be substantially the same as clkin e.g. with a same first frequency. In a minimum delay debug mode however CC may receive clkin with the first frequency and adjust the received clock signal to output clk with a second frequency. In some embodiments the second frequency in the minimum delay debug mode is lower than the first frequency in the normal operation mode.

In various embodiments apparatus may include minimum delay error detector MDED . MDED may be coupled with the selected data path between FF and FF . In some embodiments MDED may be inserted at the capturing flip flop e.g. FF to detect minimum delay errors MDEs .

In various embodiments MDED may receive clk. In some embodiments the frequency of clk and clk in the minimum delay debug mode may be lower than or equal to a half of the frequency of clkin. As an example the frequency of clk and clk may be a half of the maximum operating frequency determined by the longest maximum delay path which may be timing path . In various embodiments in the debug mode when the frequency of clk and clk becomes a half of the frequency of clkin or lower all maximum delay paths may be restricted to toggling during one clock phase e.g. high whereas a data transition during another clock phase e.g. low may be identified as a minimum delay violation by MDED . Note that a minimum delay path toggling during the clock high phase corresponds to a non violating minimum delay path in this embodiment.

In some embodiments MDEDs may be inserted at the capturing flip flop at the end of all critically short data paths. Thus these MDEDs may provide the knowledge of the exact locations of minimum delay violations. In other embodiments a MDED may be shared among several pipeline flip flops capturing short data paths and being clocked by the same leaf of the clock tree. The latter approach may tell the approximate location of a minimum delay violation and results in a smaller area overhead compared to the former approach. Therefore these two approaches have tradeoffs between the knowledge of the exact minimum delay error location and area overhead.

Minimum delay errors are generally extremely difficult to identify and fix once a microprocessor or SoC product has been manufactured. Increased clock skew and degraded flip flop hold time due to aging usually increase the risk of minimum delay failures even after conservative minimum delay buffer insertion. Further overly conservative buffer insertion may lead to unnecessarily high consumption of area and power.

In various embodiments MDED may be used to determine the exact location or the approximate location e.g. in case of the MDED being shared among several flip flops of minimum delay violations at different stages of the product lifetime by periodically running a minimum delay debug test. For example an initial minimum delay test may be conducted to ensure proper chip manufacturing while subsequent tests account for aging effects. In some embodiments MDED may be used to assist apparatus to repair the identified critical paths prone to minimum delay violations. For example in response to the detected MDE minimum delay buffers may be adaptively inserted to the critical data paths over the product lifetime or delay elements may be adaptively inserted to the clock path of the launching flip flop. Products with a mechanism to detect and repair minimum delay errors may also enable power savings due to less conservative buffer insertion needed in those critical paths.

In various embodiments MDED may be used to determine localize and analyze minimum delay problems in various products. The disclosed minimum delay detector and debug mode may facilitate the development of a fundamental understanding of minimum delay failures in real microprocessor products running real applications which in turn allows circumventing such failures in future products.

In various embodiments apparatus may be implemented differently from the example depicted in . As an example MDED may be implemented as an integrated sub circuit of FF . In various embodiments components depicted in may have a direct or indirect connection not shown in . As an example there may be one or more additional data paths between FF and FF other than short timing path or long timing path .

These timing diagrams correspond to different clock skew values either avoiding or triggering a minimum delay violation. In particular diagram shows the case of zero clock skew in which case launching clock and capturing clock transition simultaneously. Here data input to the capturing flip flop e.g. FF of has a delay from the data output from the launching flip flop e.g. FF of . However in the case of zero clock skew data output at the launching flip flop e.g. FF of is still reflected at the data output of the capturing flip flop e.g. FF of only after the next rising clock edge thus avoiding data race through.

Diagram shows the case of a small clock skew which slightly delays the capturing clock with respect to the launching clock . Here data input to the capturing flip flop e.g. FF of still has a delay from the data output from the launching flip flop e.g. FF of . However in the case of a small clock skew data input of the capturing flip flop e.g. FF of still transitions after the positive edge of the capturing clock and data is still captured correctly assuming that the hold time requirement of the capturing flip flop is met. Thus data output of the capturing flip flop still correctly reflects data output at the launching flip flop with a clock latency of one.

Finally diagram shows the case of a large clock skew which significantly delays the capturing clock with respect to the launching clock . Here data input to the capturing flip flop e.g. FF of still has a delay from the data output from the launching flip flop e.g. FF of .

However in the case of a large enough clock skew data input of the capturing flip flop transitions before the positive edge of the capturing clock which corresponds to a minimum delay violation thus corrupting data output of the capturing flip flop due to the early transition of data input . This erroneous situation may also be referred to as data race through since the data value D hold on the launching flip flop appears on the capturing flip flop one clock cycle too early. In various embodiments an MDED e.g. MDED of may identify such a minimum delay violation by detecting a transition of data input of the capturing flip flop before the positive edge of the capturing clock .

As illustrated in in this embodiment a reduced frequency used in the minimum delay debug mode is half the value of the clock frequency used in the normal operation mode. There is a large clock skew which significantly delays the capturing clock with respect to the launching clock . Here data input to the capturing flip flop e.g. FF of has a delay from the data output from the launching flip flop e.g. FF of .

All maximum delay paths e.g. path are restricted to toggling during the clock high phase of the capturing clock in the current embodiment. All minimum delays toggling during the same clock high phase such as path correspond to non violating minimum delay paths.

However in the case of a large enough clock skew data input of the capturing flip flop transitions before the clock high phase i.e. before the positive edge of the capturing clock which corresponds to a minimum delay violation. This minimum delay violation corrupts the data output of the capturing flip flop e.g. FF of due to the early transition of data input .

Similarly in various embodiments an MDED e.g. MDED of may identify whether path violates the requisite minimum delay by detecting a transition of data input of the capturing flip flop before the positive edge of the capturing clock or equivalently during the clock low phase .

There are many possible circuit implementations of the MDED . In this embodiment the dual edge triggered flip flop is used to detect an erroneous data transition during a given clock phase e.g. during the clock low phase in the following examples. In some embodiments MDED may use a purely combinatorial edge detector in conjunction with an optional latch to hold the error signal generated by the edge detector.

The dual edge triggered flip flop may include a transparent on high latch and a transparent on low latch . In various embodiments the output multiplexer selects whichever latch is currently non transparent from transparent on high latch and transparent on low latch . The latches sample the current clock e.g. clk phase whenever the data signal e.g. n transitions. In the current embodiment whenever a low clock phase is sampled the active high Error signal is asserted as inverter inverts the output from the output multiplexer . In other embodiments the Error signal may also be asserted whenever a high clock phase is sampled depending on the particular implementation.

In various embodiments circuit may be assembled from proven standard cells and avoids contention dynamic data storage and other reliability risks. In some embodiments the area cost of circuit may correspond roughly to the area of a basic master slave flip flop.

In various embodiments circuit may be included in MDED of . In some embodiments circuit may use dynamic Domino logic and may be connected to a static latch e.g. latch . In this embodiment circuit may include two first level Domino stages e.g. and and one second level Domino stage e.g. .

In one embodiment whenever the clock signal e.g. CK is high the outputs of all Domino stages e.g. and are pre charged e.g. D and D or pre discharged e.g. Pulse Set . During the low phase of CK i.e. when data D transition causes a minimum delay error the output of one out of the two first level Domino stages e.g. D is discharged. If and only if data D transitions while the clock is still low the output of the other first level Domino stage e.g. D will be discharged as well. In turn this will cause the output of the second level Domino stage to transition high for the remainder of the clock low phase e.g. generate Pulse Set which in turn sets the static latch and thereby generates an Error signal .

During the clock high phase i.e. whenever data D is allowed to transition without causing a minimum delay error the output nodes of the first level Domino stages are pre charged to high e.g. to VCC while the output of the second level Domino stage is pre discharged low e.g. to VSS . Therefore the Error signal will never be asserted for a data transition occurring during the clock high phase.

The signal of Pulse Set is used to set latch thereby asserting the error signal . In various embodiments latch may be reset initially e.g. during power on or at the beginning of the minimum delay debug mode.

The transistors P P and N may be used to pre charge internal nodes of the evaluation networks to avoid level degradation at the output of each logic stage which otherwise would occur due to charge sharing. In other embodiments weak keepers not shown in may be added to avoid a minimum operating frequency requirement.

In various embodiments the latch may be reset at the beginning of the minimum delay debug mode and remains set signaling an error for the entire debug test after the first minimum delay violation is detected. In some embodiments the latch could be reset after each clock cycle.

In various embodiments an MDED e.g. MDED may use circuits and to detect minimum delay errors. On the one hand the total area of circuits and may be smaller than the area of circuit shown in . On the other hand circuit may entail reliability concerns in the context of high volume manufacturing due to dynamic nodes capacitive coupling onto these nodes charge leakage charge sharing and other second order effects.

In various embodiments circuit may use a shared minimum delay error detector e.g. MDED per last level local clock buffer LCB e.g. LCB . Circuit may include clock region and clock region supplied by respective regional clock buffer RCB and RCB . Clock region may include minimum delay error detection circuit and flip flop . Flip flop may receive data din and may output data n to clock region . Data n may be transmitted via various different paths to a respective receiving sequential circuit in clock region . As an example data n may travel via a given path among path group to flip flop . As another example data n may travel via a given path among path group to flip flop .

In various embodiments clock region may host various components such as flip flops and which are clocked by a common LCB . Clock region may include many units of LCB and minimum delay error detection circuit such as circuit and circuit . Circuit as shown may include an LCB e.g. LCB shared by several flip flops and an MDED e.g. MDED . Further circuit may include an XOR gate e.g. XOR gate to receive data from two or more monitored data paths and to provide a combined data transition signal to the MDED. In various embodiments MDED may be equal or similar to MDED of and include circuit of or circuit of . MDED may be used to detect minimum delay errors in the monitored data paths.

The clock distribution network used in large microprocessor chips may include at least three levels 1 a global or central clock buffer CB e.g. CB at the clock root or clock drop pin 2 regional clock buffers e.g. RCB or RCB and 3 local clock buffers e.g. LCB driving the leaf points of the clock tree. In various embodiments post silicon tunable PST clock buffers may be used at the regional level e.g. for RCB or RCB . Such PST clock buffers may be tuned on a per die basis after chip manufacturing in order to minimize skew and improve the operating frequency since clock skew may develop due to immature transistor models or new process stepping.

In various embodiments circuit may be used to repair minimum delay failures after such failures have been detected by an MDED e.g. MDED . Regional PST clock buffers e.g. RCB may be re used to repair minimum delay failures. As an example RCB may be set to a medium or large delay initially. In case of the detection of a minimum delay error by MDED RCB may then be set to a shorter delay to repair the MDE.

In various embodiments several measures may be taken to reduce the area overhead caused by the minimum delay error detection and self repair scheme. In some embodiments minimum delay detection may be limited to inter regional data paths which are characterized by large clock skew between launching and capturing flip flops. Both regional and local data paths suffer from a lower amount of clock skew and may therefore be handled in a conventional way e.g. with conservative minimum delay buffer insertion while avoiding excessive minimum delay detector insertion.

In some embodiments to further reduce the area overhead of the self repair scheme a single minimum delay detector may be shared by each local clock domain. As an example MDED may be shared by all flip flops clocked by LCB . The shared MDED may flag an error if the data input of any one of the flip flops which capture an inter regional data path and are located in the same local clock domain transitions during a dedicated clock phase e.g. the clock low phase in one embodiment . In some embodiments a tree of XOR gates may be used to feed all flip flop data inputs to the shared detector. In this case a signal transition at the detector input is generated if at least one data input transitions. In such a low overhead minimum delay self repair scheme each local clock domain may have its own local clock buffer and MDED and the clock signal from the local clock buffer may be directly fed to the MDED.

In various embodiments the error outputs of multiple minimum delay error detection circuits in a clock region e.g. clock region may be collected as a single feedback signal to RCB via OR gate . In case of one or more minimum delay errors in the clock region the delay of RCB may be reduced until no further failures occur in this clock region. Note that the error feedback signals may be routed along the tracks of the clock tree in opposite direction.

In various embodiments circuit may enable self repair of minimum delay failures during a min delay debug mode. In some embodiments circuit may increase reliability under slowly varying PVT conditions or in the presence of other noise sources e.g. achieved by repeated minimum delay correction cycles. In some embodiments circuit may help for higher manufacturing yield e.g. achieved by one time post manufacturing minimum delay repair. In some embodiments circuit may enable a longer product lifetime even in the occurrence of aging e.g. achieved by repetitive minimum delay self repair.

In some embodiments at the process may include receiving by a minimum delay error detector e.g. MDED of or MDED of a data signal from a data path and a clock signal with a second frequency in a minimum delay debug mode. In some embodiments the second frequency of the clock signal in the minimum delay debug mode is lower than a first frequency of the clock signal during a normal operation mode. As an example the clock signal output by CC of as the second frequency of the clock signal may be lower than the clock signal input to CC of as CC may adjust the clock signal in the minimum delay debug mode.

In some embodiments at the process may include detecting by the MDED a minimum delay error MDE in the data path based on the received data signal and the clock signal in the minimum delay debug mode. As an example MDED of may detect the MDE in the data path coupled to flip flop based on the data signal as well as the clock signal coupled to MDED .

In some embodiments at the process may include causing by the MDED the clock signal to be adjusted in the minimum delay debug mode or in the normal operation mode to repair the MDE in response to the detected MDE. As an example after detecting an MDE MDED of may cause RCB of to be adjusted to repair the MDE e.g. by reducing the delay of RCB until no further MDE occurs.

Modern microprocessors and SoCs often support dynamic voltage and frequency scaling DVFS or at least two separate operating modes namely a low power LP and a high performance HP mode. In the HP mode the operating frequency may be set at or close to the maximum frequency determined by the critical max delay path. In order to not only result in power savings but simultaneously support minimum delay detection and repair the LP mode may be defined by an operating frequency that is half of the maximum frequency or lower.

In such an LP mode an MDED e.g. MDED shown in may detect an MDE as a data transition during a given clock phase e.g. the clock low phase in some embodiments and feed this error information to a PST clock buffer to circumvent the minimum delay failure. In various embodiments this minimum delay detection and repair scheme may be conditioned on that there are no maximum delay violations. In other words in the LP mode a maximum delay path is allowed to toggle only during the clock phase that is not used for minimum delay detection e.g. the clock high phase in some embodiments .

Diagram illustrates the capacity of the example circuit to detect minimum delay errors in a minimum delay error debug mode with a reduced clock frequency in reference to the clock frequency in the normal operating mode. There may be a large clock skew which significantly delays the capturing clock with respect to the launching clock .

The maximum delay path may be restricted to toggling during the clock high phase of the capturing clock in the current embodiment. The minimum delay path toggling during the same clock high phase may correspond to a non violating minimum delay path. However in the case of a large enough clock skew data input of the capturing flip flop may make a transition during the clock low phase which corresponds to a minimum delay violation. Thus in various embodiments an MDED e.g. MDED of may identify the violating minimum delay path by detecting a transition of data input to the capturing flip flop during the clock low phase in some embodiments.

Diagram illustrates time diagrams in an HP mode. Similarly a large clock skew here may significantly delay the capturing clock with respect to the launching clock . However in the HP mode maximum delay paths e.g. path may be toggled during the clock high phase or the clock low phase of the capturing clock . Meanwhile minimum delay paths e.g. path toggling during the clock high phase may correspond to non violating minimum delay paths however the minimum delay path toggling during the clock low phase corresponds to a minimum delay violation. Thus in the HP mode both the maximum delay path and the minimum delay path may toggle during a clock low phase. In this case MDED of may not be able to identify a violating minimum delay path simply based on a transition of data input to the capturing flip flop during the clock low phase.

In various embodiments the previously discussed minimum delay self repair scheme may be performed during power on or continuously in the LP mode. In many cases the frequency during self repair may be at least two times lower than the maximum operating frequency. In some embodiments a failure might not be triggered immediately during a minimum delay debug mode but only as soon as a specific data pattern is applied.

After successful detection of a minimum delay error several measures can be taken to repair this failure. One measure is to increase the delay of the data path affected by the minimum delay error. Another measure is to delay the launching clock. Yet another measure may be to advance the capturing clock. However at the capturing flip flop where the minimum delay failure was detected it is hardly possible to know the launching clock. Adaptive buffer insertion needs to be repeated for every single violating minimum delay path whereas advancing only one capturing clock may repair several minimum delay paths at once with lower area and power costs. Thus in many embodiments the approach of adjusting the capturing clock may be retained for minimum delay self repair.

In various embodiments a minimum delay error self repair scheme may be based on minimum delay path replicas. In this embodiment circuit may include flip flop in clock domain commutatively coupled to flip flop in clock domain via one or more data paths . Further circuit may use replica and error detector circuit REDC and REDC for minimum delay detection and self repair between clock domain and clock domain .

In various embodiments circuit may be used in a pattern independent or data independent minimum delay error self repair scheme. In various embodiments such a minimum delay error self repair scheme may be used at the maximum operating frequency e.g. in an HP mode and also at runtime without a special debug mode. Compared to the previous disclosed scheme based on local minimum delay violation detection the scheme based on minimum delay path replicas may have lower area and power cost.

In circuit clock domain is coupled to its PST RCB while clock domain is coupled to its PST RCB . PST RCB and PST RCB may receive a common clock signal from global clock buffer GCB . The first REDC has a minimum delay path replica MDPR which has a delay equal to or slightly shorter than the shortest data path of path group from clock region to clock region . Similarly the second REDC has another MDPR which is designed to mimic the shortest data path in the reverse direction. In various embodiments only two REDCs per pair of clock domains may be needed for this minimum delay error self repair scheme which results in a much lower area overhead compared to the scheme e.g. in with one MDED per LCB.

In various embodiments to quickly find minimum delay errors a launching flip flop e.g. or feeding the MDPRs may be toggled every clock cycle. At the capturing end it is sufficient to have an MDED e.g. MDED or without a capturing flip flop. In fact to account for non zero hold times of pipeline flip flops the local clock signal fed to the MDED coming from LCB or the local clock signal fed to the MDED coming from LCB may be slightly delayed. In case of detection of a minimum delay error in a given clock region the PST RCB e.g. or driving that clock region may be set to a shorter delay such that the minimum delay error may be eliminated.

In some embodiments the minimum delay self repair enabled by circuit may be applied to an entire batch of chips after manufacturing to find a set of PST delay values that maximize the manufacturing yield by avoiding minimum delay failures. In some embodiments circuit may enable an automatic built in self repair during power on of each individual chip. In some embodiments the minimum delay self repair scheme may be executed whenever parts of the microprocessor or SoC are inactive e.g. during clock gating power gating DVFS adjustment etc. . In some embodiments a minimum delay self repair scheme based on minimum delay path replicas may even be performed continuously at full speed while the microprocessor or SoC is running.

In some embodiments at the process may include receiving a first clock signal from a first clock buffer coupled to a first clock region e.g. by REDC or of . As an example in REDC may receive a clock signal from local clock buffer in clock domain .

In some embodiments at the process may include receiving by the REDC a second clock signal from a second clock buffer coupled to a second clock region. As an example in REDC may receive another clock signal from local clock buffer in clock domain .

In some embodiments at the process may include transmitting by the REDC a signal based on the first clock signal via a minimum delay path replica MDPR having a delay equal to or less than the shortest data path of one or more inter regional paths between the first clock region and the second clock region. As an example MDED in REDC may receive a data signal originating in clock domain synchronized with the clock derived from local clock buffer transmitted to MDED via MDPR . Further MDED in REDC may receive a clock signal derived from local clock buffer in clock domain .

In some embodiments at the process may include detecting by the MDED a minimum delay error MDE in the MDPR based on the transmitted data signal and the second clock signal. As an example MDED may detect MDEs in the MDPR based on the signal d received from flip flop and the clock signal clk received from the local clock buffer .

In various embodiments the MDE may be detected when all clock signals are at a full speed in a normal mode of data transmission between the first clock region and the second clock region. As an example MDED may detect MDEs in the MDPR even if clock domains and run at full speed in an HP mode.

In various embodiments circuit may detect and repair minimum delay errors which may be triggered at some point during normal operation in path group or in any other path group from clock domain to clock domain or vice versa before these errors actually occur. In fact minimum delay paths in path group or in any other path group between clock domains and may be seldom triggered e.g. requiring many operation cycles to find the MDE s . However it may take only two cycles which can be performed at normal operation frequency to transmit data 1 and then data 0 via MDPR and MDPR to anticipate MDEs in data paths and repair them even before they arise.

In various embodiments detecting an MDE may be based on a data transition at a predetermined clock phase of the second clock signal. As an example MDED may include circuit or circuit to detect MDEs based on a data transition at a predetermined clock phase e.g. either low or high of the clock signal from the local clock buffer .

In some embodiments at the process may include causing by the MDED in the REDC the clock signal of a clock domain to be adjusted to repair the MDE in response to the detected MDE. As an example in REDC may cause RCB to be adjusted to repair the MDE. In various embodiments the delay of RCB may be shortened to repair the MDE.

Diagram illustrates timing diagrams of a minimum delay replica repair scheme in detecting minimum delay errors with a reduced clock frequency in reference to the clock frequency in the normal operating mode. Diagram illustrates timing diagrams of the minimum delay replica repair scheme in detecting minimum delay errors with the unchanged clock frequency in the normal operating mode.

In diagram a large clock skew may significantly delay the capturing clock with respect to the launching clock . The maximum delay path may be restricted to toggling during the clock high phase of the capturing clock in this embodiment. The minimum delay path toggling during the same clock high phase may correspond to a non violating minimum delay path. However in the case of a large enough clock skew data input of the capturing flip flop may make a transition during the clock low phase which corresponds to a minimum delay violation. Thus in various embodiments an MDED e.g. MDED of may identify the violating minimum delay path by detecting a transition of data input to MDED during the clock low phase because the delay of the replica path is equal to or slightly shorter than the delay of the shortest inter regional data path.

Diagram illustrates timing diagrams in an HP mode. Similarly a large clock skew here may significantly delay the capturing clock with respect to the launching clock . In the HP mode the minimum delay path may be toggled during the clock high phase . However the maximum delay path may be toggled during the clock high phase or the clock low phase of the capturing clock . However in various embodiments an MDED e.g. MDED of may still identify the violating minimum delay path by detecting a transition of data input to MDED during the clock low phase because the delay of the replica path is equal to or slightly shorter than the delay of the shortest inter regional data path.

Since the delay of the replica path is equal to or slightly shorter than the delay of the shortest inter regional data path the delay of the replica path may be shorter than half a clock period even for operation at maximum frequency. Therefore minimum delay self repair may be performed during the LP mode or the HP mode. Consequently if desired the minimum delay self repair may be carried out continuously at runtime during any normal mode of operation even at full speed.

In various embodiments two clock cycles may be enough to stimulate the replica path with both a falling and a rising data transition whereas many cycles might be required by circuit of to trigger the worst case data path. Further the replica based minimum delay self repair may have lower area overhead than the scheme shown in . Additionally the replica based minimum delay self repair is data pattern independent supports the maximum operating frequency and can be carried out at runtime.

As shown computer system may include a power management a number of processors or processor cores a system memory having processor readable and processor executable instructions stored therein a non volatile memory NVM storage an I O controller and a communication controller . For the purpose of this application including the claims the terms processor and processor cores may be considered synonymous unless the context clearly requires otherwise. Those elements of having the same reference numbers or names as the elements of any other figure can operate or function in any manner similar to that described but are not limited to such.

In one embodiment processors may include one or more physical devices such as microprocessors application processors microcontrollers programmable logic devices or other processing means. The processing operations performed by processors may include the execution of an operating platform or operating system on which applications and or device functions are executed. The processing operations may include operations related to input output I O with a human user or with other devices operations related to power management and or operations related to connecting the computing system to another device. The processing operations may also include operations related to audio I O and or display I O. In embodiments processors may include circuits for detecting or repairing minimum delay errors described in this disclosure. In embodiments processors may include circuits for executing process of or process of described in this disclosure.

The one or more NVM storage and or the system memory may comprise a tangible non transitory computer readable storage device such as a diskette hard drive compact disc read only memory CD ROM hardware storage unit flash memory phase change memory PCM solid state drive SSD memory and so forth . Instructions stored in system memory and or NVM storage may be executable by one or more of the processors . Instructions may contain particular instructions of an operating system and one or more applications.

Computer system may also include input output devices not shown coupled to computer system via I O controller . I O controller illustrates a connection point for additional devices that connect to computing system through which a user might interact with the system. For example various devices that may be coupled to the computer system via I O controller may include microphone devices speaker or stereo systems video systems or other display devices keyboard or keypad devices or other I O devices for use with specific applications such as card readers or other devices.

In embodiments communication controller may provide an interface for computing system to communicate over one or more network s and or with any other suitable device. Communication controller may include any suitable hardware and or firmware such as a network adapter one or more antennas wireless interface s and so forth. In various embodiments communication controller may include an interface for computing system to use near field communication NFC optical communications or other similar technologies to communicate directly e.g. without an intermediary with another device. In various embodiments communication controller may interoperate with radio communications technologies such as for example Wideband Code Division Multiple Access WCDMA Global System for Mobile Communications GSM Long Term Evolution LTE WiFi Bluetooth Zigbee and the like.

The various elements of may be coupled to each other via a system bus which represents one or more buses. In the case of multiple buses they may be bridged by one or more bus bridges not shown . Data may pass through the system bus through the I O controller for example between an output terminal and the processors .

System memory and NVM storage may be employed to store a working copy and a permanent copy of the programming instructions implementing one or more operating systems firmware modules or drivers applications and so forth herein collectively denoted as instructions . In various embodiments instructions may include instructions for executing process of or process of described in this disclosure to detect or repair minimum delay errors. The permanent copy of the programming instructions may be placed into permanent storage in the factory or in the field via for example a distribution medium not shown such as a compact disc CD or through the communication controller from a distribution server not shown .

In various embodiments processors may include apparatus of circuit of circuit of circuit of and or circuit of . In various embodiments processors may include a minimum delay error detector to facilitate detecting or repairing minimum delay errors.

Similarly memory NVM storage I O controller communication controller or even the Power Management control circuits may also include a minimum delay error detector to facilitate detecting or repairing minimum delay errors for example by including apparatus of circuit of circuit of circuit of and or circuit of .

In some embodiments at least one of the processor s may be packaged together with I O controller to form a System in Package SiP . In some embodiments at least one of the processor s may be integrated on the same die with I O controller . In some embodiments at least one of the processor s may be integrated on the same die with I O controller to form a System on Chip SoC .

According to various embodiments one or more of the depicted components of the system and or other element s may include a keyboard LCD screen non volatile memory multiple antennas graphics processor application processor speakers or other associated mobile device elements including a camera. The remaining constitution of the various elements of the computer system is known and accordingly will not be further described in detail.

The above description of illustrated embodiments including what is described in the Abstract is not intended to be exhaustive or to be limited to the precise forms disclosed. While specific embodiments and examples are described herein for illustrative purposes various modifications are possible. For example the configuration and connection of certain elements in various embodiments that have been described above may be modified without departing from the teachings in connection with . These and other modifications can be made in light of the above detailed description. The terms used in the following claims should not be construed to be limited to the specific embodiments disclosed in the specification.

Reference in the specification to an embodiment one embodiment some embodiments or other embodiments means that a particular feature structure or characteristic described in connection with the embodiments is included in at least some embodiments but not necessarily all embodiments. The various appearances of an embodiment one embodiment or some embodiments are not necessarily all referring to the same embodiments. If the specification states a component feature structure or characteristic may might or could be included that particular component feature structure or characteristic is not required to be included. If the specification or claim refers to a or an element that does not mean there is always only one of the elements. If the specification or claims refer to an additional element that does not preclude there being more than one of the additional element.

Furthermore the particular features structures functions or characteristics may be combined in any suitable manner in one or more embodiments. For example a first embodiment may be combined with a second embodiment anywhere the particular features structures functions or characteristics associated with the two embodiments are not mutually exclusive.

While the disclosure has been described in conjunction with specific embodiments thereof many alternatives modifications and variations of such embodiments will be apparent to those of ordinary skill in the art in light of the foregoing description. The embodiments of the disclosure are intended to embrace all such alternatives modifications and variations as to fall within the broad scope of the appended claims.

In addition well known power ground connections to integrated circuit IC chips and other components may or may not be shown within the presented figures for simplicity of illustration and discussion and so as not to obscure the disclosure. Further arrangements may be shown in block diagram form in order to avoid obscuring the disclosure and also in view of the fact that specifics with respect to the implementation of such block diagram arrangements are highly dependent upon the platform within which the present disclosure is to be implemented i.e. such specifics should be well within the purview of one skilled in the art . Where specific details e.g. circuits are set forth in order to describe example embodiments of the disclosure it should be apparent to one skilled in the art that the disclosure can be practiced without or with variation of these specific details. The description is thus to be regarded as illustrative instead of limiting.

The following examples pertain to further embodiments. Specifics in the examples may be used anywhere in one or more embodiments. All optional features of the apparatus described herein may also be implemented with respect to a method or process.

Example 1 is an apparatus which may include a clock circuit to receive a first clock signal with a first frequency in a normal operation mode and further output a second clock signal with a second frequency in a minimum delay debug mode wherein the second frequency in the minimum delay debug mode is lower than the first frequency in the normal operation mode. The apparatus may further include a minimum delay error detector MDED coupled to the clock circuit to receive a data signal from a data path and the second clock signal and to detect a minimum delay error MDE in the data path based on the received data signal and the second clock signal in the minimum delay debug mode.

Example 2 may include the subject matter of Example 1 and may further include a clocked storage circuit coupled to the clock circuit to receive the data signal and the first clock signal with the first frequency during the normal operation mode and to receive the data signal and the second clock signal with the second frequency during the minimum delay debug mode.

Example 3 may include the subject matter of Example 1 or 2 and may further specify that the MDED includes a dual edge triggered flip flop.

Example 4 may include the subject matter of Example 3 and may further specify that the dual edge triggered flip flop includes a transparent on high latch a transparent on low latch and an output multiplexer the transparent on high latch and the transparent on low latch to receive the data signal at respective clock terminals and to receive the clock signal at respective data terminals.

Example 5 may include the subject matter of Example 4 and may further specify that the output multiplexer is to receive the data signal and is to select an output from a non transparent latch selected from the transparent on high latch and the transparent on low latch.

Example 6 may include the subject matter of Example 5 and may further specify that the MDED further includes an inverter coupled to the multiplexer to output an error signal for the MDE in response to a predetermined clock phase sampled by the dual edge triggered flip flop.

Example 7 may include any subject matter of Examples 1 6 and may further specify that the MDED includes dynamic Domino logic and a static latch coupled to the Domino logic.

Example 8 may include the subject matter of Example 7 and may further specify that the Domino logic includes a plurality of first level stages and a second level stage coupled to the plurality of first level stages wherein the plurality of first level stages and the second level stage are pre charged or pre discharged during a first phase of the second clock signal and wherein the second level stage is to generate a MDE flag when the data signal changes state during a second phase of the second clock signal.

Example 9 may include the subject matter of Example 7 or 8 and may further specify that the static latch is to remain set in response to the detected MDE until a system reset.

Example 10 may include any subject matter of Examples 1 9 and may further include a clock buffer coupled to the MDED to adjust the clock signal to repair the MDE in response to the detected MDE.

Example 11 may include the subject matter of Example 10 and may further specify that the clock buffer is a post silicon tunable PST clock buffer and wherein the PST clock buffer is to shorten a delay to the clock signal when the minimum delay error is detected.

Example 12 may include the subject matter of Example 10 or 11 and may further specify that the clock buffer is a regional clock buffer RCB wherein the RCB is coupled to the minimum delay detector and at least another minimum delay detector in a clock domain clocked by the RCB and wherein the RCB is to shorten a delay to the clock signal based on the minimum delay error detected by the minimum delay detector or another minimum delay error detected by at least another minimum delay detector.

Example 13 may include any subject matter of Examples 1 12 and may further specify that the second frequency of the second clock signal is lower than or equal to a half of the first frequency.

Example 14 may include any subject matter of Examples 1 13 and may further specify that the MDED is to detect the MDE in the data path based on a data transition at a predetermined clock phase of the second clock signal.

Example 15 is a system which may include a first regional clock buffer RCB and a second RCB coupled to the first RCB a first circuitry coupled to the first RCB to receive a first clock signal from the first RCB a second circuitry coupled to the first circuitry and the second RCB to receive a data signal from the first circuitry via one or more inter regional paths and to receive a second clock signal from the second RCB and a third circuitry coupled to the first circuitry and the second circuitry comprising a minimum delay error detector MDED and a minimum delay replica path MDRP having a delay equal to or shorter than a shortest data path of the one or more inter regional paths the MDED to detect a minimum delay error MDE of the MDRP based on the first clock signal and the second clock signal.

Example 16 may include the subject matter of Example 15 and may further specify that the third circuitry further includes a flip flop coupled to the MDRP wherein the flip flop is to be toggled for every clock cycle of the first clock signal.

Example 17 may include the subject matter of Example 15 or 16 and may further specify that the MDED includes a dual edge triggered flip flop including an output multiplexer and an inverter coupled to the dual edge triggered flip flop to output an error signal for the MDE in response to a predetermined clock phase sampled by the dual edge triggered flip flop.

Example 18 may include any subject matter of Examples 15 17 and may further specify that the MDED includes dynamic Domino logic and a static latch coupled to the Domino logic wherein the Domino logic comprises a plurality of first level stages and a second level stage coupled to the plurality of first level stages wherein the plurality of first level stages and the second level stage are pre charged or pre discharged during a first phase of the second clock signal and wherein the second level stage is to generate an MDE signal in response to the data signal changing its value during a second phase of the second clock signal.

Example 19 may include any subject matter of Examples 15 18 and may further specify that the second RCB is to adjust the second clock signal to repair the MDE in response to the detected MDE.

Example 20 may include any subject matter of Examples 15 19 and may further specify that the third circuitry further includes another MDED and another MDPR having another delay equal to or shorter than another shortest data path of one or more inter regional paths from the second circuitry to the first circuitry the another MDED to detect another MDE of the another MDPR and wherein the first RCB is to adjust the first clock signal to repair the another MDE in response to the detected another MDE.

Example 21 is a method for detecting or repairing minimum delay errors which may include receiving by a replica and error detection circuit REDC a first clock signal from a first clock buffer coupled to a first clock region receiving by the REDC a second clock signal from a second clock buffer coupled to a second clock region transmitting by the REDC a data signal synchronized with the first clock signal via a minimum delay path replica MDPR having a delay equal to or less than a shortest data path of one or more inter regional data paths between the first clock region and the second clock region detecting by an minimum delay error detector MDED of the REDC a minimum delay error MDE in the MDPR based on the transmitted data signal and the second clock signal and adjusting by the REDC the second clock signal to repair the MDE in response to the detected MDE.

Example 22 may include the subject matter of Example 21 and may further specify that detecting includes detecting the MDE when the first and the second clock signals are at a full speed in a normal mode of data transmission between the first clock region and the second clock region.

Example 23 may include the subject matter of Example 21 or 22 and may further specify that detecting comprises detecting by the REDC the MDE in the MDPR before another MDE is triggered on the shortest data path in a normal mode of data transmission between the first clock region and the second clock region.

Example 24 may include any subject matter of Examples 21 23 and may further specify that adjusting includes shortening a delay to the second clock signal.

Example 25 may include any subject matter of Examples 21 24 and may further specify that detecting includes detecting a data transition at a predetermined clock phase of the second clock signal

Example 26 is at least one storage medium which may include a plurality of instructions configured to cause an apparatus in response to execution of the instructions by the apparatus to practice any subject matter of Examples 21 25.

An abstract is provided that will allow the reader to ascertain the nature and gist of the technical disclosure. The abstract is submitted with the understanding that it will not be used to limit the scope or meaning of the claims. The following claims are hereby incorporated into the detailed description with each claim standing on its own as a separate embodiment.

