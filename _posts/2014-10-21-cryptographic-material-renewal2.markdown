---

title: Cryptographic material renewal
abstract: A method and apparatus for renewing cryptographic material are disclosed. In the method and apparatus a cryptographic material renewal entity of a computing resource service provider detects that cryptographic material stored by a secure module is to be renewed. Renewing the cryptographic material may include rekeying a private key associated with a certificate. Further, a digital certificate may be renewed, and the renewed certificate may be provided for use by the computing resource. The cryptographic material is used to fulfill requests made by a computing resource provisioned by the computing resource service provider for a customer. The renewed cryptographic material is provided to the secure module, whereby the renewed cryptographic material is used by the secure module to fulfill further requests made by the computing resource.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09552485&OS=09552485&RS=09552485
owner: Amazon Technologies, Inc.
number: 09552485
owner_city: Seattle
owner_country: US
publication_date: 20141021
---
This application incorporates by reference for all purposes the full disclosure of co pending U.S. patent application Ser. No. 14 520 048 filed concurrently herewith entitled CRYPTOGRAPHIC MATERIAL DISTRIBUTION AND MANAGEMENT. 

The use of remote computing resources has proliferated in recent years. The resources for remote computing are often provided by computing resource service providers who leverage large scale networks of computers servers and storage drives to enable customers including organizations of various sizes to host and execute a variety of applications and services. Customers who traditionally used on premises computing resources often forego on premises computing and turn to using the computing resources of the computing resource providers. The usage of network computing allows customers to efficiently and adaptively satisfy their computing needs whereby the computing resources may be added or removed from a large pool provided by the computing resource provider on an on demand basis.

It is important to enable the computing resources provided by a services provider to communicate securely with other computing resources within or outside of the provider s networks whereby the secure communication may be performed using cryptographic techniques. Accordingly it is often challenging to distribute cryptographic material that is used for securing communications to computing resources provided by a service provider and ensure that the cryptographic material is safely stored without exposure or compromise. Furthermore it is also challenging to ensure that the cryptographic material is renewed and updated so as to enable computing resources to securely communicate without interruption.

In the following description various embodiments will be described. For purposes of explanation specific configurations and details are set forth in order to provide a thorough understanding of the embodiments. However it will also be apparent to one skilled in the art that the embodiments may be practiced without the specific details. Furthermore well known features may be omitted or simplified in order not to obscure the embodiment being described.

Techniques described and suggested herein include distributing cryptographic material for use by computing resources that are provisioned by a computing resource service provider. The cryptographic material may be any type of data is used to secure communication between parties and may for example be a digital certificate or private keys associated with the digital certificate among others. The computing resources may be computer systems databases or storage volumes among others that are provisioned by the computing resource service provider for satisfying customers computing needs. Distributing the cryptographic material may include making the cryptographic material available for use by the computing resources to perform cryptographic operations that secure communication of the computing resources.

A customer of the computing resource service provider which may be an organization having provisioned computing resources to provide services to employees may request e.g. via an application programming interface API call that cryptographic material be made available for use by the provisioned computing resources. The computing resource service provider may have a cryptographic material management service which may be a collection of computing resources including servers and databases among others configured to receive and evaluate the request and cause the cryptographic material to be made available for use by the provisioned computing resources. The cryptographic material management service may further request that the cryptographic material be generated for example by making a service call to a certificate authority to generate the cryptographic material.

Following generation of the cryptographic material the cryptographic material management service makes the cryptographic material available to the computing resources. Making the cryptographic material available to the computing resources may include provisioning for each computing resource a secure module and sending the cryptographic material for storage by the secure module. The secure module may be any device physical or provisioned virtual that securely stores cryptographic material or performs cryptoprocessing operations using the cryptographic material. The secure module may be logically attached to computing resource via a port of bus of the computing resource. For example upon provisioning the secure module and sending the cryptographic material to the secure module the secure module may be logically attached to the computing resource via a universal serial bus USB port or a peripheral component interconnect PCI port of the computing resource. As described herein the computing resource may be instantiated using the underlying computing hardware of a host system. A control domain of the host system may be configured to provision the secure module and cause the secure module to be logically attached to the computing resource. Logical attachment of the secure module is detectable by a configured driver of the computing resource that is compliant with the type of interface used to attach the secure module.

The secure module may be configured to categorize for example by tagging the cryptographic material as non exportable and may prevent the computing resource from importing the cryptographic material using its interface to the secure module. Conversely however the computing resource may be programmatically configured to request the performance of cryptographic operations by the secure module or the cryptoprocessor thereof. The cryptographic operations may include request signing i.e. digitally signing requests among others and requesting the performance of the cryptographic operations may be done by making API configured function calls to the secure module. An outcome of the cryptographic operations but not the cryptographic material used to perform the cryptographic operations may be provided to the computing resource for use securing its communications.

In addition to distributing cryptographic material to the secure modules the cryptographic material management service may renew or update the cryptographic material retained by the secure module. Renewing the cryptographic material may be performed periodically according to an aperiodic time schedule or as a result of a trigger. Further the cryptographic material may be renewed prior to the expiry of the cryptographic material. The cryptographic material management service may maintain an association between the computing resources and identities of cryptographic material made available to the computing resource or their expiration time. The cryptographic material management service may cause updated cryptographic material to be sent to the secure modules. Upon receipt of the updated cryptographic material the secure modules may replace existing stored cryptographic material with the updated cryptographic material and may use the updated cryptographic material for further fulfillment of programmatic requests for performing cryptographic operations received from the computing resources.

The renewal of the cryptographic material may be transparent to the computing resource or an application or operation system thereof that requests performing cryptographic operations. Transparent renewal may be undetectable by the computing resource or associated applications. The computing resource or application or operation system thereof may continually utilize the cryptographic material of the secure module without interruption due to the renewal or without detecting occurrence of the renewal. Furthermore similar to the replaced cryptographic material the renewed cryptographic material is also non exportable to and non readable by the computing resource.

Distributing the cryptographic material may be controlled by a customer not shown for which the computing resources are provisioned and may be performed in response to a customer s request. A secure module as described herein is provisioned for each computing resource and the cryptographic material is sent to the secure module whereby the secure module is detectable by the computing resource and programmatically accessible to the computing resource for performing cryptographic operations using the cryptographic material . The cryptographic material however may not be exported to the computing resource . The cryptographic material management service is also configured to renew the cryptographic material to ensure continuous availability of the cryptographic material for use by the computing resources . The cryptographic material management service obtains updated cryptographic material and causes the updated cryptographic material to be sent to the secure modules for use by associated computing resources. As described herein the updated cryptographic material may replace the previously provided cryptographic material and updating the cryptographic material may be transparent or non detectable to the computing resource or an entity thereof such as an application or an operating system.

The computing resource service provider may provide a variety of services to the customer. The computing resource service provider may include a plurality of computing devices such as servers data storage devices or routers among others that are configured to provide computing functionality to customers. The computing resource service provider may operate large scale data centers or server farms that service the computing needs of customers. The computing resource service provider is shown in to include a plurality of computing resources singularly referred to herein as computing resource that are provisioned for the customer. The computing resources which are exemplary are shown to include a server and a database however in various embodiments any number or type of computing resources may be made available to provide computing functionality to the customer. For example the computing resource service provider may include a virtual computer system service that is configured to instantiate virtual computer system.

The computing resource service provider includes a cryptographic material management service . The cryptographic material management service may include computing resources such as databases servers or routers among others that are configured to cause cryptographic material to be made available to a customer s computing resource . Further the cryptographic material management service may service customer requests for making the cryptographic material available to the computing resource . Servicing a customer s request may include receiving the request evaluating the request for example to determine whether an enforced policy allows fulfillment of the request as well as fulfilling the request based at least in part on the evaluation.

As shown in the customer device sends to the cryptographic material management service a request to distribute cryptographic material. The request may be an application programming interface API function call among others. Further an administrator or other type of principal associated with the customer organization may make the request using a user interface UI which may for example be a portal. The user interface may be used by the administrator to identity the computing resources to which the cryptographic material is to be provided for use. Furthermore the user interface may be used to identify the cryptographic material as well as specify whether the cryptographic material is required to be generated as described herein.

The cryptographic material management service may receive the request to distribute cryptographic material and may evaluate the request. Evaluating the request may include identify a policy that dictates the dissemination of the cryptographic material for use by computing resources . The policy may be usable to determine whether the request may be fulfilled. If it is determined that the request to distribute cryptographic material is to be fulfilled the cryptographic material is made available for use by the computing resources .

The cryptographic material may be any data used to secure communication between parties. The cryptographic material may be used to ensure the confidentiality or integrity of communicated data as well as to authenticate or repudiate parties to a communication. The cryptographic material may include a public key or a private key of a public key certificate or a digital certificate. For example the cryptographic material may be used to encrypt data prior to transmission or decrypt received data. In addition to the key the cryptographic material may also include an identity associated with the certificate a signature for verifying the certificate or a validity period or expiration data or time among others.

Making the cryptographic material available to a computing resource may include sending the cryptographic material to a secure module associated with the computing resource whereby the cryptographic material may be stored by the secure module . The secure module may be any type of device that is configured to securely store for example safeguard or manage the cryptographic material . The secure module may be a physical device or a virtual device that is instantiated using underlying physical storage or computing resources. In addition to being a store for the cryptographic material for example a keystore the secure module may be equipped with a cryptoprocessor. The cryptoprocessor may be any type of processor for example controller that is configured for performing cryptographic operations. The cryptoprocessor may be a dedicated system on chip SoC or computer on chip CoC . The secure module may be configured to cause cryptographic operations to be performed within the secure module . Further decrypted data or decrypted program instructions may not be exported from the secure module to a device or environment lacking requisite security. Cryptographic operations that may be performed by the secure module may utilize the received cryptographic material as well as other cryptographic material that is stored by the secure module .

The secure module may in various embodiments be a hardware secure module HSM a trusted platform module TPM or a smartcard among others. As an HSM the secure module may be attached to the computing resource or a host whose resources are used to provision the computing resource . Alternatively the HSM may be remote in relation to the computing resource or host and may be accessible to either via a network whereby for example the HSM may be in a remote facility. The secure module may be attached to a computing resource of the customer using any type of bus or port. For example a universal serial bus USB port or a peripheral component interconnect PCI port may be used to attach the secure module to the computing resource thereby facilitating use of the cryptographic material by the computing resource . As described herein the secure module may be virtual module. For example in the case where a computing resource is a virtual computer system that is instantiated on underlying server using a hypervisor the server or a hypervisor initiated privileged domain such as domain 0 or dom0 may be used for logically attaching a secure module that is a virtual secure module to the virtual computer system. The virtual secure module may then be accessible to an unprivileged domain also known as domU of the hypervisor. The virtual computer system may be configured with a driver for the attached secure module and upon attachment of the virtual secure module the virtual computer system may detect the virtual secure module and use the virtual secure module. In various embodiments the secure may module may be a network attached device and may be accessible to the computing resource via a network.

Making the cryptographic material available to a computing resource making include permitting use of the cryptographic material by the computing resource while at the same preventing exposure of the cryptographic material to the computing resource . Preventing exposure of the cryptographic material to the computing resource may include barring the cryptographic material from being exported from the secure module to the computing resource . Further preventing exposure of the cryptographic material may include preventing the cryptographic material from being copied to another entity or read by another entity. For example the computing resource may request that the cryptographic material be used by the secure module to perform cryptographic operations but the computing resource may not import the cryptographic material . Further the cryptographic material may not be revealed to the computing resource by for example providing the cryptographic material to an application executed on or running on the computing resource . Preventing providing the cryptographic material to the computing resource further ensures safeguarding and protecting the cryptographic material . Furthermore even though the cryptographic material is made available for use by the computing resource the cryptographic material may not be provided to the customer device or divulged or disclosed to the customer of the computing resource service provider or an administrator or principal of an organization that is a customer of the computing resource service provider . Accordingly the cryptographic material may be retained by the secure module and used for performing cryptographic operations without the risk of exposure or compromise.

A control domain of the host computer system is shown in . The control domain also known as a privileged domain or dom0 is associated with special privileges. The privileges may include accessing the underlying hardware of the host computer system . Further the control domain may run device drivers of the underlying hardware of the host computer system such as network devices including USB or PCI ports . The control domain may further cause user domains such as those of virtual computer system to be launched.

Upon receipt of a request to distribute cryptographic material to the virtual computer system and evaluation of the request the cryptographic material management service may cause the cryptographic material to be sent to the control domain of the virtual computer system . The cryptographic material may itself be encrypted or transfer of the cryptographic material may otherwise be secured. For example the cryptographic material may be encrypted and the control domain or a secure module storing the cryptographic material such as the secure module described herein may decrypt the encrypted cryptographic material to obtain the cryptographic material as plaintext. Further authentication of the cryptographic material management service may be performed prior to use of the cryptographic material . The authentication may be based at least in part on a shared secret among other authentication techniques. Transferring the cryptographic material to the control domain may also include providing updated cryptographic material. The updated cryptographic material may be provided in order to rotate cryptographic material. For example expired cryptographic material or nearly expired cryptographic material may be replaced with the updated cryptographic material.

The control domain may receive the cryptographic material . Further the control domain may authenticate the cryptographic material management service as described herein. In addition if the cryptographic material is encrypted or encoded the control domain may cause the cryptographic material to be decrypted or decoded respectively. The control domain then launches the secure module for use in storing the cryptographic material or performing cryptographic operations based at least in part on the cryptographic material . Launching the secure module may include creating or instantiating the secure module as a virtual secure module. The secure module may be launched as a peripheral device of the virtual computer system whereby the secure module may be launched as a virtual USB or PCI device. Further the secure module may be logically attached to the virtual computer system . The computing memory or networking resources required for creating the secure module may be a subset of those of the host computer and the resources of the secure module may be mapped by the hypervisor to resources of the host computer . The virtual computer system may be configured with a driver for operating or controlling the attached secure module . Accordingly the virtual computer system may detect attachment of the secure module . Furthermore the driver enables later use of the secure module by the virtual computer system . In various embodiments the virtual computer system may be launched using a machine image. The machine image may be a customized template that is a package of the configuration of the virtual computer system including the operating system and additional software whereby the machine image may be used to launch a fleet or similarly configured virtual computer systems. The machine image may include a driver associated with the attached secure module .

Following launching the secure module the control domain causes the cryptographic material to be provided to the secure module . As described herein decryption of encrypted cryptographic material or sender authentication may alternatively be performed by the secure module . The cryptographic material may be classified for example by marking or tagging in secure module as non exportable and accordingly the cryptographic material may be not be read from the secure module or provided to another entity.

Further upon launching the secure module the virtual computer system detects using a configured driver that attachment of the secure module . Programs execution on the virtual computer system may now make function calls such as application programming interface API configured functions calls to the secure module . Function calls made by the virtual computer system invoke routines by the driver and the driver in turn issues commands to the secure module . As a result the virtual computer system has an interface as shown in to the secure module . Using the interface the virtual computer system may be configured to make requests to the secure module using for example API configured functions calls. The virtual computer system may request the secure module to perform cryptographic operations. The cryptographic operations may include request signing among other operations. For example if the cryptographic material includes a private key the virtual computer system may request via the interface the secure module to sign a second web services request using the private key. The secure module may sign the second request using a configured cryptoprocessor of the secure module . Upon signing the second request the signed second request may be provided to the virtual computer system and the virtual computer system may send the second request to a receiving party.

As described herein the cryptographic material is non exportable from the secure module to the virtual computer system and the cryptographic material may be securely stored by the secure module . For example an application of the virtual computer system may not retrieve the cryptographic material from the secure module and cause the cryptographic material to be stored in the memory space of the virtual computer system . Because the virtual computer system and control domain are both instantiated using the host computer and derive computational and memory resources among others from the host computer the cryptographic material may not be migrated or transferred from a memory area of the host computer mapped to the control domain or secure module to a memory area mapped to the virtual computer system .

The cryptographic material may be updated by the cryptographic material management service whereby updating the cryptographic material may include causing cryptographic material that is stored by the secure module to be rotated and replaced with other cryptographic material. Updating the cryptographic material may be performed in response to a request from a customer of the computer resource service provider . Further the cryptographic material due at least in part to the cryptographic material being expired or an upcoming expiration of the cryptographic material . The cryptographic material may be become expired if an expiration time associated with the cryptographic material is reached. Further the cryptographic material may be generational whereby a generation of cryptographic material to which the cryptographic material belongs may become expired as a result of being replaced by a forthcoming or subsequent generation. The cryptographic material belonging to the prior generation may be replaced with updated cryptographic material that belongs to the subsequent generation. Updating the cryptographic material may be performed prior to expiration to ensure uninterrupted availability of current cryptographic material for use by the virtual computer system . Expiration of the cryptographic material may result render the cryptographic material unusable

The cryptographic material management service may retain an associated between the identity of the cryptographic material distributed for use by the virtual computer system and an indication of an expiration of the cryptographic material . The indication of the expiration of the cryptographic material may be an expiration time or a generation number or version among others. The cryptographic material management service may cause the cryptographic material to be updated before the expiration time associated with the cryptographic material or before the generation of the cryptographic material is due to become expired. The cryptographic material management service sends to the control domain a request to update the cryptographic material whereby the request may include updated cryptographic material. The control domain on the other hand may replace the cryptographic material of the secure module with the updated cryptographic material. Following replacement a cryptoprocessor of the secure module may use the updated cryptographic material for performing cryptographic operations requested by the virtual computer system or applications thereof. As may be recognized updating the cryptographic material may not require secure module to be relaunched. Conversely the previously launched and instantiated secure module used for storing the replaced cryptographic material may be continued to be used.

The cryptographic material management service then generates the certificate in accordance with the request. The cryptographic material management service further causes the cryptographic material associated with the certificate to be made available for use by the one or more computing resources. As described herein making the cryptographic material available for use by a computing resource may include transferring the cryptographic material to a secure module of the computing resource. The computing resource may use the cryptographic material stored by the secure module by making function calls to the secure module to perform one or more cryptographic operations using the cryptographic material. However the cryptographic material is non exposable to the one or more computing resources as described herein.

The cryptographic material management service then receives a request to distribute the cryptographic material to one or more computing resources. The cryptographic material management service then evaluates the policy to determine whether the request is fulfillable. Evaluating the policy may include checking or inspecting the policy to determine whether the one or more computing resources to which distribution of the cryptographic material is requested are blacklisted . Further evaluating the policy may include determining whether distribution of the cryptographic material to the one or more computing resources is permissible.

If a positive determination is made the cryptographic material management service causes the cryptographic material to be distributed for use by the one or more computing resources. Conversely if a negative determination is made the cryptographic material management service denies the request distribution of the cryptographic material. Following the denial the cryptographic material management service may send a notification to the requestor indicating the denial. The process may be used to policy based evaluation of requests to distribute cryptographic material to computing resources. However in various embodiments the policy may govern service initiated distribution of cryptographic material as described with reference to .

The cryptographic material management service then detects that a computing resource having the set of attributes is provisioned. The computing resource service provider may have provisioned the computing resource in order to upwardly scale the computing resources available for the customer. The scaling may be due at least in part to increased demand for the customer s computing resources. In response to detecting that the computing resource having the set of attributes is provisioned the cryptographic material management service causes the cryptographic material to be made available for use by the computing resource as described herein.

The control plane entity then authenticates the request to make cryptographic material available for use by the computing resource. Authenticating the request may include verifying that the request originated from the cryptographic material management service. The authentication may be based at least in part on a secret shared between the control plane entity and the cryptographic material management service. Furthermore other authentication techniques may be used include requesting signing. The control plane entity provisions for the computing resource a secure module that is detectable by the computing resource. Examples of the secure module include a virtual HSM a virtual TPM or network attached device among others and provisioning the secure module may include launching the secure module.

The control plane entity then provides the received cryptographic material to the secure module whereby the cryptographic material may be stored by the secure module and may be made available for use by the computing resource. Providing the cryptographic material may include providing cryptographic material in an encrypted form and following receipt of the encrypted cryptographic material the secure module may decrypt the cryptographic material for use in performing cryptographic operations requested by the computing resource. The control plane entity may specify that the cryptographic material is non exportable or the secure module may be natively configured to cause the cryptographic material to be non exportable and the secure module may deny requests to read the cryptographic material.

The secure module then stores the plaintext cryptographic material and categorizes the cryptographic material as non exportable. It is noted that in various embodiments the cryptographic material may be provided to the secure module as plaintext and therefore decryption of the cryptographic material may not be performed. The secure module then receives from a computing resource a request to perform cryptographic operations using the cryptographic material whereby an example of a cryptographic operation may include request signing. As described herein the computing resource may have an interface to the secure module and may have programmatic access to the secure module whereby the programmatic access enables the computing resource to make requests for example using API configured function calls to the secure module.

The secure module performs the cryptographic operations using the cryptographic material in accordance with the request. Further the secure module provides an outcome of performing the cryptographic operations to the computing resource. Accordingly the computing resource may make use of the cryptographic material stored by the security module without the cryptographic material being exported to the computing resource or compromising the security of the cryptographic material.

Following detecting attachment of the secure module the computing resource makes a request to the secure module to perform cryptographic operations using the non exportable cryptographic material. The request to perform the cryptographic operations may be made via an interface whereby the interface may be a web services interface. Furthermore the request may be an API function call among others. In response to making the request the computing resource receives an outcome of performing the cryptographic operations by the secure module whereby the cryptographic operations may be performed by a cryptoprocessor of the secure module.

The cryptographic material renewal entity may be configured to cause updated cryptographic material to be provided to the secure module periodically or based at least in part on a time schedule. The cryptographic material renewal entity may be configured to rotate the cryptographic material prior to their expiration or alternatively the cryptographic material may be rotated independently of their expiration. For example the periodically or time schedule based renewal may occur with sufficient frequency such that the cryptographic material is always rotated prior to expiration.

Upon determining that the cryptographic material should be renewed the cryptographic material renewal entity makes a request to the certificate authority for certificate material whereby the request may be an API configured function call. The certificate authority may be any entity that is configured to issue new or renewed or updated digital certificates. Further the certificate authority may also be configured to rekey public or private keys associated with a digital certificate. The request may also include an identity of an owner of the certificate also known as subject such as for an X.509 certificate .

The certificate authority may perform one or more validity checks based at least in part on the request whereby the validity checks may include determining that the cryptographic material renewal entity is authorized to receive a certificate on behalf of the certificate owner. Validation may include domain name validation whereby proof of control or ownership of the domain name is determined. A certificate may not be issued or renewed by the certificate authority if the validation fails. If an identity of a certificate owner has been previously established or a permission to issue a certificate on behalf of the owner has been previously granted a certificate may be renewed or rekeyed without further permission or without any further interaction

The cryptographic material renewal entity receives the updated certificate material from the certificate authority in response to the request. Furthermore the cryptographic material renewal entity causes the updated cryptographic material to be provided to the secure module . The updated cryptographic material may replace existing cryptographic material stored by the secure module and the updated cryptographic material may be made available to the computing resource or an application thereof. Updating the cryptographic material may be transparent to the computing resource or an operating system or an application thereof. Further updating the cryptographic material may be performed in a manner that enables the computing resource to programmatically cause the secure module to use the updated cryptographic material to perform cryptographic operations. In addition providing the updated cryptographic material may be performed without updating a manner in which the secure module programmatically interacts with the secure module or notifying of the computing resource of use of the updated cryptographic material. For example an operating system or an application of the computing resource may continue to make use of the updated cryptographic material after having made use of the cryptographic material without detecting that the cryptographic material was updated.

As described herein updating the cryptographic material may include updating a private key associated with a certificate or a certificate chain whereby a certificate chain may include of all the certificates needed to certify a subject identified by an end certificate. The certificate chain may be an ordered list of certificate that serves as a chain of trust and may be used for certificate verification. Further updating the cryptographic material may be performed by the cryptographic material management service without requiring any actions to be performed by the computing resource .

If the cryptographic material is a private key associated with a digital certificate then the cryptographic material may be renewed as a result of rekeying. When rekeying is performed a new private key in addition to a new public key may be issued for the certificate and the updated cryptographic material may include the new private key. In addition to rekeying certificate renewal may be performed. When a certificate is renewed the private key and public key associated with the certificate may not be changed. Instead a certificate may be updated and a certificate file or document may be changed for example to reflect a new validity period associated with the renewed certificate. It is noted that in various embodiments a key store may be used to provide the private key to the cryptographic material management service or an entity thereof such as the cryptographic material renewal entity .

When a certificate is renewed the certificate may be distributed for use by the computing resource as described herein. The updated certificate material may include the renewed certificate with changing the private key associated with the certificate. The renewed certificate may be provided to the secure module to be made available to the computing resource .

A customer of the computing resource service provider for which the computing resource is provisioned may request automatic renewal of the cryptographic material of their associated computing resources by for example configuring a policy or making an API configured function call to the computing resource service provider . For example if the computing resource is a virtual computer system that uses a secure sockets layer SSL transport layer security protocol the customer may request providing the cryptographic material enabling using SSL to the computing resource only once. An available configuration may permit the customer to request that the cryptographic material be automatically rotated for example periodically such that the computing resource may continue to have programmatic access to the valid or unexpired cryptographic material. Providing the updated cryptographic material to the secure module may be performed using similar techniques as providing the cryptographic material described herein whereby the updated cryptographic material may for example be encrypted for decryption by the secure module .

The cryptographic material renewal entity then causes the renewed cryptographic material to be provided to a secure module for use by the computing resource whereby renewing the cryptographic material being transparent to the computing resource. The secure module may be provided to the secure module over a network and may replace existing cryptographic material with the renewed cryptographic material and a cryptoprocessor of the secure module may be configured to use the renewed cryptographic material for fulfilling requests received from the computing resource.

The secure module then stores the updated cryptographic material. Further the secure module uses the cryptographic material for performing cryptographic operations requested by a computing resource. Updating the cryptographic material may not be detectable by the associated computing resource and the computing resources may not be notified of the occurrence of an update to the cryptographic material.

The illustrative environment includes at least one application server and a data store . It should be understood that there can be several application servers layers or other elements processes or components which may be chained or otherwise configured which can interact to perform tasks such as obtaining data from an appropriate data store. Servers as used herein may be implemented in various ways such as hardware devices or virtual computer systems. In some contexts servers may refer to a programming module being executed on a computer system. As used herein unless otherwise stated or clear from context the term data store refers to any device or combination of devices capable of storing accessing and retrieving data which may include any combination and number of data servers databases data storage devices and data storage media in any standard distributed virtual or clustered environment. The application server can include any appropriate hardware software and firmware for integrating with the data store as needed to execute aspects of one or more applications for the client device handling some or all of the data access and business logic for an application. The application server may provide access control services in cooperation with the data store and is able to generate content including but not limited to text graphics audio video and or other content usable to be provided to the user which may be served to the user by the web server in the form of HyperText Markup Language HTML Extensible Markup Language XML JavaScript Cascading Style Sheets CSS or another appropriate client side structured language. Content transferred to a client device may be processed by the client device to provide the content in one or more forms including but not limited to forms that are perceptible to the user audibly visually and or through other senses including touch taste and or smell. The handling of all requests and responses as well as the delivery of content between the client device and the application server can be handled by the web server using PHP Hypertext Preprocessor PHP Python Ruby Perl Java HTML XML or another appropriate server side structured language in this example. It should be understood that the web and application servers are not required and are merely example components as structured code discussed herein can be executed on any appropriate device or host machine as discussed elsewhere herein. Further operations described herein as being performed by a single device may unless otherwise clear from context be performed collectively by multiple devices which may form a distributed and or virtual system.

The data store can include several separate data tables databases data documents dynamic data storage schemes and or other data storage mechanisms and media for storing data relating to a particular aspect of the present disclosure. For example the data store illustrated may include mechanisms for storing production data and user information which can be used to serve content for the production side. The data store also is shown to include a mechanism for storing log data which can be used for reporting analysis or other such purposes. It should be understood that there can be many other aspects that may need to be stored in the data store such as page image information and access rights information which can be stored in any of the above listed mechanisms as appropriate or in additional mechanisms in the data store . The data store is operable through logic associated therewith to receive instructions from the application server and obtain update or otherwise process data in response thereto. The application server may provide static dynamic or a combination of static and dynamic data in response to the received instructions. Dynamic data such as data used in web logs blogs shopping applications news services and other such applications may be generated by server side structured languages as described herein or may be provided by a content management system CMS operating on or under the control of the application server. In one example a user through a device operated by the user might submit a search request for a certain type of item. In this case the data store might access the user information to verify the identity of the user and can access the catalog detail information to obtain information about items of that type. The information then can be returned to the user such as in a results listing on a web page that the user is able to view via a browser on the user device . Information for a particular item of interest can be viewed in a dedicated page or window of the browser. It should be noted however that embodiments of the present disclosure are not necessarily limited to the context of web pages but may be more generally applicable to processing requests in general where the requests are not necessarily requests for content.

Each server typically will include an operating system that provides executable program instructions for the general administration and operation of that server and typically will include a computer readable storage medium e.g. a hard disk random access memory read only memory etc. storing instructions that when executed by a processor of the server allow the server to perform its intended functions. Suitable implementations for the operating system and general functionality of the servers are known or commercially available and are readily implemented by persons having ordinary skill in the art particularly in light of the disclosure herein.

The environment in one embodiment is a distributed and or virtual computing environment utilizing several computer systems and components that are interconnected via communication links using one or more computer networks or direct connections. However it will be appreciated by those of ordinary skill in the art that such a system could operate equally well in a system having fewer or a greater number of components than are illustrated in . Thus the depiction of the system in should be taken as being illustrative in nature and not limiting to the scope of the disclosure.

The various embodiments further can be implemented in a wide variety of operating environments which in some cases can include one or more user computers computing devices or processing devices which can be used to operate any of a number of applications. User or client devices can include any of a number of general purpose personal computers such as desktop laptop or tablet computers running a standard operating system as well as cellular wireless and handheld devices running mobile software and capable of supporting a number of networking and messaging protocols. Such a system also can include a number of workstations running any of a variety of commercially available operating systems and other known applications for purposes such as development and database management. These devices also can include other electronic devices such as dummy terminals thin clients gaming systems and other devices capable of communicating via a network. These devices also can include virtual devices such as virtual machines hypervisors and other virtual devices capable of communicating via a network.

Various embodiments of the present disclosure utilize at least one network that would be familiar to those skilled in the art for supporting communications using any of a variety of commercially available protocols such as Transmission Control Protocol Internet Protocol TCP IP User Datagram Protocol UDP protocols operating in various layers of the Open System Interconnection OSI model File Transfer Protocol FTP Universal Plug and Play UpnP Network File System NFS Common Internet File System CIFS and AppleTalk. The network can be for example a local area network a wide area network a virtual private network the Internet an intranet an extranet a public switched telephone network an infrared network a wireless network a satellite network and any combination thereof.

In embodiments utilizing a web server the web server can run any of a variety of server or mid tier applications including Hypertext Transfer Protocol HTTP servers FTP servers Common Gateway Interface CGI servers data servers Java servers Apache servers and business application servers. The server s also may be capable of executing programs or scripts in response to requests from user devices such as by executing one or more web applications that may be implemented as one or more scripts or programs written in any programming language such as Java C C or C or any scripting language such as Ruby PHP Perl Python or TCL as well as combinations thereof. The server s may also include database servers including without limitation those commercially available from Oracle Microsoft Sybase and IBM as well as open source servers such as MySQL Postgres SQLite MongoDB and any other server capable of storing retrieving and accessing structured or unstructured data. Database servers may include table based servers document based servers unstructured servers relational servers non relational servers or combinations of these and or other database servers.

The environment can include a variety of data stores and other memory and storage media as discussed above. These can reside in a variety of locations such as on a storage medium local to and or resident in one or more of the computers or remote from any or all of the computers across the network. In a particular set of embodiments the information may reside in a storage area network SAN familiar to those skilled in the art. Similarly any necessary files for performing the functions attributed to the computers servers or other network devices may be stored locally and or remotely as appropriate. Where a system includes computerized devices each such device can include hardware elements that may be electrically coupled via a bus the elements including for example at least one central processing unit CPU or processor at least one input device e.g. a mouse keyboard controller touch screen or keypad and at least one output device e.g. a display device printer or speaker . Such a system may also include one or more storage devices such as disk drives optical storage devices and solid state storage devices such as random access memory RAM or read only memory ROM as well as removable media devices memory cards flash cards etc.

Such devices also can include a computer readable storage media reader a communications device e.g. a modem a network card wireless or wired an infrared communication device etc. and working memory as described above. The computer readable storage media reader can be connected with or configured to receive a computer readable storage medium representing remote local fixed and or removable storage devices as well as storage media for temporarily and or more permanently containing storing transmitting and retrieving computer readable information. The system and various devices also typically will include a number of software applications modules services or other elements located within at least one working memory device including an operating system and application programs such as a client application or web browser. It should be appreciated that alternate embodiments may have numerous variations from that described above. For example customized hardware might also be used and or particular elements might be implemented in hardware software including portable software such as applets or both. Further connection to other computing devices such as network input output devices may be employed.

Storage media and computer readable media for containing code or portions of code can include any appropriate media known or used in the art including storage media and communication media such as but not limited to volatile and non volatile removable and non removable media implemented in any method or technology for storage and or transmission of information such as computer readable instructions data structures program modules or other data including RAM ROM Electrically Erasable Programmable Read Only Memory EEPROM flash memory or other memory technology Compact Disc Read Only Memory CD ROM digital versatile disk DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by the system device. Based on the disclosure and teachings provided herein a person of ordinary skill in the art will appreciate other ways and or methods to implement the various embodiments.

The specification and drawings are accordingly to be regarded in an illustrative rather than a restrictive sense. It will however be evident that various modifications and changes may be made thereunto without departing from the broader spirit and scope of the invention as set forth in the claims.

Other variations are within the spirit of the present disclosure. Thus while the disclosed techniques are susceptible to various modifications and alternative constructions certain illustrated embodiments thereof are shown in the drawings and have been described above in detail. It should be understood however that there is no intention to limit the invention to the specific form or forms disclosed but on the contrary the intention is to cover all modifications alternative constructions and equivalents falling within the spirit and scope of the invention as defined in the appended claims.

The use of the terms a and an and the and similar referents in the context of describing the disclosed embodiments especially in the context of the following claims are to be construed to cover both the singular and the plural unless otherwise indicated herein or clearly contradicted by context. The terms comprising having including and containing are to be construed as open ended terms i.e. meaning including but not limited to unless otherwise noted. The term connected when unmodified and referring to physical connections is to be construed as partly or wholly contained within attached to or joined together even if there is something intervening. Recitation of ranges of values herein are merely intended to serve as a shorthand method of referring individually to each separate value falling within the range unless otherwise indicated herein and each separate value is incorporated into the specification as if it were individually recited herein. The use of the term set e.g. a set of items or subset unless otherwise noted or contradicted by context is to be construed as a nonempty collection comprising one or more members. Further unless otherwise noted or contradicted by context the term subset of a corresponding set does not necessarily denote a proper subset of the corresponding set but the subset and the corresponding set may be equal.

Conjunctive language such as phrases of the form at least one of A B and C or at least one of A B and C unless specifically stated otherwise or otherwise clearly contradicted by context is otherwise understood with the context as used in general to present that an item term etc. may be either A or B or C or any nonempty subset of the set of A and B and C. For instance in the illustrative example of a set having three members the conjunctive phrases at least one of A B and C and at least one of A B and C refer to any of the following sets A B C A B A C B C A B C. Thus such conjunctive language is not generally intended to imply that certain embodiments require at least one of A at least one of B and at least one of C each to be present.

Operations of processes described herein can be performed in any suitable order unless otherwise indicated herein or otherwise clearly contradicted by context. Processes described herein or variations and or combinations thereof may be performed under the control of one or more computer systems configured with executable instructions and may be implemented as code e.g. executable instructions one or more computer programs or one or more applications executing collectively on one or more processors by hardware or combinations thereof. The code may be stored on a computer readable storage medium for example in the form of a computer program comprising a plurality of instructions executable by one or more processors. The computer readable storage medium may be non transitory.

The use of any and all examples or exemplary language e.g. such as provided herein is intended merely to better illuminate embodiments of the invention and does not pose a limitation on the scope of the invention unless otherwise claimed. No language in the specification should be construed as indicating any non claimed element as essential to the practice of the invention.

Embodiments of this disclosure are described herein including the best mode known to the inventors for carrying out the invention. Variations of those embodiments may become apparent to those of ordinary skill in the art upon reading the foregoing description. The inventors expect skilled artisans to employ such variations as appropriate and the inventors intend for embodiments of the present disclosure to be practiced otherwise than as specifically described herein. Accordingly the scope of the present disclosure includes all modifications and equivalents of the subject matter recited in the claims appended hereto as permitted by applicable law. Moreover any combination of the above described elements in all possible variations thereof is encompassed by the scope of the present disclosure unless otherwise indicated herein or otherwise clearly contradicted by context.

All references including publications patent applications and patents cited herein are hereby incorporated by reference to the same extent as if each reference were individually and specifically indicated to be incorporated by reference and were set forth in its entirety herein.

