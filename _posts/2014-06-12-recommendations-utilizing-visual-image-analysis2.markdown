---

title: Recommendations utilizing visual image analysis
abstract: Disclosed are various embodiments for generating recommendations utilizing visual image analysis. A digital image provided by a client device is analyzed to identify an empty region in a setting embodied in the digital image. A recommended item, available for consumption via an electronic commerce system, may be identified based on characteristics of the setting embodied in the digital image and historical data associated with a user. A modified form of the digital image is generated comprising the recommended item in the empty region.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09639957&OS=09639957&RS=09639957
owner: A9.Com, Inc.
number: 09639957
owner_city: Palo Alto
owner_country: US
publication_date: 20140612
---
Electronic commerce systems traditionally comprise a marketplace of hundreds to thousands of items available for purchase. Navigating the vast number of items in an electronic commerce system traditionally requires a user to conduct various searches using a search engine or requires a user to navigate an extensive item taxonomy to dial down to an item page describing an item. The item page may show one or more images of the item and may provide a detailed description. Yet it remains difficult for the user to perceive how an item may look in a particular setting. For example if the user navigates to the item page for a sofa it is difficult for the user to visualize how the sofa may look in a living room a dining room or a similar setting. Moreover the user may not have knowledge about decorating trends style habits color pallets etc.

Computer vision relates to analyzing interpreting understanding and deriving information from digital images obtained via digital cameras or similar image capturing devices. Such information may be used in automated color detection depth perception and object recognition in computing environments. Information may be derived in computer vision by analyzing or comparing each pixel in the digital image to determined thresholds such that colors may be detected and objects may be recognized.

The present disclosure relates to generating recommendations utilizing visual image analysis. As discussed above electronic commerce systems traditionally comprise a marketplace of hundreds to thousands of items available for purchase download rental lease etc. Navigating the vast number of items in an electronic commerce system traditionally requires a user to conduct various searches using a search engine or requires a user to navigate an extensive item taxonomy to dial down to an item page describing an item. The item page may show one or more images of the item and may provide a detailed description. Yet it remains difficult for the user to perceive how an item may look in a particular setting. For example if the user navigates to the item page for a sofa it is difficult for the user to visualize how the sofa may look in a living room a dining room or a similar setting. Moreover the user may not have knowledge about decorating trends style habits color pallets etc. Accordingly it may be beneficial for a user to provide a digital image of a setting in which the item may be visualized.

According to various embodiments the electronic commerce system may communicate with various image processing services such as an image analysis engine and or an image modification engine to analyze a digital image of a setting e.g. a room provided by a user. The analysis of the digital image may identify various characteristics about the setting such as colors sizes dimensions or locations of various objects in the setting. Further the image processing services may identify regions in the setting in which no object is recognized hereinafter referred to as empty regions . The electronic commerce system may leverage a recommendation service to identify an item to recommend to the user by utilizing the various characteristics about the room identified in the digital image and or historical data associated with the user in the electronic commerce system. The recommended item may be an item available for consumption over an electronic commerce system. Further an image modification engine may generate a digital image comprising the recommended item in at least one of the empty region of the setting.

With reference to shown is a client device e.g. a smartphone executing a client application configured to capture a digital image of a setting according to various embodiments of the present disclosure. Although shown in as a smartphone the client device may further comprise a smart camera a laptop computer a personal digital assistant a cellular telephone a set top box a music player a web pad a tablet computer system a game console an electronic book reader a robotic device or any other device comprising or capable of communication with an image capturing device.

The client application executable on the client device may comprise features similar to or the same as an image capturing application. To this end the client application is configured to capture the digital image of the setting at the direction of the user. As may be appreciated the client device comprises one or more image capturing devices such as a front facing digital camera or a rear facing digital camera. By engaging the client device e.g. by manipulating a capture button the client application may render the digital image generated by at least one of the image capturing devices. The client application may include functionality beyond capturing the digital image such as displaying items recommended for the user as will be described in greater detail below.

As shown in the client device may be used by the user to capture the digital image of a living room although other settings may be imagined. For example the user may capture the digital image embodying a bedroom bathroom garage yard office cubicle garden or similar setting. As will be discussed in greater detail below the digital image may be analyzed to identify various characteristics of the digital image such that one or more recommended items may be presented to the user. In the following discussion a general description of the system and its components is provided followed by a discussion of the operation of the same.

Referring next to shown is a networked environment according to various embodiments. The networked environment includes a computing environment and a client device which are in data communication with each other via a network . The network includes for example the Internet intranets extranets wide area networks WANs local area networks LANs wired networks wireless networks or other suitable networks etc. or any combination of two or more such networks. For example such networks may comprise satellite networks cable networks Ethernet networks and other types of networks.

The computing environment may comprise for example a server computer or any other system providing computing capability. Alternatively the computing environment may employ a plurality of computing devices that may be arranged for example in one or more server banks or computer banks or other arrangements. Such computing devices may be located in a single installation or may be distributed among many different geographical locations. For example the computing environment may include a plurality of computing devices that together may comprise a hosted computing resource a grid computing resource and or any other distributed computing arrangement. In some cases the computing environment may correspond to an elastic computing resource where the allotted capacity of processing network storage or other computing related resources may vary over time.

Various applications and or other functionality may be executed in the computing environment according to various embodiments. Also various data is stored in a data store that is accessible to the computing environment . The data store may be representative of a plurality of data stores as can be appreciated. The data stored in the data store for example is associated with the operation of the various applications and or functional entities described below.

The components executed on the computing environment for example include an electronic commerce system an image analysis engine a recommendation service an image modification engine a web service and other applications services processes systems engines or functionality not discussed in detail herein. The electronic commerce system is executed in order to facilitate the online purchase of items over the network . The electronic commerce system also performs various backend functions associated with the online presence of a merchant in order to facilitate the online purchase of items as will be described. For example the electronic commerce system generates network pages such as web pages or other types of network content that are provided to client devices for the purposes of selecting items for purchase rental download lease or other forms of consumption as may be appreciated.

The image analysis engine is executed to access the digital image provided by the client device to identify various characteristics about the setting shown in the digital image . To this end the digital image may comprise any type of information sensed from the environment such as a laser scan a frame of a video a two dimensional image a three dimensional map a three dimensional reconstruction 2.55D digital image etc. The characteristics identified by the image analysis engine may include for example the types identities colors sizes dimensions or locations of various objects in the setting. Further the image analysis engine may identify empty regions in the setting in which no object is recognized as will be discussed in greater detail below.

The recommendation service is executed to identify one or more items in an item catalog to recommend to the user by utilizing the various characteristics about the room identified in the digital image. The recommendation service may further utilize historical data associated with the user in the electronic commerce system to recommend one or more items.

The image modification engine is executed to generate a new or modified form of the digital image such that the one or more recommended items are shown in the empty regions of the digital image . To this end the image modification engine may access representative images of the recommended items in the item catalog and manipulate the representative images such that they seem natural in the setting of the digital image provided by the user via the client device .

The web service is executed to provide a medium for communication between the computing environment and one or more client devices over the network . To this end the web service may comprise a web based application programming interface API embodied in software that facilitates programmatic service calls e.g. API calls made by the client devices to communicate with the electronic commerce system the image analysis engine the recommendation service the image modification engine and or other services or applications not described herein. According to various embodiments the web based API may further comprise a representational state transfer REST or a simple object access protocol SOAP API.

The data stored in the data store includes for example an item catalog user accounts and potentially other data. The item catalog may include various data regarding items in a catalog. Such items may correspond to products goods services downloads and so on which may be offered for order by one or more merchants by way of the electronic commerce system . The various data regarding each item may include name description price genre subgenre categories representative images videos tax categories options shipping categories and so on.

The user accounts may include various data associated with users of the electronic commerce system and or the client application . The various data associated with each of the user accounts includes historical data and authentication data . Historical data comprises data associated with terms searched item pages viewed items purchased or consumed and or navigation history of the user relative to the electronic commerce system . Authentication data comprises data associated with authenticating the user of the electronic commerce system and or the client application . To this end authentication data may comprise a username a password password recovery information an e mail address biometric data and or any other data that can be used to authenticate the user.

The client device is representative of a plurality of client devices that may be coupled to the network . The client device may comprise for example a processor based system such as a computer system. Such a computer system may be embodied in the form of a desktop computer a laptop computer personal digital assistants cellular telephones smartphones set top boxes music players web pads tablet computer systems game consoles electronic book readers smart cameras or other devices with like capability. The client device may include a display and or one or more image capturing devices such as a front facing digital camera or rear facing digital camera. The display may comprise for example devices such as liquid crystal display LCD displays gas plasma based flat panel displays organic light emitting diode OLED displays electrophoretic ink E ink displays LCD projectors or other types of display devices etc.

The client devices may be configured to execute various applications such as the client application and or other applications. The client application may be executed in the client device for example to access network content served up by the computing environment and or other servers thereby rendering a user interface on the display . In addition the client application may be executed in the client device for example to capture one or more digital images utilizing the one or more image capturing devices . To this end the client application may comprise for example an imaging capturing application a web browsing application a dedicated mobile application or any combination thereof and the user interface may comprise a network page an application screen etc. The client devices may be configured to execute applications beyond the client application such as for example email applications social networking applications word processors spreadsheets and or other applications.

Next a general description of the operation of the various components of the networked environment is provided. To begin it is assumed the user of the electronic commerce system and or the client application desires to receive suggestions for items that may be purchased or otherwise consumed via the electronic commerce system . As a non limiting example the user may desire to browse items in the item catalog recommended for the user according to characteristics e.g. layout floor plan color pallet of a setting embodied in a digital image provided by the user.

Accordingly the user may capture a digital image of a setting via the image capturing device such as a front facing digital camera or a rear facing digital camera embedded within a smartphone tablet computing device or similar device. In alternative embodiments the digital image may be obtained via an external device such as a digital camera and provided to the computing environment via the client device or another device as may be appreciated.

After a capture the digital image may be stored locally on the client device e.g. in a buffer or in local memory until viable communication is established between the client device and the computing environment . When viable communication is established e.g. over a wireless fidelity Wi Fi or cellular network the digital image may be communicated to the computing environment as client output data via the web service . The client output data may further comprise client user data collected by the client application on the client device . To this end client user data may comprise for example a navigation history a purchase history and or other data collected by the client device . According to various embodiments the computing environment may store the digital image and or the client user data in association with the user via the user account in the data store .

The image analysis engine may then be employed to access the digital image to identify various characteristics about the room or setting embodied in the digital image . The characteristics capable of being detected by various image processing methodologies include colors of objects in the room or setting the lighting the type identity size shape and arrangement of the objects in the room empty regions in the room and or other characteristics. The characteristics identified in the digital image may be stored in association with the user and may be used in future recommendations as may be appreciated.

The image analysis engine may communicate the identified characteristics to the recommendation service to identify one or more items in the item catalog that may be recommended to the user. According to various embodiments the items recommended to the user may be determined utilizing at least the historical data associated with the user account historical data associated with a plurality of user accounts as well as the characteristics of the setting identified in the digital image . For example the items recommended to the user may be determined based at least in part on the colors identified in the room the lighting the size shape and arrangement of the objects in the room the empty regions and or other characteristics.

In another example collaborative filtering may be applied to filter the historical data associated with a plurality of user accounts to identify patterns such as purchase or item consumption patterns. To this end interests of a specific user may be estimated by collecting preferences or taste information from similar users. For example the recommendation service may apply collaborative filtering for interior decorating tastes by making predictions about which types of furniture a user may like given a partial list of that user s tastes for example obtained from historical data e.g. a user likes something by purchasing the item for the user. By comparing the user s tastes to user accounts with the same or similar tastes an item may be recommended to the user that the user may similarly enjoy. As may be appreciated the recommended item is identified from a plurality of items in the item catalog and offered for consumption via the electronic commerce system .

Next the image modification engine may be leveraged such that the recommended item may be inserted into at least one of the empty regions identified in the digital image . The image modification engine may utilize existing representative images accessed for example from the data store for insertion into at least one of the empty regions in the digital image by the image modification engine . Insertion may comprise taking all or a portion of at least one representative image and inserting the all or a portion of the at least one representative image of the item into the digital image such that the recommended item appears in the setting provided by the user.

As may be appreciated the recommended item may comprise more than one representative image stored in the item catalog such as the various images shown in the product page corresponding to the item in the electronic commerce system . Accordingly the item modification engine may find a best match utilizing the various characteristics of the digital image identified via the image analysis engine . As a non limiting example the image modification engine may employ a ranking of the representative images in the data store to identify at least one of the most relevant representative images to insert in the digital image . For example the items may be ranked according to a score calculated for each of the representative images according to the characteristics identified in the digital image and or predefined weights associated with the characteristics.

According to various embodiments the image modification engine may preprocess the representative image of the recommended item prior to insertion into the empty region of the digital image . Preprocessing may comprise applying a filter to the representative image scaling the representative image rotating the representative image removing a background of the representative image adjusting a color of the recommended item embodied in the representative image and or removing a portion of the representative image. As a non limiting example a representative image of a sofa may be preprocessed such that a color of the sofa is changed and the size of the sofa is scaled to be consistent with the scale of the setting embodied in the digital image . In another example the background of the representative image of the sofa may be removed such that the sofa may be applied in the setting of the digital image . In yet another example a portion of the representative image of the sofa may be removed or modified such that foreground objects in the digital image may appear to be in front of the sofa.

The image modification engine ultimately generates a modified form of the digital image comprising at least the recommended item in the at least one of the empty regions identified in the setting. The modified form of the digital image may comprise a new digital image file in various image formats e.g. JPEG GIF PNG BMP TIFF or may comprise a modified version of the same digital image provided by the user. Subsequently the computing environment may transmit the modified form of the digital image as recommendation data to the client device via the web service for rendering in the display . The recommendation data may further comprise the one or more recommended items as will be described in greater detail below.

As may be appreciated the modified form of the digital image may be encoded for rendering by the computing environment or the client device . According to various embodiments a dynamic region may be encoded on or over the recommended item of the digital image such that when the region corresponding to the recommended item is manipulated by the user additional information associated with the recommended item may be shown to the user as will be discussed in greater detail below.

Referring next to the client device is shown capturing the digital image in a room setting according to various embodiments of the present disclosure. As discussed above the client application is configured to capture the digital image of the room at the direction of the user. As may be appreciated the client device may employ one or more image capturing devices such as a front facing digital camera not shown or a rear facing digital camera to capture the digital image . As a non limiting example the user may capture the digital image embodying a bedroom a bathroom a living room a dining room a garage a yard shelving a warehouse or a similar setting.

Turning now to detection of one or more objects . . . collectively objects and or empty regions . . . collectively empty regions in the digital image is shown according to various embodiments of the present disclosure. In the non limiting example of the image analysis engine is employed to identify various characteristics about the digital image . As a non limiting example the image analysis engine may detect the presence and size of objects . . . comprising a sofa a television stand and a television respectively. Object recognition may be employed by identifying changes in lighting or color changes in a viewing direction changes in size or shape edge detection e.g. Canny edge detection invariance edge matching geometric hashing pose estimation scale invariant feature transform a combination thereof and or similar strategies. The initial detection of objects may be further refined using genetic matching or similar heuristics.

Shape or pattern recognition may be employed by comparing a region of the digital image to shapes or patterns stored in the data store to determine a type of the object although in various embodiments the type of the object may not be determined. For example recommended items may be determined and inserted into the modified form of the digital image regardless of whether the objects in the digital image are identified. Further the image analysis engine may determine other characteristics about the setting such as colors sizes materials textures dimensions or locations of various objects in the setting. The locations of various objects in the setting may be used in generating a recommended item. For example the image analysis engine may determine a proximity of an empty region relative to an object that may be identified via the shape or pattern recognition. As may be appreciated the proximity may be indicative of a type of item that should be placed within a predefined distance of the identifiable object. As a non limiting example an empty region located on a floor near a couch may indicate that a suitable recommended item would comprise a rug a table stand a standing light etc.

According to various embodiments if the presence or a mere indication of a presence of an object in the digital image is detected and the image analysis engine is unable to confirm the presence and or identity of the object the user of the client device may be prompted with the region of digital image in which the object was detected. The user may provide input as to whether the region is in fact an object and or may provide information as to the type of the object that may be used by the recommendation service in generating one or more recommended items.

Further the image analysis engine may determine characteristics for each of the empty regions which may be used in determining a recommended item for a corresponding one of the empty regions . For example a first empty region and a second empty region may be determined to be an empty space on a wall using visual image analysis. In this example a recommended item such as a wall ornament a canvas painting wallpaper etc. may be positioned in the first empty region and or the second empty region as will be described in greater detail below.

Similarly a third empty region a fourth empty region and a fifth empty region may be determined to be an empty space on a floor using the same visual image analysis. In this example a recommended item such as a piece of furniture a rug etc. may be positioned in the third empty region the fourth empty region and or the fifth empty region as will be described in greater detail below.

Moving on to insertion of recommended items in the digital image is described according to various embodiments of the present disclosure. In the non limiting example of a first recommended item and a second recommended item collectively recommended items are shown in the third empty region and the fourth empty region respectively. As the third empty region and the fourth empty region were located on the floor of the setting the recommendation service may recommend items suitable for placement on the floor such as a chaise lounge chair recommended item and a flatwoven rug recommended item . Further the recommendation service may utilize a proximity of at least one of the empty regions to at least one of the objects capable of identification to determine a recommended item. For example the chaise lounge chair recommended item may be recommended based on the third empty region being within a threshold distance to the first object e.g. the couch which the image analysis engine may identify based upon its shape or pattern.

Accordingly the representative image of the recommended items may be inserted in the modified form of the digital image thereby permitting the user to visualize the recommended items in the setting provided by the user. The representative image may be preprocessed as described above to conform the representative image with the setting without obstructing the appearance of the objects . . . if necessary. For example the representative image of the flatwoven rug recommended item may be skewed scaled and or rotated such that it conforms with the perspective of the setting. Similarly the color of the chaise lounge chair recommended item may be modified from the representative image such that it conforms to a color pallet of the setting. In addition a bottom left portion of the chaise lounge chair recommended item may be removed and or made transparent such that it appears in a background of the setting relative to the first object

According to various embodiments the modified form of the digital image may be generated such that a dynamic region is encoded in association with the recommended item . Upon a manipulation of the dynamic region additional information associated with the recommended items may be shown to the user. As a non limiting example in the user may manipulate or otherwise engage the recommended item to initiate a rendering of a dialog that shows a name a description and an average review of the recommended item

Referring next to shown is an example user interface rendered by the client device in the networked environment of according to various embodiments of the present disclosure. In the non limiting example of the client device may comprise a desktop computing device or a similar computing device capable of executing a web browsing application to render the user interface . As shown in the user interface may comprise the modified form of the digital image depicting the recommended items inserted in the empty regions .

Further one or more of the recommended items may be shown in another portion of the user interface to facilitate placement of the recommended items in a virtual shopping cart of the electronic commerce system . As a non limiting example a list of the recommended items may be shown in association with the modified form of the digital image . The list of the recommended items may comprise a name a description a price an average review the representative images . . . and or other information associated with the recommended item . As may be appreciated a first add to cart component and a second add to cart component collectively add to cart components may facilitate placement of the first recommended item and the second recommended item respectively in the virtual shopping cart upon a manipulation by the user.

Turning now to shown is yet another example user interface rendered by the client device in the networked environment of according to various embodiments of the present disclosure. In the non limiting example of the client device may comprise a mobile computing device a tablet computing device or a similar computing device capable of executing the client application to render the user interface in the display . As may be appreciated the client device shown in may be the same or different device that initially captured the digital image . As shown in the user interface comprises the modified form of the digital image depicting the recommended items placed in the empty regions .

As discussed above the recommended items may be shown in another portion of the user interface in the client application that facilitates placement of one or more of the recommended items in a virtual shopping cart of the electronic commerce system . As a non limiting example a list of the recommended items may be shown in association with the modified form of the digital image . The list of the recommended items may comprise a name a description a price an average review the representative images . . . and or other information associated with the recommended item . As may be appreciated a first add to cart component and a second add to cart component collectively add to cart components may facilitate placement of the first recommended item and the second recommended item respectively in the virtual shopping cart upon a manipulation by the user.

Referring next to shown is a flowchart that provides one example of the operation of a portion of the image analysis engine the recommendation service and or the image modification engine according to various embodiments. It is understood that the flowchart of provides merely an example of the many different types of functional arrangements that may be employed to implement the operation of the portion of the image analysis engine the recommendation service and the image modification engine as described herein. As an alternative the flowchart of may be viewed as depicting an example of elements of a method implemented in the computing environment according to one or more embodiments.

Beginning with the image analysis engine accesses the digital image from the client device or from the data store to identify various characteristics about the room or setting embodied in the digital image . As may be appreciated the user may capture the digital image of the setting via the image capturing device such as a front facing digital camera or a rear facing digital camera within or in communication with the client device . In alternative embodiments the digital image may be obtained via an external device such as a digital camera and provided to the computing environment as may be appreciated. Upon receipt of the digital image by the computing environment the digital image may be stored in data store for subsequent access by the image analysis engine and or other services or applications described herein.

Moving on to the user account associated with the user of the client application and or the electronic commerce system is identified. Identification of the user may be performed by requiring the user to authenticate his or her credentials prior to accessing various features of the client application . By identifying the user account associated with the client device historical data may be collected and utilized in recommending one or more items to the user as will be described below.

In the image analysis engine accesses the digital image to identify various characteristics about the setting embodied in the digital image . The characteristics capable of being detected by various image processing methodologies include colors of objects identifiable in the setting the lighting the type identity size shape and arrangement of the objects in the setting empty regions in the setting and or other characteristics. In the characteristics identified in the digital image may be stored in association with the user in the data store and may be used in future recommendations as may be appreciated.

Next in the image analysis engine may communicate the identified characteristics to the recommendation service to identify one or more items in the item catalog that may be recommended to the user. According to various embodiments the items recommended to the user may be determined utilizing at least historical data e.g. browse history data purchase history data or other data associated with the user account as well as the characteristics identified in the digital image of the setting. For example the items recommended to the user may be determined based at least in part on the colors identified in the room the lighting the type size shape and arrangement of the objects in the room the empty regions and or other characteristics. The recommended item is identified from items offered for consumption via the electronic commerce system .

In another example collaborative filtering may be applied to filter the historical data associated with a plurality of user accounts to identify patterns such as purchase or item consumption patterns associated with the user accounts . To this end interests of a specific user may be estimated by collecting preferences or taste information from similar users. In addition the recommendation service may employ various design patterns stored in the data store to identify items to recommend to the user. Design patterns may comprise for example predefined constraints that limit a number of items to be recommended to the user. For example if a user has a brown floor in the setting the recommendation service may determine from the design patterns that a sofa with a substantially brown color should not be recommended to the user.

According to various embodiments the recommendation service may employ a ranking of the items in the item catalog to identify a subset of the most relevant items to recommend to the user. For example the items may be ranked according to a score calculated for each of the items as follows Score eq. 1 .

As set forth above each factor f is weighted by a constant C that may be assigned in the recommendation service based on for example experience of a system administrator to indicate the relative importance of each factor f in considering the score for a given item in the item catalog . Each of the factors f may comprise for example a relatedness or affinity of an item relative to the historical data associated with the user a relatedness of an item relative to the characteristics identified in the setting embodied in the digital image etc. Further the factors may include a relatedness or affinity of an item relative to the characteristics detected in the setting including the colors of the objects in the setting the lighting the type identity size shape and arrangement of the objects in the room empty regions in the setting a combination thereof and or other characteristics.

In it is determined whether at least one empty region was identified by the image analysis engine in the digital image . If the at least one empty region is not identified in the digital image the process proceeds to to send the list of the recommended items to the client device as will be discussed in greater detail below. As may be appreciated the recommended items may be provided to the user based on the digital image regardless of whether a representative image of the recommended item may be inserted in the digital image . However if at least one empty region is identified in the digital image in the representative image of one or more recommended items are accessed from memory.

As discussed above the image modification engine may be leveraged such that the recommended item may be inserted into at least one of the empty regions identified in the digital image . The image modification engine may utilize existing representative images of the recommended item accessed for example from the data store for insertion into the at least one of the empty regions in the digital image by the image modification engine to generate the modified form of the digital image . Insertion may comprise taking all or a portion of the representative image and inserting the all or a portion of the representative image into the digital image such that the recommended item appears in the digital image provided by the user.

As may be appreciated the recommended item may comprise more than one representative image stored in the item catalog such as the various images shown in the product page corresponding to the item in the electronic commerce system . Accordingly the item modification engine may find a best match utilizing the various characteristics of the digital image identified via the image analysis engine .

In the image modification engine may preprocess the representative image of the recommended item prior to insertion into the empty region of the digital image . Preprocessing may include applying a filter to the representative image and or removing portions of the representative image that may be unneeded based on the characteristics of the digital image e.g. a background or portions of the item .

As a non limiting example a representative image of a chaise lounge chair may be preprocessed such that a color of the chair is changed and the size of the chair is scaled to be consistent with the scale of the setting embodied in the digital image . In another example the background of the representative image of the chair may be removed such that the chair may be applied in the setting of the digital image . In yet another example a portion of the representative image of the sofa may be removed or modified such that foreground objects in the digital image may appear to be in front of the sofa.

In the image modification engine generates a modified form of the digital image comprising at least the recommended item in the at least one of the empty regions identified in the setting. The modified form of the digital image may comprise a new digital image file in various image formats e.g. JPEG GIF PNG BMP TIFF or may comprise a modified version of the same digital image provided by the user. According to various embodiments the image modification engine may generate a three dimensional reconstruction of the setting comprising at least the recommended item. For example given the user of the client device has provided a plurality of digital images of the setting or a video of the setting the image modification engine may stitch the digital images provided to generate a three dimensional model of the setting that may be encoded for rendering in the user interface . Further construction of the three dimensional model may employ motion estimation homography various camera models etc.

Subsequently in the computing environment may transmit the modified form of the digital image to the client device for rendering in the display . In a list of the recommended items may be sent to the client device for rendering. As may be appreciated and may be performed concurrently by sending the modified form of the digital image and the list of the recommended items to the client device simultaneously.

According to various embodiments the modified form of the digital image may be encoded for rendering by the computing environment prior to transmission or by the client device after transmission. According to various embodiments a dynamic region may be encoded on or over the recommended item of the digital image such that when manipulated by the user additional information associated with the recommended item may be shown to the user as shown above in the non limiting example of . As a non limiting example a dialog may be generated by the client application and rendered in the display .

The modified form of the digital image may be transmitted via the web service as a portion of recommendation data that may comprise an encoded network page that may be rendered via a web browsing application. In alternative embodiments the recommendation data may be used in generating a user interface in the client application e.g. a mobile application executable by a mobile device operating system .

According to various embodiments the flowchart of may be implemented in a robotic computing device such as an autonomous or semi autonomous robotic device capable of moving about a setting. For example an imaging device within or in communication with the robotic device may capture the digital image to identify the characteristics of the setting in which the robotic device moves. The empty regions identified in the setting may be used for movement of the robotic device e.g. moving to an empty region without collision and or determining a placement of items in the empty regions . Instead of accessing a catalog of items associated with the electronic commerce system from the data store the robotic device may maintain a list of items in memory. Using the list of items the robotic device may determine and or conduct the placement of the items in the empty regions .

With reference to shown is a schematic block diagram of the computing environment according to an embodiment of the present disclosure. The computing environment includes one or more computing devices . Each computing device includes at least one processor circuit for example having a processor and a memory both of which are coupled to a local interface . To this end each computing device may comprise for example at least one server computer or like device. The local interface may comprise for example a data bus with an accompanying address control bus or other bus structure as can be appreciated.

Stored in the memory are both data and several components that are executable by the processor . In particular stored in the memory and executable by the processor are the electronic commerce system the image analysis engine the recommendation service the image modification engine the web service and potentially other applications. Also stored in the memory may be a data store and other data. In addition an operating system may be stored in the memory and executable by the processor .

It is understood that there may be other applications that are stored in the memory and are executable by the processor as can be appreciated. Where any component discussed herein is implemented in the form of software any one of a number of programming languages may be employed such as for example C C C Objective C Java JavaScript Perl PHP Visual Basic Python Ruby Flash or other programming languages.

A number of software components are stored in the memory and are executable by the processor . In this respect the term executable means a program file that is in a form that can ultimately be run by the processor . Examples of executable programs may be for example a compiled program that can be translated into machine code in a format that can be loaded into a random access portion of the memory and run by the processor source code that may be expressed in proper format such as object code that is capable of being loaded into a random access portion of the memory and executed by the processor or source code that may be interpreted by another executable program to generate instructions in a random access portion of the memory to be executed by the processor etc. An executable program may be stored in any portion or component of the memory including for example random access memory RAM read only memory ROM hard drive solid state drive USB flash drive memory card optical disc such as compact disc CD or digital versatile disc DVD floppy disk magnetic tape or other memory components.

The memory is defined herein as including both volatile and nonvolatile memory and data storage components. Volatile components are those that do not retain data values upon loss of power. Nonvolatile components are those that retain data upon a loss of power. Thus the memory may comprise for example random access memory RAM read only memory ROM hard disk drives solid state drives USB flash drives memory cards accessed via a memory card reader floppy disks accessed via an associated floppy disk drive optical discs accessed via an optical disc drive magnetic tapes accessed via an appropriate tape drive and or other memory components or a combination of any two or more of these memory components. In addition the RAM may comprise for example static random access memory SRAM dynamic random access memory DRAM or magnetic random access memory MRAM and other such devices. The ROM may comprise for example a programmable read only memory PROM an erasable programmable read only memory EPROM an electrically erasable programmable read only memory EEPROM or other like memory device.

Also the processor may represent multiple processors and or multiple processor cores and the memory may represent multiple memories that operate in parallel processing circuits respectively. In such a case the local interface may be an appropriate network that facilitates communication between any two of the multiple processors between any processor and any of the memories or between any two of the memories etc. The local interface may comprise additional systems designed to coordinate this communication including for example performing load balancing. The processor may be of electrical or of some other available construction.

Although the electronic commerce system the image analysis engine the recommendation service the image modification engine the web service and other various systems described herein may be embodied in software or code executed by general purpose hardware as discussed above as an alternative the same may also be embodied in dedicated hardware or a combination of software general purpose hardware and dedicated hardware. If embodied in dedicated hardware each can be implemented as a circuit or state machine that employs any one of or a combination of a number of technologies. These technologies may include but are not limited to discrete logic circuits having logic gates for implementing various logic functions upon an application of one or more data signals application specific integrated circuits ASICs having appropriate logic gates field programmable gate arrays FPGAs or other components etc. Such technologies are generally well known by those skilled in the art and consequently are not described in detail herein.

The flowchart of shows the functionality and operation of an implementation of portions of the electronic commerce system the image analysis engine the recommendation service the image modification engine and or the web service . If embodied in software each block may represent a module segment or portion of code that comprises program instructions to implement the specified logical function s . The program instructions may be embodied in the form of source code that comprises human readable statements written in a programming language or machine code that comprises numerical instructions recognizable by a suitable execution system such as a processor in a computer system or other system. The machine code may be converted from the source code etc. If embodied in hardware each block may represent a circuit or a number of interconnected circuits to implement the specified logical function s .

Although the flowchart of shows a specific order of execution it is understood that the order of execution may differ from that which is depicted. For example the order of execution of two or more blocks may be scrambled relative to the order shown. Also two or more blocks shown in succession in may be executed concurrently or with partial concurrence. Further in some embodiments one or more of the blocks shown in may be skipped or omitted. In addition any number of counters state variables warning semaphores or messages might be added to the logical flow described herein for purposes of enhanced utility accounting performance measurement or providing troubleshooting aids etc. It is understood that all such variations are within the scope of the present disclosure.

Also any logic or application described herein including the electronic commerce system the image analysis engine the recommendation service the image modification engine and or the web service that comprises software or code can be embodied in any non transitory computer readable medium for use by or in connection with an instruction execution system such as for example a processor in a computer system or other system. In this sense the logic may comprise for example statements including instructions and declarations that can be fetched from the computer readable medium and executed by the instruction execution system. In the context of the present disclosure a computer readable medium can be any medium that can contain store or maintain the logic or application described herein for use by or in connection with the instruction execution system.

The computer readable medium can comprise any one of many physical media such as for example magnetic optical or semiconductor media. More specific examples of a suitable computer readable medium would include but are not limited to magnetic tapes magnetic floppy diskettes magnetic hard drives memory cards solid state drives USB flash drives or optical discs. Also the computer readable medium may be a random access memory RAM including for example static random access memory SRAM and dynamic random access memory DRAM or magnetic random access memory MRAM . In addition the computer readable medium may be a read only memory ROM a programmable read only memory PROM an erasable programmable read only memory EPROM an electrically erasable programmable read only memory EEPROM or other type of memory device.

Further any logic or application described herein including the electronic commerce system the image analysis engine the recommendation service the image modification engine and or the web service may be implemented and structured in a variety of ways. For example one or more applications described may be implemented as modules or components of a single application. Further one or more applications described herein may be executed in shared or separate computing devices or a combination thereof. For example a plurality of the applications described herein may execute in the same computing device or in multiple computing devices in the same computing environment . Additionally it is understood that terms such as application service system engine module and so on may be interchangeable and are not intended to be limiting.

Disjunctive language such as the phrase at least one of X Y or Z unless specifically stated otherwise is otherwise understood with the context as used in general to present that an item term etc. may be either X Y or Z or any combination thereof e.g. X Y and or Z . Thus such disjunctive language is not generally intended to and should not imply that certain embodiments require at least one of X at least one of Y or at least one of Z to each be present.

It should be emphasized that the above described embodiments of the present disclosure are merely possible examples of implementations set forth for a clear understanding of the principles of the disclosure. Many variations and modifications may be made to the above described embodiment s without departing substantially from the spirit and principles of the disclosure. All such modifications and variations are intended to be included herein within the scope of this disclosure and protected by the following claims.

