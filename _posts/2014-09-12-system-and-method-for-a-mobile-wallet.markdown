---

title: System and method for a mobile wallet
abstract: A computer-implemented system and method for providing offers to a mobile device includes receiving at least one offer from at least one merchant at an offer computer system and determining, by the offer computer system, an offer to present on the mobile device based on at least one characteristic of a user of the mobile device, the offer providing the user a discount from a price of a product or service. The method includes receiving a request for a code to provide to a merchant, the code being generated for the mobile device that belongs to the user. The method includes receiving, from a mobile device, an indication from the user to use the offer and sending, by the offer computer system, to the mobile device an offer code to be displayed on the mobile device to be received by a merchant.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09424571&OS=09424571&RS=09424571
owner: WELLS FARGO BANK, N.A.
number: 09424571
owner_city: San Francisco
owner_country: US
publication_date: 20140912
---
This application is a continuation of and claims priority to U.S. application Ser. No. 13 456 157 now U.S. Pat. No. 8 930 271 filed on Apr. 25 2012 and entitled SYSTEM AND METHOD FOR A MOBILE WALLET the entirety of which is hereby incorporated by reference in its entirety and for all purposes.

The present invention relates generally to the field of mobile wallets. More specifically the present invention relates to systems and methods for enabling individuals to use their electronic devices to transfer funds and purchase products and services.

Payments for products and services are often completed using credit cards debit cards checks or cash. At the same time most people carry some type of mobile handheld electronic device such as a cellular phone smart phone mobile handheld wireless e mail device personal digital assistant portable gaming devices and so on. Most of these devices tend to have a wireless internet connection. A person may wish to make payments to merchants using these mobile devices. Likewise a person may wish to transfer funds to other individuals using their mobile devices. Enhanced systems and methods of facilitating such transactions would be desirable.

One embodiment includes a computer implemented method for providing offers to a mobile device includes receiving at least one offer from at least one merchant at an offer computer system and determining by the offer computer system an offer to present on the mobile device based on at least one characteristic of a user of the mobile device the offer providing the user a discount from a price of a product or service. The method includes receiving a request for a code to provide to a merchant the code being generated for the mobile device that belongs to the user. The method includes receiving from a mobile device an indication from the user to use the offer and sending by the offer computer system to the mobile device an offer code to be displayed on the mobile device to be received by a merchant.

One embodiment includes a computer implemented method for receiving at least one offer from at least one merchant at an offer computer system. The method includes determining by the offer computer system an offer to present on the mobile device based on at least one characteristic of a user of the mobile device the offer providing the user a discount from a price of a product or service. The method includes receiving a request for a code to provide to a merchant the code being generated for the mobile device that belongs to the user and receiving from a mobile device an indication from the user to use the offer. The offer computer system may send an offer code to be displayed on the mobile device to be received by a merchant. The method includes aggregating a total amount of funds that the user has saved using a plurality of offers in the past.

Another embodiment includes a computer system that includes a processor coupled to machine readable storage media having instructions stored therein that when executed by the processor cause the processor to receive at least one offer from at least one merchant. The process can determine an offer to present on the mobile device based on at least one characteristic of a user of a mobile device the offer providing the user a discount from a price of a product or service and receive a request for a code to provide to a merchant the code being generated for the mobile device that belongs to the user. The processor can receive from a mobile device an indication from the user to use the offer and send to the mobile device an offer code to be displayed on the mobile device to be received by a merchant. This embodiment includes the processor aggregating a total amount of funds that the user has saved using a plurality of offers in the past. The processor can generate the code including embedding in the code a transaction identification number a geographic location of the mobile device and a timestamp and send the code to the mobile device for the merchant to send to a financial institution to request funds from an account held by the user. The merchants request for funds may include an amount of the transaction and can be received by the processor. The requested funds may be sent to the merchant upon verifying the offer was accepted by the user of the mobile device.

Referring to a computer implemented payment processing system is shown that may be used by a user to set up and utilize a mobile wallet account. The user may be a business entity and or an individual consumer that has one or more source accounts with a financial institution. The source accounts may include business or consumer accounts. The mobile wallet account can be created for the user to transmit funds in return for purchase of goods or services to a merchant. Additionally funds can be transferred from the mobile wallet account to another person.

Payment processing system may include among other systems an online community computer system a mobile device mobile wallet bank computer system source account bank computer system a fund recipient computer system and a payment network . The online community computer system the mobile device the mobile wallet bank computer system the source account bank computer system and the fund recipient may communicate through a network which may include one or more of the Internet cellular network Wi Fi Wi Max a proprietary banking network and so on. The online community computer system the mobile wallet bank computer system the source account bank computer system and the payment network may each comprise a computer system e.g. one or more servers each with one or more processors configured to execute instructions send and receive data stored in memory and perform other operations to implement the operations described herein associated with logic or processes shown in .

The online community computer system implements an online community of individuals. The online community may be any internet destination e.g. website where users may obtain user names login IDs or otherwise become registered members. The individuals may for example use the online community to interact with each other and or to interact with a service provided by the computer system . Examples of online communities include MSN iPhone users Facebook LinkedIn and so on.

Members of the online community may be offered mobile wallet accounts as a service that is available through the online community. The mobile wallet accounts for example may be created through the online community may be accessible through the online community may be branded with the trademarks of the online community and so on. Although in the illustrated embodiment the mobile wallet account is created and accessed through an online community it will be appreciated that the mobile wallet account may be established in other ways for example through an online banking area of a web site of the banking institution that operates the mobile wallet bank computer system and that maintains the mobile wallet account.

The mobile device may be used by an individual user e.g. a business owner or employee a consumer and so on to create and interact with a mobile wallet account. The mobile device may for example be a cellular phone smart phone mobile handheld wireless e mail device personal digital assistant portable gaming devices or other suitable device. The mobile device comprises a network interface logic a display device an input device and a mobile wallet client application . Network interface logic may include for example program logic that connects the mobile device to the network . As described in greater detail below for example the mobile device may receive and display screens including account information transaction instructions and so on. In an example embodiment such screens may be used to request a username and password information. Such screens may also be used to prompt the user to provide information regarding the amount of the payment and which merchant or individual e.g. name address phone number or e mail a selection of a recipient by the user from his memory or from by the user from the mobile device and so on is to receive the payment. Such screens are presented to the user via the display device . The input device may be used to permit the user to initiate account access and to facilitate receiving requested information from the user. As will be appreciated in addition to or instead of the mobile device users may also be provided with the ability to access the payment processing system using another type of computer e.g. a desktop or laptop computer executing browser software to perform the operations described herein as being performed by the mobile device .

The mobile wallet client application may comprise program logic executable by the mobile device to implement at least some of the functions described herein. As will be appreciated the level of functionality that resides on the mobile device as opposed to the online community computer system may vary depending on the implementation. The client application may simply be a web browser that is configured to receive and display mobile web pages received from the online community computer system e.g. web pages prompting the user to provide information to create an account web pages displaying account balance information and past transactions and so on . The mobile wallet client application may also include a code token generator capable of generating a unique code token for each transaction. As described below the unique code token may then be transmitted by the mobile device as part of a transaction to facilitate authentication of the transaction. As will be appreciated the user may also use other devices e.g. laptop or desktop computer system not shown to create and access accounts through the online community.

In another embodiment the mobile device may be connected to another mobile device that cooperates with the mobile device to provide the functionality described herein. For example the other mobile device may be a wrist watch or a small object with a small screen that a person can wear e.g. pendant ring etc. . The other mobile device can be configured to wirelessly communicate with the mobile device to receive and send updates regarding mobile wallet activities. The other mobile device may display information that is otherwise described herein as being displayed by display . For example the other mobile device may display messages to the user regarding various offers receipts and activities. The user may speak a message to the other mobile device to store the message in the mobile device . The other mobile device may have a processor that is configured to store information in memory. The other mobile device may include a alphanumeric keyboard and also display time temperatures and weather information which can be updated from the mobile device .

The mobile wallet bank computer system includes account processing logic an accounts database network interface logic and an account directory . In an example embodiment the computer system is operated by a first banking entity that maintains and handles transaction processing for the mobile wallet accounts. For example the mobile wallet accounts may be created via interaction of the mobile wallet application with the mobile wallet computer system . The user may or may not have conventional bank accounts with the banking entity that maintains the computer system . If the user does not have bank accounts with the entity that maintains the computer system then accounts associated with another banking entity may also be used as described below. As another example the mobile wallet accounts may be created and accessed through the online community as previously indicated. Again in such an embodiment the flow of funds into and out of the mobile wallet accounts may also be processed by the first banking entity using the mobile wallet computer system .

The computer system is configured to store information regarding mobile wallet accounts. By way of example information for a specific mobile wallet account designated by reference numeral is shown as being stored in a database . As will be appreciated database may also store information regarding many other mobile wallet accounts not shown . As will also be appreciated the extent to which transaction details are tracked and maintained in the account processing logic as compared to the extent to which transaction details are tracked and maintained by the online community computer system may vary depending on the implementation.

The mobile wallet account holds funds that are transmitted to a recipient upon receiving instructions from the user through the mobile device . As described below funds flow into and out of the mobile wallet account through the payment network . The mobile wallet account logic is connected to the online community computer system and the payment network through the network . Network interface logic may include for example program logic that connects the computer system to the network . The mobile wallet account logic also includes an account directory . As discussed in greater detail below the account directory can maintain correlating information regarding a potential recipient s phone number address or e mail address e.g. to facilitate transferring funds to individuals where account information is not known.

The source account computer system includes account processing logic an accounts database and network interface logic . The bank account logic may be operated by a second banking entity that maintains and handles transaction processing for source accounts. In an example embodiment as previously indicated during creation of the mobile wallet account the user may be prompted to identify a source account that is a source of funds for the mobile wallet account. The source account may be an existing demand deposit account held by the user with another financial institution. When the mobile wallet account is created the user is prompted to provide bank account information e.g. routing number and or account number for the source account that is used as a source of funds for the mobile wallet account . Thus the financial institution that provides the mobile wallet account for the user through the online community and the financial institution that typically provides banking services to the user may be two different financial institutions. Although in the illustrated embodiment the computer systems and are shown as being separate and as communicating through the Internet it will be appreciated that the computer systems and may also be integrated in a single payment processing system e.g. if the two financial institutions are the same .

The fund recipient computer system may be configured in generally the same manner as the other computer systems described herein. For example if the fund recipient is an individual the computer system may be another mobile device such as a cellular phone smart phone mobile handheld wireless e mail device personal digital assistant portable gaming devices or other suitable device. If the fund recipient is a merchant e.g. a brick and mortar merchant a retail website or other online merchant etc. the computer system may comprise a computer system e.g. one or more servers each with one or more processors configured to execute instructions send and receive data stored in memory and perform other operations to implement the operations described herein associated with the fund recipient.

The payment system is used to transmit funds from the source account to the mobile wallet account and from the mobile wallet to the recipient either directly or indirectly through the online community . In one embodiment the payment system is the Automated Clearing House network. As is known the ACH Network is a nationwide batch oriented electronic funds transfer system which provides for interbank clearing of electronic payments for participating depository financial institutions. An ACH entry can start with an account holder known as the Receiver in ACH terminology authorizing an Originator e.g. a person or a company to issue ACH debit or credit to an account. Depending on the ACH transaction the Originator must receive authorization from the Receiver. In accordance with the rules and regulations of ACH no financial institution may issue an ACH transaction whether it be debit or credit towards an account without prior authorization from the Receiver. Once authorization is received the Originator then creates an ACH entry to be given to an Originating Depository Financial Institution ODFI which can be any financial institution that does ACH origination. This ACH entry is then sent to an ACH Operator i.e. central clearing facilities through which financial institutions transmit or receive ACH entries e.g. the Federal Reserve or the Electronic Payments Network and is passed on to the Receiving Depository Financial Institution RDFI where the Receiver s account is issued either a credit or debit depending on the ACH transaction. The RDFI may however reject the ACH transaction and return it to the ODFI with the appropriate reason such as that there were insufficient funds in the account or that the account holder indicated that the transaction was unauthorized. An RDFI has a prescribed amount of time in which to perform returns e.g. two to sixty days from the receipt of the ACH transaction . An ODFI receiving a return of an ACH entry may re present the ACH entry two more times or up to three total times for settlement. Again the RDFI may reject the transaction after which the ODFI may no longer represent the transaction via ACH. The above description of ACH system is one in use currently the embodiments of the current invention will continue to function similarly even if some methods and steps in the ACH system are modified.

Referring next to various examples in which payments are made from the mobile wallet account are shown. In a payment is made to a merchant e.g. a brick and mortar merchant and the mobile device is present at the point of sale. At step the code generator of the mobile device generates a unique code for a transaction at a point of sale location. As described in connection with below the unique code may be embedded in a bar code which is read by a bar code scanner operated by the merchant at step . For example successful authentication of the unique code by the computer system may be necessary for successful completion of the transaction by the merchant. Upon successful authentication the computer system may transmit a message to the merchant indicating that the transaction is approved. Next in step funds are transferred using the ACH system to the merchant. In yet another embodiment the code can be transmitted via radio frequency Bluetooth RFID NFC and the like to a scanner at the point of sale. In yet another embodiment the code may be an image that is a bar code two dimensional bar code QR code a two dimensional bar code that includes color and or time. When the code is sent to the account processing logic by the recipient as a request for funds the account processing logic recognizes the transaction using the code and transmits an appropriate amount of funds to the recipient. After the transaction is complete a SMS confirmation of the transaction may be sent in real time to the mobile device .

As another example a user may use the mobile device to make a payment to an online merchant. In such an embodiment payment through the payment processing system may be offered to the user as a payment option at checkout. If the user accesses the online merchant through by way of the online community computer system then the user may be authenticated by virtue of having provided username and password information to the online community computer system . As another option rather than the barcode that is generated in step of the mobile device may generate a unique code for a transaction which may then be keyed in by the user. Such an arrangement may also be implement to implement payments between members of on line communities e.g. MSN iPhone users Facebook LinkedIn and so on . In an example embodiment an application programming interface API may be provided for the payment processing system which may be accessed by the online merchant in programming the computer system to accept payments via the payment processing system .

In a payment is made to another individual a person to person payment . As shown in in step a request for a transfer of funds from an individual to another individual is received from the mobile device of the user. The request may include for example the other individual s e mail or phone number or a token. Due to privacy concerns a person may not want to share their account number with other individuals. However oftentimes a person is willing to share more publicly available information such as a name address E mail or a telephone number. By using a combination of the above attributes about an individual the mobile wallet application can transmit funds or at least a notification to the recipient individual of the request for the fund transfer. The information directory maintains information that correlates such information i.e. the other individual s e mail or phone number or a token with more specific information identifying a mobile wallet account associated with the recipient. Thus using the information directory the mobile wallet account information of the recipient is identified at step . The funds are then transferred to the mobile wallet account of the recipient using the ACH system at step . In yet another embodiment instead of using the recipients phone number or E mail the recipient can provide the sender with a token or code for sending funds to the mobile wallet account of the recipient.

In the user attempts to make a payment to a recipient that does not have a pre registered mobile wallet account. As shown in in step a request for a transfer of funds from an individual to another individual is received from the mobile device of the user. In step it is determined based on the information directory that the recipient is not a mobile wallet account holder. In step the intended recipient is notified of the attempt to transfer funds and is prompted to create a mobile wallet account. The notification can be via e mail mail or phone for example. In yet another embodiment the recipient can request that the funds be delivered to a bank nearby and pick up the funds from the banking institution. The recipient can also choose to provide their bank account information such as routing number and account number. At step the funds are transferred to the recipient from the mobile wallet account using the ACH system .

To make a payment to a recipient in the first online community the user selects a contact for example a first recipient . The first online community receives the above information from the sender and it transmits the recipient identifying information and the amount of funds to be transferred to the bank . The bank queries the directory to determine whether the recipient has a mobile wallet account. If the recipient has a mobile wallet account then the first recipient is notified that funds are being transferred to their mobile wallet account . The banking institution can upon the approval of the first recipient transfer the funds to holding account of the mobile wallet account .

To make a payment to a recipient in the second online community the user selects a contact for example a second recipient . In this example the same bank maintains mobile wallet accounts for both the first online community and the second online community . The directory therefore has all the information that is needed to complete the transfer and therefore the transmission of funds occurs as it did with the first recipient . Therefore the payment processing system may permit two online communities to be joined by allowing transfer of funds to a sender and recipient of different communities. In yet another embodiment the second recipient has a mobile wallet account that is not maintained by the same bank but instead has a mobile wallet account that is maintained by another bank. In this embodiment the two banks may provide access to their respective directories for purposes of identifying the sender and the recipient and completing the transaction.

In other embodiments other authentication techniques may be used. For example biometric authentication techniques may be used. For example a camera on a mobile device may capture an image video of the user and a facial recognition algorithm may be used to authenticate the user. As another example a voice speech recognition technique may be used. For example the user may speak into a microphone of the mobile device and the user may be authenticated based on the sound of the user s voice and or based on the content of the user s speech e.g. a spoken password . As another example the mobile device may be provided with a fingerprint scanner and a finger print authentication technique may be used.

Next after the user has been authenticated information on the screen shown on can be displayed on the mobile device . In the user is given a menu with various menu items including a start transactions button a person to person button an account details button and a load funds button . The start transaction button allows the user begin a purchase transaction online or retail using the mobile wallet account . The person to person button allows a user to initiate a transfer from funds from the user to a recipient as described above with reference to . The account detail button provides the user with details regarding the balance and prior transactions. The load funds button allows the user to load funds onto the mobile wallet account using an ACH system as described above. Finally screen displays the current balance for the account for a particular date and time as indicated in field .

After receiving a selection of the start transaction button in screen in is displayed. The user can enter the amount of the transaction in the text filed . Also the user can enter a merchant name or search for the merchant. After entering the merchant name and amount and clicking the start transaction button a transaction code is displayed with the amount of the transaction and the merchant name. Moreover as shown on screen a bar code is displayed for a merchant to scan. The bar code is uniquely generated for the transaction and encodes information such as the amount of the transaction the account number of the mobile wallet account of the user and so on.

If the user chooses the person to person button in then the screen display of can be shown on the mobile device. The user can enter the contact name or search for a contact name in the field . Alternatively the user can enter or search for a phone number in field . As another alternative the user can enter or search for the e mail address of the recipient in field . Also prior to transferring funds to a person the current balance of the holding account is displayed in field on the screen display of .

Referring now to another embodiment of a computer implemented payment processing system is shown. Payment processing system may be used by a user or account holder to set up and utilize a mobile wallet account. The user may be a business entity and or an individual consumer that has one or more source accounts with a financial institution. The source accounts may include business or consumer accounts. The mobile wallet account can be created for the user to transmit funds to a merchant in return for purchase of goods or services. Additionally funds can be transferred from the mobile wallet account to another person.

Payment processing system may include among other systems a mobile device merchant computer system mobile wallet bank computer system source account bank computer system and payment system . Systems may be implemented as described above in connection with . Further to the extent such structures are not already provided in the arrangement of systems as shown in may further include additional structures to perform additional operations as described below.

In the arrangement of the mobile device further comprises location determination logic account selection logic augmented reality logic gift card aggregator and receipt tracker . The location determination logic determines the location of the mobile device for use by the mobile wallet application . A user may opt in to using the location determination logic to provide enhanced protection against fraudulent transactions as described below. The location determination logic may use a satellite GPS sensor or cellular towers to determine the location coordinates of the mobile device .

The account selection logic allows a user to choose any one of the accounts to transfer funds to the merchant for goods or services. An account holder may select a default account that is used to make payments. The account holder may use the account selection logic to select the account the account holder wants to use to pay the merchant or other recipient.

The augmented reality logic may be configured to generate sensory outputs such as sound video graphics or GPS data that augment the image that is displayed on the mobile device. The augmented reality logic is configured to receive image data from a mobile device camera or image scanner and augment the image with additional information as described below.

The value card aggregator may be configured to add or subtract balances of stored value cards that are currently owned by the account holder. The value card aggregator may also provide the account holder with the ability to manage e.g. add edit delete and so on value cards in the mobile wallet. In one embodiment the value card may be a merchant issued card with a balance that represents a specific amount of funds. The value card aggregator may receive as input from the image scanner or camera of the mobile device a scanned bar code from a stored value card. In one embodiment the stored value card may be a physical card that is owned by an account holder. In another embodiment the stored value card may be a virtual card that has an identification number and a value. A virtual card can be a debit card credit card that is issued without any corresponding physical e.g. plastic card. The funds associated with the virtual card can be accessed without a physical card. In one embodiment the value card aggregator is configured to store value information with respect to a plurality of different value card issuers. For example the value card information regarding various value card issuers may be saved in a single mobile wallet application on a single mobile device .

The receipt tracker may be used by the account holder to track receipts received in connection with mobile wallet transactions. In one embodiment the bank computer system may transmits receipts to the mobile wallet application on mobile device for viewing. The receipts may be sent from the merchant computer system to the bank computer system upon completion of a transaction. As described in greater detail below the receipt tracker may provide various tools to the user of the mobile device For example the receipt tracker may be configured to generate a display informing the user regarding how much money the user has saved using the loyalty card. The receipt tracker may receive geographical location information regarding where the funds from a receipt were spent e.g. for purposes of searching receipts generating expense reports and so on . The receipt tracker may generate a display that shows the data regarding geographical location information on a map for an account holder to display.

The merchant computer system may be used at a point of sale to conduct transaction with the account holder. For example the merchant computer system may comprise a point of sale computer system such as a cash register system connected to a central server system operated by the merchant. As another example the merchant computer system may comprise a mobile computing device e.g. smart phone tablet PC etc. operated by a store clerk as the clerk moves throughout the store. Again the mobile computing device in such an embodiment may connect to a central server system operated by the merchant.

The merchant computer system includes code scanner location indicator logic fund requesting logic and fund receiving logic . In one embodiment the network interface logic is configured to allow the merchant computer system to communicate with network . The network interface logic sends and receives data from mobile device and bank computer system .

The code scanner may be configured to scan codes such as but not limited to optically scanned or non optically scanned codes. Examples of optically scanned codes include bar codes two dimensional codes e.g. QR code and other similar codes three dimensional codes e.g. QR code with color and others characteristics and four dimensional codes e.g. QR code with color and timestamp information . Examples of non optical codes include near field communication NFC RFID HID or other RF signal to transmit the code. Code scanner may include a light emitting device that scans a code using infrared laser or other types of communication technology. After scanning the QR code the QR code scanner determines the information that was incorporated into the QR code by the mobile device that generated the code.

The location indicator logic provides an indication of the geographic location of the code scanner . In one embodiment the location indicator logic may be programmed with the known address of the merchant location as the location of the QR code scanner.

The fund requesting logic communicates a fund request via the network interface logic to the bank computer system . The fund requesting logic sends the location of the code scanner to the bank computer system . In one embodiment the fund requesting logic also sends the amount of transaction to the financial transaction.

The merchant computer system may further connect to or integrate with other hardware. For example in one embodiment the merchant computer system may connect to a card reader for reading credit cards debit cards stored value cards and so on. As another example the merchant computer system may be configured to prompt the user to provide a random security code. The random security code may be generated by the mobile device by a separate security dongle or in another manner. The security code may be provided to the merchant computer system directly by the mobile device may be keyed into the merchant computer system e.g. by a store clerk or may be received in another manner.

In the mobile wallet application is used in connection with merchant computer system located at a bricks and mortar store location. As previously indicated however the mobile wallet application may also be used in connection with online merchant transactions. For example in another embodiment merchants may be provided with the ability to have a mobile storefront and profile within the mobile wallet application . For example merchants may be provided with the ability to display marketing material provide information and promote products or discounts. Merchants may also be provided with the ability to sell items directly through their mobile storefront for the account holder to purchase from within the mobile application .

As also previously indicated the mobile wallet application may also be used in connection with non merchant transactions. For example in another embodiment the mobile wallet application may be configured to send payments to organizations that are able to accept donations under 26 U.S.C. 501 c 3 e.g. religious organizations educational organizations charitable organizations scientific organizations literary organizations public safety testing organizations organizations that foster national or international amateur sports competition organizations that promote prevention of cruelty to children or animals and so on .

The bank computer system includes network interface logic transaction verification logic code determination logic time verification logic location verification logic account database and profile database . The code generator may receive a request from an account holder to initiate a transaction. A transaction may be initiated by generating a QR code that can be scanned by a merchant or individual. The account holder may access the code generator via a mobile wallet application that is being executed on the mobile device . In various embodiments the QR code may be generated without the account holder providing the merchant s name or amount of transaction. The code generator can be configured to generate a QR code that incorporates at least one of a date time unique transaction identifier and geographic location of the mobile device. In other embodiments the code generators and can be configured to generate optically scanned or non optically scanned codes. Examples of optically scanned codes include bar codes two dimensional codes e.g. QR code and other similar codes three dimensional codes e.g. QR code with color and others characteristics and four dimensional codes e.g. QR code with color and timestamp information . Examples of non optically scanned codes may include near field communication NFC RFID HID or other RF signal to transmit the code.

In another embodiment the code generator may receive a request for a code to provide to a merchant the code being generated to be displayed on a merchant point of sale machine or an ecommerce website. The merchant may display the code for the account holder to scan using a mobile device. Generating the code including embedding in the code a transaction identification number a geographic location of the merchant and a timestamp. The financial institution may send the code to the merchant for the mobile device to scan. The mobile device may scan the code from a merchant display device. The mobile device may amend the code to add a further authentication information to the code and send the code to the financial institution. The financial institution may receive the amended code from the mobile device to transfer funds from an account held by the account holder to the merchant. In one embodiment the requested funds are transferred to the merchant upon verifying the geographic location of the mobile device to be within a predetermined distance of the location of the merchant. In another embodiment the amended code is amended to include authentication information e.g. geographic location account number pass code pin code from the mobile device for the financial institution.

The transaction verification logic may receive a transaction amount from the merchant computer system . The transaction verification logic may generate a message to send to the mobile device for verifying the transaction amount. Upon receiving the verification message the account holder via mobile device may approve the transaction amount to the bank computer system .

The time verification logic includes a comparator configured to compare the time provided by the merchant computer system with the time provided via the QR code generated by the mobile device . If the time provided by the QR code and the merchant computer system does not match within a predetermined time limit e.g. five minutes the bank computer system will deny the transaction.

The location verification logic includes a comparator configured to compare two geographic locations. In one embodiment the GPS location that is encoded with the QR code may be compared to the location provided by the location indicator logic at the merchant computer system . As described in greater detail below if locations provided by the mobile device and the merchant computer system are within a predetermined distance of each other then the payment from the mobile wallet may be approved.

The offer engine may be configured to receive past financial transaction information regarding transactions conducted by the account holder. For example the account holder may opt in to receive offers that are selected as being likely to be considered relevant or helpful by the account holder. As described in greater detail below the transaction information may be analyzed to obtain information regarding stores that the account holder frequently visits the amount of money the account holder typically spends at various types of stores the monthly spending habits of the account holder the timing of income payments received by the account holder seasonal spending patterns of the account holder and so on. In another embodiment the offer engine may download new updated offers based on the account holder s geographic location from the merchant computer system .

In another embodiment the offer engine is configured to present offers in the form of an alert to an account holder based on the account holder s geographic location. For example when an account holder is within a geographic perimeter around a predetermined location e.g. merchant service provider entertainment venue etc. the offer engine may generate a message that is displayable on the display as an alert. The message may display the approximate geographic distance to the predetermined location where the offer may be redeemed and the details regarding the offer. The details regarding the offer may include the item or service that is being offered at a discounted price and or the amount of money the redemption of the offer may save the account holder. As part of displaying the alert an overlay display may also be generated possibly accompanied by a vibration and or sound generated while the account holder s device is in sleep or active use mode.

The account database may store details regarding financial institution accounts. In particular the account database may store each financial transaction that occurred. Each financial transaction may include the amount of the transaction and the merchant. In one embodiment the receipt tracker may request information from account database .

The profile database may store other information regarding the account holder. For example the profile database may store information useful for generating offers and advertising that are selected specifically for the account holder as described in greater detail below.

At block the geographic location of the mobile device is determined. As previously indicated the location determination logic in the mobile device may use a satellite GPS sensor or cellular towers to determine the location coordinates of the mobile device . The location of the mobile device may be transmitted to the bank computer system as part of the transaction request.

Upon receiving the request the bank computer system generates a transaction code that may be used to identify the transaction. The code may comprise a unique identifier for the transaction. The code may also embed the date and time the transaction request was received and the location of the mobile device . The transaction code is transmitted to the mobile device . The transaction code may be displayed on the mobile device and scanned by the code scanner . For example the transaction code may be implemented as a QR code which is readable by the code scanner . The information that is embedded in the transaction code may be extracted from the code at the merchant computer system such as the date time the location of the user and the unique transaction identifier. In another embodiment the code is generated by the merchant computer system and scanned by the mobile device e.g. using a camera built into the mobile device .

Next at block the location of the merchant may be determined. For example the address or other location information may be retrieved from the location indicator logic . At block the location of mobile device and the location of the merchant are compared to ensure a match. Ensuring that the mobile device is at the same location as the merchant computer system helps prevent fraudulent transactions. In one embodiment a match is ensured by determining the distance between the two locations and ensuring that the distance is within a predetermined distance. For example the predetermined distance may be up to 50 100 200 feet or another distance. In one embodiment the location of the merchant computer system is transmitted to the bank computer system and the comparison is performed at the bank computer system . In such an embodiment the bank computer system determines the location of the mobile device and the location of the merchant computer system using location information provided by each and performs the comparison on the basis of such location information. In another embodiment the comparison is performed at the merchant computer system . The comparison may also be performed at both locations. In another embodiment the location of the mobile device and the location of the merchant are compared before a transaction code is generated and if the mobile device is not at the same location as the merchant computer system then the transaction code is not generated. A similar comparison may also be performed in connection with the date and time information e.g. to ensure that the transaction request from the mobile device is not expired or too old to be valid .

In another embodiment in addition to ascertaining whether the mobile device is at the same location as the merchant computer system it is also ascertained whether the mobile device is inside outside a predetermined geographic region. For example it may be ascertained whether the mobile device is outside the United States. For example if it is known that merchant X has no store locations outside the United States and if the mobile device is outside the United States then the transaction may be denied. This may provide a second independent test of the user s location to ensure that the transaction does not appear fraudulent. As another example it may be ascertained whether the mobile device is within one or more specified foreign countries. The location of the mobile device may be determined and checked when the transaction is initiated and at multiple times throughout the transaction to guard against spoofing attacks.

At block the merchant computer system sends transaction information to the bank computer system . For example the amount of the purchase the unique identifier the date and time and the location information may be sent to the extent such information has not already been transmitted. The bank computer system may use this information to transfer funds from the mobile wallet account to an account of the merchant. For example in one embodiment the bank computer system uses the unique identifier to retrieve information previously stored about the transaction e.g. account information for the mobile wallet account when the transaction was first initiated. On this basis information may be passed back to the merchant computer system to permit the transaction to be completed. For example a credit card number or ATM card number associated with the mobile wallet account may be passed back to the merchant computer system or to other backend computing systems of the merchant thereby allowing the merchant to process the transaction in the same way other credit card and ATM card transactions are processed. As another example the merchant computer system may also include logic to connect to a third party payment service e.g. to a service that performs credit card processing for merchants that do not otherwise accept credit cards. It may be noted that the account holder may not need to enter the merchant name or the amount of the transaction into the mobile wallet application as this information may be provided by the merchant.

At block an indication that the transaction has been completed is transmitted. As described above the transaction is completed based on the unique identifier and based on the match of the first and second location. For example when the merchant computer system completes backend processing of the transaction an indication that the transaction has been completed may be transmitted to the mobile device and or the bank computer system . In turn the mobile device may transmit an indication that the transaction has been completed e.g. by generating a confirmation screen that is displayed to the user. The bank computer system may also transmit the indication to other backend processes.

In another embodiment rather than transmitting the actual sixteen digit number of a valid credit or debit card back to the merchant computer system a tokenized sixteen digit number is transmitted. This sixteen digit number may have a unique BIN e.g. the first four digits of the original card number and the same last four digits as the original card number. The middle six digits may be variable and produced for each transaction. When the bank that issued the credit card receives the tokenized sixteen digit number after it passed through the normal four party system of merchant to acquiring bank to issuing bank to consumer the tokenized sixteen digit number may be decoded and replaced by the original number in order to fund the purchase. The tokenized sixteen digit number may be transmitted in accordance with the 18092 NFC ISO standard.

At block the bank computer system receives offers and coupon to offer to a plurality of account holders. For example advertisers may provide such offers to the bank computer system to provide to the account holder. As another example offers from a third party advertisement network may be utilized. At block a current position of the mobile device is determined. At block based on the user profile the available offers and the current position of the account holder the profiles are matched with the offers received. Upon selecting an offer or coupon that matches the profile of the account holder the offer or coupon is sent to the mobile device . The mobile device receives the offer or coupon and stores it in the offer engine at block . The offer engine can alert the account holder regarding the offer while the mobile device of the account holder is at a geographic location to use the offer or coupon. The offer engine may present the offer to the account holder at block via a display of the mobile device .

In another embodiment the offer engine may present the offer to the account holder at block based on the fact the other users with similar characteristics recommended a merchant purchased items at a merchant and so on. The other users with similar characteristics may be determined based on the account holder s connections in an online social network. An offer generated based on other users past transactions may indicate that the offer is generated based on the past transactions of the account holder s connections in the social network. At step matching a user with offers may also occur by the user indicating an approval of a particular offer type of offer or a set of offers. The user s approval for one offer may be used to determine which future offers are presented to the user. For example if the user approves of a 50 off flowers offer then any future offers for 50 off other products which may or may not be related to the approved offer such as chocolates may be selected from among a plurality of offers to present to the user. After an offer has been presented to the user the user may be given a choice to use the offer or send the offer to a friend using a form of communication. The form of communication from the user to the friend may be an online social network e.g. google Facebook Myspace LinkedIn or other online social networks . In another embodiment the offer may be communicated by transmitting the offer through the mobile wallet application of the user to the mobile wallet application of the friend. In one embodiment the account holder may be able to add an offer to the mobile wallet application by using an online social network. The online social network may have a wallet application area where the user may receive offers and send offers to other friends.

Referring to is a process implemented by the payment processing system of in connection with tracking receipts. The process of may be performed by the mobile device or the bank computer system to track receipts. The process of includes blocks and . At block a merchant may send a receipt to a mobile wallet account of a mobile device . For example such a receipt may be sent whenever a transaction is completed using the mobile device . At block the mobile device receives a receipt from an account holder s E mail address. In one embodiment an account holder may register the E mail address with the mobile wallet account. In another embodiment the mobile wallet account may be assigned an e mail address to receive receipts. In yet another embodiment the receipts may be E mailed in an electronic format. At block the receipts are scanned for information and stored e.g. at the bank computer system . For example at block the mobile wallet application may determine which products were purchased and the price of the purchased products. Such information may be used to build a user profile as previously discussed.

At step past receipts that are stored in the mobile wallet account may be retrieved and displayed to a user of a mobile device . In another embodiment an account holder may search the receipts for transactions relating to specific products or merchants. The receipts may also be geo tagged when the receipts are stored and such searches may be performed based on the geo tag information. Tools may be provided to facilitate organizing the receipts for inclusion in expense reports. For example tools may be provided that permit the account holder to add comments to receipts and to transmit the receipts to third parties. At block the mobile wallet scans the received receipt and determines the amount of funds saved from a merchant loyalty program. After scanning the receipt the mobile wallet application aggregates the funds saved on the loyalty program.

Referring to illustrates an augmented reality process that may be implemented using the mobile device . At step the mobile device generates an image or set of images from a camera or image scanning device located in the mobile device . At step the mobile wallet application on the mobile device may generate an overlay display on the image or set of images to provide additional information to the account holder. The additional information may be an image sound set of images with sounds video and graphics or GPS data. Different types of information may be provided. For example at block if the image received by the mobile device is a form then the mobile device may display fields that may be filled out by the account holder providing input. As another example at block if the image received by the mobile device is an image of a street then merchants with offers available via the mobile device may be displayed as an overlay on the image on the mobile device . When the merchants with offers are displayed the user may also be provided a profile of the merchant and an online storefront. The profile of the merchant may include information regarding the merchant. The online storefront displays items that a user can select and purchase from the merchant for in person delivery at a physical store or delivery at a user specified location e.g. addresses such as home business or friend or family home or business . The geographic location and the orientation of the mobile device may be determined. As the orientation of the mobile device changes the overlay may move or change in synchronism with the changing image according to the orientation of the mobile device . As another example at block if the mobile device is located in a store then the overlay displayed can show the direction of a product or products that are on sale or have offers available via the mobile device . The overlay showing the direction of the product or products may be dynamically updated as the account holder walks toward the product thereby helping the account holder find the product within the store.

In the example shown in the account holder has configured the mobile wallet for use with several demand deposit accounts. As previously indicated the mobile wallet may also be configured for use with other forms of payment such as stored value cards. As another example the mobile wallet may be configured for use with a payment mechanism that allows for direct transfers of funds from a demand deposit account of the account holder to an account of the merchant e.g. akin to an online bill pay mechanism but accessible via the mobile wallet application at a point of sale . Such an arrangement may permit funds to be transferred to the merchant while avoiding the need to provide the merchant with account information e.g. a credit card or debit card number of the account holder.

In the example shown in the account holder selects a default account for use with the mobile wallet. As will be appreciated the default account need not be used for all mobile wallet transactions. As another example different types of transactions e.g. by merchant by dollar amount etc. may have different default accounts used for payment. That is the mobile wallet application may provide the account holder with the ability to set preferences for when certain payment types are used in certain situations. For example the default account used for payment may be a store issued credit card when the account holder is making a purchase at the store that issued the credit card. As another example the default account may be a debit card when the purchase amount is below a threshold e.g. below 50 and a credit card when the purchase amount is equal to or greater than threshold e.g. 50 or more . The account holder may be provided with the ability to specify such thresholds and what accounts are used as a function of whether the thresholds are met.

As another example the defaults may be selected automatically by the mobile wallet application . For example the mobile wallet application may be configured to analyze past transaction history to select a default payment type for presentation to the account holder at the time of a purchase. For example an account holder that frequently travels for business may typically use an employer provided credit card for purchases that are made when traveling. For example if the account holder lives in San Francisco then the employer provided credit card may be the most frequently used credit card whenever the account holder makes purchases that are more at a merchant location that is 100 miles or more away from San Francisco. At the time of a transaction if the transaction is occurring at a merchant location that is 100 miles or more away from San Francisco then the account holder may be provided with the employer provided credit card as a default account on the assumption that the account holder is traveling on business when the purchase is being made and the purchase is work related. As another example the account holder may have a tendency to use specific credit cards at specific stores. Hence at the time of a transaction the past transaction history may be analyzed to determine what credit card the account holder typically uses at the store where the transaction is occurring.

The account holder is provided an option to select between each of the debit cards or credit cards that are linked to the bank account portion of the mobile wallet application . In another embodiment the mobile wallet application may allow an account holder to enter a debit or credit card number to use as the default account. After receiving the account holder s choice of debit card the account holder may select the continue button . After selecting the debit card account the account holder may be prompted to provide a pin for the default account. In one embodiment the pin may be a 4 digit number that is used for the mobile wallet account. In one embodiment the pin for the mobile wallet account does not change the pin related to the underlying bank account.

Referring to shows a screen display that allows a user to verify the wallet settings in menu . Menu item displays the default wallet account that the user selected. Also displayed is an option that if selected may allow the account holder to choose a different debit card or credit card. Also shown in is a change pin option which allows the account holder to select the option to enter a new PIN number. To complete the mobile wallet account registration the account holder may select the register button .

Referring to shows a screen that informs an account holder that their wallet account has been activated and the account holder may link their wallet account to a loyalty card of a merchant. In the example shown on the account holder is offered the option to provide loyalty card information to the mobile wallet account by selecting button . Alternatively or additionally the account holder may continue to a mobile wallet dashboard by selecting button .

Referring to illustrates a screen display of a QR code that may be generated for a merchant to scan. The QR code may be displayed by the mobile device based on information provided by the bank computer system . When the QR code is generated and displayed on the mobile device the account that will be used to pay the merchant is identified under the QR code at field . If the account holder wishes to use a different account the account holder is offered the option of changing the account using the change account option button . Once the merchant or individual has scanned the QR code the account holder may select the close button to close the mobile wallet application .

After scanning the QR code the merchant may transmit the QR code to the bank computer system as previously described. The bank computer system may then return account information e.g. a credit card number debit card number etc. to backend servers associated with the merchant computer system to permit the transaction to be processed in the same manner as a conventional credit card or debit card transaction. As previously mentioned stored value cards may also be used.

The embodiments of the present invention have been described with reference to drawings. The drawings illustrate certain details of specific embodiments that implement the systems and methods and programs of the present invention. However describing the invention with drawings should not be construed as imposing on the invention any limitations that may be present in the drawings. The present invention contemplates methods systems and program products on any machine readable media for accomplishing its operations. The embodiments of the present invention may be implemented using an existing computer processor or by a special purpose computer processor incorporated for this or another purpose or by a hardwired system.

As noted above embodiments within the scope of the present invention include program products comprising non transitory machine readable media for carrying or having machine executable instructions or data structures stored thereon. Such machine readable media can be any available media that can be accessed by a general purpose or special purpose computer or other machine with a processor. By way of example such machine readable media can comprise RAM ROM EPROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium which can be used to carry or store desired program code in the form of machine executable instructions or data structures and which can be accessed by a general purpose or special purpose computer or other machine with a processor. Combinations of the above are also included within the scope of machine readable media. Machine executable instructions comprise for example instructions and data which cause a general purpose computer special purpose computer or special purpose processing machines to perform a certain function or group of functions.

Embodiments of the present invention have been described in the general context of method steps which may be implemented in one embodiment by a program product including machine executable instructions such as program code for example in the form of program modules executed by machines in networked environments. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Machine executable instructions associated data structures and program modules represent examples of program code for executing steps of the methods disclosed herein. The particular sequence of such executable instructions or associated data structures represent examples of corresponding acts for implementing the functions described in such steps.

As previously indicated embodiments of the present invention may be practiced in a networked environment using logical connections to one or more remote computers having processors. Those skilled in the art will appreciate that such network computing environments may encompass many types of computers including personal computers hand held devices multi processor systems microprocessor based or programmable consumer electronics network PCs minicomputers mainframe computers and so on. Embodiments of the invention may also be practiced in distributed computing environments where tasks are performed by local and remote processing devices that are linked either by hardwired links wireless links or by a combination of hardwired or wireless links through a communications network. In a distributed computing environment program modules may be located in both local and remote memory storage devices.

An exemplary system for implementing the overall system or portions of the invention might include a general purpose computing computers in the form of computers including a processing unit a system memory and a system bus that couples various system components including the system memory to the processing unit. The system memory may include read only memory ROM and random access memory RAM . The computer may also include a magnetic hard disk drive for reading from and writing to a magnetic hard disk a magnetic disk drive for reading from or writing to a removable magnetic disk and an optical disk drive for reading from or writing to a removable optical disk such as a CD ROM or other optical media. The drives and their associated machine readable media provide nonvolatile storage of machine executable instructions data structures program modules and other data for the computer. It should also be noted that the word terminal as used herein is intended to encompass computer input and output devices. Input devices as described herein include a keyboard a keypad a mouse joystick or other input devices performing a similar function. The output devices as described herein include a computer monitor printer facsimile machine or other output devices performing a similar function.

It should be noted that although the diagrams herein may show a specific order and composition of method steps it is understood that the order of these steps may differ from what is depicted. For example two or more steps may be performed concurrently or with partial concurrence. Also some method steps that are performed as discrete steps may be combined steps being performed as a combined step may be separated into discrete steps the sequence of certain processes may be reversed or otherwise varied and the nature or number of discrete processes may be altered or varied. The order or sequence of any element or apparatus may be varied or substituted according to alternative embodiments. Accordingly all such modifications are intended to be included within the scope of the present invention as defined in the appended claims. Such variations will depend on the software and hardware systems chosen and on designer choice. It is understood that all such variations are within the scope of the invention. Likewise software and web implementations of the present invention could be accomplished with standard programming techniques with rule based logic and other logic to accomplish the various database searching steps correlation steps comparison steps and decision steps.

The foregoing description of embodiments of the invention has been presented for purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed and modifications and variations are possible in light of the above teachings or may be acquired from practice of the invention. The embodiments were chosen and described in order to explain the principals of the invention and its practical application to enable one skilled in the art to utilize the invention in various embodiments and with various modifications as are suited to the particular use contemplated. Other substitutions modifications changes and omissions may be made in the design operating conditions and arrangement of the embodiments without departing from the scope of the present invention as expressed in the appended claims.

