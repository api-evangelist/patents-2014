---

title: Quality of Service (QoS) acquisition and provisioning within a wireless communications system
abstract: In an embodiment, an access network (AN) receives a message configured to prompt a conditional allocation of Quality of Service (QoS) resources to an access terminal (AT). The message can be received from the AT or from an application server (AS) that arbitrates a communication session for the AT. In another embodiment, if the AT determines that a QoS resource request has not yet been granted, the AT waits until the traffic channel (TCH) has been obtained for a communication session before resending the QoS resource request. In another embodiment, if the AT determines to initiate or join a second communication session before a confirmation that QoS resources for a first communication session are relinquished, the AT waits until the confirmation is received before a request for QoS resources for the second communication session is sent.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09107188&OS=09107188&RS=09107188
owner: QUALCOMM Incorporated
number: 09107188
owner_city: San Diego
owner_country: US
publication_date: 20140707
---
The present Application for Patent is a Divisional of Non Provisional Application No. 13 025 874 entitled QUALITY OF SERVICE QoS ACQUISITION AND PROVISIONING WITHIN A WIRELESS COMMUNICATIONS SYSTEM filed on Feb. 11 2011 which in turn claims priority to Provisional Application No. 61 308 768 entitled QUALITY OF SERVICE QoS ACQUISITION AND PROVISIONING WITHIN A WIRELESS COMMUNICATIONS SYSTEM filed on Feb. 26 2010 each of which is assigned to the assignee hereof and each of which is hereby expressly incorporated by reference herein in its entirety.

The present Application for Patent is also related to U.S. Pat. No. 8 325 658 having application Ser. No. 12 509 980 entitled QUALITY OF SERVICE QoS RESOURCES WITHIN A WIRELESS COMMUNICATIONS SYSTEM filed on Jul. 27 2009 and issued on Dec. 4 2012 assigned to the assignee hereof and expressly incorporated by reference herein in its entirety.

Embodiments relate to Quality of Service QoS resource allocation for communication sessions within a wireless communications system.

Wireless communication systems have developed through various generations including a first generation analog wireless phone service 1G a second generation 2G digital wireless phone service including interim 2.5G and 2.75G networks and a third generation 3G high speed data Internet capable wireless service. There are presently many different types of wireless communication systems in use including Cellular and Personal Communications Service PCS systems. Examples of known cellular systems include the cellular Analog Advanced Mobile Phone System AMPS and digital cellular systems based on Code Division Multiple Access CDMA Frequency Division Multiple Access FDMA Time Division Multiple Access TDMA the Global System for Mobile access GSM variation of TDMA and newer hybrid digital communication systems using both TDMA and CDMA technologies.

The method for providing CDMA mobile communications was standardized in the United States by the Telecommunications Industry Association Electronic Industries Association in TIA EIA IS 95 A entitled Mobile Station Base Station Compatibility Standard for Dual Mode Wideband Spread Spectrum Cellular System referred to herein as IS 95. Combined AMPS CDMA systems are described in TIA EIA Standard IS 98. Other communications systems are described in the IMT 2000 UM or International Mobile Telecommunications System 2000 Universal Mobile Telecommunications System standards covering what are referred to as wideband CDMA WCDMA CDMA2000 such as CDMA2000 1xEV DO standards for example or TD SCDMA.

In wireless communication systems mobile stations handsets or access terminals AT receive signals from fixed position base stations also referred to as cell sites or cells that support communication links or service within particular geographic regions adjacent to or surrounding the base stations. Base stations provide entry points to an access network AN radio access network RAN which is generally a packet data network using standard Internet Engineering Task Force IETF based protocols that support methods for differentiating traffic based on Quality of Service QoS requirements. Therefore the base stations generally interact with ATs through an over the air interface and with the AN through Internet Protocol IP network data packets.

In wireless telecommunication systems Push to talk PTT capabilities are becoming popular with service sectors and consumers. PTT can support a dispatch voice service that operates over standard commercial wireless infrastructures such as CDMA FDMA TDMA GSM etc. In a dispatch model communication between endpoints ATs occurs within virtual groups wherein the voice of one talker is transmitted to one or more listeners. A single instance of this type of communication is commonly referred to as a dispatch call or simply a PTT call. A PTT call is an instantiation of a group which defines the characteristics of a call. A group in essence is defined by a member list and associated information such as group name or group identification.

Conventionally data packets within a wireless communications network have been configured to be sent to a single destination or access terminal. A transmission of data to a single destination is referred to as unicast . As mobile communications have increased the ability to transmit given data concurrently to multiple access terminals has become more important. Accordingly protocols have been adopted to support concurrent data transmissions of the same packet or message to multiple destinations or target access terminals. A broadcast refers to a transmission of data packets to all destinations or access terminals e.g. within a given cell served by a given service provider etc. while a multicast refers to a transmission of data packets to a given group of destinations or access terminals. In an example the given group of destinations or multicast group may include more than one and less than all of possible destinations or access terminals e.g. within a given group served by a given service provider etc. . However it is at least possible in certain situations that the multicast group comprises only one access terminal similar to a unicast or alternatively that the multicast group comprises all access terminals e.g. within a cell or sector similar to a broadcast.

Broadcasts and or multicasts may be performed within wireless communication systems in a number of ways such as performing a plurality of sequential unicast operations to accommodate the multicast group allocating a unique broadcast multicast channel BCH for handling multiple data transmissions at the same time and the like. A conventional system using a broadcast channel for push to talk communications is described in United States Patent Application Publication No. 2007 0049314 dated Mar. 1 2007 and entitled Push To Talk Group Call System Using CDMA 1x EVDO Cellular Network the contents of which are incorporated herein by reference in its entirety. As described in Publication No. 2007 0049314 a broadcast channel can be used for push to talk calls using conventional signaling techniques. Although the use of a broadcast channel may improve bandwidth requirements over conventional unicast techniques the conventional signaling of the broadcast channel can still result in additional overhead and or delay and may degrade system performance.

The 3rd Generation Partnership Project 2 3GPP2 defines a broadcast multicast service BCMCS specification for supporting multicast communications in CDMA2000 networks. Accordingly a version of 3GPP2 s BCMCS specification entitled CDMA2000 High Rate Broadcast Multicast Packet Data Air Interface Specification dated Feb. 14 2006 Version 1.0 C.S0054 A is hereby incorporated by reference in its entirety.

In an embodiment an access network AN receives a message configured to prompt a conditional allocation of Quality of Service QoS resources to an access terminal AT . The message can be received from the AT or from an application server AS that arbitrates a communication session for the AT. In another embodiment if the AT determines that a QoS resource request has not yet been granted the AT waits until the traffic channel TCH has been obtained for a communication session before resending the QoS resource request. In another embodiment if the AT determines to initiate or join a second communication session before a confirmation that QoS resources for a first communication session are relinquished the AT waits until the confirmation is received before a request for QoS resources for the second communication session is sent.

Aspects of the invention are disclosed in the following description and related drawings directed to specific embodiments of the invention. Alternate embodiments may be devised without departing from the scope of the invention. Additionally well known elements of the invention will not be described in detail or will be omitted so as not to obscure the relevant details of the invention.

The word exemplary is used herein to mean serving as an example instance or illustration. Any embodiment described herein as exemplary is not necessarily to be construed as preferred or advantageous over other embodiments. Likewise the term embodiments of the invention does not require that all embodiments of the invention include the discussed feature advantage or mode of operation.

Further many embodiments are described in terms of sequences of actions to be performed by for example elements of a computing device. It will be recognized that various actions described herein can be performed by specific circuits e.g. application specific integrated circuits ASICs by program instructions being executed by one or more processors or by a combination of both. Additionally these sequence of actions described herein can be considered to be embodied entirely within any form of computer readable storage medium having stored therein a corresponding set of computer instructions that upon execution would cause an associated processor to perform the functionality described herein. Thus the various aspects of the invention may be embodied in a number of different forms all of which have been contemplated to be within the scope of the claimed subject matter. In addition for each of the embodiments described herein the corresponding form of any such embodiments may be described herein as for example logic configured to perform the described action.

A High Data Rate HDR subscriber station e.g. a 1xEV DO enabled wireless device referred to herein as an access terminal AT may be mobile or stationary and may communicate with one or more HDR base stations referred to herein as modem pool transceivers MPTs or base stations BS . An access terminal transmits and receives data packets through one or more modem pool transceivers to an HDR base station controller referred to as a modem pool controller MPC base station controller BSC and or mobile switching center MSC . Modem pool transceivers and modem pool controllers are parts of a network called an access network. An access network AN also referred to herein as a radio access network RAN transports data packets between multiple access terminals.

The access network may be further connected to additional networks outside the access network such as a corporate intranet or the Internet and may transport data packets between each access terminal and such outside networks. An access terminal that has established an active traffic channel connection with one or more modem pool transceivers is called an active access terminal and is said to be in a traffic state. An access terminal that is in the process of establishing an active traffic channel connection with one or more modem pool transceivers is said to be in a connection setup state. An access terminal may be any data device that communicates through a wireless channel or through a wired channel for example using fiber optic or coaxial cables. An access terminal may further be any of a number of types of devices including but not limited to PC card compact flash external or internal modem or wireless or wireline phone. The communication link through which the access terminal sends signals to the modem pool transceiver is called a reverse link or traffic channel. The communication link through which a modem pool transceiver sends signals to an access terminal is called a forward link or traffic channel. As used herein the term traffic channel can refer to either a forward or reverse traffic channel.

Referring back to the components of the wireless network and interrelation of the elements of the exemplary embodiments of the invention are not limited to the configuration illustrated. System is merely exemplary and can include any system that allows remote access terminals such as wireless client computing devices to communicate over the air between and among each other and or between and among components connected via the air interface and RAN including without limitation carrier network the Internet and or other remote servers.

The RAN controls messages typically sent as data packets sent to a base station controller packet control function BSC PCF . The BSC PCF is responsible for signaling establishing and tearing down bearer channels i.e. data channels between a packet data service node PDSN e.g. shown in and the access terminals . If link layer encryption is enabled the BSC PCF also encrypts the content before forwarding it over the air interface . The function of the BSC PCF is well known in the art and will not be discussed further for the sake of brevity. The carrier network may communicate with the BSC PCF by a network the Internet and or a public switched telephone network PSTN . Alternatively the BSC PCF may connect directly to the Internet or external network. Typically the network or Internet connection between the carrier network and the BSC PCF transfers data and the PSTN transfers voice information. The BSC PCF can be connected to multiple base stations BS or modem pool transceivers MPT . In a similar manner to the carrier network the BSC PCF is typically connected to the MPT BS by a network the Internet and or PSTN for data transfer and or voice information. The MPT BS can broadcast data messages wirelessly to the access terminals such as cellular telephone . The MPT BS BSC PCF and other components may form the RAN as is known in the art. However alternate configurations may also be used and the invention is not limited to the configuration illustrated. For example in another embodiment the functionality of the BSC PCF and one or more of the MPT BS may be collapsed into a single hybrid module having the functionality of both the BSC PCF and the MPT BS .

Referring to the broadcast serving node BSN may be configured to support multicast and broadcast services. The BSN will be described in greater detail below. The BSN communicates with the RAN e.g. the BSC PCF via a broadcast BC A10 connection and with the application server via the Internet . The BCA10 connection is used to transfer multicast and or broadcast messaging. Accordingly the application server sends unicast messaging to the PDSN via the Internet and sends multicast messaging to the BSN via the Internet .

Referring to the access terminal here a wireless device such as a cellular telephone has a platform that can receive and execute software applications data and or commands transmitted from the RAN that may ultimately come from the carrier network the Internet and or other remote servers and networks. The platform can include a transceiver operably coupled to an application specific integrated circuit ASIC or other processor microprocessor logic circuit or other data processing device. The ASIC or other processor executes the application programming interface API layer that interfaces with any resident programs in the memory of the wireless device. The memory can be comprised of read only or random access memory RAM and ROM EEPROM flash cards or any memory common to computer platforms. The platform also can include a local database that can hold applications not actively used in memory . The local database is typically a flash memory cell but can be any secondary storage device as known in the art such as magnetic media EEPROM optical media tape soft or hard disk or the like. The internal platform components can also be operably coupled to external devices such as antenna display push to talk button and keypad among other components as is known in the art.

Accordingly an embodiment of the invention can include an access terminal including the ability to perform the functions described herein. For example the access terminal can include logic configured to bundle a connection request and a reservation for QoS resources into an access message and logic configured to transmit the access message to an access network. As will be appreciated by those skilled in the art the various logic elements can be embodied in discrete elements software modules executed on a processor or any combination of software and hardware to achieve the functionality disclosed herein. For example ASIC memory API and local database may all be used cooperatively to load store and execute the various functions disclosed herein and thus the logic to perform these functions may be distributed over various elements. Alternatively the functionality could be incorporated into one discrete component. Therefore the features of the access terminal in are to be considered merely illustrative and the invention is not limited to the illustrated features or arrangement.

The wireless communication between the access terminal and the RAN can be based on different technologies such as code division multiple access CDMA time division multiple access TDMA frequency division multiple access FDMA the Global System for Mobile Communications GSM or other protocols that may be used in a wireless communications network or a data communications network. The data communication is typically between the client device MPT BS and BSC PCF . The BSC PCF can be connected to multiple data networks such as the carrier network PSTN the Internet a virtual private network and the like thus allowing the access terminal access to a broader communication network. As discussed in the foregoing and known in the art voice transmission and or data can be transmitted to the access terminals from the access network using a variety of networks and configurations. Accordingly the illustrations provided herein are not intended to limit the embodiments of the invention and are merely to aid in the description of aspects of embodiments of the invention.

Once the bundled message is received at the access network the access network can process the request . In the access network can allocate a traffic channel TCH and the requested QoS resources for the requested reservations assuming the traffic channel and QoS resources are available. Specifically the access network can acknowledge the access message ACAck transmit a traffic channel assignment TCA and transmit a reservation accept message ReservationAccept . These messages can be transmitted on a control channel CC to AT . A data rate control DRC message can be sent from the AT to establish a data communication rate with the AN . After successfully receiving and decoding the DRC and pilot the AN can transmit a Reverse Traffic Channel Acknowledge RTCAck message on the forward traffic channel F TCH . Upon receipt of the RTCAck message the AT can send a Traffic Channel Complete TCC message on the reverse traffic channel R TCH . Dedicated channels are then established in both the forward and reverse directions and the AT and the AN can both communicate data bidirectionally. The various messages communicated between access terminal and access network are known in the art and are documented in 3GPP2 C.S0024 A Version 3.0 cdma2000 High Rate Packet Data Air Interface dated Sep. 12 2006 which is incorporated herein by reference in its entirety. Accordingly a detailed explanation of the setup procedures and messages will not be provided herein.

If the DOS message or other application layer message is optionally bundled in the connection request access message that information does not impact the traffic channel setup discussed in the foregoing. Generally the application specific data can be detected and merely passed on to the appropriate destination by AN . However the application specific information may further reduce latency in delay sensitive applications by providing data needed e.g. a PTT call request for further processing by remote applications e.g. a PTT server to establish the data communication e.g. a PTT call once the traffic channels are setup between AT and AN . Accordingly the data included in the application layer message does not have to wait for the establishment of the traffic channels between the AT and AN before being forwarded to the network.

As will be appreciated by those skilled in the art the QoS resources needed may vary for different applications or within applications. The following examples describe QoS design under different QoS resource scenarios 

If some of the In Call Signaling and Media reservations are already allocated to the originator AT at the time of arrival of a call setup packet the AN RAN may only activate the In Call Signaling and Media reservations that are not currently allocated.

As noted above embodiments of the invention can reduce process delays in delay sensitive applications. A group communication Push to Talk PTT system is an example of a delay sensitive system that can take advantage of reduced connection times offered by the communication signal bundling disclosed herein. For example embodiments of the invention provide for an AT to send a request to turn on the reservations for needed QoS resources e.g. In Call Signaling and Media reservations for a PTT call by transmitting a ReservationOnRequest message in the same access capsule as its connection request e.g. ConnectionRequest RouteUpdate message. Optionally a DataOverSignaling DOS message can be bundled in the same access capsule. If the In Call Signaling forward and reverse QoS reservations are allocated at the time of the PTT call the AT can request the Media QoS reservations to be turned on. These requests can be made as part of the ReservationOnRequest message.

The group communication system may also be known as a push to talk PTT system a net broadcast service NBS a dispatch system or a point to multi point communication system. Typically a group of access terminal users can communicate with one another using an access terminal assigned to each group member. The term group member denotes a group of access terminal users authorized to communicate with each other. Although group communication systems PTT systems may be considered to be among several members the system is not limited to this configuration and can apply to communication between individual devices on a one to one basis.

The group may operate over an existing communication system without requiring substantial changes to the existing infrastructure. Thus a controller and users may operate in any system capable of transmitting and receiving packet information using Internet protocol IP such as a Code Division Multiple Access CDMA system a Time Division Multiple Access TDMA system a Global System for Mobile Communications GSM system satellite communication systems combinations of land line and wireless systems and the like.

Group members may communicate with each other using an assigned access terminal such as access terminals ATs and . The ATs may be wireline or wireless devices such as terrestrial wireless telephones wireline telephones having push to talk capability satellite telephones equipped with push to talk functionality laptop or desktop computers paging devices or any combination thereof. Furthermore each AT may be able to send and receive information in either a secure mode or a non secure clear mode. It should be understood that reference to an AT is not intended to be limited to the illustrated or enumerated examples and may encompass other devices that have the capability to transmit and receive packet information in accordance with the Internet Protocol IP .

When a group member wishes to transmit information to other members of the group the member may request the transmission privilege by pressing a push to talk button or key e.g. in on an AT which generates a request formatted for transmission over a distributed network. For example the request may be transmitted over the air to one from AT or more MPTs or base stations . A BSC PCF which may include a well known inter working function IWF packet data serving node PDSN or packet control function PCF for processing data packets may exist between MPT BS and the distributed network. However the requests may also be transmitted through the public switched telephone network PSTN to a carrier network . The carrier network may receive the request and provide it to the RAN .

Referring to one or more group communication servers can monitor traffic of the group communication system through its connection to distributed network. Since the group communication server can be connected to the distributed network through a variety of wired and wireless interfaces geographic proximity to group participants is not necessary. Typically a group communication server controls communications between the wireless devices of set group members ATs in a PTT system. The wireless network illustrated is merely exemplary and can include any system whereby remote modules communicate over the air between and among each other and or between and among components of a wireless network including without limitation wireless network carriers and or servers. Further a series of group communication servers can be connected to a group communication server LAN .

The group communication server s can be connected to a wireless service provider s packet data service node PDSN such as PDSN shown here resident on a carrier network . Each PDSN can interface with a base station controller of a base station through a packet control function PCF . The PCF may be located in the base station . The carrier network controls messages generally in the form of data packets sent to a MSC . The MSC can be connected to one or more base stations . In a similar manner to the carrier network the MSC is typically connected to the BTS by both the network and or Internet for data transfer and PSTN for voice information. The BTS ultimately broadcasts and receives messages wirelessly to and from the wireless ATs such as cellular telephones as is well known in the art. Accordingly the general details of a group communication system will not be further discussed. Further although the description herein discusses specific aspects of specific systems e.g. PTT QChat 1xEV DO to provide additional details and examples embodiments of the invention are not limited to these specific illustrations.

As discussed above the AT requests a traffic channel in order to establish a communication e.g. a PTT call . The PTT call can be originated by the originator AT if both traffic channel and QoS resources for In Call Signaling and Media are available additional details regarding the QoS resources are provided below and in . In the conventional systems the AT would have to establish the traffic channel connection with the AN and then request the QoS resources. However to reduce this delay in accordance with embodiments of the invention the signaling messages needed to establish the PTT call are bundled in the initial access channel message along with the original connection request.

1xEV DO Revision A is designed to provide efficient access to packet data networks and is widely based on the Internet for its network architecture. Data traffic traversing Internet Protocol IP network elements at the PDSN PCF and RAN can be based on standard Internet Engineering Task Force IETF based protocols that support methods for differentiating traffic based on QoS requirements. QoS between the AT and the 1xEV DO Revision A network is configured as described in the 3GPP2 X.S0011 004 C Version 2.0 cdma2000 Wireless IP Network Standard Quality of Service and Header Reduction specification the contents of which are incorporated herein by reference. Data traffic transmitted over the air interface between the AT and the RAN can be configured for appropriate QoS treatment via 1xEV DO Revision A protocols as described in the 3GPP2 C.S0024 A Version 3.0 document referenced above. 1xEV DO Revision A provides standard mechanisms to offer intra AT and inter AT QoS. Intra AT QoS provides differentiation of data streams belonging to the same user while inter AT QoS provides differentiation of packets belonging to different users.

To achieve QoS traffic differentiation should be available end to end. All network components including the AT RAN BTS BSC PDSN and Internet routers should implement support QoS. End to end QoS in 1xEV DO Revision A networks can be achieved through the following mechanisms 

QoS in a 1xEV DO Revision A network is also based on the proper mapping or binding of the following elements for the AT s PPP session such as follows 

Although the foregoing description provides many details specific to a PTT QChat system and the 1x EV DO network to provide a detailed illustration of various aspects of embodiments of the invention those skilled in the art will appreciate that embodiments of the invention are not limited to any specific application and or network. Embodiments of the invention can include any application that has QoS requirements. Further any network that can support the allocation of QoS resources bundled with the initial connection setup request can also be included in embodiments of the invention.

Referring to a flowchart illustrating the bundling process according to embodiments of the invention is provided. For example the method can include an application identifying a communication to be requested requires QoS resources e.g. a PTT call in block . Additional messages can be considered for bundling e.g. DOS message if the additional message is used and there is room in the access probe. A request for a bundled access message e.g. access probe can then be communicated from the application layer in block to lower layers for bundling of the requested messages in the access probe. As used herein the application layer can include the requesting application e.g. a PTT client and a bundling API that facilitates interface between the application layer and the lower layers e.g. RLC MAC and Physical Layers . However it will be appreciated that embodiments of the invention are not limited to this configuration. For example the application itself could contain the functionality of the bundling API.

In block after the receipt of the bundled request the QoS request can be added to the access probe. Likewise in block the DOS message can be added to the access probe if requested and there is sufficient space in the access probe. Additionally in block the connection request and route update messages are added to the access probe. A check can be performed to determine whether the bundled message is complete in block . If not the process can loop back to check for the missing messages as they may be delayed. A delay element e.g. timer can also be set at the application layer in block to allow for the bundling of the access probe. The process can loop via block until the application layer receives an indication from the lower layers that the message bundling is complete or until the event is timed out and the access probe is sent . After receiving the confirmation the access probe delay can be released and the access probe can be transmitted .

As discussed in the foregoing the trigger e.g. can be any event that causes an application to initiate a connection request with QoS requirements which are known to the application. The trigger may be activated manually via hard key or soft key activation may be activated in response to a received signal e.g. voice command signal from the network etc. or may be activated in response to condition detected by the application.

For example as illustrated in an access terminal AT may receive a trigger such as an announce message or call setup message in a PTT system. Specifically a call setup message can be transmitted via PDSN and AN . Access network can forward the call setup message over a control channel to the target AT . Upon receipt and decoding of the call setup packet AT can determine that the requested communication e.g. a PTT call uses QoS resources. Accordingly the call setup message received from the network can serve as a trigger to initiate the bundling of the subsequent response. While illustrates the call setup packet being sent via a DoS packet to AT it will be appreciated that a standard page followed by traffic channel TCH set up could be implemented in alternative embodiments of the invention. In this alternative embodiment it will be appreciated that the call set up packet is not sent to AT until the TCH is brought up.

For example AT can respond with a bundled request including a connection request e.g. ConnectionRequest RouteUpdate a QoS reservation e.g. ReservationOnRequest and optionally an application layer message e.g. DOS on an access channel. Including the DOS allows for application data to be sent to a destination prior to establishing a traffic channel. Requesting the QoS resources allows for the allocation of the need QoS resources prior to establishing the traffic channel. Accordingly the responsiveness of the communication system may be improved. Upon receipt of the connection request a traffic channel and requested resources can be allocated at access network AN . The traffic channel assignment TCA QoS resources acceptance and acknowledgement of the access channel message can be transmitted to AT . The traffic channel setup can continue in and until both the AN and AT are prepared to send and receive data as discussed in the foregoing and known in the art. Accordingly a detailed explanation will not be provided.

In view of the foregoing disclosure those skilled in the art will recognize that embodiments of the invention include methods of performing the sequence of actions operations and or functions previously discussed. For example a method for transmitting communication signals in a wireless network can include bundling a connection request and a reservation for QoS resources into an access message at an access terminal and transmitting the access message to an access network. The bundled message can further include an application layer message e.g. DOS message that is bundled with the connection request and the reservation into the access message.

Further as will be appreciated by one of ordinary skill in the art a given access terminal is typically required to identify itself to an access network before the access network will provision resources e.g. a traffic channel TCH QoS etc. to the given access terminal. For example in EV DO 1x the given access terminal may identify itself to the access terminal with a Unicast Access Terminal Identifier UATI . Accordingly the given access terminal will convey its UATI via reverse link messaging so that the access network is aware of the sender s identity for example by modulating the reverse link messaging on the reverse link using its UATI. Likewise UATIs can be used in downlink messaging to identify an intended recipient or access terminal.

UATIs function to uniquely identify an AT only within a particular serving area e.g. a particular serving sector or cell . Thus if the AT moves outside of the serving area e.g. the AT hands off to another cell another subnet etc. a new UATI is assigned to the AT. If the AT attempts to request resources e.g. QoS resources a TCH etc. from the access network in a new serving area with a UATI allocated to the AT from the old serving area the access network will not grant the requested resources because the AT does not yet have a proper UATI for the new serving sector.

A condition may arise where an AT enters a new serving area and does not yet have an UATI for identifying itself in the new serving area e.g. in a boundary region between cells or sectors and the AT thereby incorrectly identifies itself with the old UATI to the new serving area in a reverse link resource request. This situation may result in call failure as will be described below with respect to .

Thus upon entry into the second serving area e.g. after a handoff AT sends a UATI request on a reverse link access channel to the RAN to request a second UATI within the second serving area . After the RAN receives the UATI request the RAN acknowledges receipt of the UATI request from AT by sending an ACAck message to AT on the downlink control channel CC . However while the RAN acknowledges the UATI request in the RAN has not yet assigned the second UATI to AT .

Next after AT sends the UATI request but before the second UATI is actually assigned to AT for use within the second serving area a user of AT requests an initiation of a group communication session that requires both TCH and QoS resources . For example the triggering operation for the group communication session in may correspond to the user of AT pressing a PTT button on AT to initiation a PTT communication session.

After the group communication session request is received at AT AT starts a timer Connection Reliability timer corresponding to a length of time that AT is willing to wait to obtain TCH resources before re sending a request for TCH . For example the Connection Reliability timer can be started by a lower layer communication protocol application such as Advanced Mobile Subscriber Software AMSS which is discussed below in more detail. Also the communication protocol application e.g. the AMSS at AT starts a QoS timer that is associated with an expiration period corresponding to the time that the application is willing to wait to receive an allocation of QoS resources . Also in an application e.g. QChat that is responsible for managing the group communication session group communication session management application generates a call message for transmission by the communication protocol application. Upon submitting the call message for transmission by the communication protocol application the group communication session management application starts a call reliability timer separate from the Connection Reliability and QoS timers . Each time the call reliability timer expires a call message is created by the group communication session management application e.g. QChat and submitted for transmission by the communication protocol application. In an example the group communication session management application e.g. QChat can instruct the communication protocol application e.g. the AMSS to schedule the first call message for quick transmission over a reverse link signaling channel e.g. as a DoS message over an access channel and to schedule the remaining call messages for transmission on the R TCH after the TCH is obtained.

For example the communication protocol application that queues the plurality of call messages may correspond to AMSS developed by QUALCOMM . In an example the AMSS drives the underlying MSM chipset and implements the software protocol stack for the entire suite of CDMA communication technologies that include CDMA2000 1X and CDMA2000 1xEV DO. There is a mobile operating system layer which in this embodiment is BREW also developed by QUALCOMM. The mobile operating system layer application programming interfaces for chip or device specific operations while providing an isolation layer that eliminates direct contact to the AMSS and any OEM software on the computer platform. The mobile operating system layer enables application development that uses mobile device features without having to rewrite the application each time a new release of the device specific software is released. The group communication session management application may correspond to a QChat client application running on AT which may work with the AMSS to establish or setup the session.

In a bundled message e.g. DOS ConnectionRequest RouteUpdate ReservationOnRequest is configured and transmitted from AT to the RAN on the reverse link access channel. For example the bundled message can include the first of the plurality of call messages which is not added to the TCH dependent transmission queue by the communication protocol application generated by the group communication session management application in . In a further example the bundled message of may correspond to the bundled message described above with respect to of or of . Further while not disclosed explicitly in the above embodiments of the invention a header portion of the bundled message transmitted in is further configured to include the first UATI so as to identify AT to the RAN . The RAN acknowledges receipt of the bundled message and sends an access channel acknowledgment ACAck on the downlink control channel to AT . However because the first UATI is not known in the second serving area or at least is not known to be associated with AT the bundled message and its associated resource requests are not granted by the RAN . Accordingly the DoS message of is dropped by the RAN in .

In the RAN transmits a UATI assignment to AT on the downlink control channel that allocates the second UATI to AT for use within the second serving area. As will be appreciated the UATI assignment of is in response to the UATI request received from AT in . After receiving the UATI assignment AT updates one or more registers storing its current UATI with the second UATI not shown and transmits a UATI complete message to the RAN on the reverse link access channel.

Next because the initial bundled message requesting call resources transmitted in is ignored or dropped in by the RAN the RAN does not actually allocate the requested resources. Accordingly the QoS resources requested by the ReservationOnRequest message are not allocated to AT and at some point the Call Reliability timer that is started by the group communication session management application e.g. QChat in expires e.g. after every 500 ms until a call ACK message is received a STATUS message is received or the total number of call message re transmissions exceeds a threshold . Because the Call Reliability timer expires in the Call Reliability timer is reset in and another call message is submitted to the communication protocol application e.g. the AMSS for transmission. Since TCH is not up yet the communication protocol application e.g. the AMSS places the call message in its transmission queue for later transmission when the TCH becomes available. Eventually the QoS timer also expires and the communication protocol application e.g. the AMSS suspends its QoS request operation and notifies the group communication session management application e.g. QChat that QoS is in the suspended state. Since QoS has failed the group communication session management application e.g. QChat suspends its call set up operations and fails the call e.g. because it is assumed that the requested QoS resources are a condition for initiating the group communication session . In other words even if the RAN allocates the requested QoS resources at some point after the group communication session management application would ignore the QoS resources because the call has already failed. However other operations related to setup of the communication session continue because certain operations are already queued by the communication protocol application e.g. the AMSS . In an alternative embodiment while not shown in the determination that the QoS resource request fails in can be based on an explicit message from the RAN indicating that the QoS resource request will not be granted. Accordingly the determination of failure for the QoS resource request can be based upon timer expiration or upon an explicit indication of QoS failure.

Eventually the Connection Reliability timer started in also expires which triggers the communication protocol application e.g. AMSS to resend its request e.g. ConnectionRequest message for the TCH . The QoS resources are not requested again at this point because the Connection Reliability timer is associated with the setup of traffic channel TCH resources and not QoS resources. Because the ACAck was received in response to the bundled message in AT knows that the RAN received the bundled message. As such the communication protocol application of AT simply waits to receive the QoS resources requested by the ReservationOnRequest without resending the ReservationOnRequest. As such when AT resends the TCH request AT only sends the ConnectionRequest and RouteUpdate messages on the reverse link access channel and does not re send the ReservationOnRequest message e.g. because the Connection Reliability timer has expired which is associated with setting up a traffic channel TCH resources and not a QoS resource . Also because AT has updated its UATI to correspond to the second UATI within the second serving area AT modulates the message in by using the second UATI. The RAN receives the resource request message in and acknowledges the message with an ACAck on the downlink control channel transmits a traffic channel assignment TCA and transmits a Reverse Traffic Channel Acknowledge RTCAck message on the forward traffic channel F TCH e.g. after successfully receiving and decoding the DRC and pilot from AT not shown in . Upon receipt of the RTCAck message AT can send a Traffic Channel Complete TCC message on the reverse traffic channel R TCH .

After obtaining the TCH AT sends each of the call messages queued from one after the other. Thus AT sends a first queued call message on the R TCH and the RAN forwards the first queued call message to the application server . The application server forwards announce messages to the RAN for transmission to ATs . . . N . Meanwhile AT continues to send each of the queued call messages one after the other and sends another queued call message to the RAN on the R TCH and the RAN again forwards the call message to the application server . The application server responds to the first and second queued call messages with ACKs and which are transmitted to AT on the F TCH and . While only two queued call messages are shown as transmitted in it will be appreciated that more or fewer queued call messages may be transmitted in other embodiments.

In at least one of ATs . . . N receives and acknowledges the announce message and accepts the announced communication session. The RAN receives the ACK on the reverse link access channel from the at least one of ATs . . . N and forwards the ACK to the application server . Upon receiving an ACK from a first responder to the announced group communication session the application server sends a STATUS message to the RAN for transmission to AT and the RAN transmits the STATUS message to AT on the F TCH . Upon receiving the STATUS message AT determines whether the call is still active . In this case it has already been established in that the call had failed because QoS resources were not allocated in time i.e. before QoS timer expiration and as such AT transmits an ACK that rejects the call on the R TCH and the RAN forwards the ACK reject to the application server which cancels the group communication session.

As will be appreciated by one of ordinary skill in the art the inclusion of the incorrect UATI for the second serving area in the bundled message of leads both to call failure as well as unnecessary signaling and resource allocation in the process of . A number of alternative embodiments will now be described in more detail with respect to wherein call failure can be reduced and or avoided even where an incorrect UATI is attached to an initial transmission of the bundled message.

In while the group communication session management application receives the SUSPEND notification from the communication protocol application upon expiration of the QoS timer instead of suspending its call setup operations and failing the call the group communication session management application refrains from call setup suspension and continues to wait for QoS resources to be allocated to AT . In an alternative embodiment while not shown in the determination that the QoS resource request fails in can be based upon an explicit message from the RAN indicating that the QoS resource request will not be granted. Accordingly the determination of failure for the QoS resource request can be based upon timer expiration or upon an explicit indication of QoS failure.

As in upon expiration of the Connection Reliability timer in because the bundled message did not result in a TCH assignment for AT due to the incorrect UATI AT continues its attempt to obtain a TCH and determines to resend its request e.g. ConnectionRequest message for the TCH . As in when AT resends the TCH request AT only sends the ConnectionRequest and RouteUpdate messages on the reverse link access channel because the Connection Reliability timer is associated with setting up the TCH but not QoS resources.

After the re transmission of blocks through of generally correspond to blocks through of and as such will not be described further for the sake of brevity. In instead of simply responding to the forwarded call message with an ACK as in of the application server configures an ACK message with a given flag that functions to prompt the RAN to perform a conditional allocation of QoS resources for AT . In an example the given flag may correspond to a given Diffsery Code Point DSCP value in a header portion of the ACK message where the RAN is configured to interpret DSCP fields set to the flagged value as an instruction to perform the conditional allocation of QoS resources to a target of the ACK message i.e. AT in this case .

Accordingly assume that the application server inserts a flag into the ACK message in by modifying a DSCP field of the ACK message to have some pre negotiated value that will be recognized by the RAN . However it will be appreciated that this is merely one manner of flagging the ACK message and other embodiments need not be limited to using the DSCP field of the ACK message as the flag portion. After configuring the ACK message in the application server sends the configured ACK to the RAN .

Upon receiving the configured ACK message in assume the RAN checks the configured ACK message extracts the flag and determines to perform the conditional allocation of QoS resources e.g. because a level of QoS resources associated with the flag have not yet been allocated to AT . Accordingly in the RAN determines whether QoS resources have already been allocated to AT for the group communication session. As discussed above because AT incorrectly used the first UATI for the first serving area in the second serving area the ReservationOnRequest message from AT was not granted and the requested QoS resources have not yet been allocated to AT for the group communication session. Accordingly the RAN determines to allocate QoS resources e.g. a level of QoS known to be negotiated with AT that is the recipient of the ACK message such as in call and media QoS flows to AT even though a proper ReservationOnRequest message was not received and the RAN thereby sends FwdReservationOn and RevReservationOn messages on the F TCH to AT to notify AT of its QoS resource allocation on the forward and reverse links of the TCH respectively in and . The RAN also forwards the ACK based on the configured ACK to AT on the F TCH . It will be appreciated that in at least one embodiment the ACK transmitted on the F TCH in need not differ from the ACK of even though the ACK of is based on a differently configured ACK from the application server . AT responds to the FwdReservationOn and RevReservationOn messages with FwdReservationAck and RevReservationAck messages respectively over the R TCH and .

Next the application server configures another ACK for the second call message . The configuration of may be performed in the same manner as the configuration of . Thus in at least one embodiment the application server may insert the DSCP flag into each ACK that acknowledges a call message to ensure that QoS resources for the call are allocated to the originator of the group communication session. The application server sends the configured ACK to the RAN and the RAN again identifies the DSCP flag and checks whether QoS resources have been allocated to AT for the group communication session . Because QoS resources were allocated to AT in response to the first configured ACK from the application server the RAN determines QoS resources are already allocated to AT and the RAN sends the configured ACK to AT on the F TCH without allocating additional QoS resources .

In response to the announce message of at least one of ATs . . . N send an ACK that indicates acceptance of the call to the RAN over the reverse link access channel and the RAN forwards the ACK accept to the application server . Upon receiving an ACK accept from a first responder to the announced group communication session the application server configures a STATUS message to include a flag to prompt the conditional allocation of QoS resources at the RAN . In an example the flag in the STATUS message may correspond to the same flag that is used in the ACK messages e.g. a given value for the DSCP field in a header portion of the message . After configuring the STATUS message in the application server sends the configured STATUS message to the RAN for transmission to AT .

The RAN again identifies the DSCP flag and checks whether QoS resources have been allocated to AT for the group communication session . Because QoS resources were allocated to AT in response to the first configured ACK from the application server the RAN determines QoS resources are already allocated to AT and the RAN sends the STATUS message to AT on the F TCH without allocating additional QoS resources .

At the AT as in upon receiving the STATUS message indicating that the group communication session can begin AT determines whether QoS resources have been allocated for the group communication session . In this case because i the application server has configured multiple messages with flags to prompt the RAN to perform conditional QoS allocation operations ii the RAN allocates the QoS resources in and and iii AT does not preemptively fail the call when the QoS timer times out in AT determines that QoS resources have been allocated for the group communication session in . Accordingly AT transmits an ACK accept message to the RAN via the R TCH and the RAN forwards the ACK accept message to the application server . AT can then begin transmitting media associated with the group communication session as an initial floor holder or call originator .

While not shown explicitly in in an embodiment of the invention additional messaging can be exchanged after the STATUS message is received at AT in i.e. during the call for setting up QoS while the call is in progress. For example if QoS allocation i.e. Fwd RevReservationAccept messages are not sent from the RAN until after the STATUS message is sent to AT the call can proceed and QoS can be set up in call.

As will be appreciated by one of ordinary skill in the art while the process of reduces the occurrence of call failure as compared to the process of the implementation of the process of changes operations at each of AT the RAN and the application server . An embodiment will now be described that involves changes at AT and the RAN and not necessarily to the functionality of the application server as compared to the process of .

Next assume that blocks through of correspond to through of . As such blocks through will not be described further for the sake of brevity. After AT sends the TCH complete message of AT prepares to send each of the queued call messages that were configured in to include a flag that functions to prompt the RAN to perform a conditional allocation of QoS resources for AT . In an example the given flag may correspond to a given Diffsery Code Point DSCP value in a header portion of the call message where the RAN is configured to interpret DSCP fields set to the flagged value as an instruction to perform the conditional allocation of QoS resources to a sender of the call message i.e. AT in this case . In other words the flag inserted into the configured call message may have the same effect i.e. triggering of the conditional allocation of QoS resources as the flag inserted into the ACK and or STATUS messages in in at least one embodiment except the DSCP value in instructs the RAN to allocate QoS to the target or destination of the ACK or STATUS message whereas the DSCP value in instructs the RAN to allocate QoS to the sender or originator of the CALL message. Thus in an example different DSCP values can be established for triggering QoS allocation to either a sender or target of a particular flagged message. For example the group communication session management application e.g. QChat client can provide the communication protocol application e.g. AMSS with the DSCP numbers to be stamped or inserted into the call messages in which case the communication protocol application can add the DSCP numbers into the respective IP headers of the call messages in the transmission queue in .

Accordingly assume that AT inserts a flag into the queued call message of by modifying a DSCP field of the call message to have some pre negotiated value that will be recognized by the RAN . However it will be appreciated that this is merely one manner of flagging the queued call message and other embodiments need not be limited to using the DSCP field of the queued call message as the flag portion

After configuring one or more of the queued call messages to include the DSCP flag AT transmits a first queued configured call message to the RAN on the R TCH and the RAN forwards the queued configured call message to the application server which generates and sends announce messages ANNs for announcing the group communication session to ATs . . . N . After sending the first queued configured call message AT sends a second of the queued configured call messages to the RAN . While additional queued configured call messages may also be transmitted one after the other for the sake of simplicity these additional transmissions have not been illustrated or described with respect to . In an example while each queued call message is shown as configured to prompt a conditional QoS allocation by the RAN in it will be appreciated that less than all of the queued call messages e.g. only a first queued call message can be configured in this manner within the transmission queue in other embodiments of the invention. In another embodiment the first CALL message transmitted in the DoS packet at may also be a configured CALL message although this configured CALL message will not trigger the RAN to grant QoS if the message header does not contain the UATI assigned in the second serving area.

After receiving the first configured call message in assume the RAN checks the header portion of the queued configured call message extracts the flag and determines to perform the conditional allocation of QoS resources . Accordingly in the RAN determines whether QoS resources have already been allocated to AT for the group communication session. As discussed above because AT incorrectly used the first UATI for the first serving area when AT was actually in the second serving area the ReservationOnRequest message from AT was not granted and QoS resources have not yet been allocated to AT for the group communication session. Accordingly the RAN determines to allocate QoS resources e.g. a level of QoS known to be negotiated with AT such as in call and media QoS flows to AT even though a proper ReservationOnRequest message was not received and the RAN thereby sends FwdReservationOn and RevReservationOn messages on the F TCH to AT to notify AT of its QoS resource allocation on the forward and reverse links of the TCH respectively in and . The RAN also forwards the second of the queued configured call messages received from AT in to the application server . AT responds to the FwdReservationOn and RevReservationOn messages with FwdReservationAck and RevReservationAck messages respectively over the R TCH and . The RAN receives the ACK from the application server that acknowledges the first of the queued configured call messages forwarded in . The RAN also transmits the ACK to AT on the F TCH .

While not illustrated explicitly in because each call message transmitted from AT is configured to include the flag e.g. the DSCP flag the RAN may perform the decision of block for each queued configured call message transmitted from AT to the RAN . However only the decision block of is illustrated in because the RAN would determine QoS resources to already be allocated to AT after the QoS resource allocation of and .

Next the application server sends an ACK for the second queued configured call message and the RAN sends the ACK to AT on the F TCH . In response to the announce message of at least one of ATs . . . N send an ACK that indicates acceptance of the call to the RAN over the reverse link access channel and the RAN forwards the ACK accept to the application server . Upon receiving an ACK accept from a first responder to the announced group communication session the application server sends a STATUS message to the RAN for transmission to AT and the RAN sends the STATUS message to AT on the F TCH .

At the AT as in upon receiving the STATUS message indicating that the group communication session can begin AT determines whether QoS resources have been allocated for the group communication session . In this case because i AT does not preemptively fail the call when the QoS timer times out ii AT has configured one or more queued call messages with flags to prompt the RAN to perform conditional QoS allocation evaluations and iii the RAN allocates the QoS resources in and AT determines that QoS resources have been allocated for the group communication session in . Accordingly AT transmits an ACK accept message to the RAN via the R TCH and the RAN forwards the ACK accept message to the application server . AT can then begin transmitting media associated with the group communication session as an initial floor holder or call originator .

As will be appreciated by one of ordinary skill in the art while the process of reduces the occurrence of call failure as compared to the process of the implementation of the process of changes operations at each of AT and the RAN e.g. but not necessarily the application server as in . An embodiment will now be described that involves changes at AT only and not necessarily to the functionality of the application server and or the RAN as compared to the process of .

Next assume that blocks through of correspond to through of and or through of . As such blocks through will not be described further for the sake of brevity. It will be appreciated that the communication protocol application e.g. AMSS is notified when AT is assigned the TCH in and acknowledges the TCH assignment in . Accordingly it may be assumed that the communication protocol application detects the TCH up event in .

After the communication protocol application is assigned the TCH in the communication protocol application can notify the TCH detection or TCH event to the group communication session management application e.g. QChat client if the group communication session management application has registered with the communication protocol application e.g. AMSS to receive such a notification prior to e.g. at the time of loading the group communication session management application . Accordingly in the group communication session management application detects the TCH up event in and the group communication session management application then determines whether QoS resources have already been allocated to AT for the group communication session . Because a suspended indication has already been received the QoS resources were not allocated to AT . Accordingly the group communication session management application determines that QoS resources have not yet been allocated to AT for the group communication session.

In the group communication session management application e.g. QChat requests the communication protocol application e.g. the AMSS to resume the QoS acquisition process. The communication protocol application e.g. the AMSS restarts the QoS timer and resumes the QoS acquisition process by scheduling another ReservationOnRequest message for transmission to the RAN . Next since the TCH is up AT sends a first of the queued call messages on the R TCH to the RAN and the RAN forwards the call message to the application server which generates and sends an announce message ANN for announcing the group communication session to ATs . . . N . After the first queued call message is transmitted AT sends a second of the queued call messages to the RAN which forwards the call message to the application server . While additional queued call messages may also be transmitted one after the other for the sake of simplicity these additional transmissions have not been illustrated or described with respect to .

In AT transmits another ReservationOnRequest message e.g. with the first ReservationOnRequest message being sent in the bundled packet in of on the R TCH to the RAN . Unlike the earlier ReservationOnRequest message the ReservationOnRequest message transmitted in over the R TCH that has been established within the second serving area.

Also the RAN receives the ACK from the application server that acknowledges the first queued call message and the RAN transmits the ACK to AT on the F TCH . The RAN also responds to the ReservationOnRequest message by allocating AT the requested QoS resources if available and thereby sends AT a ReservationAccept message on the F TCH .

Next the application server sends an ACK for the second queued call message and the RAN sends the ACK to AT on the F TCH . In response to the announce message of at least one of ATs . . . N send an ACK that indicates acceptance of the call to the RAN over the reverse link access channel and the RAN forwards the ACK accept to the application server . Upon receiving an ACK accept from a first responder to the announced group communication session the application server sends a STATUS message to the RAN for transmission to AT and the RAN sends the STATUS message to AT on the F TCH .

At the AT as in of and or of upon receiving the STATUS message indicating that the group communication session can begin AT determines whether QoS resources have been allocated for the group communication session . In this case because i AT does not preemptively fail the call when the QoS timer times out ii AT re transmits the ReservationOnRequest message after a TCH up event such that the RAN allocates the QoS resources in AT determines that QoS resources have been allocated for the group communication session in . Accordingly AT transmits an ACK accept message to the RAN via the R TCH and the RAN forwards the ACK accept message to the application server . AT can then begin transmitting media associated with the group communication session as an initial floor holder or call originator .

As will be appreciated by one of ordinary skill in the art while the process of reduces the occurrence of call failure as compared to the process of the implementation of the process of changes operations only at AT e.g. not necessarily the application server and or RAN .

Further while embodiments of the invention described above include references to calls it will be appreciated that the embodiments are intended to cover any type of communication session and not necessarily call specific sessions. For example a data transport session is not necessarily considered to be a call from one party to another party but data transport sessions are intended to be included within the interpretation of communication session or call in the embodiments disclosed herein.

Further while the call flows illustrated in many of the Figures are directed specifically to EV DO implementations it will be appreciated that other embodiments of the invention can be directed to other wireless communication protocols e.g. Yagatta CDMA W CDMA etc. .

Further in the embodiments of the invention described above the QoS evaluations performed at AT and or the RAN are described as if QoS is a binary variable i.e. QoS ON or QoS OFF . For example in conventional W CDMA implementations a single QoS flow is allocated to a communication session and the single QoS flow can either be ON or OFF . In conventional EV DO implementations multiple QoS flows are requested for allocation to a communication session and if any one of the QoS flows is not granted the QoS is considered to be OFF .

However in other embodiments of the invention different degrees of levels of QoS can be evaluated at AT and or the RAN . For example in a binary type implementation as described above QoS levels can be negotiated and assigned at the time of powering up the group communication session management application e.g. QChat client . When a call starts which is the scenario described in the embodiments above the group communication session management application asks the RAN to either grant or reject the negotiated QoS. In embodiments of the invention the lower amount of QoS can be granted as compared to a requested QoS level and the call can still be permitted to proceed.

Alternatively AT can request more than one QoS flow e.g. as in EV DO and the RAN may grant only a partial number of flows. In this sense the requested QoS may be only made partially available to AT in an example. Unlike the conventional EV DO implementations the call may be permitted to continue in this partial QoS flow scenario in embodiments of the invention. For example the RAN may grant QoS flows in the forward direction and reject flows in the reverse direction. Based on such an allocation the group communication session management application may decide to ACK accept the STATUS and later re request the flows in the reverse direction. In other words the decision blocks of of of and or of can evaluate whether a sufficient level of QoS resources have been obtained e.g. forward link QoS flow where reverse link QoS flow is less important for a half duplex call target reverse link QoS flow where forward link QoS flow is less important for a half duplex call originator or floor holder etc. instead of whether all requested QoS has been obtained.

Further while the mechanism by which AT or the application server triggers the conditional allocation of QoS resources in B A and B is described in the above embodiments as a specially configured DSCP configuration in a packet header e.g. of a call packet an ACK packet or a STATUS packet it will be appreciated that other embodiments of the invention can be directed towards other mechanisms for instructing the RAN to perform the conditional allocation of QoS resources and need not specifically be the DSCP field of the packet. Likewise while describes both call message ACK and STATUS packets as including the modified DSCP field as a flag it will be appreciated that other embodiments can include the flag in either of these packets but not necessarily both. In other embodiments packets exchanged after the STATUS message may be configured to trigger the conditional allocation of QoS resources. For example if QoS allocation i.e. Fwd RevReservationOn messages are not sent from the RAN until after the STATUS message is sent to AT the call can proceed and QoS can be set up in call.

The embodiments described above with respect to have generally been directed to setting up a new call that requires QoS resources. As will be described below with respect to if set up for a new call begins before the QoS resources for a current call are released such as when the new call occurs back to back or immediately upon termination of the current call difficulties can arise during the set up for the new call. Accordingly another embodiment of the invention described below with respect to is directed to setting up the new call immediately after the current call is terminated.

Referring to assume that AT has a TCH and has a given level of QoS resources and that AT is using these call resources in a first call to one or more of ATs . . . N . Accordingly in media and or in call signaling is being exchanged between AT and the other call participants among ATs . . . N. In an example while not shown explicitly within the first call can be set up in accordance with any of .

Next AT determines to terminate its participation in the first call . For example the determination of can be responsive to a user of AT pressing an END button on AT . Accordingly AT sends an END message on the R TCH to the RAN . and the RAN acknowledges AT s request to end its participation in the first call by sending an END ACK on the F TCH to AT . AT continues its call termination process for the first call by sending a ReservationOffRequest on the R TCH to the RAN to request that the RAN tear down or release AT s QoS resources for the first call .

At this point AT still has its TCH and has not yet completed relinquishing its QoS resources because no response to the ReservationOffRequest message of has been received from the RAN . During this state before the RAN responds to the ReservationOffRequest message assume that AT determines to set up a second call . For example the determination of can be responsive to a user of AT requesting initiation of a new call on AT .

In this case the group communication session management application will not typically permit AT to set up the second call because AT s QoS resources are currently in a suspending state which is an invalid state for resuming QoS acquisition . In other words the group communication session management application knows that tear down of its old QoS resources for the first call are imminent while at the same time the group communication session management application is not permitted to request new QoS resources for the second call because the RAN has not yet acknowledged that the old QoS resources for the second call have been turned off. Accordingly the group communication session management application simply fails the attempt to initiate the second call in .

Eventually the RAN sends the ReservationAccept message on the F TCH to AT to confirm that the QoS resources for the first call are turned off after which AT becomes aware that it no longer has QoS resources for the first call . At this point while not shown in the user of AT can manually request initiation of the second call again.

As will be appreciated by one of ordinary skill in the art the user experience in is degraded because the user of AT experiences call failure for his her attempt to set up the second call. is directed to an embodiment whereby a back to back call can be set up without call failure even during the invalid QoS state discussed above with respect to .

Referring to through correspond to through of respectively and as such will not be described further for the sake of brevity. Next unlike of in AT determines to attempt set up for the second call irrespective of whether AT has obtained QoS resources for the second call. For example proceeding with set up for a call irrespective of QoS resources can allow QoS resources to be established at a later point during the call a lower level of QoS resources can be allocated to AT for the call the call can continue with no QoS resources etc.

Accordingly the group communication session management application adds a call message to the transmission queue of the communication protocol application and AT transmits the call message on the R TCH to the RAN . As will be appreciated the call message transmitted in is not followed by a ReservationOnRequest message because of the invalid QoS state of AT at this point. In other words the ReservationOnRequest message to obtain QoS resources for the second call is not permitted to be sent until the RAN accepts the tear down of the old QoS resources for the first call. However AT can still proceed with the set up for the second call by transmitting the call message in before the QoS can be requested. Also the call message of need not be sent on the reverse link access channel in a DoS message because AT still has its TCH from the first call and as such can simply use its R TCH for transmitting the call messages to the RAN for quicker transmission. The higher reliability of the TCH as compared to a reverse link shared channel or access channel can also permit AT to send only one call message in at least one embodiment as shown in .

Thus the RAN receives the call message on the R TCH from AT in and the RAN forwards the call message to the application server . The application server forwards an announce message to the RAN for transmission to ATs . . . N . The application server responds to the call message with an ACK in which is transmitted to AT on the F TCH by the RAN .

At this point assume that the RAN responds to the ReservationOffRequest message that is sent by AT in by sending a ReservationAccept message on the F TCH . At this point the group communication session management application is notified by the communication protocol application that the QoS resources for the first call have been turned off or canceled . This event causes the group communication session management application to trigger QoS resource acquisition for the second call which was delayed due to the invalid QoS state up to this point . Accordingly the group communication session management application requests the communication protocol application e.g. the AMSS to resume QoS acquisition. The communication protocol application e.g. the AMSS starts a QoS timer and transmits the ReservationOnRequest message on the R TCH in order to obtain the QoS resources for the second call . The RAN sends a ReservationAccept message to AT on the F TCH to notify AT that its QoS resources for the second call have been reserved . In an example the ReservationAccept message of can function as an implicit ACK to the ReservationOnRequest message from such that a separate ACK to the ReservationOnRequest message need not be sent.

Upon receiving an ACK accept message from a first responder to the announced group communication session i.e. the second call the application server sends a STATUS message to the RAN for transmission to AT and the RAN transmits the STATUS message to AT on the F TCH . Upon receiving the STATUS message AT determines whether sufficient QoS resources have been allocated for the second call . In this case because the QoS resources for the second call are allocated in AT transmits an ACK that accepts the call on the R TCH and the RAN forwards the ACK accept to the application server . Thereafter media and or in call signaling is being exchanged between AT and the other call participants among ATs . . . N during the second call .

In the embodiment of the ReservationAccept message of arrives at AT before the STATUS message of . In an alternative embodiment the STATUS message can arrive at AT before the ReservationAccept message. In this case instead of failing the call because QoS resources are not yet available when the STATUS message arrives at AT AT can wait a given amount of time to receive the ReservationAccept message. When the ReservationAccept message finally arrives the process of can continue with the ACK accept message being sent in .

In other embodiments described below with respect to if a call has ended and QoS is in a suspending state and an AT receives an announce ANN message and predictive QoS has failed or is unavailable the same procedure of waiting for the reservation to turn off before sending a request to turn on QoS and then waiting for the reservation accept before ACKing the ANN can be applied to prevent the call from failing because QoS was in a suspending state.

Referring to through correspond to through of respectively and as such will not be described further for the sake of brevity. Next instead of AT determining to initiate a subsequent or back to back communication session in one of ATs . . . N determines to initiate another communication session and thereby sends a call message to the application server which is ACKed by the application server in . The application server then announces the communication session at least to AT by sending an announce ANN message .

In this case the group communication session management application will not typically permit AT to set up the second call because AT s QoS resources are currently in a suspending state which is an invalid state for resuming QoS acquisition . In other words the group communication session management application knows that tear down of its old QoS resources for the first call are imminent while at the same time the group communication session management application is not permitted to request new QoS resources for the second call because the RAN has not yet acknowledged that the old QoS resources for the second call have been turned off.

Accordingly the group communication session management application simply fails the attempt to initiate the second call in . AT thereby sends an ACK reject message to the RAN on the R TCH which is forwarded to the application server . The application server determines AT cannot join the session due to the ACK reject message and sends a STATUS failure message to AT . Eventually the RAN sends the ReservationAccept message on the F TCH to AT to confirm that the QoS resources for the first call are turned off after which AT becomes aware that it no longer has QoS resources for the first call .

As will be appreciated by one of ordinary skill in the art the user experience in is degraded because the user of ATs . . . N because both the call originator and call target i.e. AT experience call failure for the second call. are directed to an embodiment whereby a back to back call can be set up without call failure even during the invalid QoS state discussed above with respect to .

Referring to through correspond to through of respectively and as such will not be described further for the sake of brevity. Next unlike of in AT determines to attempt set up for the second call irrespective of whether AT has obtained QoS resources for the second call. For example proceeding with set up for a call irrespective of QoS resources can allow QoS resources to be established at a later point during the call a lower level of QoS resources can be allocated to AT for the call the call can continue with no QoS resources etc.

Accordingly the group communication session management application determines to wait for the QoS resources for the first call to be relinquished instead of simply failing the second call due to the invalid QoS state in . In other words the ReservationOnRequest message to obtain QoS resources for the second call is not permitted to be sent until the RAN accepts the tear down of the old QoS resources for the first call.

Eventually assume that the RAN responds to the ReservationOffRequest message that is sent by AT in by sending a ReservationAccept message on the F TCH . At this point the group communication session management application is notified by the communication protocol application that the QoS resources for the first call have been turned off or canceled . This event causes the group communication session management application to trigger QoS resource acquisition for the second call which was delayed due to the invalid QoS state up to this point . Accordingly the group communication session management application requests the communication protocol application e.g. the AMSS to resume QoS acquisition. The communication protocol application e.g. the AMSS starts a QoS timer and transmits the ReservationOnRequest message on the R TCH in order to obtain the QoS resources for the second call . The RAN sends a ReservationAccept message to AT on the F TCH to notify AT that its QoS resources for the second call have been reserved . In an example the ReservationAccept message of can function as an implicit ACK to the ReservationOnRequest message from such that a separate ACK to the ReservationOnRequest message need not be sent.

At this point the group communication session management application determines both QoS resources and the TCH for the second call to be established and thereby sends the ACK accept message to the announce ANN message from to the RAN which is forwarded to the application server . Upon receiving an ACK accept message from a first responder i.e. AT to the announced group communication session i.e. the second call the application server sends a STATUS message to AT to begin the second call and AT ACKs the STATUS message . Thereafter media and or in call signaling is being exchanged between AT and the other call participants among ATs . . . N during the second call .

Further while the embodiment of shows AT determining to terminate the first call in and sending the END message to the RAN in in an alternative embodiment the END message can be sent from the RAN to AT i.e. the access network initiates the session s termination for AT . In this case AT determines to end the first call based on receipt of the END message instead of making its own independent decision to terminate the session or having a user of AT instruct AT to end the session.

Those of skill in the art will appreciate that information and signals may be represented using any of a variety of different technologies and techniques. For example data instructions commands information signals bits symbols and chips that may be referenced throughout the above description may be represented by voltages currents electromagnetic waves magnetic fields or particles optical fields or particles or any combination thereof.

Further those of skill in the art will appreciate that the various illustrative logical blocks modules circuits and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware computer software or combinations of both. To clearly illustrate this interchangeability of hardware and software various illustrative components blocks modules circuits and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the present invention.

The various illustrative logical blocks modules and circuits described in connection with the embodiments disclosed herein may be implemented or performed with a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor a plurality of microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration.

The methods sequences and or algorithms described in connection with the embodiments disclosed herein may be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module may reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such that the processor can read information from and write information to the storage medium. In the alternative the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a user terminal e.g. access terminal . In the alternative the processor and the storage medium may reside as discrete components in a user terminal.

In one or more exemplary embodiments the functions described may be implemented in hardware software firmware or any combination thereof. If implemented in software the functions may be stored on or transmitted over as one or more instructions or code on a computer readable medium. Computer readable media includes both computer storage media and communication media including any medium that facilitates transfer of a computer program from one place to another. A storage media may be any available media that can be accessed by a computer. By way of example and not limitation such computer readable media can comprise RAM ROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium that can be used to carry or store desired program code in the form of instructions or data structures and that can be accessed by a computer. Also any connection is properly termed a computer readable medium. For example if the software is transmitted from a website server or other remote source using a coaxial cable fiber optic cable twisted pair digital subscriber line DSL or wireless technologies such as infrared radio and microwave then the coaxial cable fiber optic cable twisted pair DSL or wireless technologies such as infrared radio and microwave are included in the definition of medium. Disk and disc as used herein includes compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers. Combinations of the above should also be included within the scope of computer readable media.

Accordingly an embodiment of the invention can include a computer readable medium including code stored thereon for bundling communication messages in a wireless network comprising code for causing a computer to bundle a connection request and a reservation for QoS resources into an access message and code for causing a computer to transmit the access message to an access network. Further any of the functions describe herein can be included in as additional code in further embodiments of the invention.

While the foregoing disclosure shows illustrative embodiments of the invention it should be noted that various changes and modifications could be made herein without departing from the scope of the invention as defined by the appended claims. The functions steps and or actions of the method claims in accordance with the embodiments of the invention described herein need not be performed in any particular order. Furthermore although elements of the invention may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

