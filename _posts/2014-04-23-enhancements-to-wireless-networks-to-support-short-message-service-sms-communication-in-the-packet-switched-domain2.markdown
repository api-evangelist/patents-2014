---

title: Enhancements to wireless networks to support short message service (SMS) communication in the packet switched domain
abstract: Technology for communicating a short message service (SMS) communication in a packet switched (PS) domain of a serving general packet radio service (GPRS) support node SGSN in a Universal Terrestrial Radio Access Network (UTRAN). In one embodiment, a PS support module is configured to receive a request message from a mobile station (MS), the request message including an Additional Update Type information element (IE), the Additional Update Type IE including information to indicate that the MS is to support a PS based short messaging service (SMS).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09634810&OS=09634810&RS=09634810
owner: Intel Corporation
number: 09634810
owner_city: Santa Clara
owner_country: US
publication_date: 20140423
---
This application claims the benefit of and hereby incorporates by reference U.S. Provisional Patent Application Ser. No. 61 621 939 filed Apr. 9 2012 and U.S. Non provisional patent application Ser. No. 13 631 379 filed Sep. 28 2012.

As the use of mobile wireless devices such as smart phones and tablet devices becomes more ubiquitous the demands on the limited amount of radio frequency spectrum used by those devices also increases resulting in wireless network congestion in the licensed spectrum. In addition the increased use of high bandwidth applications such as audio and video streaming can increase demands beyond the capability of the available spectrum. This is especially true in high density and high use locations such as large cities and universities. One projection estimates a growth of 20 times in mobile internet traffic from 2010 to 2015.

Improvements in wireless architectures hardware design and processor speed have significantly increased the efficiency of wireless devices in their use of the available spectrum. However certain legacy aspects from previous generations of wireless network specifications continue to reduce the potential efficiency of modern wireless architectures.

Reference will now be made to the exemplary embodiments illustrated and specific language will be used herein to describe the same. It will nevertheless be understood that no limitation of the scope of the invention is thereby intended.

Before the present invention is disclosed and described it is to be understood that this invention is not limited to the particular structures process steps or materials disclosed herein but is extended to equivalents thereof as would be recognized by those ordinarily skilled in the relevant arts. It should also be understood that terminology employed herein is used for the purpose of describing particular embodiments only and is not intended to be limiting.

As used herein the term substantially refers to the complete or nearly complete extent or degree of an action characteristic property state structure item or result. For example an object that is substantially enclosed would mean that the object is either completely enclosed or nearly completely enclosed. The exact allowable degree of deviation from absolute completeness may in some cases depend on the specific context. However generally speaking the nearness of completion will be so as to have the same overall result as if absolute and total completion were obtained. The use of substantially is equally applicable when used in a negative connotation to refer to the complete or near complete lack of an action characteristic property state structure item or result.

As used herein the term Core Network CN control node is a generic term that refers to either a Mobility Management Entity MME or a Serving GPRS General Packet Radio Service Support Node SGSN .

As used herein the term User Equipment UE refers to a wireless device configured to communicate with a Third Generation Partnership Project 3GPP wireless network.

As used herein the term mobile station MS refers to a wireless device configured to communicate with a Third Generation Partnership Project 3GPP wireless network. The terms UE and MS are considered to be synonymous and may be used interchangeably throughout this document unless otherwise noted.

An initial overview of technology embodiments is provided below and then specific technology embodiments are described in further detail later. This initial summary is intended to aid readers in understanding the technology more quickly but is not intended to identify key features or essential features of the technology nor is it intended to limit the scope of the claimed subject matter.

An exponential increase in the amount of wireless data transmission has created congestion in wireless networks using licensed spectrum to provide wireless communication services for wireless devices such as smart phones and tablet devices to name a few. The congestion is especially apparent in high density and high use locations such as urban locations and universities.

One technique for providing additional bandwidth capacity to wireless devices is through the transformation of wireless networks from circuit switching to packet switching. In circuit switching wireless communication involves using a limited number of dedicated connections that typically have a constant bit rate and a constant delay between the wireless nodes. These dedicated connections may be open even if no data is being transmitted by a wireless device. This can lead to inefficiencies in the use of radio frequency spectrum.

In contrast with circuit switching packet switching involves grouping data that is to be transmitted regardless of the data s content type or structure into blocks referred to as packets. Packet switching provides the ability to deliver variable bit rate data streams over a shared network. Packets can be buffered or queued at network adapters switches routers or other network nodes thereby enabling packets to be delivered with variable delay and throughput depending on the traffic load in the network. The use of packet switching improves the ability of a wireless network to provide a desired Quality of Service QoS in a wireless network. In addition the use of packet switching can significantly improve the efficiency in which data is transmitted resulting in lower costs for consumers and more efficient use of the crowded radio frequency spectrum.

As wireless communication standards have continued to develop the use of packet switching has become more and more prevalent. However certain legacies from earlier standards still remain in even the most modern wireless communication standards. One such legacy is the use of circuit switching to communicate Short Message Service SMS communications between wireless devices configured to operate with the Third Generation Partnership Project 3GPP Long Term Evolution LTE specification.

Short Message Service communications which are typically referred to as text messaging is a communications protocol that enables the interchange of a text message of up to 160 characters in length between mobile devices. Messages are sent to a Short Message Service Centre SMSC where they can be stored until the destination wireless device is active. Once the destination wireless device is connected to a wireless network the SMS message can be communicated from the SMSC to the wireless device.

Releases 8 9 10 and 11 Stage 2 freeze in September 2012 of the 3GPP LTE specification still use circuit switching CS to provide SMS communications. The communication of SMS is one of the last vestiges of CS in the 3GPP network. In order to provide SMS communication using CS a user equipment UE typically has to connect with a Mobile Switching Center MSC . The MSC provides an interface between the radio system and the fixed networks. The MSC can perform desired functions in order to provide CS services to and from the UE. Thus user equipment UEs often connect with an MSC. This connection can result in excessive overhead as well as the use of unnecessary dedicated wireless connections.

To overcome this limitation the advent of SMS communication using packet switching PS in the 3GPP network can be implemented. The implementation of PS based SMS can be accomplished in different ways depending on the age and or architecture of the wireless network.

Modern 3GPP LTE based networks can implement PS based SMS communication using the network s Mobility Management Entity MME . The MME is the control node that processes the signaling between the UE and the Core Network CN . The MME can provide Visitor Location Register VLR functionality for an Evolved Packet System EPS . This will be discussed more fully in the proceeding paragraphs.

Older wireless networks can include an assortment of old and new wireless networking equipment. The wireless networking equipment is often generally referred to based on the generation to which the equipment belongs according to the equipment s age and capabilities. For example wireless networking equipment may be designated based on the generation to which the equipment belongs such as 2G 2.5G 3G or 4G. Networks that include an assortment of different generations can include a Serving GPRS General Packet Radio Service Support Node SGSN .

GPRS is a mobile data service extension to the Global System for Mobile communications GSM . GSM is a 2G system. GPRS is often described as a 2.5G system. The SGSN acts as the control node similar to the MME in 4G systems. The SGSN is the interface between the radio system and the fixed network for Packet Switched PS services. The SGSN can perform the functions to handle packet transmission to and from the UE. The SGSN can be used to provide PS based SMS thereby eliminating the need for a UE to connect to an MSC merely for SMS communication in a 2.5G or 3G wireless network.

As UEs move through different networks the capability of each network can vary. Some networks may support SMS services via a PS domain non access stratum NAS layer. However other networks may not support this. Therefore a subscription intended for PS only service provision may allow also for SMS services via CS domain to provide a UE with SMS services in situations when the serving node or network do not support SMS via PS domain NAS signaling.

A discussion of the SMS in SGSN architecture for SMS services will be described below. Messaging used between the UE and the SGSN to implement the SMS in SGSN architecture will be provided. A discussion of the SMS in MME architecture will follow.

A GPRS Support Node GSN contains functionality used to support GPRS functionality for the GSM EDGE Radio Access Network GERAN and or the Universal Terrestrial Radio Access Network UTRAN . In one Public Land Mobile Network PLMN there may be more than one GSN.

The SGSN and Gateway GPRS Support Node GGSN functionalities may be combined in the same physical node or they may reside in different physical nodes. The SGSN and the GGSN contain Internet Protocol IP or other i.e. Asynchronous Transfer Mode ATM routing functionality. The SGSN and GGSN may be interconnected with IP routers.

The Gateway GPRS Support Node GGSN is the node that is accessed by the packet data network PDN after evaluation of the Packet Data Protocol PDP address. The GGSN contains routing information for PS attached users. The routing information is used to tunnel N protocol data units PDUs to the UE s current point of attachment i.e. the Serving GPRS Support Node. The GGSN may request location information from the Home Location Register HLR via the optional Gc interface. The GGSN is the first point of PDN interconnection with a PLMN supporting GPRS i.e. the Gi reference point is supported by the GGSN . GGSN functionality is common for all types of RANs.

The Serving GPRS Support Node SGSN is the node that is serving the UE i.e. mobile station MS . The SGSN supports GPRS for A Gb mode i.e. the Gb interface is supported by the SGSN and or Iu mode i.e. the Iu interface is supported by the SGSN . At PS attach the SGSN establishes a mobility management context containing information pertaining to e.g. mobility and security for the MS. At PDP Context Activation the SGSN establishes a PDP context to be used for routing purposes with the GGSN that the subscriber will be using. In Iu mode the SGSN and RNC may be interconnected with one or more IP routers.

In Gn Gp mode and when the SGSN and the GGSN are in different PLMNs they are interconnected via the Gp interface. The Gp interface provides the functionality of the Gn interface plus security functionality required for inter PLMN communication. The security functionality is based on mutual agreements between operators.

In Gn Gp mode the SGSN interworks signaling on the Gn Gp interface with Iu Gb interface signaling. In S4 mode the SGSN interworks signaling on the S4 interface with Iu Gb interface signaling. One SGSN may have some UEs using Gn Gp mode and other UEs using S4 mode.

The SGSN may send location information to the MSC VLR via the optional Gs interface. The SGSN may receive paging requests from the MSC VLR via the Gs interface.

The SGs interface can connect databases in the VLR and the MME. The SGs is also used to convey some circuit switched related procedures via the MME. The basis for the interworking between a VLR and an MME is the existence of an SGs association between those entities per UE. The SGs association is applicable to UEs which are configured to use CS fallback and SMS over SGs or SMS over SGs only. The SGs association is not applicable if the subscriber data indicates that the subscription is for packet switched PS communication only. The SGs association is also not applicable if the Home Subscriber Server HSS signals SMS in MME Support capability and the MME determines that SMS service is to be provided using the SMS in MME feature.

The SGSN interfaces with the GSM SCF for optional Customized Application for Mobile Enhanced network Logic CAMEL control using the Ge reference point. Depending on the result from the CAMEL interaction the session and packet data transfer may proceed normally. Otherwise interaction with the GSM SCF continues as described in TS 23.078.

The functionality of the Serving Gateway is defined in 3GPP TS 23.401 with the following additions and exceptions The Serving Gateway can terminate the user plane interface towards the UTRAN when the Direct Tunnel feature is in use. The Serving Gateway is the local Mobility Anchor point for the Serving Radio Network Subsystem SRNS relocation when the Direct Tunnel feature is in use. The Serving Gateway can also be the local Mobility Anchor for an inter SGSN routing area update.

In accordance with one embodiment of the present invention the SMS in SGSN can be performed as follows. An indication can be added where the SGSN indicates to the Home Subscriber Server HSS in the Attach Routing Area Update RAU procedures that it offers SMS in SGSN using the Gd interface. Subscription data information can be added for PS and SMS only subscriptions. The SGSN identity can be registered for terminating SMS services. When this occurs the HLR operating on the HSS can cancel any registered MSC. These operations align the behavior of the HLR HSS for SGSN and MME. The handshaking of SMS support between the HSS and the SGSN in both directions can be based on existing Teleservice List parameters in the Gr MAP and S6d Diameter protocols. The Inter SGSN RAU procedure can be updated to provide the same support for SMS in SGSN as the combined GPRS Attach RAU procedures. A clarification about the SMS Supported indication to the MS can be added in the GPRS Attach Procedure.

The SGSN can indicate that it offers SMS services via the PS domain i.e. Gd to the HSS by an indication SMS in SGSN offered in the signaling with the HSS during the Attach RAU procedure. When the subscription information indicates PS and SMS only the HSS can respond to queries from SMS Gateway Mobile Switching Center GMSC and SMS routers so that Mobile Terminated MT SMS gets routed to serving nodes in the PS domain when SMS via the PS domain are offered by these serving nodes.

A CS PS enabled UE that needs only PS domain services and SMS services over a Non Access Stratum NAS layer indicates this capability as SMS only to the SGSN during combined Attach RAU procedures i.e. the included CS registration is only requested for obtaining SMS services over NAS. The term SMS services over NAS refers to the signaling that occurs through the NAS layer in the network to provide PS based SMS services. The term SMS services over NAS can also be referred to as SMS via GPRS.

Based on the UE provided information i.e. the SMS only indication to the SGSN and when the HSS provided subscription information indicates SMS in SGSN Support and the SGSN supports SMS services over NAS the SGSN can then determine to not establish an association with an MSC when requested by the UE in the combined Attach RAU procedures.

The SGSN can forward the capability indicated by the UE as an SMS only indication in the Location Update procedure to the HSS. If the HSS has an old serving MSC registered the HSS can cancel the serving MSC for a UE that indicates SMS only and subscribes to SMS services if both the SGSN and the HSS supports SMS in SGSN i.e. the SGSN has indicated SMS in SGSN offered and the HSS supports SMS in SGSN . As only the SGSN is registered for MT SMS the HSS can then respond to queries from SMS GMSCs and SMS routers so that MT SMS is routed to serving node s in the PS domain.

In one embodiment a UE can identify a type of PS only service provisioning. A PS only enforced provisioning message sent from a UE to an SGSN indicates that the SGSN shall not perform any combined mobility management MM procedures for the UE and shall not establish a Gs association. In the PS only enforced the network will not connect the UE to a CS domain. However if the UE enters a network that does not support SMS services via a PS domain then the UE won t receive any SMS messages while located within the network s coverage area.

Accordingly an additional PS only service is the PS only enabled service. A UE can send a PS only enabled message to the SGSN which indicates to the SGSN that the UE s home Public Land Mobile Network hPLMN is able and willing to provide SMS services via the PS domain. If the UE indicates its capability during a combined attach RAU procedure i.e. the included CS registration is only requested for obtaining PS based SMS services then the SGSN does not establish association with the MSC.

Mobile Application Part MAP is an SS7 protocol which provides an application layer for the various nodes in GSM and UMTS mobile core networks and GPRS core networks to communicate with each other in order to provide services to mobile phone users. The Mobile Application Part is the application layer protocol used to access the Home Location Register Visitor Location Register Mobile Switching Center Equipment Identity Register Authentication Centre Short message service center and Serving GP RS Support Node SGSN .

The SGs interface can be used to relay SMS messages between the MME and VLR. The SMS Switching Center SC may be integrated with the SMS GMSC SMS IWMSC. The interface between the HSS and SMS central functions SMS IWMSC and SMS GMSC SMS router can be Diameter or a MAP C interface. There is a Diameter E interface between the MME and SMS central functions.

The use of the SMS in MME architecture is for SMS services only. This functionality may not trigger any CS fallback and does not require an SGs. In addition to provide SMS in MME the MME can be configured to provide the following SMS procedures between the UE and the MME can include support for the Short Message Control SMC and Short Message Relay SMR functions.

In one embodiment the MME can be configured to support the combined EPS IMSI procedures for SMS only and in these provide a non broadcasted Location Area Identity LAI that is not associated with any Visitor Location Register VLR . If needed the MME can provide a reserved TMSI that is configured such that it cannot cause any ambiguities with other TMSIs. For instance when the UE changes to an area where it needs to derive SMS services from a GERAN UTRAN MSC. The MME can indicate in the Attach RAU Accept message that the IMSI attach is for SMS only . The MME can notify the HSS that it is capable of SMS transfer without the need of establishing an SGs association with an MSC. The MME can obtain SMS related subscription information.

If the UE performs a combined GPRS attach RAU procedure with SMS only indication the MME SGSN can forward the SMS only indication in the location update procedure to the HSS. The HSS can allow an operator to configure a subscription that is limited to only PS services and SMS services. This limitation is indicated in the PS subscription data as PS and SMS only .

In order to setup a GERAN UTRAN wireless communication system to provide PS based SMS a UE can indicate its request for SMS services to the SGSN. The UE can communicate its PS only capability to the SGSN. This can involve sending a message that the UE only requests CS registration to receive SMS services but is capable of supporting PS based SMS. One way of communicating this message from the UE to the GPRS is by altering an Attach Request message. The Attach Request message is defined in section 9.4.1 of 3GPP TS 24.008. One example of a released version of the TS 24.008 is shown in 3GPP TS 24.008 V11.4.0 2012 09 .

The Attach Request message is sent by the UE to the network in order to perform an attach procedure with the network. An example of an Attach Request message for a GPRS attach is illustrated in in a table format. The table includes information including the Information Element Identifier IEI the name of the Information Element IE the type of IE and a reference to the IE in the 3GPP TS 24.008 along with the presence format and length of each IE in the Attach Request message. It should be noted that the Attach Request message for GPRS is different than the Attach Request message for an EPS which is defined in 3GPP TS 24.301.

In accordance with one embodiment the UE can include additional information in one of the IEs communicated in the Attach Request message. Alternatively an additional IE can be included in the Attach Request message. The additional IE may be included if the UE requests SMS only or if the UE supports PS based SMS and does CS registration only to receive SMS service via the CS domain. Several different types of IE can be used to communicate this message from the UE to the SGSN. Five different examples are provided herein. These examples are not intended to be limiting. Any means may be used to communicate this message from the UE to the SGSN. The examples below are labeled Solution A through Solution E.

In this solution a new IE Additional Update Type is added to the Attach Request message. The format of the Additional Update Type IE is provided in the proceeding paragraphs.

The purpose of the additional update type IE is to provide information regarding the UE s PS only capability to the network. This informs the network of the UE s intent to request CS registration only for obtaining SMS service via the CS domain. In one embodiment if the MS initiates a combined GPRS attach procedure for GPRS services and SMS only service the MS can indicate SMS only in the Additional update type IE. The Additional Update Type IE is a type 1 information element. The Additional Update Type IE can be coded as shown in Table 1 and Table 2.

As shown in Table 2 above Bit in octet can be a PS based SMS Support PSSS message. In this example a Bit value of 0 provides the message that the MS does not support PS based SMS. A Bit value of 1 provides the message that the MS supports PS based SMS and does CS registration only to receive SMS service. The IE illustrated in Table 1 and 2 can be included in the Attach Request message shown in . In one embodiment the MS can include this IE if the MS initiates a combined GPRS attach procedure for GPRS services and SMS only service . In another embodiment the MS can include this IE if the MS supports PS based SMS. The IE can be used to indicate the PS only capability of the MS to the network.

In this solution one spare bit of the MS Network Feature Support IE of the Attach Request message is used to indicate a UE PS only capability to the network i.e. that the UE intent to request CS registration only for obtaining SMS services.

In accordance with one embodiment the MS Network Feature Support IE which is defined in section 9.9.3.20A of 3GPP TS 24.301 and section 10.5.1.15 of 3GPP TS 24.008 can be configured to include a PS based SMS Support message as follows.

As illustrated in Tables 3 and 4 Bit in octet can be a PS based SMS Support PSSS message in the MS network feature support IE. In this example a Bit value of 0 provides the message that the MS does not support PS based SMS. A Bit value of 1 provides the message that the MS supports PS based SMS and does CS registration only to receive SMS service. The IE illustrated in Table 3 4 can be included in the Attach Request message shown in .

In this solution one spare bit of the UE Network Capability IE of the ATTACH REQUEST message is used to indicate UE PS only capability to the network i.e. the UE s intent to request CS registration only for obtaining SMS based service.

In accordance with one embodiment the UE Network Capability IE which is defined in section 9.9.3.34 of 3GPP TS 24.301 can be configured to include a PS based SMS Support message. The mapping of the UE Network Capability IE is shown in Table 5. A portion of the UE Network capability IE information is shown in Table 6.

As illustrated in Tables 5 and 6 Bit in octet can be a PS based SMS Support PSSS message in the UE Network Capability IE. In this example a Bit value of 0 provides the message that the MS does not support PS based SMS. A Bit value of 1 provides the message that the MS supports PS based SMS and does CS registration only to receive SMS. The IE illustrated in Table 5 and 6 can be included in the Attach Request message shown in .

In this solution one spare bit of EPS Attach Type IE of ATTACH REQUEST is used to indicate UE PS only capability to the network i.e. the UE s intent to request CS registration only for obtaining SMS based service.

In accordance with one embodiment the EPS Attach Type IE which is defined in section 9.9.3.11 of 3GPP TS 24.301 and in section 10.5.5.2 of TS 24.008 can be configured to include a PS based SMS Support message as follows.

As illustrated in Tables 7 and 8 a bit value of 101 in bits to of octet provides the message that a GPRS attach SMS only which indicates that the MS supports PS based SMS and CS registration is performed only to receive SMS service. The IE illustrated in Table 7 and 8 can be included in the Attach Request message shown in .

In this solution an existing IE MS Network Capability in the ATTACH REQUEST message can be extended to indicate a MS PS only capability to the network i.e. the MS s intent to request CS registration only for obtaining SMS based service.

In accordance with one embodiment the MS Network Capability IE which is defined in section 10.5.5.12 of 3GPP TS 24.008 can be configured to include a PS based SMS Support message as follows

As illustrated in Table 9 a selected bit in a selected octet of the IE can be a PS based SMS Support PSSS message. In this example a Bit value of 0 provides the message that the MS does not support PS based SMS. A Bit value of 1 provides the message that the MS supports PS based SMS and does CS registration only to receive SMS service via the CS domain. The MS Network Capability IE is specified in section 10.5.5.12 of 3GPP TS 24.008. The IE illustrated in Table 9 can be included in the Attach Request message shown in .

While several examples have been provided to illustrate communication from the UE to the 3GPP network to communicate the UE s ability to perform PS based SMS support via the Attach Request message this is not intended to be limiting. There are also additional ways in which this information could be communicated.

For example enhancements similar to those shown in Solutions A E can be made to the Routing Area Update RAU Request message described in 3GPP TS 24.008. One example of an RAU Request message is provided in . The enhancements to the RAU Request message can be used to communicate the MS s ability to perform PS based SMS support to the network. The message can be used to either request an update of the MS s location file or to request an IMSI attach for non GPRS services.

Several different types of IE can be used to communicate information in the RAU Request message from the UE to the SGSN. Four different examples are provided herein. These examples are not intended to be limiting. Any means may be used to communicate this message from the UE to the SGSN. The examples below are labeled Solution A through Solution D.

In this solution a new Additional Update Type IE is added to the RAU Request message. The purpose of the Additional Update Type IE is to provide UE PS only capability to the network enabling the network to be aware of the UE s intent to request CS registration only for obtaining SMS service via the CS domain. In one embodiment if the MS initiates the combined routing area updating procedure for GPRS services and SMS only service the MS can indicate SMS only in the additional update type IE.

The format of the Additional Update Type IE is shown in Tables 1 and 2 as previously described. The same format can be used to communicate the IE in the RAU Request message.

In this solution an existing MS Network Capability IE in the RAU Request message is extended to indicate UE PS only capability to the network. This enables the network to be aware of the UE s intent to request CS registration only for obtaining SMS service via the CS domain.

In accordance with one embodiment the MS Network Capability IE which is defined in section 10.5.5.12 of 3GPP TS 24.008 can be configured to include a PS based SMS Support message as follows

As illustrated in Table 10 a selected bit in a selected octet of the IE can be a PS based SMS Support PSSS message. In this example a Bit value of 0 provides the message that the MS does not support PS based SMS. A Bit value of 1 provides the message that the MS supports PS based SMS and does CS registration only to receive SMS service via the CS domain. The IE illustrated in Table 10 can be included in the RAU Request message shown in .

In this solution one spare bit of the UE Network Capability IE of the RAU Request message is used to indicate UE PS only capability to the network. This enables the network to be aware of the UE s intent to request CS registration only for obtaining SMS service via the CS domain. The changes to the UE Network Capability IE can be the same as those previously shown and described in Tables 5 and 6 of Solution C in the preceding paragraphs.

In this solution one spare bit of the Update Type IE of the RAU Request message is used to indicate the UE PS only capability to the network. This enables the network to be aware of the UE s intent to request CS registration only for obtaining SMS service via the CS domain.

In accordance with one embodiment the Update Type IE which is defined in section 10.5.5.18 of 3GPP TS 24.008 can be configured to include a PS based SMS Support message as follows.

As illustrated in Tables 11 and 12 a bit value of 0 in Bit of octet provides the message that the MS does not support PS based SMS. A bit value of 1 provides the message that the MS supports PS based SMS. The IE illustrated in Table 11 and 12 can be included in the RAU Request message shown in .

In order for a 2G 3G wireless network to provide PS based SMS support the network can support SMS communication over the Non Access Stratum NAS layer. The network can provide an indication to a UE MS if SMS over NAS is supported by the SGSN.

In addition in a GSM network when an MS is switched on the International Mobile Subscriber Identity IMSI attach procedure is executed. This procedure is used to connect the MS with the Mobile Switching Center MSC and Visitor Location Register VLR to register the MS in the network. With the ability to perform PS based SMS an MS UE may no longer need to connect with the MSC. Accordingly an IMSI attach procedure is not needed. When the network is informed that an MS supports PS based SMS support the network can then reject any IMSI attach request. The network can send an indication to the UE that the IMSI attach was rejected due to the PS only service provisioning based on the UE capability and therefore the UE shall not imitate any CS related procedures.

To accomplish this an SGSN network feature supported IE in the Attach Accept message defined in the 3GPP TS 24.008 specification can be enhanced to include additional information. An example of the Attach Accept message is provided in . A proposed solution referred to as Solution A is provided in the proceeding paragraphs. This example is not intended to be limiting. A variety of messaging means may be used to allow the 3GPP network to communicate with the MS to identify the network s ability to perform SMS via GPRS which is also referred to as SMS over NAS.

In this solution if an SGSN supports SMS over NAS then it can indicate the support to the UE in the Attach Accept message using a new Extended Network Feature Support IE. One example format of the new IE in the Attach Accept message is provided below.

The Extended Network Feature Support IE is to indicate whether certain features are supported by the network. The EPS Extended Network Feature Support IE can be coded as shown in Tables 13 and 14.

As illustrated in Tables 13 and 14 Bit in octet can be a PS based SMS Support PSSS message in the Extended Network Support IE. In this example a Bit value of 0 provides the message that the SMS over NAS is not supported by the SGSN. A Bit value of 1 provides the message that SMS over NAS is supported by the SGSN. The IE illustrated in Table 13 and 14 can be included in the Attach Accept message communicated from the SGSN to the MS. In one embodiment the network can use the Extended Network Support IE in order to inform the MS about the support of specific features such as the delivery of SMS via GPRS. The MS may use the GPRS SMS indication in the Attach Request in order to obtain SMS. If the network supports delivery of SMS via GPRS and this delivery is enabled then the network can include the Extended Network Support IE in the Attach Accept message illustrated in and set a GPRS SMS indicator.

While an example has been provided to illustrate communication from the EPS to the UE to communicate the network s ability to perform PS based SMS support via the Attach Accept message this is not intended to be limiting. There are also additional ways in which this information can be communicated.

For example enhancements similar to those shown in Solution A can be made to the Routing Area Update Accept Message described in section 9.4.15 of 3GPP TS 24.008. The RAU Update Accept message can be used by the network to indicate if SMS over NAS is supported by the SGSN. It also indicates that IMSI attach was rejected due to PS Only service provisioning based on UE capability and therefore the UE will not imitate any CS related procedures. The following enhancements can be made to the RAU Accept message in TS 24.008.

The RAU accept message is sent by the network to the MS to provide the MS with GPRS mobility management related data in response to the RAU request message. Table 9.4.15 3GPP of TS 24.008 provides an example. An example is also provided in . The RAU Accept message illustrated in includes a plurality of IEIs the type of each IEI listed and a reference for the IEI to 3GPP TS 24.008. The presence format and length of each IEI is also listed as can be appreciated.

If the SGSN supports the SMS over NAS feature then it can be indicated using the RAU Accept message. One proposed solution referred to as Solution A is provided in the proceeding paragraphs. This example is not intended to be limiting. A variety of messaging means including IEs listed in the RAU Accept message of may be used to allow the 3GPP network to communicate with the MS to identify the network s ability to perform SMS via GPRS also referred to as SMS over NAS. In addition newly defined IEs communicated using the RAU Accept message may also be used to communicate the network s ability to perform SMS via GPRS.

If the SGSN supports the SMS over NAS feature then it can be indicated to the UE in the RAU accept message using a new Extended Network Feature Supported IE. The format of the new Extended Network Feature Supported IE in the RAU Accept message can be the same as that described with respect to Tables 13 and 14 above. The network can also use the Extended Network Feature Supported IE in order to inform the MS about the support of specific features such as the delivery of SMS via GPRS GPRS SMS or implicitly by not sending it. The MS may use the GPRS SMS indication in order to obtain SMS.

An MS can perform a combined attach to attach for both GPRS services and non GPRS services such as a CS attach to an MSC. In one embodiment when an MS requests a combined attach while indicating support for PS based SMS and the network also supports SMS over NAS i.e. SMS via GPRS the network can send a message to the UE indicating that the connection to the MSC was not performed because it was not needed since both the MS and network support PS based SMS. This can be accomplished using a GPRS mobility management message GMM as described in the proceeding paragraphs. Any number of different GMM codes may be used.

In addition to the PSSS message from the SGSN to the MS a GPRS mobility management GMM message can be communicated from the SGSN to the MS. The GMM message may be communicated in an IE. The purpose of the GMM cause IE is to indicate the reason why a GMM request from the MS Is rejected by the network. If an MS indicates its support for PS only inside the Attach Request message and if the network supports SMS over Gs SMS over NAS and PS only subscription provisioning is set to PS only enforced or PS only Enabled it will reject the IMSI attach by sending a new GMM cause value.

In this case the GMM cause IE can be used to identify that an international mobile subscriber identity IMSI attach is rejected as PS only is supported and the SGSN network supports SMS over the NAS. Accordingly no IMSI attach is necessary as previously discussed. The GMM cause IE is a type 3 IE with 2 octets length. The GMM cause value is defined in section 10.5.5.14 of 3GPP TS 24.008. One example of a new GMM cause value is shown in Table 15 and in .

As shown in when bits to have a value of 01110000 respectively Cause value 112 then the IMSI attach is rejected as PS only Enabled. This cause is sent to the MS if the MS requests services that require the SGSN to perform combined MM procedures for the MS and to establish a Gs association. A cause code IMSI attach rejected as PS only Enabled can be communicated. When bits to have a value of 01110001 respectively Cause value 113 then the IMSI attach is rejected as PS only Enforced and the network supports SMS over Gs NAS . This cause is sent to the MS if the MS requests SMS services that the HPLMN of the MS is not able and willing to provide via the PS domain. When this occurs then the cause code IMSI attach rejected as PS only Enforced and network supports SMS over Gs NAS is provided as shown in . While GMM cause codes and have been provided as examples they are not intended to be limiting. Substantially any type of GMM cause code can be used to convey information from the network to the MS that explains that a non GPRS attachment is not performed because SMS via GPRS can be accomplished at both the MS and the network.

In another example embodiment a method for performing Packet Service PS only service provisioning in a wireless network is disclosed as depicted in the flow chart of . The method comprises receiving at a general packet radio service GPRS support node SGSN a request message from a user equipment UE indicating a PS only capability of the UE as shown in block and sending from the SGSN an accept message to the UE indicating whether SMS over a non access stratum NAS is supported by the SGSN as shown in block . The request message can be an attach request message or a routing area update request message. Similarly the accept message can be an attach accept message or a routing area accept message.

The method can further comprise indicating in an attach accept message or a routing area update accept message that an international mobile subscriber identity IMSI attach is only for SMS. A GRPS mobility management GMM message can be sent from the SGSSN to the UE. The GMM message can identify that an international mobile subscriber identity IMSI attach is rejected as PS only is supported and the GPRS network supports SMS over the NAS. The GMM message can be sent in one of an attach accept message and a routing area update accept message.

The method can further comprise receiving an attach request message or a routing area update request message wherein the attach request message or the routing area update request message comprises an information element IE having a selected bit set to indicate if the UE supports PS based SMS and performs the CS registration only to receive SMS service via the CS domain. The request message may be received from the UE in an Additional Update Type information element that is contained in one of the attach accept message and the routing area update accept message.

The method can further comprise sending the attach accept message or the routing area update accept message to the UE wherein the attach accept message or the routing area update accept message comprises an IE using a selected bit in the IE to identify if SMS over NAS is supported or is not supported by the SGSN network.

In another embodiment a method for adapting a wireless network for packet switched PS communication of a short message service SMS message is described as depicted in the flow chart of . The method comprises transmitting a request message from a user equipment UE to a serving general packet radio service GPRS support node SGSN indicating that the UE supports packet switched PS based short message service SMS and performs a circuit switched CS registration only to receive CS based SMS service as shown in block and receiving at the UE an accept message from the SGSN indicating that SMS over a non access stratum NAS is supported by the SGSN as shown in block .

The method can further comprise transmitting the request message wherein the request message is one of an attach request message and a routing area update request message. An additional operation can include sending from the SGSN a GPRS mobility management GMM message identifying a cause code that an international mobile subscriber identity IMSI attach is rejected as PS only is supported and the SGSN network supports SMS over the NAS.

The operation of transmitting the request message in the method can further comprise transmitting an attach request message or a routing area update request message wherein the attach request message or the routing area update request message comprises an information element IE having a selected bit set to indicate if the UE supports PS based SMS and performs the CS registration only to receive SMS service via the CS domain. The information element can be an additional update type information element that is communicated from the UE to the SGSN in one of the attach request message or the routing area update request message.

The operation of receiving the accept message at the UE from the SGSN in the method can further comprise receiving an attach accept message or a routing area update accept message at the UE wherein the attach accept message or the routing area update accept message comprises an IE using a selected bit in the IE to identify if SMS over NAS is supported or is not supported by the SGSN network.

In another embodiment a serving general packet radio service GPRS support node SGSN configured to communicate with a user equipment UE adapted for packet switched PS communication of a short message service SMS message is disclosed. The SGSN comprises a PS support module operable at the SGSN as shown in . The PS support module is configured to receive a request message from a UE indicating that the UE supports PS based SMS and performs a circuit switched CS registration only to receive SMS service via a CS domain and send an accept message to the UE indicating that SMS over a non access stratum NAS is supported by the SGSN. The request message can be one of an attach request message and a routing area update request message. The accept message can be one of an attach accept message and a routing area update accept message.

In one embodiment the PS support module can be further configured to transmit a GPRS mobility management GMM message identifying a cause code that an international mobile subscriber identity IMSI attach is rejected as PS only is supported and the SGSN network supports SMS over the NAS.

The operation of receiving the request message from the UE can further comprise receiving an attach request message or a routing area update request message wherein the attach request message or the routing area update request message comprises an additional update type information element IE having a selected bit set to indicate if the UE supports PS based SMS and performs the CS registration only to receive SMS service via the CS domain.

The operation of sending the accept message can further comprise sending an attach accept message or a routing area update accept message to the UE wherein the attach accept message or the routing area update accept message comprises an IE using a selected bit in the IE to identify if SMS over NAS is supported or is not supported by the SGSN network.

It should be understood that many of the functional units described in this specification have been labeled as modules in order to more particularly emphasize their implementation independence. For example a module may be implemented as a hardware circuit comprising custom VLSI circuits or gate arrays off the shelf semiconductors such as logic chips transistors or other discrete components. A module may also be implemented in programmable hardware devices such as field programmable gate arrays programmable array logic programmable logic devices or the like.

Modules may also be implemented in software for execution by various types of processors. An identified module of executable code may for instance comprise one or more physical or logical blocks of computer instructions which may for instance be organized as an object procedure or function. Nevertheless the executables of an identified module need not be physically located together but may comprise disparate instructions stored in different locations which when joined logically together comprise the module and achieve the stated purpose for the module.

Indeed a module of executable code may be a single instruction or many instructions and may even be distributed over several different code segments among different programs and across several memory devices. Similarly operational data may be identified and illustrated herein within modules and may be embodied in any suitable form and organized within any suitable type of data structure. The operational data may be collected as a single data set or may be distributed over different locations including over different storage devices and may exist at least partially merely as electronic signals on a system or network. The modules may be passive or active including agents operable to perform desired functions.

Various techniques or certain aspects or portions thereof may take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives or any other machine readable storage medium wherein when the program code is loaded into and executed by a machine such as a computer the machine becomes an apparatus for practicing the various techniques. In the case of program code execution on programmable computers the computing device may include a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. One or more programs that may implement or utilize the various techniques described herein may use an application programming interface API reusable controls and the like. Such programs may be implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the program s may be implemented in assembly or machine language if desired. In any case the language may be a compiled or interpreted language and combined with hardware implementations.

Reference throughout this specification to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus appearances of the phrases in one embodiment or in an embodiment in various places throughout this specification are not necessarily all referring to the same embodiment.

As used herein a plurality of items structural elements compositional elements and or materials may be presented in a common list for convenience. However these lists should be construed as though each member of the list is individually identified as a separate and unique member. Thus no individual member of such list should be construed as a de facto equivalent of any other member of the same list solely based on their presentation in a common group without indications to the contrary. In addition various embodiments and example of the present invention may be referred to herein along with alternatives for the various components thereof. It is understood that such embodiments examples and alternatives are not to be construed as defacto equivalents of one another but are to be considered as separate and autonomous representations of the present invention.

Furthermore the described features structures or characteristics may be combined in any suitable manner in one or more embodiments. In the following description numerous specific details are provided such as examples of materials fasteners sizes lengths widths shapes etc. to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize however that the invention can be practiced without one or more of the specific details or with other methods components materials etc. In other instances well known structures materials or operations are not shown or described in detail to avoid obscuring aspects of the invention.

While the forgoing examples are illustrative of the principles of the present invention in one or more particular applications it will be apparent to those of ordinary skill in the art that numerous modifications in form usage and details of implementation can be made without the exercise of inventive faculty and without departing from the principles and concepts of the invention. Accordingly it is not intended that the invention be limited except as by the claims set forth below.

