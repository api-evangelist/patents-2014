---

title: Network based video analytics through an application program interface (API) with metric triggered notifications
abstract: A video surveillance system ingests a video stream from a remotely located video capture device. An application programming interface (API) provides an interface for functions to interface between the video surveillance system and the remotely located video capture device. An analytics engine of the video surveillance system receives video sent through the API. The analytics engine compares an extracted metric from the video stream against at least one previously established value as part of assessing a previously established condition to generate either a TRUE or a FALSE result. When and only when a TRUE result is generated, is a notification action performed that conveys a notification over a network using internet protocol communications to a previously designated user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09277250&OS=09277250&RS=09277250
owner: INTERNATIONAL BUSINESS MACHINES CORPORATION
number: 09277250
owner_city: Armonk
owner_country: US
publication_date: 20141113
---
This application is a continuation of U.S. patent application Ser. No. 13 618 154 filed Sep. 14 2012 which was a continuation in part of U.S. patent application Ser. No. 12 180 431 filed Jul. 25 2008. Priority is claimed to both applications. Each of U.S. patent application Ser. No. 13 618 154 and U.S. patent application Ser. No. 12 180 431 is incorporated herein in its entirety.

The present invention relates to the field of video analytics and more particularly to performing real time analytics using a network processing solution able to directly ingest internet protocol IP camera video streams.

Intelligent video surveillance IVS plays a pivotal role in managing threats maintaining safety and assisting in security. IVS systems provide analytics alert first responders during an incident event and provide a deterrent to potential aggressors. Many intelligent video surveillance systems require intermediate systems such as video management systems VMSs to organize surveillance artifacts e.g. cameras locations footage etc . That is a local VMS is effectively a local hub which peripheral devices e.g. video cameras microphones surveillance sensors etc. connect. Local VMSs can process the received input can record timed video and can perform other programmatic tasks.

A number of network solutions IBM s Smart Surveillance Solution for example exist which provide services to enhance capabilities of existing VMSs. These network solutions can integrate data from multiple sensors and analog and digital cameras into one searchable system can permit searching of data according to a broad range of parameters e.g. time date alert object size location and color can share data across agencies countries and departments can permit information to be accessed and viewed remotely from a Web browser can prioritize critical events and store video associated with these events in long term storage and can analyze footage for perpetrator identification theft prevention and damage detection customer behavior etc.

Conventional network solutions are designed to only interact with VMSs. Many potential customers however do not possess a VMS and or would desire to minimize their video surveillance costs by retiring an existing VMS if an option existed to receive desired services directly from a network solution provider. For example many individuals and or entities desire capabilities of video analytics which is a capability generally lacking or non robust in all but the highest end VMSs. It would be beneficial if network solutions providing video processing capabilities such as analytics were made more accessible by eliminating the requirement which often functions as an entry barrier of possessing a VMS.

Embodiments of the present invention disclose a solution for performing real time analytics using input from internet protocol IP cameras directly connected to a network where the analytics are performed by a remotely located network element. In the solution a network element providing intelligent video surveillance IVS services is able to directly interact with raw output of a set of one or ore IP cameras. No video management system VMS intermediary is needed or is existent between the IP cameras and the remotely located IVS service provider. The IVS service provider can perform real time analytics a video stream directly ingested from one or more IP cameras. Real time analytics performed on the stream can include face recognition object tracking motion detection and the like.

In one embodiment an owner of an IP camera or an establishment where the IP cameras are deployed can establish user location specific profile settings. These profile settings can specify thresholds and elements to be examined by analytic processing operations and can establish user specific programmatic actions to be performed based the analytic processing results. Programmatic action can include for example notification alerts programmatic actions altering a localized system and the like. Profile settings can be arbitrarily complex which can include multiple IP camera video streams one or more analytics per stream and the like.

Embodiments of the invention permit complex digital signal processing DSP and video based analytics to be performed in real time or near real time by network based computers. For example these analytics can be performed as a Web service or other software service. Thus instead of requiring end users to host and purchase expensive video analytics hardware and software raw video captured at a customer location can be analyzed. This analysis can occur rapidly which permits real time responses on location.

For example a video capture device located in a store can capture a video of a theft which is undetected by in store personnel. This video can be streamed over a network where metrics are extracted during processing. These metrics can be compared against established values to determine that a consumer is attempting to shoplift an item by hiding it in his her closing without payment. Appreciably such detailed analytics can require substantial computing processing power and logic which is beyond the ability of all but the highest end security systems available today. Once the shoplifting attempt is determined a TRUE comparison result can be generated which triggers a programmatic action to immediately inform the store of the ongoing theft. When a FALSE comparison result no shoplifting or other adverse event detected by video analysis no action or message is sent. The store owners can be informed through a message notification call or other electronic means. Thus the programmatic action can be as simple as sending a message. The message may include a portion of the video showing the theft and or an analysis of what occurred which provides proof to the responder of the incident.

In another example a street level camera can capture video of an accident. This raw video can be streamed over the network for processing. The processing can automatically indicate an incident has occurred which evaluates as a TRUE comparison result. The programmatic action triggered can be to provide the accident video to a device of a responding officer who can utilize this information for his her report. In another embodiment a report can be partially generated completed automatically based on video analytics which can save a responding officer a considerable amount of time. Additionally programmatic actions can immediate contact responders such as an ambulance service to ensure that help arrives on a scene as rapidly as possible. Similar analytic actions can detect a fire in progress evaluated as a TRUE condition which triggers a programmatic action of informing fire department responders.

As will be appreciated by one skilled in the art aspects of the present invention may be embodied as a system method or computer program product. Accordingly aspects of the present invention may take the form of an entirely hardware embodiment an entirely software embodiment including firmware resident software micro code etc. or an embodiment combining software and hardware aspects that may all generally be referred to herein as a circuit module or system. Furthermore aspects of the present invention may take the form of a computer program product embodied in one or more computer readable medium s having computer readable program code embodied thereon.

Any combination of one or more computer readable medium s may be utilized. The computer readable medium may be a computer readable signal medium or a computer readable storage medium. A computer readable storage medium may be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus or device or any suitable combination of the foregoing. More specific examples a non exhaustive list of the computer readable storage medium would include the following an electrical connection having one or more wires a portable computer diskette a hard disk a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or Flash memory an optical fiber a portable compact disc read only memory CD ROM an optical storage device a magnetic storage device or any suitable combination of the foregoing. In the context of this document a computer readable storage medium may be any tangible medium that can contain or store a program for use by or in connection with an instruction handling system apparatus or device.

A computer readable signal medium may include a propagated data signal with computer readable program code embodied therein for example in baseband or as part of a carrier wave. Such a propagated signal may take any of a variety of forms including but not limited to electro magnetic optical or any suitable combination thereof. A computer readable signal medium may be any computer readable medium that is not a computer readable storage medium and that can communicate propagate or transport a program for use by or in connection with an instruction handling system apparatus or device.

Program code embodied on a computer readable medium may be transmitted using any appropriate medium including but not limited to wireless wireline optical fiber cable RF etc. or any suitable combination of the foregoing. Computer program code for carrying out operations for aspects of the present invention may be written in any combination of one or more programming languages including an object oriented programming language such as Java Smalltalk C or the like and conventional procedural programming languages such as the C programming language or similar programming languages. The program code may execute entirely on the user s computer partly on the user s computer as a stand alone software package partly on the user s computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario the remote computer may be connected to the user s computer through any type of network including a local area network LAN or a wide area network WAN or the connection may be made to an external computer for example through the Internet using an Internet Service Provider .

Aspects of the present invention are described below with reference to flowchart illustrations and or block diagrams of methods apparatus systems and computer program products according to embodiments of the invention. It will be understood that each block of the flowchart illustrations and or block diagrams and combinations of blocks in the flowchart illustrations and or block diagrams can be implemented by computer program instructions.

These computer program instructions may be provided to a processor of a general purpose computer special purpose computer or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus create means for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

These computer program instructions may also be stored in a computer readable medium that can direct a computer other programmable data processing apparatus or other devices to function in a particular manner such that the instructions stored in the computer readable medium produce an article of manufacture including instructions which implement the function act specified in the flowchart and or block diagram block or blocks.

The computer program instructions may also be loaded onto a computer other programmable data processing apparatus or other devices to cause a series of operational steps to be performed on the computer other programmable apparatus or other devices to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide processes for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

In scenario IP cameras can be connected to intelligent video surveillance system via communication port . Communication port can include physical connections such as Ethernet twisted pair wireless communication ports and the like. Physical layer components and network technologies can vary based on camera port and network configurations. Raw video stream can be conveyed from property via network directly to IVS system without being treated by a video management system.

Engine can receive and decode raw video stream prior to performing analytics on stream . Default analytics established by computing environment and IVS system can be combined with owner settings to provide customized monitoring for property . For instance to reduce the likelihood of false alerts from facial recognition owner can provide portrait pictures of authorized personnel for property . Analytics engine can be used to detect incident events which can include motion detection object tracking presence detection and the like.

Mobile computing device can be a portable hardware software device able to receive alerts and communicate with computing environment . Device can include mobile phone personal digital assistant PDA laptop ultra mobile computing devices and the like. The device need not be a portable device but can be any device e.g. a personal computer a home telephone etc. able to receive communicated notifications.

Computing environment can include a set of software components able to provide monitoring and analysis functionality. For example environment can be a JAVA 2 ENTERPRISE EDITION J2EE environment such as IBM s WEBSPHERE. Functionality can be embodied as Web services which can include remote control monitoring reporting and the like. Components can include intelligent video surveillance system and analytics engine . In one embodiment IVS system can be implemented within a middleware software platform.

In scenario an IP camera can convey a raw video stream to a smart surveillance engine SSE . SSE utilizing DIRECT SHOW filter can process the raw video stream received from IP camera . DIRECTSHOW filter can be a software application programming interface API able to decode Motion Picture Experts Group MPEG Motion Joint Photographic Expert Group M JPEG and the like. Decoded video streams can be analyzed in real time by SSE to provide notifications and alerts to appropriate entities. Middleware for Large Scale Surveillance MILS server can provide consolidation management and access for video streams processed by SSE . In one embodiment MILS server can be a JAVA 2 ENTERPRISE EDITION J2EE software platform. Metadata exported from video streams can be indexing and managed using database .

As used herein IP cameras can include cameras able to convey a video stream to an IVS system using one or more internet protocols. The IVS system can be one or more component systems lacking an intermediate video management system. System can be able to record monitor perform real time analytics and reporting on IP camera streams. Real time analytics can encompass real time and near real time analysis of video streams.

IP camera which can include volatile memory and transceiver can convey raw video stream to IVS . Video information received from camera optics can be temporarily stored in volatile memory prior to transmission. Transmission of video stream to IVS can be facilitated by transceiver which can convey stream via network . In one embodiment raw video stream can include an H.264 MPEG4 encoded video stream.

IVS can receive and process raw video stream to condition the stream for analytics. Processing can be predicated on camera modules which can allow IVS to interface with vendor specific camera configurations. In one embodiment modules can be a plug in based framework allowing vendor specific application programming interfaces APIs to interoperate with IVS . Modules can enable IVS to perform actions such as query camera data enable remote control of cameras and the like.

Once processed video stream can be analyzed and incident events can be identified. Analytics engine can perform one or more examinations of video stream . In one embodiment one or more frames of video stream can be analyzed based on one or more specialized algorithms. Algorithms can include but is not limited to face recognition path tracking object tracking motion detection presence detection and the like. Extracted data from video stream can be stored in data store . Data can include but is not limited to attribute data incident information actions taken in response to incident events and the like. For instance attribute table data can be used to index and search processed video streams quickly.

Profile manager can permit user and or camera specific settings to be maintained for a set of IP cameras . For instance analytics such as object tracking and license plate identification can be enabled for cameras surveilling a loading dock at a warehouse. Manager can be utilized to maintain user notification settings which can vary based on camera analytics incident events and the like.

Notification engine can be used to provide alerts to users authorities first responders and the like. When an incident event occurs notification engine can communicate messages to one or more user configured devices. Further engine can be used to manage varying degrees of critical alerts. For instance when motion is detected in a non critical area of surveillance a text exchange message can be delivered to a user notifying of a possible presence.

Communication server can enable IVS to execute one or more communication functions in response to real time analytics performed. Server can include but is not limited to a text exchange server telephony server facsimile server and the like. Although presented as a separate entity communication server functionality can be expressed in IVS system .

As used herein IP cameras can include cameras able to convey a video stream to an IVS system using one or more internet protocols. The IVS system can be one or more component systems lacking an intermediate video management system able to record monitor perform real time analytics and reporting. Real time analytics can encompass real time and near real time analysis of video streams. The analytics which need not occur in real time can also be performed after an arbitrary delay.

In step one or more IP cameras can establish a direct connection to an IVS system. In step the IVS system can identify a raw video stream originating from an IP camera. In step the raw video stream from the IP camera can be received. In step the raw video stream can be decoded and processed. In step real time analytics can be performed on the video stream based on one or more processing criteria and or user profile settings. Criteria settings can include face recognition path tracking object tracking motion detection and the like. In step if analytics identifies an incident event has occurred the method can proceed to step else return to step . In step a programmatic action can be performed by the IVS system. Actions can include notification and or alerting appropriate entities altering a localized system state e.g. zooming panning a camera adjusting analytics and the like. In step the IVS system can optionally log the incident event in a system log user history log and the like.

The flowchart and block diagrams in the illustrate the architecture functionality and operation of possible implementations of systems methods and computer program products according to various embodiments of the present invention. In this regard each block in the flowchart or block diagrams may represent a module segment or portion of code which comprises one or more executable instructions for implementing the specified logical function s . It should also be noted that in some alternative implementations the functions noted in the block may occur out of the order noted in the figures. For example two blocks shown in succession may in fact be processed substantially concurrently or the blocks may sometimes be processed in the reverse order depending upon the functionality involved. It will also be noted that each block of the block diagrams and or flowchart illustration and combinations of blocks in the block diagrams and or flowchart illustration can be implemented by special purpose hardware based systems that perform the specified functions or acts or combinations of special purpose hardware and computer instructions.

The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of the invention. As used herein the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will be further understood that the terms comprises and or comprising when used in this specification specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof.

The corresponding structures materials acts and equivalents of all means or step plus function elements in the claims below are intended to include any structure material or act for performing the function in combination with other claimed elements as specifically claimed. The description of the present invention has been presented for purposes of illustration and description but is not intended to be exhaustive or limited to the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art without departing from the scope and spirit of the invention. The embodiment was chosen and described in order to best explain the principles of the invention and the practical application and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated.

