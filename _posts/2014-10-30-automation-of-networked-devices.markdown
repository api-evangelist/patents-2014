---

title: Automation of networked devices
abstract: A networked device management system is in direct communication with a user's networked devices. Alternatively, the networked device management system is in communication with the networked devices via a controller located in proximity to the networked devices. A networked device is an addressable device that is capable of communicating with networked device management system. The networked device management system allows users to control the state of the user's networked devices that are registered with the networked device management system. That is, the networked device management system affords user control over the functional capabilities of the user's networked device. Networked devices of a user may be located in different geographical locations yet are still user controllable via the networked device management system. Thus, a user does not need to be in the proximity of the networked device in order to control the functional capabilities of the networked device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09413606&OS=09413606&RS=09413606
owner: Dropbox, Inc.
number: 09413606
owner_city: San Francisco
owner_country: US
publication_date: 20141030
---
This application claims the benefit of U.S. Patent Application No. 61 989 907 filed on May 7 2014 which is incorporated by reference in its entirety.

A person s home may include many devices. Conventional home automation techniques allow a user to configure the devices such that they may intercommunicate with one another to create a unified automated home. However conventional home automation techniques require the usage of proprietary technology and protocols to establish the unified automated home that allows the devices to communicate with one another. Furthermore conventional home automation techniques only allow user control of devices colocated within the user s home but do not allow user control of devices located outside of the user s home.

A networked device management system allows user control of registered networked devices. A networked device is an addressable device that is capable of communicating with networked device management system. For example the networked device management system affords user control over the functional capabilities of the user s networked device via the networked management system. Thus a user does not need to be in the proximity of the networked device in order to control the functional capabilities of the networked device. For example the user may be located at his or her office but may turn on or off a networked device such as a light switch in the user s home.

The networked devices do not need to be colocated in a same geographical location to be controlled via the networked device management system. For example a networked device may be located at the user s office and another at the user s home. Although the two networked devices have different locations the user may still control the functional capabilities of the different networked devices via the networked device management system.

In one embodiment the networked device management system publishes settings of functional capabilities of networked devices registered with the system. A user may view the published settings for a networked device of another user and request for the networked device management system to replicate the published settings onto the user s networked device. The networked device management system receives the request and instructs the user s networked device to modify its settings according to the published settings of the other user.

Features and advantages described in this summary and the following detailed description are not all inclusive. Many additional features and advantages will be apparent to one of ordinary skill in the art in view of the drawings specification and claims hereof.

The figures depict an embodiment for purposes of illustration only. One skilled in the art will readily recognize from the following description that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles described herein.

Network enables communication among the entities connected to it. In one embodiment network is the Internet and uses standard communications technologies and or protocols. Thus network can include links using technologies such as Ethernet 802.11 worldwide interoperability for microwave access WiMAX 3G Long Term Evolution LTE digital subscriber line DSL asynchronous transfer mode ATM InfiniBand etc. Similarly the networking protocols used on network can include multiprotocol label switching MPLS the transmission control protocol Internet protocol TCP IP the User Datagram Protocol UDP the hypertext transport protocol HTTP the simple mail transfer protocol SMTP the file transfer protocol FTP etc. The data exchanged over the network can be represented using technologies and or formats including the hypertext markup language HTML the extensible markup language XML etc. In addition all or some of links can be encrypted using conventional encryption technologies such as the secure sockets layer SSL transport layer security TLS virtual private networks VPNs Internet Protocol security IPsec etc. In one embodiment network may include but is not limited to any combination of a local area network LAN a metropolitan area network MAN and a wide area network WAN . In another embodiment the entities use custom and or dedicated data communications technologies instead of or in addition to the ones described above.

Each networked device is an addressable device that is capable of communicating with networked device management system via network and performs an action in response to receiving instructions from networked device management system . In particular each networked device is individually capable of receiving instructions sent by networked device management system and updating its state based on the instructions. In one embodiment the state of a networked device describes whether networked device is on or off or state may describe the current settings of one or more functional capabilities of networked device . For example networked device A may be a light switch configured to toggle between an on state and an off state in response to instructions from NDMS . Other examples of networked devices include home appliances e.g. refrigerator coffee maker toaster freezer oven and microwave an electronic thermostat a sprinkler system an automobile a pool heater a hot tub a personal computer a television a television set top box a mobile phone a tablet and a personal digital assistant PDA .

In one embodiment the user of networked devices does not need to be in proximity to networked devices to control the state of networked devices since the user controls networked device via NDMS . Furthermore networked devices of a user may be located at different geographic locations. Thus networked devices do not need to be colocated at a single geographical location. For example networked devices A B and C may represent the first user s home appliances located at the first user s home whereas networked device D is an electronic thermostat located at the first user s office . The first user may be located at a geographical location other than home and office but can still control the state of networked devices A B C and D.

In one embodiment each client device is a computer system capable of communicating with NDMS via network . Examples of client device include a personal computer a mobile phone a tablet a personal digital assistant PDA or a laptop. As shown in client device includes client application . Client application is a computer program stored on client device that allows the user to control operation of the user s networked devices via NDMS .

Client application includes a user interface that displays a list of the user s networked devices . Upon user selection of a networked device from the list client application displays various functional capabilities of networked device and the current state of each functional capability. For example if networked device A is a light switch in home of the first user client application may display an on off capability and an indication of whether the light switch is currently on or off. In another example networked device E is a refrigerator in the first user s office . Accordingly client application may display capabilities of the refrigerator such as refrigerator temperature control freezer temperature control and ice type making capability along with the current state of each capability such as 35 F. 0 F. and cubed ice respectively. Furthermore client application allows the user to establish permission settings for the user s networked devices as further described below.

Networked device management system NDMS is a computer system that controls networked devices . NDMS functions as a configuration and control channel for networked devices . NDMS uses an application programming interface API of system to communicate with networked devices .

As shown in NDMS includes registration module state module and networked device database . As is known in the art the term module refers to computer program logic utilized to provide the specified functionality upon execution by NDMS . Other embodiments of NDMS can have different and or other modules than the ones described here and that the functionalities can be distributed among the modules in a different manner.

Registration module registers networked devices with NDMS . Registration of networked devices with NDMS allows user s to control the state of networked devices via NDMS . Registration module registers networked device in response to a user request from client device . The user requesting to register networked device may be the owner of networked device .

In one embodiment registration module receives a request from client device for a registration token to register networked device with NDMS . In response to the request from client device registration module generates a registration token. In one embodiment the registration token is a one time credential used by networked device being registered to connect to NDMS . The registration token may only be used once and is valid for a limited period of time e.g. 10 minutes before the registration token expires. Alternatively the registration token is valid until submitted b networked device for registration.

Registration module sends the registration token to client device that submitted the request to register networked device . Client device forwards the registration token received from registration module to networked device . Registration module then receives a registration request from networked device that includes the registration token generated by the registration module . The registration request may also include metadata associated with networked device as further described below.

Registration module compares the registration token received from networked device with valid registration tokens. In one embodiment a registration token is valid if it has not expired and has been used only once in a registration request received from networked devices . That is if a registration token is submitted to registration module multiple times it is invalid.

Registration module determines the validity of the registration request based on whether the registration token received from networked device is valid. If registration module determines the registration token is invalid registration module denies the registration request sent by networked device . If registration module determines the registration token is valid registration module marks the registration token as no longer being valid and registers networked device using the metadata included in the registration request.

In one embodiment the metadata included in the registration request sent by networked device describes the device s capabilities. The metadata included in the registration request is dependent on the device type of networked device . For example metadata for a light switch is different than metadata for a refrigerator. The light switch may only include capabilities of being in an on state or an off state. In contrast a refrigerator may have capabilities including refrigerator temperature control freezer temperature control ice type e.g. cube or crushed different energy modes e.g. power saving mode or performance mode door lock settings etc. The metadata included in the registration request from networked device may also include current setting information for each of the device capabilities of networked device . The metadata may also include device information such as a device model number and a serial number that is unique to networked device .

Registration module registers networked devices in networked device database . Networked device database stores information about networked devices including metadata included in the registration requests from networked devices . In one embodiment networked device database stores the information in a set of tables where each table is a collection of records. The set of tables stored in networked device database include a metadata table comprising metadata of networked devices that are registered with NDMS . The metadata table describes the functional capabilities of networked devices registered with NDMS .

The metadata table includes a plurality of metadata records where each metadata record is associated with a particular networked device . A metadata record for networked device includes a set of fields each with a name. The fields include capability fields. Each capability field has a name indicative of a functional capability of networked device . For example a metadata record for a refrigerator may include capability fields of refrigerator temperature freezer temperature ice type and energy mode. The metadata record for networked device may also include a serial number field indicating the serial number of the networked device . In one embodiment the metadata for networked device can be modified by a user via client application on client device .

Networked device database may also include a state table that describes the current state of each networked device . The state table includes a collection of state records that are each associated with a particular networked device . A state record for networked device is joined with the metadata record for the networked device and includes a plurality of state fields indicating values that represent the current setting of each functional capability for networked device specified in the metadata record for networked device . Continuing the refrigerator example above the state fields may indicate values describing the user s refrigerator temperature setting e.g. 33 F. freezer temperature setting e.g. 0 F. ice type setting e.g. cubed and energy mode setting e.g. power saving .

Networked device database may also include a permission table. The permission table describes permission settings associated with each networked device . The permission table includes a collection of permission records that are each associated with a particular networked device . A permission record for networked device is joined with the metadata record and state record for networked device and includes a plurality of state fields indicating permission settings of each capability for networked device .

In one embodiment permission settings for controlling the functional capabilities of networked device are user based and are established by an owner of networked device . The permission settings for networked device include a primary user associated with networked device and one or more additional users that are granted permission to control networked device .

The permission settings for networked device include for each user a level of device control afforded to the user. The level of control may include full control of all the functional capabilities of networked device indicated in the metadata table. The level of control may also be limited such that only a subset of the functional capabilities indicated in the metadata are available to the user.

For example the permissions setting for networked device A may grant the first user associated with client device A full control of all the functional capabilities of networked device A given that the first user is the owner of networked device A. The permissions setting for networked device A may also grant the second user associated with client device B limited control of the functional capabilities of networked device A. Continuing the refrigerator example the second user may only be allowed to control the ice type setting of the refrigerator via client device B based on the permission settings for networked device A.

In one embodiment permission settings for networked device are dependent on the device type of client device that is requesting control of networked device . Particular types of client devices may be deemed more secure than other types of client devices and thus afforded more control compared to types of devices that are deemed less secure. For example in one embodiment client devices that connect to the NDMS via a LAN are granted a higher level of security than other client devices that connect to NDMS via the Internet. Thus the client devices connected to the NDMS via a LAN may be granted full access to the functional capabilities of networked device whereas client devices connected to NDMS via the Internet may be granted limited access to the functional capabilities of networked device .

In one embodiment permission settings for networked devices are dependent on the current geographic location of client device that is requesting control of networked devices . The geographic location of client device may be determined based on the IP address of client device . Alternatively NDMS may query client device for its current geographic location. Particular geographic locations of client devices may be deemed more secure than other geographic locations and thus client devices located at more secure locations are afforded more control. For example client device A may be afforded more control of networked device A B and C if client device A is located at home versus at office because the user s home has a higher level of security than the user s office .

State module sends instructions via network to networked devices to change the state of one or more functional capabilities. State module receives a request from client device to change the state of networked device . The request includes an indication of the particular networked device associated with the request and a desired state of a functional capability of networked device . For example state module may receive a request from client device A to change the refrigerator temperature i.e. the functional capability of networked device B from 33 F. to 30 F.

Responsive to receiving the request from client device to change the state of networked device state module accesses networked device database to identify the state record associated with networked device indicated in the request. State module identifies within the state record the state field associated with the functional capability of the networked device requesting to be changed. State module changes the value of the state field according to the request. By changing the value of the state field state module logs the updated state of the functional capability of networked device . Continuing the refrigerator temperature example state module identifies the state record associated with networked device B and changes the value of the refrigerator temperature state field from 33 F. to 30 F.

Once the state of the functional capability of networked device is updated in networked device database state module sends an instruction to networked device to update its state according to the desired state specified in the request. For example the state module may send an instruction to networked device B to change its refrigerator temperature from 33 F. to 30 F. In one embodiment networked device sends a confirmation to NDMS confirming whether the state of the functional capability has been changed.

In one embodiment state module determines whether client device submitting the request to change the state of networked device is granted permission to alter the state of networked device . State module makes the determination prior to changing the state of the networked device in networked device database . State module may access the permission settings of networked device from networked device database responsive to receiving the request and determines a level of control afforded to client device . The level of control is determined by state module by comparing the permission settings with the context of the request from client device . In one embodiment the context of the request describes information about the client device that submitted the request such as a name of the user using client device a geographic location of client device and or a device type of client device . The comparison indicates the level of control granted to client device based on the permission settings for networked device .

State module receives notifications from networked devices indicative of state changes made by users at networked devices . If a user updates the state of networked device at networked device networked device sends a notification to state module that indicates the state change. In one embodiment the notification indicates the functional capability altered by the user and the setting for the functional capability. Consider the example where networked device A is a light switch. If the user changed the state of the light switch from off to on networked device A sends a notification to state module indicating the change from the off state to the on state. Responsive to receiving the notification state module accesses networked device database to update the state record for networked device to reflect the state change at networked device .

In one embodiment NDMS publishes settings information of networked devices specified in networked device database via a website. The settings information of networked devices are the current state information of networked devices in networked device database . The current state information may only be published if permission is granted by owners of networked devices . Owners of networked devices may allow NDMS to publish the current state information of networked devices to allow others that own the same networked devices to replicate the settings onto their networked devices via NDMS . For example a user of NDMS may purchase the same light switch as another user and may request that NDMS replicate the published state information of the other user s light switch onto the light switch purchased by the user.

NDMS may include in the website a list of different types of networked devices such as light switches refrigerators sprinkler systems televisions etc. Each included type of networked device includes a model list of particular supported models of that device type. Each model includes one or more different setting configurations shared by other users of NDMS .

State module receives a request from client device to view published device settings of networked device of interest. State module sends the settings of those networked device to client device for display on client application responsive to the request. If the user wants to replicate the settings of networked device onto his or her networked device state module receives a replication request from client device . In one embodiment the replication request includes an indication of the user s networked device in which the settings will be replicated. For example networked device E of the second user may be a refrigerator that is the same model as networked device B of the first user. The second user may view settings of networked devices B via client application B on client device B and may request to replicate the settings of networked device B onto networked device E.

Responsive to the replication request state module accesses networked device database to identify the state record of networked device specified in the replication request. State module changes values of state fields of the identified networked device to match the published settings indicated in the replication request. State module then sends an instruction to networked device to update its state.

Some networked devices may lack the ability to communicate directly with NDMS . For example some networked devices may be configured to communicate with a controller using a different or proprietary protocol or they may have insufficient programming logic to execute some of the functions described here. In various embodiments a networked device controller acts as a bridge between these types of networked devices and NDMS . is a block diagram of networked device management system environment according to an alternative embodiment. As shown in home location includes networked device controller . Networked device controller is a local proxy controller within home location . Networked device controller controls operation of networked device A B and C included in home based on instructions from NDMS . In networked device management environment shown in networked devices in home communicate directly with NDMS to receive instructions regarding state change. In contrast in networked device management environment shown in networked device controller communicates with NDMS to receive instructions regarding state change networked devices in home . Networked device controller communicates the instructions received from NDMS to networked devices located at home to update the state of networked devices according to the instructions. Thus NDMS communicates with networked devices located at the user s home through networked device controller .

If the user changes the state of networked device at networked device networked device sends a notification to networked device controller indicative of the state change. Networked device controller sends a notification to NDMS indicative of the state changed at networked device and NDMS updates the state record for networked device to reflect the state change. Alternatively the user may change the state of networked device at networked device controller which causes networked device controller to send a notification to NDMS that indicates the state change of networked device .

In one embodiment networked device controller communicates with networked devices located at home via a proprietary communication protocol e.g. X10 . The communication protocol used by networked devices A B C to communicate with networked device controller is different than the communication protocol used by networked device controller to communicate with NDMS . Networked device controller may use the API described above to communicate with NDMS to control the functional capabilities of networked devices . Thus a combination of multiple communication protocols may be used to control networked devices located at the user s home .

Client device A receives a user request on client application to register networked device A with NDMS . In response client device A requests a registration token for networked device A from NDMS . NDMS generates a registration token responsive to receiving the request. As described above the registration token is a one time credential to connect to NDMS .

NDMS sends the registration token to client device A. Client device A sends the registration token to networked device A. Networked device A sends a registration request including the registration token to NDMS . The registration request may also include metadata associated with networked device A describing device capabilities of networked device A. NDMS registers networked devices A based on the registration token.

Client device A receives a user request on client application to register networked device A with NDMS . In response client device A requests a registration token for networked device A from NDMS . NDMS generates a registration token responsive to receiving the request. NDMS sends the registration token to client device A. Client device A sends the registration token to networked device controller via the API of the networked device management system . Networked device controller sends the registration token received from NDMS to networked device A. Networked device controller may communicate with networked device A via a communication protocol different than the communication protocol used by networked device controller to communicate with NDMS .

Networked device A sends a registration request including the registration token to networked device controller . The registration request may also include metadata associated with networked device A that describes device capabilities of networked device A. Networked device controller sends the registration request including the registration token to NDMS . NDMS registers networked device A based on the registration token.

Client device A receives a request to change the state of networked device A via client application on client device . The request may include one or more values of functional capabilities of networked device A requesting to be changed. For example the first user may request to change the refrigerator temperature of networked device A. Client device A sends a request to change the state of networked device A to NDMS . NDMS updates the state of networked device A based on the request. NDMS may update the state of networked device by updating state field values of the functional capabilities indicated in the request. Networked device management system sends an instruction to networked device A to change its state based on the request. Networked device A changes its state based on the instruction. For example networked device A may change its refrigerator temperature from 33 F. to 30 F. based on the instruction.

Client device A receives a request to change the state of networked device A via client application on client device . The request may include one or more values of functional capabilities of networked device A requesting to be changed. Client device A sends a request to change the state of networked device to NDMS . NDMS updates the state of networked device A based on the request.

Networked device management system sends an instruction to networked device controller to change the state of networked device A based on the request. NDMS may communicate with networked device controller via the API of NDMS . Networked device controller sends the instruction to the networked device A to change its state based on the request. Networked device controller may communicate with networked device A via a communication protocol different than the communication protocol used by networked device controller to communicate with NDMS . Networked device A changes its state based on the instruction. For example networked device A may change its refrigerator temperature from 33 F. to 30 F. based on the instruction.

Client device B receives a request to change the state of networked device A via client application B on client device B. As mentioned above client device B is associated with the second user but networked device A is owned by the first user associated with client device A. The request may include one or more values of functional capabilities of networked device A requesting to be changed. Client device B sends a request to change the state of networked device A to NDMS .

NDMS determines permissions afforded to client device B of the second user to control networked device A of the first user. The owner of networked device A i.e. the first user may establish permissions based on the particular user attempting to control networked device A geographic location of client device B and or device type of client device B. If the NDMS determines that client device is granted permission to change the state of networked device A NDMS updates the state of networked device A based on the determination. Otherwise NDMS denies the request.

Networked device management system sends an instruction to networked device A to change its state based on the request. Networked device A changes its state based on the instruction. For example networked device A may change its refrigerator temperature from 33 F. to 30 F. based on the instruction.

Client device B receives a request to change the state of networked device A via client application B on client device B. Note that client device B is associated with the second user but networked device A is owned by the first user associated with client device A. The request may include one or more values of functional capabilities of networked device A requesting to be changed. Client device B sends a request to change the state of networked device A to NDMS .

NDMS determines permissions afforded to client device B of the second user to control networked device A of the first user as previously described above. If the NDMS determines that client device B is granted permission to change the state of networked device A NDMS updates the state of networked device A based on the determination. Otherwise NDMS denies the request.

Networked device management system sends an instruction to networked device controller networked device A to change its state based on the request. NDMS may communicate with networked device controller via the API of NDMS . Networked device controller sends the instruction to the networked device A to change its state based on the request. Networked device controller may communicate with networked device A via a communication protocol different than the communication protocol used by networked device controller to communicate with NDMS . Networked device A changes its state based on the instruction. For example networked device A may change its refrigerator temperature from 33 F. to 30 F. based on the instruction.

Note that in embodiments described above with respect to elements in addition to those shown in may be included without loss of generality.

The foregoing described embodiments have been presented for the purpose of illustration they are not intended to be exhaustive or to limiting to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure.

Some portions of this description describe the embodiments in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations while described functionally computationally or logically are understood to be implemented by computer programs or equivalent electrical circuits microcode or the like. Furthermore described modules may be embodied in software firmware hardware or any combinations thereof.

Any of the steps operations or processes described herein may be performed or implemented with one or more hardware or software modules alone or in combination with other devices. In one embodiment a software module is implemented with a computer program product comprising a computer readable medium containing computer program code which can be executed by a computer processor for performing any or all of the steps operations or processes described.

Embodiments of the invention may also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes and or it may include one or more general purpose computing devices selectively activated or reconfigured by one or more stored computer programs. A computer program may be stored in a non transitory tangible computer readable storage medium or any type of media suitable for storing electronic instructions which may be coupled to a computer system bus. Furthermore any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.

Described embodiments may also relate to a product that is produced by a computing process described herein. Such a product may include information resulting from a computing process where the information is stored on a non transitory tangible computer readable storage medium and may include any embodiment of a computer program product or other data combination described herein.

Finally the language used in the specification has been principally selected for readability and instructional purposes and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the invention be limited not by this detailed description but rather by any claims that issue on an application based hereon. Accordingly the disclosure of the embodiments of the invention is intended to be illustrative but not limiting of the scope of the invention which is set forth in the following claims.

