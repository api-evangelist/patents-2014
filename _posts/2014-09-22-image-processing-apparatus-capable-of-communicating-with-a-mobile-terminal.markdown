---

title: Image processing apparatus capable of communicating with a mobile terminal
abstract: An image processing apparatus for switching its state between a first state and a second state includes: a processing unit; a communicator for communicating with a mobile terminal; a storage storing a terminal identifier, first orientation information, and second orientation information; and a controller. The controller successively receives orientation information indicating an orientation of the mobile terminal from the mobile terminal through the communicator. When the controller successively receives the first orientation information and the second orientation information from the mobile terminal identified by the terminal identifier, the controller switches the state of the image processing apparatus from one of the first state and the second state to another of the first state and the second state.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09467591&OS=09467591&RS=09467591
owner: BROTHER KOGYO KABUSHIKI KAISHA
number: 09467591
owner_city: Nagoya-Shi, Aichi-Ken
owner_country: JP
publication_date: 20140922
---
The present application claims priority from Japanese Patent Application No. 2013 197769 which was filed on Sep. 25 2013 the disclosure of which is herein incorporated by reference to its entirety.

The present invention relates to an image processing apparatus which lifts restrictions on processing by login.

There has been known an image processing apparatus having a function hereinafter it is referred to as Secure Function in which restrictions on processing that is executable in the image processing apparatus are lifted by performing login. For example there is known an image processing apparatus in which input of a user ID and a password allows the image processing apparatus to execute processing that is permitted to a user assigned with the user ID. Therefore the image processing apparatus can set processing whose execution is permitted to all users and processing whose execution is permitted to only specific users.

In the conventional image processing apparatus however input of a user ID and a password is required in every usage resulting in lower operability. Further there is a possibility that a leakage of the user ID and the password unfortunately enables a user having no authority of execution to execute the specific processing.

The present invention has been developed to provide a highly secure image processing apparatus capable of placing or lifting restrictions on executable processing with intuitive operation.

The present invention provides an image processing apparatus configured to switch a state thereof between a first state and a second state. The image processing apparatus includes a processing unit configured to perform processing for image data processing performed in the first state being different from processing performed in the second state a communicator configured to communicate with a mobile terminal a storage configured to store a terminal identifier for identifying the mobile terminal first orientation information indicating a first orientation of the mobile terminal and second orientation information indicating a second orientation of the mobile terminal which is different from the first orientation in association with each other and a controller. The controller is configured to successively receive orientation information indicating an orientation of the mobile terminal from the mobile terminal through the communicator and switch the state of the image processing apparatus from one of the first state and the second state to another of the first state and the second state when the controller successively receives the first orientation information and the second orientation information from the mobile terminal identified by the terminal identifier the first orientation information and the second orientation information being stored in the storage in association with the terminal identifier.

The present invention also provides a state switching method of switching a state of an image processing apparatus between a first state and a second state. The image processing apparatus includes a processing unit configured to perform processing for image data processing performed in the first state being different from processing performed in the second state a communicator configured to communicate with a mobile terminal and a storage configured to store a terminal identifier for identifying the mobile terminal first orientation information indicating a first orientation of the mobile terminal and second orientation information indicating a second orientation of the mobile terminal which is different from the first orientation in association with each other. Wherein the method comprises steps of successively receiving orientation information indicating an orientation of the mobile terminal through the communicator and switching the state of the image processing apparatus from one of the first state and the second state to another of the first state and the second state when the image processing apparatus successively receives the first orientation information and the second orientation information from the mobile terminal identified by the terminal identifier the first orientation information and the second orientation information having been stored in the storage in association with the terminal identifier.

The present invention also provides a non transitory storage medium configured to store a plurality of instructions which are executed by a processor of an image processing apparatus configured to switch a state of the image processing apparatus between a first state and a second state. The image processing apparatus includes a processing unit configured to perform processing for image data processing performed in the first state being different from processing performed in the second state a communicator configured to communicate with a mobile terminal and a storage configured to store a terminal identifier for identifying the mobile terminal first orientation information indicating a first orientation of the mobile terminal and second orientation information indicating a second orientation of the mobile terminal which is different from the first orientation in association with each other. When the plurality of instructions are executed by the processor the plurality of instructions cause the image processing apparatus to successively receive orientation information indicating an orientation of the mobile terminal through the communicator and switch the state of the image processing apparatus from one of the first state and the second state to another of the first state and the second state when the image processing apparatus successively receives the first orientation information and the second orientation information from the mobile terminal identified by the terminal identifier the first orientation information and the second orientation information having been stored in the storage in association with the terminal identifier.

Hereinafter there will be described a preferred embodiment of the invention with reference to the drawings. The present invention is not limited to the illustrated embodiment. It is to be understood that the present invention may be embodied with various changes and modifications that may occur to a person skilled in the art without departing from the spirit and scope of the invention defined in the appended claims.

As illustrated in the MFP mainly includes a printer a scanner a display an operating unit a communicator a CPU a storage and a communication bus . Devices and components of the MFP are connected to each other through the communication bus . The MFP is an example of an image processing apparatus.

As illustrated in the MFP is capable of switching a state thereof among a logout state a login processing state a login state a logout processing state and a registration processing state. The login state is an example of a first state and the logout state is an example of a second state. Further the login processing state is a state in which login processing described later is under execution the logout processing state is a state in which logout processing described later is under execution and the registration processing state is a state in which registration processing described later is under execution. The switching of the state of the MFP will be described in detail later.

The printer performs print processing using a well known method such as an inkjet method or an electrophotographic method. In the print processing an image indicated by image data is recorded on a recording medium. The scanner performs scan processing in which the scanner reads an image recorded on an original document so as to generate image data. Each of the printer and the scanner is an example of a processing unit which performs processing to image data. The MFP may further perform copy processing in which an image indicated by image data generated in the scanner is recorded on the recording medium in the printer or facsimile processing in which facsimile transmission is performed.

The MFP in the logout state compared with the MFP in the login state restricts processing executable in the printer and the scanner . For example the printer may be restricted to perform color printing in the logout state and permitted to perform the color printing in the login state. Furthermore for example the scanner may be restricted to perform high image quality scanning in the logout state and permitted to perform the high image quality scanning in the login state. However processing that is restricted in the logout state is not limited to the above described examples.

The display includes a display screen for displaying various kinds of information. A specific structure of the display is not limited to a particular one and for example an LCD Liquid Crystal Display an OELD Organic Electro Luminescence Display and so on may be adopted as the display .

The operating unit receives input of a symbol string in an input area that is displayed on the display screen of the display and detects user s operation to select one of objects that are displayed on the display screen of the display . Specifically the operating unit includes for example a push button or a plurality of push buttons and outputs various kinds of operating signals corresponding to pushed push buttons. Furthermore the operating unit may include a touch sensor which has a film structure and is superposed on the display screen. In other words the display may be configured as a touch panel display. As the touch sensor a well known type such as an electrostatic capacity type or a resistance film type may be adopted.

The above mentioned objects indicate images that are selectable by the user s operation of the operating unit . As one example the objects may be character strings displayed on the display and a direction key of the operating unit may be pushed down such that one of the objects is highlighted and then a determination button may be pushed down such that the one of the objects that is being highlighted is selected. As another example in a case where the operating unit is a touch panel the objects are icons buttons links and so forth that are displayed on the display and the object that is displayed at a touch position may be selected. Further the symbol string is constituted by characters e.g. the Kana the Japanese syllabary character the Chinese character the English alphabet and so on numbers marks and so forth. For example the symbol string indicates a user ID and a password that will be described later and so on.

The communicator is an interface for communicating with an external device in a procedure conforming to the NFC standard. The communicator includes an IC chip having a storage for receiving and transmitting of various kinds of information and various kinds of instructions hereinafter generally referred to as information and so forth . For example the MFP causes the communicator to transmit the information and so forth and polling signals to the mobile terminal and receives various kinds of information from the mobile terminal through the communicator .

The CPU Central Processing Unit controls overall operations of the MFP . The CPU based on operation signals output from the operating unit and various kinds of information and so on which the communicator has received from the mobile terminal receives various kinds of programs described later from the storage and executes the various kinds of programs. In other words the CPU and the storage constitute an example of a controller.

The storage includes a program storage area A and a data storage area B. In the program storage area A an OS Operating System and a control program are stored. The control program may be a single program or may be a group of a plurality of programs. In the data storage area B data or information necessary for execution of the control program are stored.

In the present specification the data and the information are common in terms that each of the data and the information is a bit or a bit string that a computer is capable of dealing with. The data is an object which a computer is capable of handling without considering details indicated by each bit. The information is an object which causes branching in an operation of a computer depending on details indicated by each bit. Moreover the instruction is a control signal for demanding next operation to a device to which the instruction is transmitted and may include the information or may have a nature of the information itself.

Further even if the data and the information are changed in format for example a text format a binary format a flag format and so on for each computer as long as it is recognized that details of the data and the information are identical the data and the information are handled as the identical data and the identical information. For example the information indicating two may be held in one computer as the information in a text format of 0 32 in the ASCII code and may be held in another computer as the information in a binary format of 10 in the binary notation.

The data and the information are not strictly distinguished and are permitted to be exceptionally handled. For example the data may be temporarily used as the information or the information may be temporarily used as the data. Further while one is used as the data in one apparatus the one may be used as the information in another apparatus. Furthermore the information may be taken out among the data or the data may be taken out among the information.

The storage is for example constituted by a RAM Random Access Memory a ROM Read Only Memory an EEPROM Electrically Erasable Programmable Read Only Memory an HDD Hard Disk Drive a buffer for the CPU and so on or constituted by a combination of at least two of the above mentioned elements. The storage may be a storage medium that is readable by a computer. The storage medium that is readable by a computer is a non transitory medium. The non transitory medium includes in addition to the above mentioned example a storage medium such as a CD ROM a DVD ROM and so on. On the other hand the non transitory medium does not include electrical signals for transmitting programs that are downloaded from a server on the Internet and the like.

Programs stored in the program storage area A are executed by the CPU . However in the present specification operation of each of the programs may be described without referring to the CPU . In other words the description meaning that a program A executes processing A may indicate that the CPU executes the processing A written in the program A . This applies to the mobile terminal described later.

The OS is a basic program which provides API Application Programming Interface for controlling hardware constituting the MFP such as the printer the scanner the display the operating unit the communicator and so forth. In other words each of the above mentioned programs calls the API that the OS provides so as to control each hardware. However in the present specification operation of each of the programs will be described without referring to the OS . In other words the description described later meaning that program B controls hardware C may indicate that the program B controls the hardware C through the API of the OS . This applies to the mobile terminal described later.

As illustrated in the mobile terminal mainly includes a display an operating unit a communicator a detector a CPU a storage and a communication bus . Further as illustrated in the mobile terminal includes a housing . The display the operating unit the communicator the CPU the storage and the communication bus that are included in the mobile terminal are similar in function to the display the operating unit the communicator the CPU the storage and the communication bus so that the description thereof will be omitted. However an OS Operating System and a terminal control program are stored in the program storage area A of the storage . Further various kinds of information explained later such as a terminal identifier a registration flag lock orientation information and unlock orientation information is written into an IC chip of the communicator .

The housing has a flat box shape in which a dimension in a front rear direction of the housing is smaller than dimensions in an up down direction thereof and in a left right direction thereof. More specifically as illustrated in in a plan view seen from a front side the housing has a rectangular shape constituted by an upper side A and a lower side B that extend in generally parallel with the left right direction and by a left side C and a right side D that extend in generally parallel with the up down direction. Each of components of the mobile terminal illustrated in is disposed on a surface of the homing or inside the housing . For example the display is disposed on a front surface of the housing . The mobile terminal has a size enough to be portable by one hand or both hands of the user and typically the mobile terminal is a mobile phone or a tablet computer.

The detector detects an orientation of the housing and outputs orientation information indicating the detected orientation of the housing to the CPU . More specifically as illustrated in the detector detects an inclination of the housing with respect to a virtual plane including a display screen of the display with reference to an orientation of the housing in which the upper side A of the housing is positioned above the lower side B thereof and that the upper side A and the lower side B thereof extend in parallel with a horizontal direction. A detail of the orientation information is not particularly limited. For example a rotation angle of the housing being in an orientation in which the upper side A is positioned above the lower side B and the upper side A and the lower side B extend in parallel with the horizontal direction may be determined to be 0 and a rotation angle of the housing in a clockwise direction may be indicated by 0 through 360 . The detector may be any kind of detector or sensor and may be a gyro sensor for example.

In the present specification a device that is communicable in a procedure that meets the NFC standard will be referred to as a NFC device . That is each of the MFP and the mobile terminal is an example of the NFC device. The NFC device operates in either one of a P2P mode a Reader mode a Writer mode and a CE mode. Further in the present specification the Reader mode and the Writer mode may be referred together to as an R W mode .

The P2P mode is a mode for performing a bidirectional two way communication between a pair of NFC devices. The NFC device of Type A that is provided by ISO IEC 14443 established by the NFC forum and the NFC device of Type F that is provided by ISO IEC 18092 are capable of operating in the P2P mode. On the other hand the NFC device of Type B that is provided by ISO EEC 14443 is not capable of operating in the P2P mode.

The R W mode and the CE mode is a mode for performing a unidirectional one way communication between a pair of NFC devices. The CE mode is a mode in which the NPC device operates as a card that is a form established by the NFC forum. The NFC devices of Type A Type F and Type B are capable of operating in the CE mode. The Reader mode is a mode for reading the information and so forth from the NFC device that is operating in the CE mode. The Writer mode is a mode for writing various kinds of information in the NFC device that is operating in the CE mode.

In the present embodiment there will be mainly described an example in which the MFP operates in the Reader mode and the mobile terminal operates in the CE mode. In other words the MFP which operates in the Reader mode is capable of reading the information and so forth from the mobile terminal which operates in the CE mode. However the present invention is not limited to this example. For example the MFP and the mobile terminal may operate in the P2P mode.

The communicator of the MPP in the present embodiment performs a polling operation in which the communicator transmits a polling signal at predetermined time intervals and monitors a response signal that is a response to the polling signal. The communicator having received the response signal instructs the CPU to execute the following processing. On the other hand the communicator of the mobile terminal in the present embodiment performs a Listening operation. The Listening operation is an operation in which the communicator monitors the polling signal transmitted from the MFP and transmits a response signal under a condition of receiving of the polling signal. The communicator having transmitted the response signal instructs the CPU to execute the following processing.

Then the CPU of the MFP causes the communicator to receive information indicating in which mode the mobile terminal is operable. Based on the information received from the mobile terminal the CPU determines respective modes of the MFP and the mobile terminal to be operated and the CPU then causes the communicator to transmit to the mobile terminal an Activation command indicating the operation mode of the mobile terminal determined by the CPU . On the other hand the CPU of the mobile terminal on condition that the communicator has received the Activation command transmitted from the MFP causes the communicator to transmit to the MFP an OK command that is a response to the Activation command. Consequently a communication link of the NFC type is established connected between the MFP and the mobile terminal . Thereafter the MFP and the mobile terminal transmit and receive the information and so forth through the communication link.

Then the CPU of the MFP when the communication with the mobile terminal is finished causes the communicator to transmit a Deactivation command for disconnecting the communication link to the mobile terminal . On the other hand the CPU of the mobile terminal on condition that the communicator has received the Deactivation command transmitted from the MFP causes the communicator to transmit an OK command that is a response to the Deactivation command to the MFP . Consequently the communication link between the MFP and the mobile terminal is disconnected.

Hereinafter the registration processing in the present embodiment will be described with reference to . The registration processing illustrated in is processing in which the terminal identifier the lock orientation information the unlock orientation information received from the mobile terminal are stored in the data storage area B in association with the account information. illustrates an example of information stored in the data storage area B of the MFP at a start point in time of the registration processing in the present embodiment.

The word No in is information for uniquely identifying distinguishing a set of pieces of information corresponding to each other and is assigned by the MFP when the account information is registered. The account information is information for switching the printer and the scanner from the logout state to the login state. For example the account information is constituted by a combination of the user ID and the password. However for simplification in the account information is illustrated as user A user B user C and so on. In the present embodiment the account information has been previously stored in the data storage area B prior to a time when the registration processing is executed.

The terminal identifier is information for uniquely identifying the mobile terminal . In a MAC Media Access Control address that is assigned to the communicator is used as an example of the terminal identifier but the terminal identifier is not limited to the MAC address. Examples of the terminal identifier include a telephone number assigned to the mobile terminal and a SIM ID assigned to a SIM Subscriber Identity Module card inserted in the mobile terminal .

The lock orientation information is information indicating a lock orientation of the mobile terminal . The unlock orientation information is information indicating an unlock orientation of the mobile terminal that is different from the lock orientation. As illustrated in the lock orientation and the unlock orientation may be determined differently according to the users. In other words the user of the mobile terminal is allowed to register any orientation as each of the lock orientation and the unlock orientation in the registration processing illustrated in . Further as in the case of the user C in the account information may exist without being assigned with the terminal identifier the lock orientation information and the unlock orientation information. The lock orientation is an example of a first orientation the lock orientation information is an example of a first orientation information the unlock orientation is an example of a second orientation and the unlock orientation information is an example of a second orientation information.

Details of the lock orientation information and the unlock orientation information are not particularly limited but for example each of the lock orientation information and the unlock orientation information may be orientation information output from the detector . In the lock orientation corresponding to the user A in as illustrated in the angle of 0 is registered as the lock orientation information for the rotation angle of the housing being in the orientation in which the upper side A is positioned above the lower side B and the upper side A and the lower side B extend in parallel with the horizontal direction. Further in the unlock orientation corresponding to the user A in as illustrated in the angle of 90 is registered as the unlock orientation information for the rotation angle of the housing being in the orientation in which the left side C is positioned above the right side D and the left side C and the right side D extend in parallel with the horizontal direction.

The term executable processing indicates processing which is executable in the printer in a case where the login state of the MFP is established using the account information corresponding to the processing. In other words the executable processing executable in the printer being in the login state may be different according to the account information. In an example illustrated in a color printing and a double side printing are allowed for the printer whose login state is established with the account information of the user A. A color printing is allowed for the printer whose login state is established with the account information of the user B. A photo printing is allowed for the printer whose login state is established with the account information of the user C. Though illustration is omitted the executable processing in the scanner may be similarly set according to the account information.

The registration processing will be described with reference to . The communicator of the MFP repeatedly transmits the polling signal at predetermined time intervals S . The predetermined time interval is for example about 400 msec. When operation of start of the terminal control program is detected by the detector the CPU of the mobile terminal causes the display to display a menu screen S . is an example of the menu screen. On the menu screen illustrated in a Key Registration button and a Key Operation button are displayed.

Then for example when the operating unit detects an operation of tapping the Key Registration button S the terminal control program causes the terminal identifier to be stored into the IC chip of the communicator and sets the registration flag included in the IC chip to ON S . The tapping of the Key Registration button is an example of input of an orientation registration instruction. The registration flag is information for transmitting to the MFP whether the registration processing is to be executed. When the registration processing is to be executed the registration flag is set to ON and when the login processing and the logout processing that will be described later are to be executed the registration flag is set to OFF .

The terminal control program then causes the display to display a proximity instruction screen . is an example of the proximity instruction screen. The proximity instruction screen illustrated in includes a message for prompting a user to move the mobile terminal to a position at which the mobile terminal can receive the polling signal transmitted from the MFP and a Next button. The position at which the mobile terminal can receive the polling signal is for example inside a sphere having approximately a radius of 10 cm centered around the MFP . The radius of 10 cm is an example of a threshold range.

Subsequently when the polling signal transmitted from the MFP is received by the communicator of the mobile terminal S Yes the communicator transmits the response signal S . On the other hand when the response signal transmitted from the mobile terminal is received by the communicator S the control program of the MFP establishes the communication link between the MFP and the mobile terminal receives the terminal identifier and the registration flag from the mobile terminal through the communication link S and then disconnects the communication link. In the present embodiment the MFP receives the terminal identifier 38 2B 41 8E 07 9C and the registration flag ON .

That the MFP operating in the Reader mode receives information from the mobile terminal operating in the CE mode may indicate for example that the MFP reads the information written in the IC chip included in the communicator of the mobile terminal . On the other hand that the MFP operating in the P2P mode receives information from the mobile terminal operating in the P2P mode may indicate for example that the MFP receives the information transmitted from the mobile terminal through the communication link. Further the MFP may perform establishment connection processing of the communication link and disconnection processing of the communication link every time the MFP receives information and the MFP may receive a plurality of pieces of information from a time point when the communication link is established to a time point when the communication link is disconnected. The establishment processing of the communication link and the disconnection processing of the communication link have been described above and will not be explained again. This applies to steps described later.

Then when the registration flag received in S is ON the control program of the MFP determines whether the MFP is in the login state S . When the MFP is in the logout state S No the control program then performs the login processing S . On the other hand when the MFP has already been in the login state S Yes the control programs skips processing of S S.

In the login processing in S the control program causes the display to display a login screen. is an example of the login screen. The login screen illustrated in includes a text box for receiving input of the user ID a text box for receiving input of the password and a Login button. When the operating unit detects the operation of tapping of the Login button on the login screen the control program compares a combination of the user ID and the password having been input in the text boxes of the login screen hereinafter referred to as input account information with the account information having been stored in the data storage area B hereinafter referred to as registered account information .

When the input account information is identical with the registered account information the control program switches a state of the MFP from the logout state to the login state using the account information S .

In the present embodiment the login processing is performed using the account information of the user C. The control program causes the CPU. to store the terminal identifier received in S into the data storage area B such that the terminal identifier is associated with the account information used for switching the MFP to the login state S . In other words in the above mentioned example the control program causes the CPU to store the terminal identifier 38 2B 41 8E 07 9C received in S into the data storage area B such that the terminal identifier is associated with the account information of the user C.

Then the control program switches the state of the MFP from the login state to the registration processing state S . Then the control program causes the display to display a lock orientation registration screen S . is an example of the lock orientation registration screen. The lock orientation registration screen illustrated in includes a message for prompting the user to hold the mobile terminal in the lock orientation and an Receive button.

On the other hand when the operating unit detects the operation of tapping of the Next button on the proximity instruction screen S the terminal control program of the mobile terminal causes the display to display a lock orientation instruction screen . The tapping of the Next button on the proximity instruction screen is an example of input of a lock orientation registration instruction. is an example of the lock orientation instruction screen. The lock orientation instruction screen illustrated in includes a message for prompting the user to hold the mobile terminal in the lock orientation and a Next button.

When the detector detects switching of the orientation of the housing S Yes the terminal control program writes the orientation information indicating a present orientation of the housing in the IC chip of the communicator S . For example in a case where the housing takes an orientation illustrated in the angle 0 is written as the orientation information in the IC chip of the communicator . The processing of S and S is not always executed in this timing but may be executed whenever switching of the orientation of the housing is detected during the power of the mobile terminal is on or during execution of the registration processing the login processing and the logout processing. This applies to S and S described later. Moreover S through S to be executed in the MFP and S through S to be executed in the mobile terminal may be concurrently executed.

Next when the operating unit detects the operation of tapping the Receive button on the lock orientation registration screen S the control program of the MFP receives the orientation information having been stored in the IC chip of the mobile terminal as the lock orientation information S . That is an orientation of the housing in timing when the Receive button on the lock orientation registration screen is tapped is the lock orientation. The tapping of the Receive button on the lock orientation registration screen is an example of input of a lock orientation receiving instruction. The control program then causes the CPU to store the lock orientation information received in S into the data storage area B such that the lock orientation information is associated with the account information used in the login processing in S S . In the above mentioned example the angle 0 received in S is stored as the lock orientation information in the data storage area B in association with the account information of the user C.

Then the control program causes the display to display an unlock orientation registration screen S . is an example of the unlock orientation registration screen. The unlock orientation registration screen illustrated in includes a message for prompting the user to hold the mobile terminal in the unlock orientation and an Receive button.

On the other hand when the operating unit detects an operation of tapping of the Next button on the lock orientation instruction screen S the terminal control program of the mobile terminal causes the display to display an unlock orientation instruction screen. The operation of S needs to be executed after S. The operation of tapping of the Next button on the lock orientation instruction screen is an example of an unlock orientation registration instruction. Further is an example of the unlock orientation instruction screen. The unlock orientation instruction screen illustrated in includes a message for prompting the user to hold the mobile terminal in the unlock orientation and a Next button.

When the detector detects switching of an orientation of the housing S Yes the terminal control program writes orientation information indicating a present orientation of the housing in the IC chip of the communicator S . For example in a case where the housing takes an orientation illustrated in the angle 90 is written as the orientation information in the IC chip of the communicator . Processing of S and S to be executed in the MFP and processing of S through S to be executed in the mobile terminal may be concurrently executed.

Then when the operating unit detects an operation of tapping of the Receive button on the unlock orientation registration screen S the control program of the MFP receives the orientation information stored in the IC chip of the mobile terminal as the unlock orientation information S . In other words an orientation of the housing in timing when the Receive button on the unlock orientation registration screen is tapped is the unlock orientation. The tapping of the Receive button on the unlock orientation registration screen is an example of input of an unlock orientation receiving instruction.

Next the control program causes the CPU to store the unlock orientation information received in S into the data storage area B such that the unlock orientation information is associated with the account information used in the login processing in S S . In the above described example the angle 90 received in S is stored as the unlock orientation information in the data storage area B in association with the account information of the user C. Further the control program switches a state of the MFP from the registration processing state to the login state S .

On the other hand when the operating unit detects an operation of tapping of the Next button on the unlock orientation instruction screen S the terminal control program of the mobile terminal sets the registration flag included in the IC chip of the communicator to OFF S and causes the display to display a registration completion screen not shown to inform the user of completion of the registration processing S . Execution of S needs to be executed after execution of S. The tapping of the Next button on the unlock orientation instruction screen is an example of input of a registration completion instruction. As a result of the registration processing in the present embodiment as illustrated in the data storage area B stores the terminal identifier 38 2B 41 8E 07 9C the lock orientation information 0 and the unlock orientation information 90 in association with the account information of the user C.

Hereinafter the login processing will be described with reference to . The login processing illustrated in is processing in which an orientation of the mobile terminal is switched in the vicinity of the MFP from the lock orientation to the unlock orientation such that a state of the MFP is switched from the logout state to the login state. At a start point in time of the login processing the MFP is in the logout state. Detailed description of the same processing as executed in the registration processing illustrated in will be omitted.

The communicator of the MFP similarly in S in repeatedly outputs the polling signal at predetermined time intervals. The control program waits until the communicator receives the response signal transmitted in response to the polling signal. On the other hand for example when the detector detects an operation of tapping of the Key Operation button on the menu screen the terminal control program of the mobile terminal writes in the IC chip of the communicator the terminal identifier the registration flag OFF the orientation information every time the detector detects switching of the orientation of the housing . The mobile terminal which the user brought close to the MFP receives the polling signal and transmits the response signal to the MFP in response to the polling signal.

Then when the communicator receives the response signal transmitted from the mobile terminal the control program of the MFP receives the terminal identifier and the registration flag from the mobile terminal and determines whether the received terminal identifier is identical with the terminal identifier stored in the date storage area S . When the received terminal identifier is not stored in the data storage area B S No the control program further waits until the communicator receives the response signal from another mobile terminal . On the other hand when the received terminal identifier is stored in the data storage area B and the registration flag is OFF Yes the control program successively receives the orientation information from the mobile terminal S .

Next the control program determines whether the lock orientation information stored in the data storage area B in association with the terminal identifier received in S is identical with the orientation information received in S S . When the lock orientation information stored in the data storage area B in association with the terminal identifier received in S is identical with the orientation information received in S S Yes the control program switches a state of the MFP from the logout state to the login processing state S . The mobile terminal comes to be in the lock orientation in the vicinity of the MFP so that the control program in S can receive the orientation information that is identical with the lock orientation information associated with the terminal identifier.

On the other hand when the lock orientation information stored in the data storage area B in association with the terminal identifier is not identical with the orientation information received in S S No the control program determines whether the response signal is continuously received from the mobile terminal from which the response signal has been received in S S . The CPU of the MFP which determines whether the response signal is received from the mobile terminal in S is an example of a detector which detects an existence of the mobile terminal within a predetermined distance from the MFP .

During reception of the response signal from the same mobile terminal S Yes the control program repeatedly executes the processing of S S and S until the control program receives the orientation information identical with the lock orientation information associated with the terminal identifier S Yes . On the other hand when the communicator is unable to receive the response signal from the same mobile terminal S No the control program causes the MFP to be in the logout state S and ends the login processing. A case where the response signal cannot be received from the mobile terminal is for example a case where the user moves the mobile terminal outside of an area in which the mobile terminal can receive the polling signal from the MFP .

Then the control program after causing the MFP to be in the login processing state S determines whether the communicator continues to receive the response signal from the mobile terminal from which the response signal has been received in S S . When the communicator continues to receive the response signal from the same mobile terminal S Yes the control program receives the orientation information from the mobile terminal S . On the other hand when the communicator cannot receive the response signal from the same mobile terminal S No the control program causes the MFP to be in the logout state S and ends the login processing.

Then the control program repeatedly executes processing of S through S until the unlock orientation information which has been stored in the data storage area B in association with the terminal identifier received in S coincides with the orientation information received in S S Yes . The orientation of the mobile terminal is switched from the lock orientation to the unlock orientation in the vicinity of the MFP so that the control program in S can receive the orientation information that is identical with the unlock orientation information associated with the terminal identifier. When the unlock orientation information stored in the data storage area B in association with the terminal identifier coincides with the orientation information received in S S Yes the control program causes the state of the MFP to switch from the login processing state to the login state using the account information stored in the data storage area B in association with the terminal identifier S and ends the login processing.

Hereinafter the logout processing in the present embodiment will be described with reference to . The logout processing illustrated in is processing in which the orientation of the mobile terminal is switched from the unlock orientation to the lock orientation in the vicinity of the MFP such that the state of the MFP is switched from the login state to the logout state. At a start point in time of the logout processing the MFP is in the login state. In the logout processing the same processing as executed in the login processing illustrated in will be denoted by the identical step numbers used in the login processing and detailed description thereof will be omitted and processing different from the login processing will be mainly described.

The control program of the MFP determines whether the unlock orientation information stored in the data storage area B in association with the terminal identifier received in S coincides with the orientation information received in S S . When the unlock orientation information stored in association with the terminal identifier coincides with the orientation information received in S S Yes the control program causes the state of the MFP to switch from the login state to the logout processing state S . The mobile terminal comes to be in the unlock orientation in the vicinity of the MFP such that the control program in S can receive the orientation information that is identical with the unlock orientation information associated with the terminal identifier.

Further the control program of the MFP determines whether the lock orientation information stored in the data storage area B in association with the terminal identifier received in S coincides with the orientation information received in S S . When the lock orientation information stored in association with the terminal identifier coincides with the orientation information received in S S Yes the control program causes the state of the MFP to switch from the logout processing state to the logout state S and ends the logout processing. The orientation of the mobile terminal is switched from the unlock orientation to the lock orientation in the vicinity of the MFP so that the control program in S can receive the orientation information that is identical with the lock orientation information associated with the terminal identifier.

On the other hand when the communicator cannot receive the response signal from the mobile terminal from which the response signal has been received in S S No S No the control program causes the MFP to be in the login state S and ends the logout processing. Since other processing is similar to that in the login processing illustrated in its description will be omitted.

In the present embodiment the state of the MFP can be switched by an intuitive operation of switching the orientation of the mobile terminal . More specifically the orientation of the mobile terminal is switched from the lock orientation to the unlock orientation in the vicinity of the MFP so that the state of the MFP is switched from the logout state to the login state. Further the orientation of the mobile terminal is switched from the unlock orientation to the lock orientation in the vicinity of the MFP so that the state of the MFP is switched from the login state to the logout state. Accordingly the user does not need to input the user BD and the password especially every time the login processing is executed so that operability of the MFP can be enhanced without decrease in security.

In each of the login processing and the logout processing in the present embodiment the control program determines whether the orientation information stored in the data storage area B coincides with the orientation information received from the mobile terminal but it is not necessary that the orientation information stored in the data storage area B completely coincides with the orientation information received from the mobile terminal . For example in a case where the orientation information received from the mobile terminal is within a predetermined range including the orientation information stored in the data storage area B the control program may determine that the orientation information stored in the data storage area B coincides with the orientation information received from the mobile terminal . The predetermined range is not particularly limited and may be within 10 from the orientation information stored in the data storage area B.

Furthermore in the login processing in the present embodiment when the orientation information identical with the lock orientation associated with the terminal identifier is received S Yes the control program switches the state of the MFP S . When the orientation information identical with the unlock orientation associated with the terminal identifier is received S Yes the control program switches the state of the MFP S . However in a case where each of the judgments in S S is performed once the mobile terminal is instantly switched from the lock orientation to the unlock orientation so that unintended login processing may be performed. In order to address this problem when the lock orientation of the mobile terminal is received consecutively a threshold number of times and the unlock orientation of the mobile terminal is received consecutively a threshold number of times the state of the MFP may be switched from the logout state to the login state. The threshold number of times is not particularly limited and may be two or more.

Further the MFP and the mobile terminal are communicable with each other in the procedure conforming to the standard of NFC. That is in each of the login processing and the logout processing the user needs to switch the orientation of the mobile terminal in the vicinity of the MFP . This configuration reduces a possibility that the login processing or the logout processing is executed for the MFP not intended by the user. The communication method between the MFP and the mobile terminal in each of the registration processing the login processing and the logout processing is not limited to the NFC and for example the MFP and the mobile terminal may communicate with each other through a wireless LAN Local Area Network or other similar methods.

Furthermore in the registration processing in the present embodiment the user can register any orientation as each of the lock orientation and the unlock orientation in the MFD . That is the login processing and the logout processing using the mobile terminal can be executed only by the user who knows the lock orientation and the unlock orientation registered in advance. As a result even if the mobile terminal is lost or stolen this configuration can prevent specific processing from being executed by the user who has no authority to execute. Moreover in the registration processing in the present embodiment each of the lock orientation and the unlock orientation is registered in order in a dialogue style so that each of the lock orientation and the unlock orientation can be easily and reliably registered.

In the registration processing in the present embodiment the operation of tapping the Next button on each screen causes each of the lock orientation registration instruction S the unlock orientation registration instruction S and the registration completion instruction S to be input to the mobile terminal but the present invention is not limited to this. For example each of the above mentioned instructions may be input to the mobile terminal by the MFP operating in the R W mode. This configuration eliminates a need for the user to tap each of the buttons displayed on the display of the mobile terminal resulting in further enhanced operability.

Specifically for example when the terminal identifier and the registration flag are received S the control program of the MFP operating in the R W mode may write the lock orientation registration instruction in the IC chip of the communicator . Further for example when the lock orientation information is received S the control program of the MFP operating in the R W mode may write the unlock orientation registration instruction in the IC chip of the communicator . Furthermore for example when the unlock orientation information is received S the control program of the MFP operating in the R W mode may write the registration completion instruction in the IC chip of the communicator .

In the present embodiment the inclination of the housing with respect to the vertical direction is used as the orientation information but orientation information in the present invention is not limited to this. For example the detector may be a direction sensor and the orientation information may be information indicating a direction or an orientation of the housing . In this case when a direction in which the MFP faces is changed a positional relationship between the mobile terminal in each of the lock orientation and the unlock orientation and the MFP is changed. Accordingly a direction sensor may also be mounted on the MFP . In the registration processing a direction of the mobile terminal in each of the lock orientation and the unlock orientation and a direction of the MFP may be stored in association with each other and in each of the login processing and the logout processing the orientation of the mobile terminal may be determined depending on the relative positional relationship between the mobile terminal and the MFP .

In the MFP in the embodiment each of the programs stored in the program storage area A of the storage is executed by the CPU to execute each processing to be executed by a controller in the present invention. However a structure of the controller is not limited to this and a part or a whole of the controller may be realized by hardware such as an IC Integrated Circuit .

Further the present invention may be realized not only as a mobile terminal but also as a program for executing processing by the mobile terminal. Furthermore the program may be provided so as to be recorded on a non transitory storage medium or information or signals indicating the program may be transmitted through communication network such as Internet and so on.

