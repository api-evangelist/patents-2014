---

title: Quality of experience enhancement for wireless networks based on received signal strength at a mobile device
abstract: Techniques are disclosed for network and/or evaluation and selection based on received signal strength at a device. For example, an received signal strength indicator (RSSI) can be measured (e.g., using Android API or other suitable methods). Then, the measured RSSI level can be compared against a threshold RSSI level, which can be determined on a device-by-device basis. In some embodiments, the RSSI values can assist the network evaluation and selection in certain situations, for example, where WiFi network quality is degraded because of locational movement and not backbone structure, and/or where there are multiple access points (APs) providing WiFi networks under the same SSID and each AP having different effective coverage. Further, in some embodiments, the RSSI values can provide the capabilities of WiFi AP suspension based on MAC addresses. In some embodiments, the RSSI values can be adopted to trigger QoE measurements.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08964595&OS=08964595&RS=08964595
owner: Seven Networks, Inc.
number: 08964595
owner_city: San Carlos
owner_country: US
publication_date: 20140303
---
This application is entitled to the benefit of and or the right of priority to U.S. Provisional Application No. 61 833 630 entitled QUALITY OF EXPERIENCE ENHANCEMENT FOR WIRELESS NETWORKS BASED ON RECEIVED SIGNAL STRENGTH AT A MOBILE DEVICE filed Jun. 11 2013 and U.S. Provisional Patent Application No. 61 832 079 entitled RADIO OR NETWORK EVALUATION FOR SELECTION BASED ON MEASUREMENTS USING APPLICATION LAYER PROTOCOLS AT A MOBILE DEVICE filed on Jun. 6 2013 all of which are hereby incorporated by reference in their entireties. This application is therefore entitled to an effective filing date of Jun. 11 2013.

This application is related to U.S. patent application Ser. No. 14 195 758 entitled RADIO OR NETWORK EVALUATION FOR SELECTION BASED ON MEASUREMENTS USING APPLICATION LAYER PROTOCOLS AT A MOBILE DEVICE filed on Mar. 3 2014 which claims the benefit of U.S. Provisional Patent Application No. 61 832 079 entitled RADIO OR NETWORK EVALUATION FOR SELECTION BASED ON MEASUREMENTS USING APPLICATION LAYER PROTOCOLS AT A MOBILE DEVICE. which was filed on Jun. 6 2013 the contents of which are all incorporated by reference herein.

This application is also related to U.S. patent application Ser. No. 13 784 544 entitled MOBILE DEVICE WHICH HANDS OVER CONNECTIVITY FROM ONE NETWORK CONNECTION TO ANOTHER NETWORK CONNECTION WITHOUT INTERRUPTION IN APPLICATION DATA FLOW AND METHODS THEREFOR filed on Mar. 4 2013 U.S. patent application Ser. No. 13 784 486 entitled PROVIDING DATA TO A MOBILE APPLICATION ACCESSIBLE AT A MOBILE DEVICE VIA DIFFERENT NETWORK CONNECTIONS WITHOUT INTERRUPTION filed on Mar. 4 2013 both of which claim the benefit of U.S. Provisional Patent Application No. 61 606 053 entitled MOBILE BASED SEAMLESS CONNECTIVITY which was filed on Mar. 2 2012 the contents of which are all incorporated by reference herein in their entireties.

As WiFi network services become more ubiquitous and accessible in particular in both indoor and outdoor environments integration and utilization of WiFi networks by mobile devices are becoming a mechanism through which network operators can alleviate their data traffic load. In some instances WLAN based networks such as WiFi networks and services can also provide a mechanism to enhance mobile device performance when used in conjunction with cellular networks and connections.

The same reference numbers and any acronyms identify elements or acts with the same or similar structure or functionality throughout the drawings and specification for ease of understanding and convenience.

Devices typically have multiple radios to access different networks e.g. 3G 4G LTE Wi Fi Bluetooth and or NFC for data traffic. As such in one embodiment quantification of various network signal metrics can be used to select an optimal network such that quality of experience QoE can be enhanced for a given user and or for a given device. Among others one of the problems solved by the present disclosure is to measure this QoE from Application level App .

In some embodiments the QoE can be determined on an application by application basis on each mobile device or for each user. The disclosed techniques facilitate measurements computations determinations assessments evaluations quantifications or qualification of QoE and or other suitable measurement of user experience to select the best network or the best radio protocol 3G 4G LTE Wi Fi Bluetooth NFC to use for the traffic e.g. IP traffic for a given mobile application.

In some embodiments the QoE is measured from the mobile device side e.g. a local proxy or of the mobile device and the present techniques can be implemented or measured at the application level on the mobile device. In general the techniques disclosed herein require no or little need for system level changes or measurements. One advantage includes reduction of the time it takes to generate or compute a bad or non representative QoE outcome.

Additional benefits of the presently disclosed techniques include for example facilitating decisions in selecting an optimal or a best radio for use e.g. 3G 4G or Wi Fi or an optimal best network e.g. WiFi networks offered among different access points APs facilitating operator s ability to use the measured metrics for WiFi off loading and or facilitating operator s ability to use the measured metrics for retrieving QoE numbers of their mobile networks at different time locations.

In some embodiments the present disclosure further include techniques for network evaluation and selection and more specifically for selecting a network from a number of available networks at a mobile device for communication by a mobile application. Additionally or alternatively the disclosed techniques can select a radio from a number of available radios at a mobile device for communication.

In one embodiment a method comprises measuring a set of parameters for each of the available networks using an application layer protocol e.g. HTTP . Examples of parameters can include for a given network the Round Trip Time RTT and or Packet Loss PL parameters or other parameters for the applicable servers. Then a quality level or an overall quality level for the given networks based on the parameters can be computed or assessed. More specifically in some embodiments a statistical parameter of the RTT and or the PL for example a median RTT and an average PL number for each server based on the readings can be calculated. It is noted that median RTT and average PL are example metrics which can be used to assess the quality of experience QoE or user experience and the like with an application at a mobile device for a specific network or for a given radio other suitable mathematical and or statistical quantifiers can be computed or determined for evaluating quality of experience QoE or other types of user experience. Then with the median RTT and or the average PL for one or more servers the quality determination module can assign a specific quality level to the servers for example based on a quality table which is specific to the given network or radio.

The method further comprises determining an overall quality level for each of the available networks based on the parameters e.g. the RSSI level and or the threshold signal level and choosing the network based on the overall quality level. In some embodiments the set of parameters are measured by communicating with each of a plurality of predetermined servers within a respective network. The application layer protocol is able to establish communication with the servers without requiring an administrative privilege of the mobile device which may be typically required for other applications that utilize lower level measurements thereby reducing the time and effort necessary for deployment. Among other advantages embodiments disclosed herein enable a quantified approach to measuring network signals so as to optimize user experience and a quantified approach to application level Quality of Experience QoE measurements which can serve as bases for selection of radios for the applications.

In one embodiment network evaluation and selection can be based on received signal strength at a mobile device e.g. mobile device . For example a received signal strength indicator RSSI can be measured e.g. using Android API or other suitable methods via another mobile platform or external to any mobile platform e.g. via the local proxy or . Then the measured RSSI level or other signal strength indicators can be compared against a threshold RSSI level which can in one embodiment be determined on a device by device basis. Then according to the techniques described in more details below the RSSI values can assist the network evaluation and selection module evaluation and selection module in certain situations. For example the disclosed techniques can be helpful where WiFi network quality is degraded due to locational movement of the user of the mobile device or the mobile device rather than due to failure of the backbone architecture and or where there are multiple access points APs providing WiFi networks under the same service set identifier SSID and each AP has a different effective coverage. Further in some embodiments the RSSI values can provide the evaluation or selection engine with the capabilities or data to facilitate the decisions for WiFi AP suspension based on MAC addresses. In some embodiments the RSSI values or other signal strength indicators can be adopted to trigger QoE measurements.

The following description and drawings are illustrative and are not to be construed as limiting. Numerous specific details are described to provide a thorough understanding of the disclosure. However in certain instances well known or conventional details are not described in order to avoid obscuring the description. References to one embodiment or an embodiment in the present disclosure can be but not necessarily are references to the same embodiment and such references mean at least one of the embodiments.

Reference in this specification to one embodiment or an embodiment means that a particular feature structure or characteristic described in connection with the embodiment is included in at least one embodiment of the disclosure. The appearances of the phrase in one embodiment in various places in the specification are not necessarily all referring to the same embodiment nor are separate or alternative embodiments mutually exclusive of other embodiments. Moreover various features are described which may be exhibited by some embodiments and not by others. Similarly various requirements are described which may be requirements for some embodiments but not other embodiments.

The terms used in this specification generally have their ordinary meanings in the art within the context of the disclosure and in the specific context where each term is used. Certain terms that are used to describe the disclosure are discussed below or elsewhere in the specification to provide additional guidance to the practitioner regarding the description of the disclosure. For convenience certain terms may be highlighted for example using italics and or quotation marks. The use of highlighting has no influence on the scope and meaning of a term the scope and meaning of a term is the same in the same context whether or not it is highlighted. It will be appreciated that same thing can be said in more than one way.

Consequently alternative language and synonyms may be used for any one or more of the terms discussed herein nor is any special significance to be placed upon whether or not a term is elaborated or discussed herein. Synonyms for certain terms are provided. A recital of one or more synonyms does not exclude the use of other synonyms. The use of examples anywhere in this specification including examples of any terms discussed herein is illustrative only and is not intended to further limit the scope and meaning of the disclosure or of any exemplified term. Likewise the disclosure is not limited to various embodiments given in this specification.

Without intent to limit the scope of the disclosure examples of instruments apparatus methods and their related results according to the embodiments of the present disclosure are given below. Note that titles or subtitles may be used in the examples for convenience of a reader which in no way should limit the scope of the disclosure. Unless otherwise defined all technical and scientific terms used herein have the same meaning as commonly understood by one of ordinary skill in the art to which this disclosure pertains. In the case of conflict the present document including definitions will control.

In general the network over which the client devices and or application server communicate may include a cellular network e.g. network a telephonic network a broadband network e.g. networks A N an open network such as the Internet or a private network such as an intranet and or the extranet or any combination thereof.

In general signals received or detected indicating user activity at client devices through one or more input mechanisms described below or others can be used in the disclosed technique s in obtaining context awareness at the client device . Context awareness at client devices generally includes by way of example but not limitation client device operation or state acknowledgement management user activity behavior interaction awareness detection sensing tracking and or application e.g. mobile applications type behavior activity operating state etc. In some embodiments contextual data can be collected for use in managing evaluating and or selecting multi network situations at a mobile device .

Context awareness in the present disclosure also includes knowledge and detection of network side contextual data and can include network information such as network capacity bandwidth traffic type of network connectivity and or any other operational state data. Network side contextual data can be received from and or queried from network service providers e.g. cellular network provider and or Internet service providers of the network and or network A N e.g. by the host server and or devices . In addition to application context awareness as determined from the client side the application context awareness may also be received from or obtained queried from the respective application service providers by the host and or client devices .

The mobile device can include in some embodiments a local proxy and optionally a local cache that provides network optimization and resource conservation functionalities. The local proxy can be a part of a proxy and cache system distributed between a host server and device which facilitates network traffic management network resource optimization and conservation content caching and or mobile application performance optimization between the device and an application server or content provider or other servers such as an ad server A promotional content server B or an e coupon server C. An example of such proxy system distributed among the host server and the device or a distributed proxy and or caching system is described in U.S. patent application Ser. No. 13 178 598 titled CONTEXT AWARE TRAFFIC MANAGEMENT FOR RESOURCE CONSERVATION IN A WIRELESS NETWORK filed Jul. 8 2011 which is assigned to the present assignee and incorporated herein by reference in its entirety. As further described in the following sections the proxy system e.g. local proxy can further implement network evaluation and selection techniques disclosed herein.

In general the proxy and cache system distributed between the host server and device facilitates network traffic management between the device and an application server or content provider or other servers such as an ad server A promotional content server B or an e coupon server C for resource conservation and content caching. The proxy system distributed among the host server and the device can further track alarms timers or other triggers implemented by applications on a device and resources used by such alarms timers or other triggers to determine associations using which the proxy system can manipulate the alarms timers or other triggers to occur at an optimal time to reduce resource usage.

The distributed proxy and cache system can include for example the proxy server e.g. remote proxy and the server cache components on the server side. The server side proxy and cache can as illustrated reside internal to the host server . In addition the proxy server and cache on the server side can be partially or wholly external to the host server and in communication via one or more of the networks and . For example the proxy server may be external to the host server and the server cache may be maintained at the host server . Alternatively the proxy server may be within the host server while the server cache is external to the host server . In addition each of the proxy server and the cache may be partially internal to the host server and partially external to the host server . The application server content provider can by any server including third party servers or service content providers further including advertisement promotional content publication or electronic coupon servers or services. Similarly separate advertisement servers A promotional content servers B and or e Coupon servers C as application servers or content providers are illustrated by way of example.

The distributed system can also include in one embodiment client side components including by way of example but not limitation a local proxy e.g. a mobile client on a mobile device and or a local cache which can as illustrated reside internal to the device e.g. a mobile device .

In addition the client side proxy and local cache can be partially or wholly external to the device and in communication via one or more of the networks and . For example the local proxy may be external to the device and the local cache may be maintained at the device . Alternatively the local proxy may be within the device while the local cache is external to the device . In addition each of the proxy and the cache may be partially internal to the host server and partially external to the host server .

In context aware traffic management and optimization for resource conservation in a network e.g. cellular or other wireless networks characteristics of user activity behavior and or application behavior at mobile device e.g. any wireless device can be tracked by the local proxy over the network to a proxy server component in the host server of the distributed proxy and caching system. The local proxy can also identify and retrieve mobile device properties including one or more of battery level network that the device is registered on radio state or whether the mobile device is being used e.g. interacted with by a user . In some instances the local proxy can delay expedite prefetch and or modify data prior to transmission when appropriate. Further the local proxy is generally transparent to the operating system or platform of the mobile device and may or may not be specific to device manufacturers. In some instances the local proxy is optionally customizable in part or in whole to be device specific. In some embodiments the local proxy may be bundled into a wireless model a firewall and or a router.

In general the distributed proxy and cache system allows optimization of network usage for example by serving requests from the local cache the local proxy reduces the number of requests that need to be satisfied over the network . Further the local proxy and the proxy server may filter irrelevant data from the communicated data. In addition the local proxy e.g. in conjunction with proxy server can also accumulate low priority data and send it in batches to avoid the protocol overhead of sending individual data fragments. The local proxy and the proxy server can also compress or transcode the traffic reducing the amount of data sent over the network and or . The signaling traffic in the networks and or A N can be reduced as the networks are now used less often and the network traffic can be synchronized among individual applications.

Contextual information obtained from client mobile devices networks applications e.g. mobile applications application server provider or any combination of the above can be used to manage the traffic in the system to satisfy data needs of the client devices e.g. to satisfy application or any other request including HTTP request .

In one embodiment the traffic is managed to satisfy data requests made in response to explicit or non explicit user requests and or device application maintenance tasks. As disclosed in the related U.S. patent application Ser. No. 13 784 486 the traffic can be managed such that network consumption e.g. use of the cellular network is conserved for effective and efficient bandwidth utilization through handovers or effective utilization of multiple networks at a mobile device . In addition the device side resources e.g. including but not limited to battery power consumption radio use processor memory use can be optimized with a general philosophy for resource conservation while still optimizing performance and user experience through the disclosed management of providing data to mobile applications utilizing selection among multiple radios and or utilizing different network connections and managing handover situations from one network to another network.

The mobile device can be any system and or device and or any combination of devices systems that is able to establish a connection including wired wireless cellular connections with another device a server and or other systems such as host server and or application server content provider . Client devices will typically include a display and or other output functionalities to present information and data exchanged between among the devices and or the host server and or application server content provider . The application server content provider can by any server including third party servers or service content providers further including advertisement promotional content publication or electronic coupon servers or services. Similarly separate advertisement servers A promotional content servers B and or e Coupon servers C as application servers or content providers are illustrated by way of example.

For example the client devices can include mobile hand held or portable devices wireless devices or non portable devices and can be any of but not limited to a server desktop a desktop computer a computer cluster or portable devices including a notebook a laptop computer a handheld computer a palmtop computer a mobile phone a cell phone a smart phone a PDA a Blackberry device a Palm device a handheld tablet e.g. an iPad or any other tablet a hand held console a hand held gaming device or console any SuperPhone such as the iPhone and or any other portable mobile hand held devices or fixed wireless interface such as a M2M device etc. In one embodiment the client devices host server and application server are coupled via a network and or a network . In some embodiments the devices and host server may be directly connected to one another.

The input mechanism on client devices can include touch screen keypad including single touch multi touch gesture sensing in 2D or 3D etc. a physical keypad a mouse a pointer a track pad motion detector e.g. including 1 axis 2 axis 3 axis accelerometer etc. a light sensor capacitance sensor resistance sensor temperature sensor proximity sensor a piezoelectric device device orientation detector e.g. electronic compass tilt sensor rotation sensor gyroscope accelerometer or a combination of the above.

Signals received or detected indicating user activity at client devices through one or more of the above input mechanism or others can be used in the disclosed technology in acquiring context awareness at the client device . Context awareness at client devices generally includes by way of example but not limitation client device operation or state acknowledgement management user activity behavior interaction awareness detection sensing tracking trending and or application e.g. mobile applications type behavior activity operating state etc.

Context awareness in the present disclosure also includes knowledge and detection of network side contextual data and can include network information such as network capacity bandwidth traffic type of network connectivity and or any other operational state data. Network side contextual data can be received from and or queried from network service providers e.g. cell provider and or Internet service providers of the network and or network e.g. by the host server and or devices . In addition to application context awareness as determined from the client side the application context awareness may also be received from or obtained queried from the respective application service providers by the host and or client devices .

The host server can use for example contextual information obtained for client devices networks applications e.g. mobile applications application server provider or any combination of the above to manage the traffic in the system to satisfy data needs of the client devices e.g. to satisfy application or any other request including HTTP request . In one embodiment the traffic is managed by the host server to satisfy data requests made in response to explicit or non explicit user requests and or device application maintenance tasks. The traffic can be managed such that network consumption for example use of the cellular network is conserved for effective and efficient bandwidth utilization. In addition the host server can manage and coordinate such traffic in the system such that use of device side resources e.g. including but not limited to battery power consumption radio use processor memory use are optimized with a general philosophy for resource conservation while still optimizing performance and user experience.

For example in context of battery conservation the device can observe user activity for example by observing user keystrokes backlight status or other signals via one or more input mechanisms etc. and alters device behaviors. The device can also request the host server to alter the behavior for network resource consumption based on user activity or behavior.

In one embodiment the traffic management for resource conservation is performed using a distributed system between the host server and client device . The distributed system can include proxy server and cache components on the server side and on the device client side for example as shown by the server cache on the server side and the local cache on the client side.

Functions and techniques disclosed for context aware traffic management for resource conservation in networks e.g. network and or and devices can reside in a distributed proxy and cache system. The proxy and cache system can be distributed between and reside on a given client device in part or in whole and or host server in part or in whole. The distributed proxy and cache system are illustrated with further reference to the example diagram shown in .

In one embodiment client devices communicate with the host server and or the application server over network which can be a cellular network and or a broadband network. To facilitate overall traffic management between devices and various application servers content providers to implement network bandwidth utilization and device resource e.g. battery consumption the host server can communicate with the application server providers over the network which can include the Internet e.g. a broadband network .

In general the networks and or over which the client devices the host server and or application server communicate may be a cellular network a broadband network a telephonic network an open network such as the Internet or a private network such as an intranet and or the extranet or any combination thereof. For example the Internet can provide file transfer remote log in email news RSS cloud based services instant messaging visual voicemail push mail VoIP and other services through any known or convenient protocol such as but is not limited to the TCP IP protocol UDP HTTP DNS FTP UPnP NSF ISDN PDH RS 232 SDH SONET etc.

The networks and or can be any collection of distinct networks operating wholly or partially in conjunction to provide connectivity to the client devices and the host server and may appear as one or more networks to the serviced systems and devices. In one embodiment communications to and from the client devices can be achieved by an open network such as the Internet or a private network broadband network such as an intranet and or the extranet. In one embodiment communications can be achieved by a secure communications protocol such as secure sockets layer SSL or transport layer security TLS .

In addition communications can be achieved via one or more networks such as but are not limited to one or more of WiMax a Local Area Network LAN Wireless Local Area Network WLAN a Personal area network PAN a Campus area network CAN a Metropolitan area network MAN a Wide area network WAN a Wireless wide area network WWAN or any broadband network and further enabled with technologies such as by way of example Global System for Mobile Communications GSM Personal Communications Service PCS Bluetooth WiFi Fixed Wireless Data 2G 2.5G 3G 4G IMT Advanced pre 4G LTE Advanced mobile WiMax WiMax 2 WirelessMAN Advanced networks enhanced data rates for GSM evolution EDGE General packet radio service GPRS enhanced GPRS iBurst UMTS HSPDA HSUPA HSPA UMTS TDD 1xRTT EV DO messaging protocols such as TCP IP SMS MMS extensible messaging and presence protocol XMPP real time messaging protocol RTMP instant messaging and presence protocol IMPP instant messaging USSD IRC or any other wireless data networks broadband networks or messaging protocols.

The distributed proxy and cache system can include for example the proxy server e.g. remote proxy and the server cache components on the server side. The server side proxy and cache can as illustrated reside internal to the host server . In addition the proxy server and cache on the server side can be partially or wholly external to the host server and in communication via one or more of the networks and . For example the proxy server may be external to the host server and the server cache may be maintained at the host server . Alternatively the proxy server may be within the host server while the server cache is external to the host server . In addition each of the proxy server and the cache may be partially internal to the host server and partially external to the host server . The application server content provider can by any server including third party servers or service content providers further including advertisement promotional content publication or electronic coupon servers or services. Similarly separate advertisement servers A promotional content servers B and or e Coupon servers C as application servers or content providers are illustrated by way of example.

The distributed system can also include in one embodiment client side components including by way of example but not limitation a local proxy e.g. a mobile client on a mobile device and or a local cache which can as illustrated reside internal to the device e.g. a mobile device .

In addition the client side proxy and local cache can be partially or wholly external to the device and in communication via one or more of the networks and . For example the local proxy may be external to the device and the local cache may be maintained at the device . Alternatively the local proxy may be within the device while the local cache is external to the device . In addition each of the proxy and the cache may be partially internal to the host server and partially external to the host server .

In one embodiment the distributed system can include an optional caching proxy server . The caching proxy server can be a component which is operated by the application server content provider the host server or a network service provider and or any combination of the above to facilitate network traffic management for network and device resource conservation. Proxy server can be used for example for caching content to be provided to the device for example from one or more of the application server provider host server and or a network service provider . Content caching can also be entirely or partially performed by the remote proxy to satisfy application requests or other data requests at the device .

In context aware traffic management and optimization for resource conservation in a network e.g. cellular or other wireless networks characteristics of user activity behavior and or application behavior at a mobile device e.g. any wireless device can be tracked by the local proxy and communicated over the network to the proxy server component in the host server for example as connection metadata. The proxy server which in turn is coupled to the application server provider provides content and data to satisfy requests made at the device .

In addition the local proxy can identify and retrieve mobile device properties including one or more of battery level network that the device is registered on radio state or whether the mobile device is being used e.g. interacted with by a user . In some instances the local proxy can delay expedite prefetch and or modify data prior to transmission to the proxy server when appropriate.

The local database can be included in the local proxy or coupled to the local proxy and can be queried for a locally stored response to the data request prior to the data request being forwarded on to the proxy server . Locally cached responses can be used by the local proxy to satisfy certain application requests of the mobile device by retrieving cached content stored in the cache storage when the cached content is still valid.

Similarly the proxy server of the host server can also delay expedite or modify data from the local proxy prior to transmission to the content sources e.g. the application server content provider . In addition the proxy server uses device properties and connection metadata to generate rules for satisfying request of applications on the mobile device . The proxy server can gather real time traffic information about requests of applications for later use in optimizing similar connections with the mobile device or other mobile devices.

In general the local proxy and the proxy server are transparent to the multiple applications executing on the mobile device. The local proxy is generally transparent to the operating system or platform of the mobile device and may or may not be specific to device manufacturers. In some instances the local proxy is optionally customizable in part or in whole to be device specific. In some embodiments the local proxy may be bundled into a wireless model a firewall and or a router.

In one embodiment the host server can in some instances utilize the store and forward functions of a short message service center SMSC such as that provided by the network service provider in communicating with the device in achieving network traffic management. Note that can also utilize any other type of alternative channel including USSD or other network control mechanisms. The host server can forward content or HTTP responses to the SMSC such that it is automatically forwarded to the device if available and for subsequent forwarding if the device is not currently available.

In general the disclosed distributed proxy and cache system allows optimization of network usage for example by serving requests from the local cache the local proxy reduces the number of requests that need to be satisfied over the network . Further the local proxy and the proxy server may filter irrelevant data from the communicated data. In addition the local proxy and the proxy server can also accumulate low priority data and send it in batches to avoid the protocol overhead of sending individual data fragments. The local proxy and the proxy server can also compress or transcode the traffic reducing the amount of data sent over the network and or . The signaling traffic in the network and or can be reduced as the networks are now used less often and the network traffic can be synchronized among individual applications.

With respect to the battery life of the mobile device by serving application or content requests from the local cache the local proxy can reduce the number of times the radio module is powered up. The local proxy and the proxy server can work in conjunction to accumulate low priority data and send it in batches to reduce the number of times and or amount of time when the radio is powered up. The local proxy can synchronize the network use by performing the batched data transfer for all connections simultaneously.

Client Side Proxy a component installed in the Smartphone mobile device or wireless device that interfaces with device s operating system as well as with data services and applications installed in the device. The client side proxy is typically compliant with and able to operate with standard or state of the art networking protocols.

The server side proxy can include one or more servers that can interface with third party application servers e.g. mobile operator s network which can be proxy or an additional server that is not illustrated and or the client side proxy . In general the server side proxy can be compliant with and is generally able to operate with standard or state of the art networking protocols and or specifications for interacting with mobile network elements and or third party servers.

Reporting and Usage Analytics Server The Reporting and Usage Analytics system or component can collect information from the client side and or the server side and provides the necessary tools for producing reports and usage analytics can used for analyzing traffic and signaling data. Such analytics can be used by the proxy system in managing reducing network traffic or by the network operator in monitoring their networks for possible improvements and enhancements. Note that the reporting and usage analytics system component as illustrated may be a server separate from the server side proxy or it may be a component of the server side proxy residing partially or wholly therein.

The client side components can include software components or agents installed on the mobile device that enables traffic optimization and performs the related functionalities on the client side. Components of the client side proxy can operate transparently for end users and applications . The client side proxy can be installed on mobile devices for optimization to take place and it can effectuate changes on the data routes. Once data routing is modified the client side proxy can respond to application requests to service providers or host servers in addition to or instead of letting those applications access data network directly. In general applications on the mobile device will not notice that the client side proxy is responding to their requests. Some example components of the client side proxy are described as follows 

Device State Monitor The device state monitor can be responsible for identifying several states and metrics in the device such as network status display status battery level etc. such that the remaining components in the client side proxy can operate and make decisions according to device state acting in an optimal way in each state.

Traffic Recognizer The traffic recognizer analyzes all traffic between the wireless device applications and their respective host servers in order to identify recurrent patterns. Supported transport protocols include for example DNS HTTP and HTTPS such that traffic through those ports is directed to the client side proxy . While analyzing traffic the client side proxy can identify recurring polling patterns which can be candidates to be performed remotely by the server side proxy and send to the protocol optimizer .

Protocol Optimizer The protocol optimizer can implement the logic of serving recurrent request from the local cache instead of allowing those request go over the network to the service provider application host server. One is its tasks is to eliminate or minimize the need to send requests to the network positively affecting network congestion and device battery life.

Local Cache The local cache can store responses to recurrent requests and can be used by the Protocol Optimizer to send responses to the applications .

Traffic Scheduler The traffic scheduler can temporally move communications to optimize usage of device resources by unifying keep alive signaling so that some or all of the different applications can send keep alive messages at the same time traffic pipelining . Traffic scheduler may also decide to delay transmission of data that is not relevant at a given time for example when the device is not actively used .

Policy Manager The policy manager can store and enforce traffic optimization and reporting policies provisioned by a Policy Management Server PMS . At the client side proxy first start traffic optimization and reporting policies policy profiles that is to be enforced in a particular device can be provisioned by the Policy Management Server.

Watch Dog The watch dog can monitor the client side proxy operating availability. In case the client side proxy is not working due to a failure or because it has been disabled the watchdog can reset DNS routing rules information and can restore original DNS settings for the device to continue working until the client side proxy service is restored.

Reporting Agent The reporting agent can gather information about the events taking place in the device and sends the information to the Reporting Server. Event details are stored temporarily in the device and transferred to reporting server only when the data channel state is active. If the client side proxy doesn t send records within twenty four hours the reporting agent may attempt to open the connection and send recorded entries or in case there are no entries in storage an empty reporting packet. All reporting settings are configured in the policy management server.

Push Client The push client can be responsible for the traffic to between the server side proxy and the client side proxy . The push client can send out service requests like content update requests and policy update requests and receives updates to those requests from the server side proxy . In addition push client can send data to a reporting server e.g. the reporting and or usage analytics system which may be internal to or external to the server side proxy .

The proxy server has a wide variety of uses from speeding up a web server by caching repeated requests to caching web DNS and other network lookups for a group of clients sharing network resources. The proxy server is optional. The distributed proxy and cache system and or allows for a flexible proxy configuration using either the proxy additional proxy s in operator s network or integrating both proxies and an operator s or other third party s proxy.

The server side of the distributed system can include for example a relay server which interacts with a traffic harmonizer a polling server and or a policy management server . Each of the various components can communicate with the client side proxy or other third party e.g. application server service provider and or other proxy and or a reporting and usage analytics system. Some example components of the server side proxy is described as follows 

Relay Server The relay server is the routing agent in the distributed proxy architecture. The relay server manages connections and communications with components on the client side proxy installed on devices and provides an administrative interface for reports provisioning platform setup and so on.

Notification Server The notification server is a module able to connect to an operator s SMSC gateways and deliver SMS notifications to the client side proxy . SMS notifications can be used when an IP link is not currently active in order to avoid the client side proxy from activating a connection over the wireless data channel thus avoiding additional signaling traffic. However if the IP connection happens to be open for some other traffic the notification server can use it for sending the notifications to the client side proxy . The user database can store operational data including endpoint MSISDN organization and Notification server gateway for each resource URIs or URLs .

Traffic Harmonizer The traffic harmonizer can be responsible for communication between the client side proxy and the polling server . The traffic harmonizer connects to the polling server directly or through the data storage and to the client over any open or proprietary protocol such as the 7TP implemented for traffic optimization. The traffic harmonizer can be also responsible for traffic pipelining on the server side if there s cached content in the database for the same client this can be sent over to the client in one message.

Polling Server The polling server can poll third party application servers on behalf of applications that are being optimized . If a change occurs i.e. new data available for an application the polling server can report to the traffic harmonizer which in turn sends a notification message to the client side proxy for it to clear the cache and allow application to poll application server directly.

Policy Management Server The policy management server PMS allows administrators to configure and store policies for the client side proxies device clients . It also allows administrators to notify the client side proxies about policy changes. Using the policy management server each operator can configure the policies to work in the most efficient way for the unique characteristics of each particular mobile operator s network.

Reporting and Usage Analytics Component The Reporting and Usage Analytics component or system collects information from the client side and or from the server side and provides the tools for producing reports and usage analytics that operators can use for analyzing application signaling and data consumption.

Most mobile applications regularly poll their application servers to check for new data. Often there is no new data or the content has not changed so the exchange of data through the mobile network is unnecessary. As the number of mobile phones and their applications increase the amount of this needless polling grows. Since applications are not coordinated and poll at different times and intervals any given phone may frequently generate signal traffic. This causes multiple unnecessary radio activations consuming power and shortening battery life.

In one embodiment the signaling optimizer reduces network requests to a minimum by caching content in the client and letting its own server poll for changes in the network. When a mobile phone s client side proxy e.g. local proxy detects a recurring pattern for a resource such as an email application its response content is stored locally in a client cache so similar requests from that application get their response from the local cache rather than signaling the network.

In another embodiment systems and methods of intelligent alarm tracker and resource manipulator can be used to reduce network requests by consolidating or changing the timing of requests such that use of resources including network battery CPU memory and the like can be reduced.

In some embodiments features of the signaling optimizer and the intelligent alarm tracker and resource manipulator may be used together to obtain reduce resource usage by mobile applications on a mobile device.

For purposes of discussion the application layer refers to a layer s that is above the transport layer. In some embodiments the application layer can refer to Layer 7 of the Open System Interconnection OSI model in other embodiments it can refer to Layer 5 of the internet protocol suite also known as TCP IP model. In any instance the application layer is characterized as being the layer closest to the end user. Typically both the application layer and the user e.g. user interact directly with the software application e.g. applications described below in . Some examples of protocols of the application layer include NNTP SIP SSI DNS FTP Gopher HTTP NFS NTP SMPP SMTP SNMP Telnet DHCP and Netconf and in some additional instances TLS SSL. Some examples of protocols of the transport layer include TCP UDP SCTP DCCP and SPX.

The embodiments disclosed herein recognize that the increase in the number and capabilities of mobile devices in recent years has created pressure on carriers to make the most of available wireless network resources. The embodiments disclosed herein also recognize that mobile devices e.g. device now have multimode of network capabilities. Device is capable of communicating via different radio connections e.g. through various hardware radio modules A N with different communication networks and A N. Examples of such networks include cellular networks e.g. GSM GPRS CDMA 3G 3.5G WiMAX LTE 4G etc. or wireless broadband e.g. WLAN or WiFi . According to some embodiments device can communicate with different communication networks during normal operation to optimize connection parameters.

As an example application of the present disclosed techniques with multimode devices operators seek to relieve the burden placed on overloaded mobile networks by offloading traffic to local WiFi networks whether they are carrier managed public or private. However conventionally the operators lack adequate control to push traffic to WiFi and suboptimal offloading decisions could lead to an adverse end user experience. Without the proper tools in place to drive data traffic to alternative sources of wireless connectivity the cellular data network remains overloaded while WiFi resources are underutilized. As such the present disclosed techniques can provide such proper tool in determining when and which radio and or network to select in order to provide the best user experience.

The present embodiments further recognize that it can be beneficial to measure the QoE from an application level which can reduce the time to market as well as deployment to existing devices on the market because this approach generally requires no administrator permission e.g. a root privilege nor carrier or original equipment manufacturer OEM integration. In comparison additional metrics which can be used to evaluate the QoE or user experience may include for example the amount of data traffic quality of signal power consumption characteristics of a particular network battery status network congestion and so forth.

It is noted that some of these metrics use lower level e.g. transportation layer or internet layer protocols and may require root privilege or OEM integration thereby less than ideal because they are harder to deploy. Additionally lower level protocols e.g. TCP or ICMP may generally be more reflective of the network condition s perspective and less of an application s perspective on the other hand application layer protocols include process time and delays from specific system and therefore they reflect more accurately on an application s actual experience of the network.

Accordingly the present embodiments of mobile device include the network evaluation and selection engine which can enable data traffic offload from overburdened cellular networks to local WiFi networks while optimizing offloading decisions to ensure a high quality end user experience. The network evaluation and selection engine includes for example a parameter measurement module a quality determination module a network switch module and optionally a network monitoring module that can alone or in any combination with the other modules perform the network evaluation and selection techniques disclosed herein. According to some embodiments the network evaluation and selection engine can select the best radio e.g. between Cellular radio A versus other radio N and or select the best network e.g. among networks A N based on the QoE determined by the techniques disclosed herein.

The network evaluation and selection engine can for example quantify the user experience e.g. by generating a quality of experience QoE number for a given network or networks so that it can be used to select one or more radios e.g. among network modules A N for data traffic offloading e.g. to WiFi selecting the best network e.g. among different WiFi networks gathering quality statistics of mobile networks at different time location or for a given application and or other suitable purposes.

For example in some embodiments the measured QoE can then be used to actively selectively enable one or more radios or radio modules on the mobile device in order to provide the optimal or the best user experience in general and or with respect to a specific conditions for example for a given application or most applications at certain times of day or days of week etc. In another example the measured QoE can then be used to select one or more networks. In yet some other embodiments the measured QoE can be used to enable radios and or selection of networks e.g. the best Wi Fi network available or accessible or the best mobile cellular network within accessible range or among 3G 4G LTE and WiFi networks .

The parameter measurement module can measure a set of parameters for each of the available or otherwise accessible networks using an application layer protocol. In some instances the set of parameters can be measured by communicating one or more servers within a respective network. These servers can include any public or in some instances private servers that are generally stable and constantly available thereby suitable for use as a gauge of network performance. An example list of these servers include www.yahoo.com www.google.com and www.cnn.com .

More specifically in accordance with some embodiments the parameter measurement module can make standard system calls from an application layer level e.g. via HTTP as compared to a transportation layer level such as TCP to perform Round Trip Time RTT measurements. In addition to RTT percentage of Packet Loss PL can also be computed from the application level and then in one embodiment one or both of RTT and PL can serve as a basis to determine the Quality of experience QoE or other metrics measuring user experience. In one embodiment the application layer protocol is able to establish communication with the servers without requiring an administrative privilege e.g. root of the mobile device.

In one or more embodiments the RTT numbers can be measured by establishing an HTTP socket connection e.g. with a server for performing an HTTP Ping. Similar to a well known TCP or ICMP Ping command the HTTP Ping command which can be initiated by the parameter measurement module which corresponds to a TCP three way handshake protocol including a synchronize SYN message a synchronize acknowledgement SYN ACK message and a acknowledgement ACK message. Such three way handshake protocol is illustrated by way of example in . As illustrated in an RTT number for a server can be calculated as the difference between the sent time of the SYN message and the receipt time of the SYN ACK message. Additionally every HTP socket connection is followed by a socket close e.g. FIN ACK ACK etc. .

Further in one embodiment a transmitted packet or message can be considered lost if during an HTTP socket connection either a Timeout e.g. one second for each HTTP socket connection or an I O exception occurs. A percentage or probability of Packet Loss PL can be for example calculated by the parameter measurement module for each HTTP socket connection.

In some embodiments for every period of QoE calculation a Domain Name System DNS query is made by the parameter measurement module e.g. to translate a server s domain name into numerical IP addresses and the DNS results can be stored on mobile device . In some embodiments if the DNS query fails on any server and if the DNS results from the last successful DNS query on the same radio are available then the parameter measurement module use those results to perform its QoE calculations. However if the DNS query fails on all servers and there are no previous result then the evaluation and selection engine reports the QoE as 0 or none .

Moreover some embodiments of the parameter measurement module can perform a pseudo or a dummy HTTP Ping prior to the measuring to wake up a radio e.g. cellular radio A which corresponds to a respective network and the results from this pseudo or dummy Ping is not measured. In some instances dummy Pings can be sent to servers and in one embodiment one dummy Ping can be sent to each server. So for example if there are three servers e.g. Yahoo Google CNN then a total of three dummy Pings are sent. Notably a Timeout period for a dummy Ping can be different than a Timeout period for an actual Ping from which RTT and or PL results are measured. One example of a Timeout for each dummy Ping is 20 seconds and an example of Timeout for each actual Ping is 1 second.

Then in one or more embodiments the parameter measurement module sends out for example 5 Pings to each server. If there are for example three servers then a total of 15 actual Pings are sent. Note that any number of servers can be used. Additionally or alternatively the HTTP Pings can be sent by the parameter measurement module to each server in a sequential manner e.g. using a Round Robin scheduling . Take the embodiment with three servers as an example a first Ping can be sent to server A a second Ping to server B a third Ping to server C a forth Ping to server A and so forth.

After the parameter measurement module gathers for a given network the Round Trip Time RTT and or Packet Loss PL parameters or other parameters for the applicable servers the quality determination module can determine compute or assess a quality level or an overall quality level for the given networks based on the parameters. More specifically in some embodiments the quality determination module first calculates a statistical parameter of the RTT and or the PL for example a median RTT and an average PL number for each server based on the readings e.g. from the five actual Ping per server or some other number of pings . It is noted that median RTT and average PL are example metrics which can be used to assess the quality of experience QoE or user experience and the like with an application at a mobile device for a specific network e.g. to facilitate choosing among different WiFi networks and or different Cellular networks or for a given radio e.g. to facilitate choosing between WiFi versus Cellular other suitable mathematical and or statistical quantifiers can be computed or determined for evaluating quality of experience QoE or other types of user experience.

Then with the median RTT and or the average PL for one or each server the quality determination module can assign a specific quality level to the servers for example based on a quality table which is specific to the given network or radio. respectively depict two examples of such network specific quality tables a table for a Cellular network or radio is depicted in and a table for a WiFi network or radio is depicted in .

With the assigned specific quality level for each of the server within a given network the quality determination module can select from the assessed quality levels. In some embodiments the quality level QoE selected is the highest or near the highest level out of the assessed quality levels. For the example with the three predetermined servers the overall QoE is selected based on the best QoE out of the three specific QoEs of the three servers. For purposes of discussion herein the term highest is measured in light of the assigned specific quality levels for example a QoE number of 5 is better than a QoE of 4 and a QoE of 4 is better than a QoE of 3 etc. In general the shorter the RTT numbers and the smaller the PL numbers are the better the network quality is. In some embodiments it can thus be inferred that the quality of experience is higher when connected to the network and the network and or the radio used for connecting to the network can preferentially be selected for example in applicable circumstances e.g. when a given mobile application is being used or at certain times of day or days of the week etc. .

Additionally or alternatively the overall QoE can be converted determined assessed or computed from the specific QoE numbers based on suitable formulas e.g. as can in some instances be determined by carriers . In one example the conversion formula is Specific QoE of 6 or 5 Overall QoE of 2 Good Specific QoE of 4 or 3 Overall QoE of 1 Usable Specific QoE of 2 or 1 Overall QoE of 0 Unusable 

Also in some embodiments QoE of 0 Unusable can be declared by the quality determination module if the time to get QoE results takes more than some configurable amount of time e.g. 15 30 60 120 seconds .

In some embodiments the QoE can be determined on an application by application basis on each mobile device or for each user.

The network switch module can further choose the network e.g. among the radio modules based on the quality level of each network. It is noted that it is not necessary for the network switch module to choose only one network over another network some embodiments of the network switch module can select more than one network for offering better user experience offloading and or other suitable purposes.

More specifically the network evaluation and selection engine can employ the switch module to switch network based on the above said QoE assessment s . In some embodiments the switch can be among different networks under the same radio in some embodiments the switch can be among different networks across different radios.

For one example of switching network under the same radio the engine can switch from a 4G cellular network to a 3G cellular network under the same cellular radio module even though depending on the particular implementation of cellular radio chip circuitry components and or antennas that respectively in charge of 3G 4G connections may be different or the same . For another example the engine can switch from a cellular network offered by base station A to another cellular network offered by base station B under the same cellular radio module. For yet another similar example the engine can switch from one WiFi network offered by an access point A to another WiFi network offered by an access point B under the same WiFi radio module.

For one example of switching network across different radios the engine can switch from a 4G cellular network to a IEEE 802.11N WiFi network and in doing so the engine can selectively switch from the cellular radio to the WiFi radio.

Furthermore as additional or alternative embodiments the network evaluation and selection engine can continuously monitor the network condition and or other parameters for network switching e.g. Wi Fi offloading opportunities. As mentioned evaluation and selection can measure the subscriber quality of experience QoE for available networks in real time or near real time to ensure a satisfactory subscriber experience.

This can be used actively by the mobile device e.g. via the local proxy to make a decision to connect to the best radio e.g. 3G 4G or Wi Fi and or the best network e.g. WiFi networks offered among different access points or for use in WiFi offloading e.g. by an operator . In addition operators or carriers can further utilize the results from the QoE assessment of their mobile networks of cell towers at various times and or at different locations.

In specific the network evaluation and selection engine can include a network monitoring module which can perform the aforementioned measuring e.g. of RTT and PL parameters and determining e.g. of specific and overall QoE numbers periodically. In one embodiment the network monitoring module causes the network switch module to perform the aforementioned choosing when an overall quality level of a previously selected network deteriorates by a level e.g. below a certain number such as drop to 2 below a certain degree from usable to unusable drops a certain percentage by 33 etc. . For example the network monitoring module determines that the overall quality level of a previously selected network has dropped from a usable level to an unusable level then the aforementioned network evaluation and selection processes can be triggered.

In this way among other advantages embodiments disclosed herein enable a quantified approach to user experience estimation and application level Quality of Experience QoE measurements which can serve as bases for selection of networks for the applications. The embodiments disclosed herein also enjoy the benefits of reduced time to market as well as deployment to existing devices on the market.

Some addition or alternative embodiments further recognize that it is desirable to differentiate two different scenarios 1 where WiFi Quality of Experience QoE is deemed as unusable because of bad reception of radio signals e.g. weak signal strength due to the mobile device s location etc. and 2 where WiFi Quality of Experience QoE is deemed as unusable because of other reasons such as failure in a given access point s AP network backbone e.g. being disconnected from the Internet due to technical difficulties so that the evaluation and selection engine can improve on its decision making e.g. as to which radio and or network to select which in turn helps to provide better user experience policy.

Moreover some of the abovementioned embodiments use dummy Pings before they perform QoE measurements to wake up the radio e.g. if the data communication backbone to be measured is cellular network the cellular radio should be awaken by the dummy Ping s . It would be beneficial if the engine can be capable to identify that whether the current data traffic or the targeted data network to be measured is based on a cellular radio backbone or a WiFi radio backbone. In this way for those data networks that are not based on cellular radio backbone the engine need not send out the dummy Pings before performing QoE measurement thereby reducing the overall time to declare QoE numbers e.g. in deciding whether a network s QoE is unusable .

Accordingly some embodiments of the evaluation and selection engine can further include a received signal strength indicator RSSI module which can enable the engine to use WiFi Access Point AP RSSI as an indicator to determine an unusable QoE for WiFi networks or radios. For one example benefit this technique can take into account the location of mobile device with respect to the AP s that is are providing the WiFi network s .

For purposes of discussion it is generally known that in telecommunications field that received signal strength indicator RSSI is a measurement of the power level present in a radio signal as being received by an antenna. Therefore for example the higher the RSSI number or less negative in some implementations the stronger the signal. It is noted that RSSI is an example method of performing said identification. Other methods can be based on learning e.g. from prior use or other indications or some other suitable ways.

In particular the following description assumes that RSSI value refers to that as received by the WiFi radio and that RSSI value can be accessible via for example using an application programming interface API function call e.g. as provided by an operating system s public library to read a certain memory register s value which may be automatically written by a wireless communication e.g. WiFi chip or chipsets. As such the following description regarding applications of RSSI values in network evaluation and selection are discussed with respect to WiFi networks. However a person having ordinary skill in the art will know that the disclosed techniques can be applied to other radios such as cellular radios in a similar manner described herein.

In some embodiments a threshold RSSI level threshold signal level can be decided on a per device basis e.g. tailored to suit the device s specification or antenna profiles . Further RSSI range can be converted e.g. by an RSSI conversion module A to different signal level between 0 . . . N e.g. via suitable methods such as using an Android API . Then the RSSI can be compared against the threshold RSSI. In this way for WiFi networks or in some embodiments other suitable networks with their corresponding RSSI s that have RSSI below the threshold signal level which can be determined based on experiments experience or other suitable factors can be declared by the engine as unusable.

Thereafter those networks determined unusable based on the RSSI method can be treated differently for decision making. More details on how the RSSI module can assist the evaluation and selection engine in performing its functionalities are described below.

Applications e.g. applications A N are example applications of the mobile device . Applications on mobile device can communicate with the application servers see via the networks and A N. Some examples of applications include news application weather services web browsers with multimedia capabilities video sharing applications online radio and music stations video on demand services and or social network applications. In general each application receives a plurality of data e.g. audio streams or video clips relevant or necessary to the operations e.g. foreground and or background operations of the application from the application servers .

In addition to the above described functions of the network evaluation and selection engine in some embodiments the embodiments of local proxy can enable carriers with policy based control of offloading decisions e.g. performed by the engine by allowing the carriers to control and manage the policies e.g. quality tables quality level formulas etc. through suitable means. Examples of such suitable means can include communications through the aforementioned proxy servers or other suitable components. In one example the aforementioned quality tables and formulas for quality calculations can be defined downloaded from the proxy server. These carrier defined offloading policies can be enforced at the source of data traffic the mobile client e.g. via the engine . In this way the local proxy identifies and takes advantage of offloading opportunities as they become available thereby creating more available resources by directing subscribers to local WiFi networks to fulfill their mobile data requirements. As such carrier costs can be reduced because more traffic is directed to lower cost WiFi resources rather than relying on higher cost cellular network resources.

In some embodiments network evaluation and selection engine e.g. in conjunction with the local proxy can further include multiple configurable parameters including security data usage application context battery life speed quality of connection location and time of day in considering the QoE ratings.

As such among other benefits the local proxy implementing the present disclosed techniques can enhance end user quality of experience increase WiFi offload utilization empower carriers with policy based control and deliver insight into mobile client behavior improve network capacity utilization.

The network evaluation and selection engine includes a parameter measurement module a quality determination module and a server list . For simplicity other modules such as the aforementioned network switch module and network monitoring module are not depicted in .

As aforementioned it would be beneficial if the engine is capable to identify whether an unusable QoE is caused by location of the mobile device e.g. so that it suffers from weak reception or is caused by reasons other than the location of the mobile device e.g. like network outage or other technical difficulties taking place on the access point that provides the mobile device with the radio network . Further it would be also beneficial if the engine is capable of identifying whether the current data traffic or the targeted data network to be measured is based on a cellular radio backbone or a WiFi radio backbone. Accordingly the RSSI module can enable the engine to use WiFi Access Point AP RSSI as an indicator on which many decisions the engine makes can be based.

As illustrated in example components of the RSSI module includes an RSSI conversion module A a threshold RSSI module B an AP identifier module C a timer D a triggering event monitor E and an RSSI monitor F.

First in some embodiments a quality level e.g. QoE for the network that the mobile device is currently connected is determined by the engine . The engine can use any of the one or more methods discussed above e.g. QoE probing using Pings and or other mechanisms to determine QoE for the network and to see whether the QoE is unusable. 

Additionally or alternatively the engine can utilize the RSSI module to determine whether a QoE for WiFi networks or radios is unusable. Specifically in some embodiments a RSSI quality threshold or a threshold signal level can be recorded in or determined by the RSSI threshold module B on a per device basis e.g. tailored to suit the device s specification or antenna profiles . Either the value of the RSSI quality threshold or the metrics for determining thereof or both can be decided e.g. from a manufacturer of the mobile device configured e.g. by a user communicated e.g. from an administrator or other suitable means e.g. using experiments experience etc. can be stored and or executed by the RSSI threshold module B.

Further the RSSI conversion module A in the RSSI module can convert the RSSI range to different signal level between 0 . . . N . This can be done via suitable methods such as using an Android API to perform function calls. Then the RSSI module can compare the RSSI level readout from the RSSI conversion module A with the RSSI quality threshold from the RSSI threshold module B. In this way for WiFi networks or in some embodiments other suitable networks with their corresponding RSSI s that have RSSI below the threshold signal level can be declared by the engine as unusable. In some embodiments the threshold can be specific to hardware characteristics. For example the threshold module B may contain various thresholds that correspond to different wireless network chipset makers.

After determining that the QoE is unusable according to one or more embodiments disclosed herein the RSSI module can bring enhancements to following scenarios 

The present embodiments recognize that the location of the mobile device from the AP that provides the network can impact QoE computations for that AP. For example if a user walks out of range of a WiFi network the user can become located in the grey area of WiFi reception such as illustrated in which can result in an usuable QoE.

In this scenario the RSSI module can assist the engine in adopting RSSI as a parameter in QoE computation. Specifically after QoE computation the RSSI module enables the engine use a received signal strength threshold in the decision making process. This can enable the engine to selectively respond differently when an unusable QoE is possibly or probably caused by bad reception or weak signal of WiFi at that particular location of the mobile device as opposed to problems in the backbone of the AP providing the network . In particular the RSSI module can assist the engine to identify whether the below threshold QoE level is caused or substantially caused by the location of the mobile device e.g. at a corner with bad reception .

The received signal strength threshold can be provided by the RSSI threshold module B in a manner similar to how the RSSI QoE threshold or quality threshold is provided. It is noted that depending on the embodiment the received signal strength threshold and the quality threshold can be the same value or two different values. Similarly these two thresholds can be determined by the same similar or different methodologies. In some embodiments these two thresholds may be correlated to each other.

More specifically the RSSI readouts from the previously said RSSI conversion module A can be used by the RSSI module or the engine for comparison with the received signal strength threshold. According to some embodiments the RSSI module can further identify the cause of the unusable QoE as the location of the mobile device if the RSSI readout is below the received signal strength threshold. Similarly the RSSI module can further identify the cause of the unusable QoE as not the location of the mobile device if the RSSI readout is not below the received signal strength threshold. Then the engine can selectively respond to the unusable QoE situation according to the identified cause.

It is noted that the techniques introduced herein with regard to identifying the cause of unusable QoE using the RSSI module are not meant to be exhaustive and that the present embodiments can include other suitable methods of identifying whether the location and or movement of the mobile device may be the cause of the below threshold QoE of the network. Some examples of such other suitable methods may include RTT value calculations e.g. obtained through above said Pings sent by the engine GPS data etc.

In one or more embodiments if the identified cause is the location e.g. if the radio signal strength received at the mobile device as indicated by the RSSI conversion module A is lower than the received signal strength threshold as indicated by the threshold RSSI module B then the engine can suspend e.g. prevent connection to the AP based on its RSSI that is to say if the identified cause is the location then embodiments of the engine can suspend AP based on RSSI. Specifically in some embodiments the engine can suspend a unique identifier such as a service set identifier SSID of the network so that connecting to the AP in question is at least temporarily avoided until the user becomes back within an acceptable RSSI range again e.g. as determined by comparing with the RSSI threshold . This can bring the benefit of reducing or eliminating the problem of connecting to a network with an unusable QoE when the cause is bad reception.

If the identified cause is not the location e.g. if the radio signal strength received at the mobile device as indicated by the RSSI conversion module A is not lower than the received signal strength threshold as indicated by the threshold RSSI module B then the engine can suspend the AP by its media access control MAC address or identifier that is to say in some embodiments the engine can suspend the AP itself e.g. by MAC ID which provides the network and not the network e.g. by its SSID .

Further when user s movement improves WiFi RSSI readout the engine may consider the AP in question as a valid connectivity choice again.

For the example illustrated in if the user s location moves from strong RSSI to weak RSSI e.g. in the grey area then the RSSI level readout can drop below the threshold signal level if a QoE check e.g. discussed above at that point gives an unusable QoE then the engine may not consider the AP in its network selection e.g. blocking or ignoring its SSID until the RSSI readout of that AP comes again above the threshold. Such task of monitoring the RSSI can be performed by for example the RSSI monitor module F.

In some of the above mentioned QoE embodiments e.g. engine as illustrated in which is without the RSSI module AP can be suspended based on SSID.

Indeed suspending a network by its SSID typically may involve less communication e.g. to discover the MAC address of the AP from an application s perspective. However this can mean that the user cannot connect to any other available AP with the same SSID in this period e.g. multiple AP s with same SSID such as in a corporate environment described below in section 3 and with reference to .

With the RSSI module A the engine can selectively perform MAC ID also known as basic service set identifier BSSID as compared to SSID based suspension. More specifically since MAC ID is a unique parameter for each AP e.g. as opposed to SSID when the AP in question is suspended based on MAC ID the engine can make sure that the user can still connect to any other AP broadcasting network signals with the same SSID as the that of the network of the suspended AP.

Additionally with RSSI module the engine can also ensure that when any of the AP s configuration changes e.g. when an AP changes the SSID of its network the AP with altered configuration is not considered as a new AP but associated with an existing one thereby eliminating duplicates e.g. in performing the aforementioned network evaluation and selection processes .

 3 Handling Multiple WiFi Networks Provided by Multiple AP s with Same SSID e.g. in a Corporate Environment 

The present embodiments can also help with the WiFi roaming problem where multiple APs of same SSID exist and user can roam between different APs. If the user comes into a zone where the QoE becomes unusable and the received signal strength level is below threshold the engine can perform a handover to another AP with same SSID and with highest signal level.

In particular the present embodiments recognize a problem in a WiFi roaming case where the user is originally connected to an AP with good RSSI but then moves away from AP and experiences the RSSI readout dropping low but the user has not received a handover to another AP with same SSID. Typically the mobile device would remain connected to the original AP with bad RSSI and if the QoE becomes unusable then all APs with same SSID may get suspended e.g. at least temporarily . Such scenario is illustrated in . In the example illustrated in the user walks from a connected WiFi AP e.g. AP1 to another WiFi AP with same SSID e.g. AP2 .

According to some embodiments if the QoE of connected AP1 becomes unusable and the RSSI readout drops below the threshold signal level then the engine can handover to AP2 which is with same SSID and with the highest signal level at that point.

When WiFi QoE becomes unusable the RSSI module can determine e.g. via the AP identifier module C whether there are multiple APs providing networks with same SSID. If so then the RSSI module can measure e.g. via the RSSI conversion module A the RSSI readouts for each of the multiple available networks with the same SSID. Thereafter the RSSI module can check if the mobile device is currently connected to the AP with maximum RSSI readout among the APs with same SSID.

More specifically similar to the techniques described above the RSSI module can identify whether the below threshold or unusable QoE is caused or substantially by a location or movement of the mobile device . In some embodiments the RSSI module can be configured to identify the cause of unusable QoE as the location of the mobile device if a network with maximum RSSI readout is not connected. The RSSI module can be further configured to identify the cause of unusable QoE as not the location if a network with maximum RSSI readout is already connected. Then the engine can selectively switch among the available networks according to the identified cause.

Again it is noted that the techniques introduced herein with regard to identifying the cause of unusable QoE using the RSSI module are not meant to be exhaustive and that the present embodiments can include other suitable methods of identifying whether the location and or movement of the mobile device may be the cause of the below threshold QoE of the network. Some examples of such other suitable methods may include RTT value calculations e.g. obtained through above said Pings sent by the engine GPS data etc.

In some embodiments if the identified cause is the location of the mobile device e.g. if the network with maximum RSSI readout is not connected such as illustrated in then the engine can connect to the AP with the maximum RSSI readout. On the other hand if the identified cause is not the location of the mobile device e.g. if the network with maximum RSSI readout is already connected then the engine can perform the MAC ID based suspension such as described in section 2 above .

As previously mentioned the present embodiments can also trigger the engine to perform QoE probing when the RSSI signal level of connected WiFi AP goes below threshold signal level.

Specifically in the some of the abovementioned QoE embodiments e.g. engine as illustrated in which is without the RSSI module QoE probing can be triggered based on for example a configurable timer or an triggering event e.g. a connection change . It is recognized by the present embodiments that it would be beneficial to take user s mobility into consideration.

Accordingly with the RSSI module A the engine can be provided with RSSI readings e.g. through the RSSI conversion module A and or RSSI monitor F as a QoE trigger e.g. from a comparison with the WiFi RSSI threshold . For example the engine can trigger QoE probing when device crosses e.g. drops below or climbs above a threshold WiFi RSSI value. Then the engine can act based on the QoE result. In this way when user s moves out of an acceptable range of WiFi triggering QoE probing ensures minimal user experience disruption and smoother dynamic hand off. In some embodiments this technique can also be used in lieu of sending out Pings for WiFi and in some embodiments this also reduces or removes the need to send out dummy Pings to wake up radios during WiFi situations.

The RSSI module also includes the timer module D and the triggering event monitor E which can respectively assist the RSSI module in reevaluating the RSSI readout and or the engine in reevaluating the QoE measurements determinations.

To select a preferable network for mobile applications e.g. for performance offloading statistics gathering and or other suitable purposes the network evaluation and selection engine is to determine an over quality of experience QoE number for each network of interest.

First the parameter measurement module in the network evaluation and selection engine measures a set of parameters for each of the available networks using an application layer protocol. In some instances the set of parameters are measured by communicating with each of a plurality of servers within a respective network. For example to determine the overall QoE number for WiFi the parameter measurement module includes an HTTP Ping module to send out Ping commands e.g. with handshaking such as illustrated in to each server on a server list . In one or more embodiments the parameter measurement module sends out multiple pings e.g. 5 Pings to each server.

Then the RTT monitor and PL monitor in the HTTP Ping module can measure Round Trip Time RTT times and Packet Loss PL percentage numbers based on those multiple e.g. 5 Pings to each server. Additionally or alternatively the HTTP Pings module can send the Ping messages to each server using Round Robin scheduling.

Next the quality determination module determines an overall quality level for each of the available networks based on the parameters. Thereafter the network switch module chooses one or more networks e.g. among the modules based on the overall quality level of each network.

To select a preferable radio for mobile applications e.g. for performance offloading statistics gathering and or other suitable purposes the radio evaluation and selection engine is to determine an over quality of experience QoE number for each radio of interest.

First the parameter measurement module in the radio evaluation and selection engine measures A a set of parameters for each of the available radios using an application layer protocol. In some instances the set of parameters are measured A by communicating with each of a plurality of servers within a respective radio. For example to determine the overall QoE number for WiFi the parameter measurement module includes an HTTP Ping module to send out Ping commands e.g. with handshaking such as illustrated in to each server on a server list. In one or more embodiments the parameter measurement module sends out multiple pings e.g. 5 Pings to each server.

Then the RTT monitor and PL monitor in the HTTP Ping module can measure Round Trip Time RTT times and Packet Loss PL percentage numbers based on those multiple e.g. 5 Pings to each server. Additionally or alternatively the HTTP Pings module can send the Ping messages to each server using Round Robin scheduling.

Next the quality determination module determines A an overall quality level for each of the available radios based on the parameters. Thereafter the radio switch module A chooses A one or more radios e.g. among the radio modules based on the overall quality level of each radio.

Some embodiments of the parameter measurement module can transmit a pseudo or a dummy HTTP Ping message prior to the measuring to wake up a radio e.g. cellular radio A which corresponds to a respective network and the results from this pseudo or dummy Ping is not measured. In some implementations one dummy Ping is performed per server.

In some embodiments to perform the aforementioned step the quality determination module can assign a specific quality level to one or more servers within the respective network based on a quality table which is specific to the respective network. For example a quality calculator module A within the quality determination module can calculate a median RTT and or an average PL number for one or more servers based on the readings. Then with the median RTT and the average PL for one or more servers the quality determination module assigns a specific quality level to each of the servers based on a quality table B which is specific to the given network e.g. as tables illustrated in .

With the assigned specific quality level for each of the server within a given network the quality determination module then selects a quality level from the assessed quality levels. In some embodiments the quality level QoE selected is the highest or of a higher level out of the assessed quality levels. Additionally or alternatively the overall QoE can be converted or computed from the specific QoE numbers based on suitable or efficient formulas.

In some embodiments the network evaluation and selection engine or the radio evaluation and selection engine can repeat the aforementioned measuring e.g. of RTT and PL parameters and determining e.g. of specific and overall QoE numbers periodically. In one embodiment the network evaluation and selection engine performs the aforementioned network selection when the quality level of a previously selected network deteriorates. In another embodiment the radio evaluation and selection engine performs the aforementioned radio selection when the quality level of a previously selected radio deteriorates.

First the network evaluation and selection engine determines a QoE for a network and or a radio in the manners described above e.g. with regard to B A and B . In addition to what are mentioned above in some embodiments QoE measurements can be triggered by a QoE probing timer e.g. the timer D an RSSI level fluctuation or deterioration e.g. as detected by the RSSI monitor F or other suitable events e.g. as detected by the triggering event monitor E . Some examples of triggering events may include a movement or relocation of the mobile device.

After the QoE is determined the engine compares it against a threshold QoE e.g. that is determined by or entered in the threshold RSSI module B . The threshold QoE can be specific to types or networks. After the comparison if the QoE is determined to be good usable then no action is required.

If the QoE is determined unusable then the number of AP with the same SSID can be identified e.g. by the AP identifier module C .

If there is no multiple AP with the same SSID in range then if the RSSI value determined for a network e.g. as hosted by an AP is less than the threshold RSSI value e.g. as documented by the threshold RSSI module B then the engine can suspend the AP based on the RSSI which effectively suspends the AP s network based on the network s SSID. If the RSSI value determined for the network is not less than the threshold RSSI value then the engine can suspend the AP based on the MAC address which effectively suspends the AP s network based on the device specific MAC ID.

If there are multiple APs with the same SSID in range then the RSSI module obtains e.g. via the RSSI conversion module all RSSI values for each of the multiple APs. Then the engine determines if the AP with the maximum RSSI value is connected.

If the AP with the maximum RSSI value is already connected then the engine can suspend the AP based on the MAC address.

If the AP with the maximum RSSI value is not already connected then the engine connects to the AP with the maximum RSSI value. Then in some embodiments the engine can go back to the QoE determination step after another suitable trigger e.g. QoE probing timer RSSI deterioration and or other suitable triggering events .

In alternative embodiments the machine operates as a standalone device or may be connected e.g. networked to other machines. In a networked deployment the machine may operate in the capacity of a server or a client machine in a client server network environment or as a peer machine in a peer to peer or distributed network environment.

The machine may be a server computer a client computer a personal computer PC a user device a tablet PC a laptop computer a set top box STB a personal digital assistant PDA a cellular telephone an iPhone an iPad a Blackberry a processor a telephone a web appliance a network router switch or bridge a console a hand held console a hand held gaming device a music player any portable mobile hand held device or any machine capable of executing a set of instructions sequential or otherwise that specify actions to be taken by that machine.

While the machine readable medium or machine readable storage medium is shown in an exemplary embodiment to be a single medium the term machine readable medium and machine readable storage medium should be taken to include a single medium or multiple media e.g. a centralized or distributed database and or associated caches and servers that store the one or more sets of instructions. The term machine readable medium and machine readable storage medium shall also be taken to include any medium that is capable of storing encoding or carrying a set of instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies of the presently disclosed technique and innovation.

In general the routines executed to implement the embodiments of the disclosure may be implemented as part of an operating system or a specific application component program object module or sequence of instructions referred to as computer programs. The computer programs typically comprise one or more instructions set at various times in various memory and storage devices in a computer that when read and executed by one or more processing units or processors in a computer cause the computer to perform operations to execute elements involving the various aspects of the disclosure.

Moreover while embodiments have been described in the context of fully functioning computers and computer systems those skilled in the art will appreciate that the various embodiments are capable of being distributed as a program product in a variety of forms and that the disclosure applies equally regardless of the particular type of machine or computer readable media used to actually effect the distribution.

Further examples of machine readable storage media machine readable media or computer readable storage media include but are not limited to recordable type media such as volatile and non volatile memory devices floppy and other removable disks hard disk drives optical disks e.g. Compact Disk Read Only Memory CD ROMS Digital Versatile Disks DVDs etc. among others and transmission type media such as digital and analog communication links.

Unless the context clearly requires otherwise throughout the description and the claims the words comprise comprising and the like are to be construed in an inclusive sense as opposed to an exclusive or exhaustive sense that is to say in the sense of including but not limited to. As used herein the terms connected coupled or any variant thereof means any connection or coupling either direct or indirect between two or more elements the coupling of connection between the elements can be physical logical or a combination thereof. Additionally the words herein above below and words of similar import when used in this application shall refer to this application as a whole and not to any particular portions of this application. Where the context permits words in the above Detailed Description using the singular or plural number may also include the plural or singular number respectively. The word or in reference to a list of two or more items covers all of the following interpretations of the word any of the items in the list all of the items in the list and any combination of the items in the list.

The above detailed description of embodiments of the disclosure is not intended to be exhaustive or to limit the teachings to the precise form disclosed above. While specific embodiments of and examples for the disclosure are described above for illustrative purposes various equivalent modifications are possible within the scope of the disclosure as those skilled in the relevant art will recognize. For example while processes or blocks are presented in a given order alternative embodiments may perform routines having steps or employ systems having blocks in a different order and some processes or blocks may be deleted moved added subdivided combined and or modified to provide alternative or sub combinations. Each of these processes or blocks may be implemented in a variety of different ways. Also while processes or blocks are at times shown as being performed in series these processes or blocks may instead be performed in parallel or may be performed at different times. Further any specific numbers noted herein are only examples alternative implementations may employ differing values or ranges.

The teachings of the disclosure provided herein can be applied to other systems not necessarily the system described above. The elements and acts of the various embodiments described above can be combined to provide further embodiments.

Any patents and applications and other references noted above including any that may be listed in accompanying filing papers are incorporated herein by reference. Aspects of the disclosure can be modified if necessary to employ the systems functions and concepts of the various references described above to provide yet further embodiments of the disclosure.

These and other changes can be made to the disclosure in light of the above Detailed Description. While the above description describes certain embodiments of the disclosure and describes the best mode contemplated no matter how detailed the above appears in text the teachings can be practiced in many ways. Details of the system may vary considerably in its implementation details while still being encompassed by the subject matter disclosed herein. As noted above particular terminology used when describing certain features or aspects of the disclosure should not be taken to imply that the terminology is being redefined herein to be restricted to any specific characteristics features or aspects of the disclosure with which that terminology is associated. In general the terms used in the following claims should not be construed to limit the disclosure to the specific embodiments disclosed in the specification unless the above Detailed Description section explicitly defines such terms. Accordingly the actual scope of the disclosure encompasses not only the disclosed embodiments but also all equivalent ways of practicing or implementing the disclosure under the claims.

While certain aspects of the disclosure are presented below in certain claim forms the inventors contemplate the various aspects of the disclosure in any number of claim forms. For example while only one aspect of the disclosure is recited as a means plus function claim under 35 U.S.C. 112 6 other aspects may likewise be embodied as a means plus function claim or in other forms such as being embodied in a computer readable medium. Any claim intended to be treated under 35 U.S.C. 112 6 begins with the words means for. Accordingly the applicant reserves the right to add additional claims after filing the application to pursue such additional claim forms for other aspects of the disclosure.

