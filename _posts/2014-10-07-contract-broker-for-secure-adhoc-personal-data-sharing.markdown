---

title: Contract broker for secure ad-hoc personal data sharing
abstract: The present disclosure is directed to a system and method for sharing sensitive personal data such as personally identifying data and financial data of a user. In an aspect the exchange of data is facilitated by a trusted contract broker, which is in communication with a client device and an external application. The contract broker having access to needs and rules for each of the client device and the external application, and the contract broker brokering the secure exchange of data between the client device and the contract broker according to said needs and rules. In an aspect, an electronic representation of a subset of personal data needed to satisfy an ad-hoc rule of said external application is generated in a client device and delivered to the external application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09407665&OS=09407665&RS=09407665
owner: Demandware Inc.
number: 09407665
owner_city: Burlington
owner_country: US
publication_date: 20141007
---
This invention relates to the sharing of personal data such as personally identifying information and financial data and more particularly to the exchange of such data between parties according to ad hoc rules and needs of the parties so as to minimize the risk of compromise of the personal data in the context of a transaction between the parties.

We increasingly rely on electronic transactions in commerce banking and other aspects of daily life. This has lead to a need to exchange personal data with others including sharing personally identifying information and financial information. This information is generally considered sensitive or confidential as its unwanted disclosure to unauthorized persons can expose the owner of the information and others associated with the owner to liability economic loss and other personal and financial risks. Accordingly most people and organizations guard their personal data to secure it against accidental or intentional loss. But there are times when we must relinquish some personal data in order to conduct a transaction with a party that requires our personal data to consummate the transaction.

There is currently no practical means for flexibly facilitating secure transactions without revealing to other parties sensitive personally identifying information or financial information generally personal data in the context of device enabled transactions. Also with regard to local sharing of personal data e.g. personally identifying information or financial data existing measures to reduce the risks of exposure of personal data such as privacy screens at POS terminals and secure key pads still do not eliminate the risk of exposure of certain personal data such as the data owner s name address identification card credit card information telephone number email address signature and other data. Other existing systems do not offer an owner of the personal data any options for selectively sharing his or her information with other parties. The owner is required to hand a card or transmit an electronic file to the other parties which contains a pre determined set of personal data that the owner cannot limit or customize for the purpose of a given transaction or context.

In an aspect the invention is directed to method for machine assisted execution of a transaction comprising providing a brokering server to broker exchanges of personal data between a client device and an external application storing a record of active connections between said client device and said external application in said brokering server encoding a plurality of ad hoc rules representing ad hoc conditions required by said external application to complete said transaction in the form of needs metadata delivering said needs metadata to said client receiving personal data from said client corresponding to said needs metadata and returning said personal data corresponding to said needs metadata and representing said ad hoc rules to said external application by way of said brokering server so that the personal data does not need to pass directly from said client to said external application.

Another embodiment is directed to a method for conducting a transaction comprising detecting using a location detection system the presence of a client device in or proximal to a point of sale containing an external application receiving at a brokering server from said external application a plurality of metadata representing a state of said external application and representing a plurality of ad hoc rules of said external application required by said external application to complete said transaction providing said metadata from said brokering server to said client device receiving from said client device a plurality of personal data corresponding to said metadata and said ad hoc rules formatting said personal data according to a format specified in said metadata so as to generate a set of formatted personal data corresponding to said metadata and ad hoc rules returning said formatted personal data from said brokering server to said external application so as to satisfy said ad hoc rules and complete said transaction.

Yet another aspect is directed to a method for securely sharing selected personal data comprising presenting to a user a set of personal data stored in a personal communication device receiving at least one user input indicative of a subset of said personal data selected by said user for sharing with another party annotating the subset of personal data to show which selected personal data will be shared with said other party receiving further user input indicating that the user has completed selecting the subset of personal data to be shared and generating an electronic representation of said subset of personal data said electronic representation encoding said selected personal data but not encoding other personal data that was not selected.

Other aspects are directed to a personal communication device comprising a processor configured to execute computer readable instructions an input output module configured to receive user input signals from a user of said device representative of a choice of said user and to deliver corresponding user input signals to said processor a storage unit coupled to said processor comprising at least one data store and including a store of personal data and a store of a selected subset of said personal data said subset of personal data corresponding to said user input signals a display screen configured to receive display signals from said processor said display screen further configured to illuminate segments of said display in accordance with the selected subset of personal data.

The present disclosure recognizes that in the context of device enabled transactions consummating each transaction could require different conditions. Different electronic transactions could require completely or partially different information to be exchanged between the parties to the transaction. For example a first transaction may require an email to be sent from a seller to a buyer confirming shipment of goods so this transaction would call for the buyer to provide its email address to the seller. In a second transaction a home services provider e.g. landscaper might not need to send email to a the customer but it would require the customer to provide his or her home address to the services provider so that the landscaper can come visit the property in question.

Personal data e.g. personally identifying information or financial information is generally not publicly known and contains sensitive or valuable information that can cause financial loss liability embarrassment or other injury to the owner of the personal data if it were compromised. For security and privacy reasons an owner of personal data chooses to release the minimum amount of personal data to the minimum number of other parties to avoid intentional or accidental loss or misuse of the personal data. One aspect of this invention helps reduce the amount and type of personal data released to parties during a transaction to the minimum amount and type necessary to conduct the transaction. Another aspect of this invention relaxes or eliminates the need for an owner of personal data to directly convey his or her raw personal data to other parties in the context of a transaction by exploiting a contract broker . The contract broker includes a machine such as a computer or server device which is programmed and connected through a network to receive process and send out information to assure the parties in a transaction that they have received and or delivered the necessary data for securely conducting the transaction.

In some aspects the present invention addresses and solves technical and security challenges presented when a user client device interacts with an external application requiring provision of sensitive personal data generally from the user client to the external application. Personal data may then be compromised as discussed above including during location aware context changes.

We look at an example of a customer user shopping in a retail environment. If the user or user client device is interacting with an application and listening for location or context driven messages e.g. product promotions assistive aid messages then positioning devices such as iBeacons or radio frequency identification RFID tags can trigger product information notifications. Discovered RFID tags can trigger calls to the contract broker which communicates to an in store application using the UUID of a given discovered product in the store.

Other applications of the present systems and methods abound. They can facilitate secure reliable communication including communication of personal data to enable users to interact with their environments e.g. home systems appliances cars through their personal communication devices client devices by way of the present contract broker. Busy persons persons with security concerns and persons with disabilities who struggle to interact according to conventional means with their surroundings would find great utility in the present systems and methods. Everyday users will also benefit in the added convenience and security of interacting with entities machines and things around them by the present systems and methods. In another example a shopper passing in the vicinity of a tagged product of interest to the shopper can be alerted to the product in real time by the present technique. The shopper could optionally receive targeted offers or other information relating to the anticipated transaction regarding the product of interest. In yet another example a user carrying a device could cause an automatic display of relevant information on an interactive kiosk in proximity to the user. The kiosk could display and offer information and services to the user according to known needs and rules of engagement set by the user and or service provider. In still another example the present systems and methods enable a mobile device user to securely put out a product or service inquiry that the devices in his or her environment or a sales associate equipped with a suitable external application terminal can respond to according to a rule set coordinated through the present contract broker.

While the above examples primarily derive from a need of the user of a client device a retailer vendor or other entity or apparatus can make requests through the present contract broker to which the client user responds. For example a retail store can send out a payment request directed at a customer. The customer though his or her client device will receive notification of the payment request and decide how to make payment to the store through his or her mobile client device. In this example no need to show or swipe a credit card or for that matter to carry a card which could be lost or stolen but instead the contract broker will facilitate payment using the client user s device alone. In this way the confidential personal data containing the payment method information is securely kept on the user s client device and not in the store s POS system. In another example a merchant needing shipping information for delivery of purchased products may send out a shipping address form or equivalent request specifying the needed information. The contract broker can then seek the appropriate client device e.g. using a unique Session ID and securely obtain and provide only the necessary personal data to fill out the shipping address form. These are merely examples to illustrate the nature and utility of the present systems and methods but it can be seen that interacting parties such as vendors and third party external application providers may initiate context specific need requests to the client device of a user through the instant contract broker infrastructure.

The data stores depicted and those in the further embodiments described below are representative of information and or instructions generated kept and exchanged by the components of the system . The need service metadata is indicative of and represents the information needed by the contract broker or the external application. So for example if the external application requires an address the needs service metadata can indicate this and indicate if any particular format is required for the address e.g. Address 20characters ASCII . The active conversations represent trusted relationships with external applications .

The contract broker allows interaction with other modules using a number of methods. Utility applications may configures to support generic information sharing with the contract broker. Standard Internet communications can be carried out using a REST API. Web sites may interact with the contract broker using a JavaScript API and a centralized contract broker could connect disparate entities such as to connect a Web application and a mobile client device. Interacting entities may also be configured to exchange data through the contract broker using real time point to point communication protocols. In another aspect the present architecture can support point to point device discovery which allows products appliances vehicles and other suitably equipped machines to initiate secure interactions based on proximity. In a particular example this is done by a location sensitive apparatus such as a device with iBeacon capability or RFID or Bluetooth capability.

The contract broker is in communication with a client device . The client device may be disposed in a client computing apparatus and preferably in a personal communication client device e.g. smartphone tablet etc. The design and configuration of the client device is according to the present description and may include conventional hardware and software elements found in such personal communication devices but in addition will include the present new components that may be implemented in hardware firmware software as appropriate for a given application.

Client device includes any processing and data storage and communication infrastructure required to perform the present methods and in addition includes one or more instruction groups which can be programmed compiled loaded and executed and which are generally referred to as an app or a client app. The app may interact with other apps or software applications or operating systems running on the client device . Therefore the client device includes a system framework . In turn system framework may comprise a contract broker software developer kit SDK and an app to service mapping data store and instructions and data . The illustrated app to service element is representative of data instructions and information indicative of the range of services available to or exposed to the client and if communicating client needs it can indicate what set of needs the client is seeking. Client device can be any of a general class of personal communication device. Client device can also be a personal assistive device and can be used to convey state changes and requirements needs of other applications in architecture . Therefore in an embodiment the client device may act as a personal assistive aid to a user who has special needs and may provide audible output responsive to said system changes and needs to users with visual impairments and so on. This can be applied to any system architecture including Web based app kiosk and other system environments. The client device can thus be used to tell its user what actions are needed or permitted in a given context based on requirements and requests by external applications of architecture .

An external application is also in communication with the contract broker . The external application can be included in an interacting entity or apparatus which can include an application user web site point of sale POS system automated teller machine ATM hospital terminal doctor s office terminal public kiosk vending machine an appliance utility control center lights climate control system public computer security system automobile restaurant ordering and or payment terminal and so on. The external application can run on a processor having an operating system which may be a commercial set of software or a custom set of software including for example embedded systems. The external application can be running on a conventional server computer in some instances. In other instances it can be installed on household medical military industrial or workplace machinery and equipment. In yet other instances the external application can be installed in hardware and or software of a vehicle such as an automobile.

The external application includes a state of the external application which is embodied in an application state and which can be affected by and affect other components of the external application e.g. exchange data and instructions therewith. The state of an external application is meant to represent its needs or rules based input output condition. For example a web page may have a state defined by its output or by the input it is waiting the user to enter into the web page. Another type of external application may have a state which is defined by the metadata it presents indicative of the user data it is expecting to receive. Typical external applications may represent a condition that a merchant won t let a customer check out without receiving payment confirmation or that a product cannot ship without a shipping address and so on.

The external application can be used to close transactions but as mentioned above more generally the external application can facilitate aiding clients in a variety of contexts where information flow is driven by the application state . The external application can also include a contract broker SDK . The SDK can be an instance of a library of functions application interface or a framework.

In operation the external application registers a need on a centralized broker server which can cause a corresponding request to a client user device for personal data satisfying the need. In an aspect the external application s need is registered in a secure registry and includes for example an App ID identifying the application Need ID identifying the nature of the registered need and a Metadata Specification . The metadata specification can define by way of metadata what data is needed and in what format the data must be provided to the external application.

In an aspect architecture may also include a browser application or a client interface application that is in communication with the external application and exchanges data and instructions therewith. As mentioned above the browser can exchange information with the external application and or contract broker using JavaScript or another communication modality.

The components of architecture may communicate with one another using any conventional or later developed means of data communication. The components may be remotely locate from one another and communicate over wired wireless or networked communication systems including using relays routers and network communication switches not shown in the drawing but understood by those skilled in the art. In an aspect the communications between the contract broker client device and the external application may take place over the Internet using a secure communication protocol. We discuss several data flows and scenarios for the configuration and operation of architecture which are provided as exemplary embodiments and which can be generalized or modified to suit a particular application as would be appreciated by those skilled in the art.

When the client device leaves the area in proximity with an external sensor the active conversation can be put on hold or disconnected. The client device may actively log out of the active conversation or a time out situation can interrupt the active conversation.

In some aspects the user of the client device can control his or her interactions with an ad hoc external application through the brokering server or contract broker described herein. Consider for example that the present method and system allow interactions between a client device and an external application embedded into an arbitrary entity or apparatus such as an external POS machine a web browser or other embedded system in an appliance vehicle etc.

Whereas existing client server systems are generally only adapted to one type of interaction the present system allows the external application to send ad hoc requests for information in the form of metadata requests that encode the type and format of the personal data needed by the external application to fulfill its need in order to complete a transaction with the client device. So if the client device is a smartphone and the user of the smartphone is in a store purchasing an item the external application may be embedded in a POS register. The user can indicate to the store clerk or press a button on a checkout kiosk stating that the user wants to pay using his or her contract broker. The external application of the store and the client device of the user then establish a trusted connection to a remote contract broker server or service. From that point on the user client device does not need to send sensitive personal data to the store or the POS register or the clerk. But rather the external application at the store will encode its needs into need metadata the needs being able to be ad hoc or arbitrary and these needs encoded in the metadata can be sent to the contract broker server which will accept the request for personal data and relay that to the client device. Also unlike many existing systems the client controls its personal data. The personal data is formatted by the client and or the contract broker as needed to complete the transaction with the external application. However the personal data is preferably not kept on the contract broker or on the cloud or other data stores other than in the user s client device. Accordingly the user has the security of keeping his or her personal data locally and controls all his or her interactions with external entities through his or her trusted device.

The transaction between the client device and the external application could be initiated by either or both of these entities by contacting the contract broker.

It will be appreciated that not only is the personal data kept on the user s device but the user of the device can personally control the release of the personal data and only permit a subset of the personal data needed to perform a transaction be released. There are rules that can be set by the external application or by the user to complete transactions with one another.

As will be discussed below the user of the client device can selectively choose which card to use to pay for a product at a store with a swipe or click of a finger. The user can authorize payments and other information for payment or shipping arrangements.

As mentioned above the client device can rely entirely on the contract broker to deliver personal data as necessary to an external application. However the client device can use the contract broker to receive metadata from the external application indicating what personal data is needed to complete a transaction or indicative of a state of the external application. The client device can then directly give to the external application through a machine sensor or reader the select subset of information the external application is asking for.

In the context of generalized interactions with devices in the user s environ there can be external applications embedded into devices and appliances in the user s home work or other environment. These are now able to interact with the user through his or her client device containing the user s personal data. We now discuss embodiments of the client device and aspects of delivery of personal data from the client device to the external application if this method of returning personal data to the external application is chosen. That is we now describe how the client device delivers personal data in an ad hoc and secure way having received an indication from the contract broker of the type of data needed by the external application.

In the example shown display presents an output generated by an application and representing Settings screen of a personal data sharing application running on device . The Settings screen can present any of an unlimited number of viewable outputs to the user of course but the presently shown examples are merely given for the sake of illustration. A plurality of contacts are available for the user to select from. The user can browse or scroll through the contacts to select one of the contacts using any suitable user input mechanism such as a touch screen scroll bar scrolling wheel ball mouse voice input etc. A selected contact may be indicated by a check mark radio button highlighting or other indicator. In an embodiment a user has a default contact that first comes up as selected in the Settings screen . In an embodiment the device owner s contact information may be the default selection which may be enabled in devices whose operating systems or software support an application programming interface API including a me or owner aspect. Actuating a Done Home or Exit or equivalent button sends a signal to the application and device causing the display to go to a Home screen as will be discussed below.

The Home screen also presents a Share button that consummates the generation of the output for sharing the selected personal data as will be discussed below. A Settings button can return the system and application and screen to the Settings screen as described earlier. Note that the names given to these buttons and elements in the present examples e.g. Home Settings Share etc. are merely illustrative and can be generalized as would be appreciated by those skilled in the art. In an embodiment selecting or pressing the Share button causes the application and the device to generate an electronic representation of the selected personal data . In a particular example the electronic representation generated comprises a bar code that uniquely represents the selected personal data but not the personal data that was not selected. In another example the electronic representation generated comprises a QR code or two dimensional pixelated code that uniquely represents the selected personal data but not the personal data that was not selected.

The Settings button of Home screen can return the screen to the previously described Settings screen or other screen in the application.

Accordingly a personal communication device is presented which operates according to the method described above. illustrates a personal communication device . The device includes a processor that can run process or execute machine readable programmed instructions. The processor for example runs an operating system O S program that controls the behavior of the device and facilitates the execution of application programs such as the persona data sharing application . The device also includes a user interface U I which operates in conjunction with input output I O devices e.g. touch pad mouse track ball keyboard microphone device buttons etc. . The U I also operates in conjunction with a visual display adapted to present visual information on the screen e.g. LCD LED OLED or similar screen . The U I and display can operate together to facilitate input of information and signals from a user s touch on the screen and to output readable information and output to the user of device .

Personal data sharing application allows an owner of personal data to select a subset of personal data from a set of personal data available in the device s storage unit .

Furthermore the display of the personal communication device is configured and arranged to illuminate segments of said display in accordance with the given set of selected personal data .

In other aspects the device includes a communication unit such as a wireless input output communication module having a radio transceiver and antenna operating according to a determined communication protocol. The communication unit outputs electromagnetic energy signals in accordance with the given set of selected personal data .

In addition the device through its application can offer on a touch sensitive display and or user interface a plurality of methods or modalities for sharing a selected subset of personal data . The user can use touch sensitive display and or user interface to enter a choice of which of said plurality of methods or modalities with which to share selected data .

The mobile client device and the contract broker are generally able to communicate over a communication link A . Typically the communication link A is a link carrying information over the Internet. For example the link may include at least one wireless sub link coupling a wireless hand held device with a network over a cellular or WiFi or similar connection. Then the contract broker is connected to that network or other link to receive and transmit information to the device . As stated before personal data is kept on the client device but the trusted contract broker can update the device as to a status or state of external application and can receive needed personal data from device according to requested metadata as described earlier.

If external application is configured to manage its own transactions e.g. using a SDK or API it can communicate with contract broker directly over a link D . Link D can be a wired and or wireless or hybrid communication link and can include links over the Internet or other WAN or LAN connection. In this way the external application can directly manage its requests and responses over link D with the contract broker which will relay and negotiate these requests and responses to client device .

The client device can optionally shows with dotted lines manage some communications with the external application over link C . For example if the client device is located in a retail store or in a home or workplace of the external application the client device may send limited signals to the external application device telling it that the user of the mobile client wishes to use the contract broker to complete a transaction. Or as described above the client device can deliver a final encoded electronic representation bar code QDR code NFC code to the external application using a corresponding reader on the external application.

In some cases the external application is configured to conduct transactions using a backend server . The backend server can be or include an e commerce server as understood by those skilled in the art but also be configured with a SDK or API for the contract brokering transactions as disclosed herein. This can be useful in the case of a franchise retail chain having POS kiosks and registers at the retail store outlets that are connected to the backend server of the stores through a communication link E . The backend server can then act to pass information to and from contract broker over communication link B . The backend server can thus merely inform the POS kiosk register that personal data needed to complete a transaction e.g. sale has been received and that the customer can leave the store with the purchased merchandise in an example.

The following describes an exemplary transaction for the sake of detailed illustration of an instance of use of the present architecture. Consider a customer who enters a retail store with his or her mobile client device e.g. smartphone and wishes to purchase an item with the help of a contract broker . In this example the store employs a backend e commerce server .

The customer selects the item off of the shelf at the retail store and takes it to a checkout kiosk or register . A sales associate cashier of the retail store rings up the item in the kiosk or register . The customer indicates verbally or using a press of a button at the kiosk or a wireless signal from his or her device that the customer intends to pay using contract broker . The external application in register sends a signal to backend e commerce server indicating the nature of the transaction e.g. store s ID merchandise item ID price SKU number or other such information to the backend server to create a new order. The backend server sends a communication to the contract broker indicating what is needed by way of personal data to carry out the transaction. These needs are encoded in metadata optionally specifying the format of the response as stated before. The contract broker conveys to the customer s client device what personal data is needed to complete the transaction using said metadata or a revised version containing it . The customer is asked by way of a user interface of the client device to provide the needed personal data for example by approving a select subset of personal data as described in earlier examples. Once the needed data subset of personal data is returned from the device to the contract broker the contract broker can provide it to the backend server of the retailer. Finally the retailer s backend server will confirm to the POS external application that payment has been received and the customer may leave the store with the purchased item. Confirmation receipts of the transaction can be generated by the POS and handed to the customer or an electronic or other receipt can be sent to the customer by way of the contract broker. At each step the communicating entities can provide acknowledgement or confirmatory signals to one another as understood by those skilled in the art.

In an alternative embodiment once the customer s client device is prompted to provide the needed personal data the client device and customer can bundle the needed subset of personal data into an electronic representation of the subset of personal data which can be transmitted to an electronic reader QDR bar code NFC Bluetooth other in the POS directly rather than sending this information back through the contract broker and backend server .

A second external data store is kept on an external device such as a retail store POS kiosk register user appliance vehicle and so on running an external application that is contract broker compliant. Contract broker compliant things are configured and arranged to use the present contract broker and methods for example by including hardware and or software SDK API or other elements accordingly. The external data store includes an identification of the external application ID Ext APP ID and its name App Name as well as the external APP Public Key for managing secure communications with the contract broker or other devices. The public keys may be used in a public key encryption PKI or other communication method as understood by those skilled in the art.

Yet another third contract broker data store is kept in a data brokering server. This data store represents active conversations as described above and includes a table of User APP ID Ext APP ID and Session ID entries to manage the communications needed to satisfy a transaction between the client device and external application.

The present invention should not be considered limited to the particular embodiments described above. Various modifications equivalent processes as well as numerous structures to which the present invention may be applicable will be readily apparent to those skilled in the art to which the present invention is directed upon review of the present disclosure.

