---

title: System and method for determining interests from location data
abstract: A system and method are provided, for example, for determining interests from location data, by receiving location data from a mobile device, using the location data to determine a uniform resource locator associated with a point of interest, determining classification data associated with the uniform resource locator, and updating an interest graph associated with the mobile device using the classification data. The updated interest graph may also be subsequently used and the classification data may be used to provide information to the mobile device in real-time, such as recommendations or suggestions.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09418076&OS=09418076&RS=09418076
owner: BlackBerry Limited
number: 09418076
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20140131
---
Many service providers for users of personal electronic communication devices are building interest graphs to understand and adapt to their customers in order to provide increasing levels of personalization. An interest graph is a representation of various specific things in which an individual is interested. Such interest graphs are being used as indicators of potential user interests and behaviors e.g. what a user will do or buy where they may wish to go who they may wish to connect with virtually and or socially etc.

For simplicity and clarity of illustration where considered appropriate reference numerals may be repeated among the figures to indicate corresponding or analogous elements. In addition numerous specific details are set forth in order to provide a thorough understanding of the examples described herein. However it will be understood by those of ordinary skill in the art that the examples described herein may be practiced without these specific details. In other instances well known methods procedures and components have not been described in detail so as not to obscure the examples described herein. Also the description is not to be considered as limiting the scope of the examples described herein.

It will be appreciated that the examples and corresponding diagrams used herein are for illustrative purposes only. Different configurations and terminology can be used without departing from the principles expressed herein. For instance components and modules can be added deleted modified or arranged with differing connections without departing from these principles.

Interest graphs can be built from observing various interactions that a user has with his her environment using one or more communication devices as well as from self declared attributes and preferences. These observed and self declared data may then be used to develop user profiles and affinities which can be used in many applications such as advertising application suggestions etc.

An interest graph is a graphical electronic representation of a network of an individual s interests. Typically such an interest graph includes vertices or nodes that represent entities and edges between such vertices or nodes represent an interest between entities. For example an individual connected by an edge to a node representing a type of restaurant represents an interest of that individual in that type of restaurant.

While location data is typically very useful in observing interests and preferences tying a geographic coordinate to an interest or taste signal can be challenging. In order to leverage location data in generating interest graphs for mobile communication device users it has been found that location based interest signal derivation can be achieved by obtaining a uniform resource locator URL for detected points of interest POIs and classifying the POI according to a taxonomy with which the URL is or can be associated. In this way any location data can be used to both update interest graphs and make real time suggestions or recommendations by correlating the POI to a URL and using the URL to find classification information indicative of tastes interests preferences etc.

There is provided a method of determining interests from location data the method comprising receiving location data from a mobile device using the location data to determine a uniform resource locator associated with a point of interest determining classification data associated with the uniform resource locator and updating an interest graph associated with the mobile device using the classification data.

There is also provided a method comprising receiving location data from a mobile device using the location data to determine a uniform resource locator associated with a point of interest determining classification data associated with the uniform resource locator and using the classification data to provide information to the mobile device in association with the point of interest.

There is also provided a method comprising obtaining an interest graph having been generated by determining classification data associated with a uniform resource locator the uniform resource locator being associated with a point of interest determined from location data provided by a mobile device using the interest graph to determine a recommendation or suggestion and providing the recommendation or suggestion to the mobile device.

There is also provided a method performed by a mobile device comprising receiving information in association with a point of interest associated with the mobile device the information based on classification data associated with a uniform resource locator the uniform resource locator being associated with a point of interest determined from location data provided by the mobile device and displaying the information.

There are also provided devices services and computer readable media comprising computer executable instructions for performing such methods.

Turning now to a communication system is shown in which one or more mobile electronic communication devices referred to hereinafter as mobile devices are capable of communicating with for example a network infrastructure various services other communication devices etc. via one or more networks . It can be appreciated that the number of devices and network shown in are purely illustrative and various components within the system are omitted for the sake of simplicity. In the example shown in an interest graph service is configured within the network infrastructure or otherwise capable of observing the nature of communications and activities associated with various mobile devices in order to build maintain and use interest graphs associated with users of the mobile devices . For example as shown in by allowing location data to be shared a particular one of the mobile devices can be detected to be at or near a point of interest POI in a real world environment. As illustrated being in or near such a POI can cause an alert notification recommendation suggestion or other action to be taken on the mobile device .

In an alert is being displayed on the mobile device at or near the POI . It can be appreciated that the alert may comprise any pertinent or useful information that the interest graph service determines to be relevant to the associated user and or mobile device e.g. a recommendation for a merchant or restaurant in or near the POI according to taste or interest signals determined from a taste graph for the user. As discussed in greater detail below the interest graph service can use the location data to identify the POI and determine a URL associated with the POI . The URL is then used to determine classification data e.g. categories types etc. according to one or more taxonomies in order to create an interest graph or update an existing interest graph for a user associated with the mobile device or the device itself .

As also shown in the interest graph service includes or otherwise has access to an interest graph database which may include one or more interest graphs for users associated with the system e.g. subscribers . The interest graph service also includes or otherwise has access to a classification taxonomy database for URLs which includes classification data such as categories under which URLs have been classified. For example the classification taxonomy database may comprise or be built using or from an open directory project ODP used to classify URLs on the internet. The interest graph service also includes or otherwise has access to a POI database which includes one or more POIs and associated information and or attributes such as addresses names and URLs. The POI database can be built from any one or more proprietary or open POI collections such as those available from Infogroup Open Street Map Factual Foursquare etc. and used to identify a URL with a POI in or near where a mobile device is located.

It can be appreciated that although illustrates mobile devices e.g. personal handheld devices such as smartphones tablets phablets personal gaming devices etc. being observed by the interest graph service the principles discussed herein apply to any electronic device capable of providing location information whether or not that device is normally used for or otherwise capable of communicating with other devices. For example a vehicle having a global positioning system GPS and network access could be tracked by the interest graph service and have information sent thereto.

The interest graph service includes a web browsing module for performing searches for information such as URLs. The web browsing module may conduct such searching by accessing an online search engine via the network and a communication interface . The interest graph service also includes a URL lookup module that can be used to find a URL in the POI database based on location information or a derivation of such location information provided by a mobile device . For example a latitude longitude pair sent by the mobile device to the interest graph service may be reverse geocoded to determine a POI in the POI database . It can be appreciated that the POI database can include various information for each POI entry. By having URLs associated with the POI entries the URLs can be located and associated with a mobile device s current location. The URL lookup module may also utilize or otherwise communicate with the web browsing module to initiate a search for a URL that is not mapped to a POI in the POI database . For example an address in the POI database may be used to search for a URL concerning the business or landmark at that POI.

The interest graph service also includes a category prediction module which may be used to classify an unclassified URL that is associated with a POI . For example a URL that is found in the POI database may not yet have been mapped to a classification taxonomy in the classification taxonomy database . In such a situation one or more prediction algorithms e.g. using machine learning such as a Na ve Bays n gram approach etc. can be applied to the URL to determine into which category ies the URL falls based on training data. For example URL classification can be performed by accessing external knowledge database and using such knowledge databases as training data. Databases such as Wikipedia Freebase and Open Directory Project ODP typically include large numbers of entities categories with associated URLs. Statistical language models can be trained on the data points provided by these databases and the models used to classify new URLs into categories. The interest graph service also includes a geocoding module for decoding or normalizing location data obtained from a mobile device into information that can be referenced in the POI database . For example a latitude longitude pair reported by a mobile device can be processed by the geocoding module to determine an address that can be searched in the POI database .

The modules shown in are illustrative only and are delineated from each other only for the purpose of illustration. For example the interest graph service could instead include any one or more applications programmed or otherwise configured to collectively perform the functions of the modules exemplified herein. Similarly any one or more applications programmed to perform any one or more of the functions of these modules may be utilized by the interest graph service .

A schematic illustration of data that may be stored in the classification taxonomy database is shown in . In the example shown in a hierarchical tree of categories is utilized to classify URLs at the leaf nodes. By storing classification data in this way a search for a URL in the tree can be used to identify a taxonomy for that URL based on the nodes traversed in a path back up to the root node. For example the URL for a family oriented chain restaurant may be classified as BUSINESS HOSPITALITY RESTAURANT CHAINS FAMILY. These categories that are associated with the URL provide information that can be used to update an interest graph for a user particularly when coupled with other data such as frequency time of day day of week etc.

User interest signals may be harvested from multiple heterogeneous data sources. User behaviors such as mobile search web browsing social network profile updates passive explicit check ins at a POI and on device application usage may all reflect a user s real life interests and can therefore contribute to a user interest affinity calculation. Central to such a calculation is a taste or interest taxonomy that connects the heterogeneous signals. For example compared to a user who has passively checked in at FAMILY Restaurant X twice in the past month another user who has checked in at Restaurant X only once but also liked Restaurant Y also a family style restaurant and looked up menus at family Restaurant Z via a mobile browser would be assumed to have a stronger affinity to FAMILY style restaurants. As such when data is sparse a structured taxonomy allows user interest modeling accuracy to be improved. Also when data is not sparse the taxonomy can also be used in conjunction with other data driven associative graphs for user interest modeling. Accordingly apart from frequency time of day etc. user interests can be inferred by looking for correlations from leaf nodes of a taxonomy to other leaf nodes. In the above example once correlations are seen for family restaurants to other tastes inferences can be spread about users into other areas. For example users who like family restaurants may be more likely to prefer certain hotel chains or large rental cars. Scores attributed to the tastes would decay across each node that is traversed e.g. users preferring hotel X also prefer store X would have a decayed affinity propagated to store X . Once the inferred tastes are propagated to other areas a bottom up propagation can be provided which fills in the higher level tastes e.g. travel shopping etc. .

Turning now to computer executable operations are illustrated that may be performed by the interest graph service in updating an interest graph using location data received from a client device such as the mobile device shown in . At the interest graph service receives location data e.g. latitude longitude pair from the mobile device . The mobile device may also send additional information such as a timestamp associated with the location data a degree of accuracy attributed to the location data sample etc. The location data may be sent as a separate message or appended to another message or communication to the network infrastructure. It can be appreciated that various data delivery models could be used for example a separate message that is sent using a battery optimized method e.g. every 6 hours when stationary and every 15 minutes when the device has moved more than a predetermined distance.

The interest graph service determines at if there is a URL that can be identified in the POI database . Where to look in the POI database can be determined in a number of ways. For example the location data may itself be directly locatable from the POI database i.e. for example if POI entries contain the same format of the location data as what is reported . The location data may instead require conversion formatting or normalization in order to be able to correlate the location data to an entry in the POI database . Moreover the location data may directly identify the POI e.g. if the POI is being self reported by a user of the mobile device . For example an application may prompt the user to identify the POI which can be sent to the interest graph service to locate an associate URL . The interest graph service determines at whether or not a URL can be found for the POI . If so the interest graph service can use the URL at to locate a classification taxonomy for the URL if one can be found by the interest graph service . If a URL cannot be found in the POI database the interest graph service performs a URL lookup at using for example POI data from the POI database . For example an address in the POI database can be used to perform an external search query to identify a place of business or landmark at the POI . In this example it is assumed that a URL can be found and that URL is determined at and used to find an associated classification taxonomy at .

The interest graph service determines at whether or not the URL can be mapped to a classification taxonomy. If so interest signals e.g. a series and or hierarchy of categories are obtained that are associated with the URL at . If the URL has not yet been classified by the interest graph service a classification prediction for the URL can be performed by the interest graph service at in order to determine classification information at that can be used to derive interest signals at . Also shown in is an optional operation at to perform auxiliary searching based on the URL . For example a URL associated with a concert venue could trigger an auxiliary search to be performed for a performer playing at the time the user was observed at the concert venue POI . In this way additional interest signals can be derived and added to supplement interest signals associated with the actual URL for the POI . For example taking an additional step to locate an event occurring at the POI venue can be classified as an interest e.g. a sports or music taste .

The interest signals that are ultimately obtained at are then used to update and or create at least one interest graph associated with the mobile device at . As indicated in other interest graphs may also be updated based on the interest signals for example a POI interest graph to reflect demographic or other statistical indications. The interest graph thus updated may subsequently be used at e.g. for providing targeted advertising application download recommendations content recommendations etc.

The classification taxonomy associated with the URL and POI as well as any other information obtained during the process shown in can also be used in real time to determine a suggestion or recommendation for the mobile device at . For example if the POI is a shopping plaza in addition to updating a user s interest graph based on being at that POI at that time the interest graph service can also determine that this is an appropriate time to make a restaurant suggestion by sending a recommendation to the mobile device at . Such a suggestion can be made based only on what is available at the shopping plaza or additionally can factor in interest signals derived from the user s existing interest graph . In other words in addition to obtaining interest signals to enhance and update the user s interest graph the interest graph service can also opportunistically feedback appropriate information to the user of the mobile device .

In another example the interest signals obtained at may be associated with a device that does not have an existing interest graph . This situation sometimes referred to as a cold start can still be taken advantage of to provide a recommendation. For example the user can be presented with a series of dining options in the shopping plaza or could be provided with coffee shop suggestions if the timestamp indicates mid morning or mid afternoon. Subsequent location data indicative of whether or not the user selected one of the recommendations can also be determined from subsequent location reporting. As such the interest signals obtained at based on a URL associated with location data can also be used for real time recommendations suggestions or the provision of other relevant information independently of the building and maintenance of interest graphs .

It can be appreciated that alternative service configurations are possible to accommodate user preferences wherein the user does not permit the collection of data for maintaining an interest graph i.e. opts out of having an interest graph but where that user does allow impersonal recommendations or suggestions to be made based on real time location.

Turning now to computer executable operations are illustrated that may be performed by the interest graph service in performing a URL lookup at in . At the interest graph service uses the URL lookup module to obtain the POI data elements available in the POI database and searches for relevant URLs at using the data elements. For example an address query may locate a business at the POI address which has a URL for the company s website. The interest graph service determines at whether or not a suitable or relevant URL can be found. If not a lookup failure closest approximation or other feedback can be provided at . If a suitable URL can be found that URL is returned at to be used at in .

In example computer executable operations are illustrated that may be performed by the interest graph service in performing a classification prediction for a URL at in . At the interest graph service uses the category prediction module to apply one or more algorithms to the URL and any available metadata to obtain a set of one or more classification predictions at . Based on the results of these analytics the interest graph service determines at whether or not the URL and or any new categories or information can be added to the existing taxonomy. If not the process ends at . If so the existing taxonomy is updated at . One example method for approaching URL classification is by using a statistical language model trained on external training data. When such an approach falls short further URL content can be scraped and topic models built to classify a URL into topic groups. A combination or ensemble of different models may also be used. User activity on a device before and after a URL visit can also contribute to contextual information. For example a keyword search before a URL visit may provide an explicit intent to search for something and therefore serves as context for the URL classification. Also in some cases a user s social connections and activities can be used to improve a URL classification.

In computer executable operations are illustrated that may be performed by the interest graph service in obtaining additional information based on a URL at in FIG. . At the interest graph service determines if the URL is of a predetermined type. For example a predetermined type may include a performance venue which hosts performances which themselves may have associated URLs . If the URL is not of a predetermined type the process ends at . If it is of a predetermined type the interest graph service may use the web browsing module to search for related information at and augment the interest signals at using this additional information. For example as discussed above a performer playing at a venue associated with the POI can be used as the basis for further searching to determine tastes and interests for the user. As such the interest graph service may determine at if there are any related URLs found in the search at . If so additional information associated with the related URL s can be obtained at to further augment the interest signals determined at .

Turning now to computer executable operations are illustrated that may be performed by a client device such as the mobile device shown in in providing location data to the interest graph service . At the mobile device detects a trigger. The trigger can vary based on the application utilizing location services user preferences and various other factors. For example the trigger may comprise a periodic time at which to report location data. The trigger may also comprise an active input from an application to begin reporting location data. The trigger could also be based on movement of the device such as when the device has moved to a new location and or held a relatively consistent position for a predetermined amount of time e.g. which can be indicative of arriving at a POI . After detecting the trigger at the mobile device obtains the location data to be reported at using the location service and or location detection module . The location data is then sent to the interest graph service at .

As discussed above the mobile device may also receive information from the interest graph service in real time or substantially real time based on a current location or at other times based on information provided by the interest graph for the device . In the mobile device receives a recommendation at from the interest graph service and provides the recommendation in an application at . For example after reporting that the mobile device is at or near or proximate a particular POI having an associate URL at least one relevant recommendation e.g. advertisement and or other media content in one or more respective formats such as an image picture format or video format can be sent to the user.

Referring to to further aid in the understanding of the example mobile devices described above shown therein is a block diagram of an example configuration of a device configured as a mobile device referred to generally as mobile device . The mobile device includes a number of components such as a main processor that controls the overall operation of the mobile device . Communication functions including data and voice communications are performed through at least one communication interface . The communication interface receives messages from and sends messages to a wireless network . In this example of the mobile device the communication interface is configured in accordance with the Global System for Mobile Communication GSM and General Packet Radio Services GPRS standards which is used worldwide. Other communication configurations that are equally applicable are the 3G and 4G networks such as Enhanced Data rates for Global Evolution EDGE Universal Mobile Telecommunications System UMTS and High Speed Downlink Packet Access HSDPA Long Term Evolution LTE Worldwide Interoperability for Microwave Access Wi Max etc. New standards are still being defined but it is believed that they will have similarities to the network behavior described herein and it will also be understood by persons skilled in the art that the examples described herein are intended to use any other suitable standards that are developed in the future. The wireless link connecting the communication interface with the wireless network represents one or more different Radio Frequency RF channels operating according to defined protocols specified for GSM GPRS communications.

The main processor also interacts with additional subsystems such as a Random Access Memory RAM a flash memory a touch sensitive display an auxiliary input output I O subsystem a data port a keyboard physical virtual or both a speaker a microphone a GPS receiver a front camera a rear camera short range communications subsystem and other device subsystems . Some of the subsystems of the mobile device perform communication related functions whereas other subsystems may provide resident or on device functions. By way of example the touch sensitive display and the keyboard may be used for both communication related functions such as entering a text message for transmission over the wireless network and device resident functions such as a calculator or task list. In one example the mobile device can include a non touch sensitive display in place of or in addition to the touch sensitive display . For example the touch sensitive display can be replaced by a display that may not have touch sensitive capabilities.

The mobile device can send and receive communication signals over the wireless network after required network registration or activation procedures have been completed. Network access is associated with a subscriber or user of the mobile device . To identify a subscriber the mobile device may use a subscriber module component or smart card such as a Subscriber Identity Module SIM a Removable User Identity Module RUIM and a Universal Subscriber Identity Module USIM . In the example shown a SIM RUIM USIM is to be inserted into a SIM RUIM USIM interface in order to communicate with a network.

The mobile device is typically a battery powered device and includes a battery interface for receiving one or more rechargeable batteries . In at least some examples the battery can be a smart battery with an embedded microprocessor. The battery interface is coupled to a regulator not shown which assists the battery in providing power to the mobile device . Although current technology makes use of a battery future technologies such as micro fuel cells may provide the power to the mobile device .

The mobile device also includes an operating system and software components to and . The operating system and the software components to and that are executed by the main processor are typically stored in a persistent store such as the flash memory which may alternatively be a read only memory ROM or similar storage element not shown . Those skilled in the art will appreciate that portions of the operating system and the software components to and such as specific device applications or parts thereof may be temporarily loaded into a volatile store such as the RAM . Other software components can also be included as is well known to those skilled in the art.

The subset of software applications that control basic device operations including data and voice communication applications may be installed on the mobile device during its manufacture. Software applications may include a message application a device state module a Personal Information Manager PIM an application a location detection module and a location service . A message application can be any suitable software program that allows a user of the mobile device to send and receive electronic messages wherein messages are typically stored in the flash memory of the mobile device . A device state module provides persistence i.e. the device state module ensures that important device data is stored in persistent memory such as the flash memory so that the data is not lost when the mobile device is turned off or loses power. A PIM includes functionality for organizing and managing data items of interest to the user such as but not limited to e mail contacts calendar events and voice mails and may interact with the wireless network .

Other types of software applications or components can also be installed on the mobile device . These software applications can be pre installed applications i.e. other than message application or third party applications which are added after the manufacture of the mobile device . Examples of third party applications include games calculators utilities etc.

The additional applications can be loaded onto the mobile device through at least one of the wireless network the auxiliary I O subsystem the data port the short range communications subsystem or any other suitable device subsystem .

The data port can be any suitable port that enables data communication between the mobile device and another computing device. The data port can be a serial or a parallel port. In some instances the data port can be a Universal Serial Bus USB port that includes data lines for data transfer and a supply line that can provide a charging current to charge the battery of the mobile device .

For voice communications received signals are output to the speaker and signals for transmission are generated by the microphone . Although voice or audio signal output is accomplished primarily through the speaker the display can also be used to provide additional information such as the identity of a calling party duration of a voice call or other voice call related information.

The touch sensitive display may be any suitable touch sensitive display such as a capacitive resistive infrared surface acoustic wave SAW touch sensitive display strain gauge optical imaging dispersive signal technology acoustic pulse recognition and so forth as known in the art. In the presently described example the touch sensitive display is a capacitive touch sensitive display which includes a capacitive touch sensitive overlay . The overlay may be an assembly of multiple layers in a stack which may include for example a substrate a ground shield layer a barrier layer one or more capacitive touch sensor layers separated by a substrate or other barrier and a cover. The capacitive touch sensor layers may be any suitable material such as patterned indium tin oxide ITO .

The display of the touch sensitive display may include a display area in which information may be displayed and a non display area extending around the periphery of the display area. Information is not displayed in the non display area which is utilized to accommodate for example one or more of electronic traces or electrical connections adhesives or other sealants and protective coatings around the edges of the display area.

One or more touches also known as touch contacts or touch events may be detected by the touch sensitive display . The processor may determine attributes of the touch including a location of a touch. Touch location data may include an area of contact or a single point of contact such as a point at or near a center of the area of contact known as the centroid. A signal is provided to the controller in response to detection of a touch. A touch may be detected from any suitable object such as a finger thumb appendage or other items for example a stylus pen or other pointer depending on the nature of the touch sensitive display . The location of the touch moves as the detected object moves during a touch. One or both of the controller and the processor may detect a touch by any suitable contact member on the touch sensitive display . Similarly multiple simultaneous touches are detected.

In some examples an optional force sensor or force sensors is disposed in any suitable location for example between the touch sensitive display and a back of the mobile device to detect a force imparted by a touch on the touch sensitive display . The force sensor may be a force sensitive resistor strain gauge piezoelectric or piezoresistive device pressure sensor or other suitable device.

It will be appreciated that any module or component exemplified herein that executes instructions may include or otherwise have access to computer readable media including non transitory computer readable media such as storage media computer storage media or data storage devices removable and or non removable such as for example magnetic disks optical disks or tape. Computer storage media may include volatile and non volatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Examples of computer storage media include RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by an application module or both. Any such computer storage media may be part of the mobile device interest graph service any component of or related to these entities etc. or accessible or connectable thereto. Any application or module herein described may be implemented using computer readable executable instructions that may be stored or otherwise held by such computer readable media.

The steps or operations in the flow charts and diagrams described herein are just for example. There may be many variations to these steps or operations without departing from the principles discussed above. For instance the steps may be performed in a differing order or steps may be added deleted or modified.

Although the above principles have been described with reference to certain specific examples various modifications thereof will be apparent to those skilled in the art as outlined in the appended claims.

