---

title: Circuits, apparatuses, and methods for oscillators
abstract: Circuits, apparatuses, and methods are disclosed for oscillators. In one such example oscillator circuit, a plurality of delay stages are coupled in series. A variable delay circuit stage is coupled to the plurality of delay stages and is configured to delay a signal through the variable delay circuit stage by a variable delay. The variable delay increases responsive to a rising magnitude of a supply voltage provided to the variable delay circuit stage.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09171599&OS=09171599&RS=09171599
owner: Micron Technology, Inc.
number: 09171599
owner_city: Boise
owner_country: US
publication_date: 20140728
---
This application is a continuation of U.S. patent application Ser. No. 13 432 916 filed Mar. 28 2012 and issued as U.S. Pat. No. 8 797 106 on Aug. 5 2014. This application and patent are incorporated herein by reference in their entirety for any purpose.

Embodiments of the invention relate generally to integrated circuits and more particularly in one or more of the illustrated embodiments to oscillators.

Ring oscillators generally include an odd number of series coupled stages and provide a periodic output signal. Generally the frequency of the output signal depends among other things on the rate at which each of the stages charges and discharges its respective output node which is the respective input node for the next stage in the series . For example if each stage includes an inverter formed from an n channel field effect transistor nFET and a p channel field effect transistor pFET the frequency of the output signal generally depends on the rate at which each nFET discharges that stage s output node and the rate at which each pFET charges that output node. The rate at which the nFET and pFET respectively discharge and charge the output node in turn depends among other things on the magnitude of the supply voltage provided to the inverters and the operating temperature of the oscillator. Generally the lower the operating temperature and the higher the magnitude of the supply voltage the faster the nFETs and pFETs will respectively discharge and charge the output node due to the nFETs and pFETs being more conductive and less resistive when respectively discharging and charging the output node. The faster that the nFETs and pFETs respectively discharge and charge the output node the shorter the delay through each stage and consequently the faster the frequency of the periodic signal generated by the ring oscillator.

Conventionally the magnitude of the supply voltage for the stages in a ring oscillator is regulated in order to reduce variations in oscillation speed for different supply voltage magnitudes. For example if the external supply voltage provided to the oscillator is known to vary between 1.28V and 1.575V a supply voltage regulator may provide a regulated voltage of approximately 1.35V to the oscillator regardless of changes in the external voltage provided. However merely regulating the supply voltage with a supply voltage regulator does not remedy variations in the charging and discharging times for each stage caused by temperature variations. Also the regulators that regulate the supply voltage can occupy space on and consume power in an integrated circuit.

If the supply voltage regulator is removed however the variations in oscillation speed for different supply voltage magnitudes can be relatively large and unpredictable. For example if a voltage regulator does not regulate the supply voltage provided to the stages an increase in the magnitude of the supply voltage will generally increase the frequency of the output signal generated by the ring oscillator as described above.

Certain details are set forth below to provide a sufficient understanding of embodiments of the invention. However it will be clear to one skilled in the art that embodiments of the invention may be practiced without these particular details. Moreover the particular embodiments of the present invention described herein are provided by way of example and should not be used to limit the scope of the invention to these particular embodiments. In other instances well known circuits control signals timing protocols and software operations have not been shown in detail in order to avoid unnecessarily obscuring the invention.

One of the delay stages is a variable delay circuit stage that is configured to delay a signal that propagates through the variable delay circuit stage by a variable delay. The variable delay increases responsive to a rising magnitude of a supply voltage provided to the variable delay circuit stage and may not substantially change responsive to a changing operating temperature of the variable delay circuit stage . In other words the variable delay is proportional to the magnitude of the supply voltage provided to the variable delay circuit stage and may not be proportional to the operating temperature of the variable delay circuit stage . As explained in more detail below the variable delay through the variable delay circuit stage changes e.g. increases as the charging and or discharging time of a node within the variable delay circuit stage changes e.g. increases responsive to a changing e.g. increasing magnitude of the supply voltage provided to the variable delay circuit stage .

The other delay stages may also delay a signal that propagates through each respective stage. However the delay introduced by each of the other delay stages may be shorter relative to the variable delay through the variable delay circuit stage . Because of this the frequency of the OUT signal provided by the oscillator circuit may change primarily responsive to the variable delay through the variable delay circuit stage . The frequency of the OUT signal changes responsive to the variable delay through the variable delay circuit stage in that the frequency of the OUT signal is inversely proportional to the variable delay which in turn is proportional to the delay incurred in charging or discharging the node within the variable delay circuit stage .

The oscillator circuit in includes a variable delay circuit stage that is configured to delay a signal that propagates through the variable delay circuit stage by a variable delay. The variable delay may be proportional to the magnitude of the supply voltage VCCX provided to the variable delay circuit stage . The other delay stages each delay a signal that propagates through the oscillator circuit but the delay introduced by each of the other delay stages may be shorter relative to the variable delay through the variable delay circuit stage . The delay may be shorter because for example the other delay stages have been designed to provide a relatively shorter delay. If the other delay stages are formed from nFETs and pFETs for example the delay may be shorter because these delay stages have relatively large drive strengths compared to other delay stages in the integrated circuit incorporating the oscillator circuit . Similar to the oscillator circuit in the relatively shorter delays introduced by the other delay stages may allow the frequency of the oscillator circuit in to primarily change responsive to the variable delay through the variable delay circuit stage .

The delay stage includes a pFET coupled between a supply voltage VCCX node and NODE 2 and an nFET coupled between NODE 2 and a reference voltage node such as ground. The gate of the pFET is coupled to NODE 1 which is in turn coupled to the output of the last delay stage . An ENF signal is provided to the gate of the nFET which may be an enable signal that is provided as an active low signal e.g. a logic low signal indicates that the oscillation circuit should be enabled and a logic high signal indicates that the oscillation circuit should be disabled . In some embodiments the pFET may be relatively wide and have relatively large drive strength. As will be described in more detail below if the pFET is relatively wide and has a relatively large drive strength the time that it takes the stage to charge NODE 2 may be relatively short in order to allow the delay through the stage to change primarily responsive to the time that it takes the stage to discharge NODE 2.

The variable delay circuit stage which is the second delay stage in the embodiment of includes two nFETs coupled in series between NODE 2 and a reference voltage node such as ground. The gate of one nFET is coupled to NODE 1 and the gate of the other nFET is coupled to another nFET gate.

The variable delay circuit stage also includes a capacitance coupled between NODE 2 and a reference voltage node such as ground. In some embodiments the capacitance may be a parasitic capacitance whereas in other embodiments the capacitance may be a discrete capacitance formed by for example an oxide layer of a FET or a capacitor. The variable delay circuit stage also includes a pFET an nFET and a resistance with resistance value of R0 coupled in series between the supply voltage VCCX node and a reference voltage node such as ground. The gate of the nFET is coupled to NODE 2 and the gate of the pFET is coupled to another pFET as described in more detail below. The node between the drain of the pFET and the drain of the nFET is NODE 3 as illustrated in and NODE 3 is coupled to the input of the delay stage which in turn is coupled to the delay stages .

The nFET and the nFET together form a current mirror whereby the current I 1 through the nFETs and mirrors the current I REF through the nFET . In some embodiments the nFETs may be similarly scaled causing the currents I 1 and I REF to be similar. In other embodiments the nFETs may be scaled differently from one another which may cause the currents I 1 and I REF to be proportional to one another. The I REF current is a reference current that ma be proportional to the operating temperature of an integrated circuit incorporating the oscillator circuit but may not depend on the magnitude of the supply voltage VCCX e.g. the I REF current may be temperature dependent but supply voltage independent . The magnitude of the I REF current may increase with increasing operating temperatures in some embodiments. In some embodiments the I REF current may be provided by for example a temperature sensor block not illustrated in .

As illustrated in the gates of the nFETs are coupled to the gate of another nFET which may similarly mirror the I REF current through nFET . The source of the nFET is coupled to NODE 4. A resistance with resistance value of R1 is coupled between NODE 4 and a reference voltage node such as ground. Also a pFET is coupled between NODE 4 and the supply voltage VCCX node. As mentioned above the gate of the pFET is coupled to the gate of the pFET with the pFETs also forming a current mirror whereby the current I 3 through the pFET mirrors the current I 2 through pFET with the current I 3 being similar or proportional to the current I 2 depending on the scaling of the pFETs .

The input of the delay stage is coupled to NODE 3 and the delay stages are each in turn coupled to the output of delay stage . The delay stages may help restore the signal provided by the delay stage to complementary clean logic high and logic low levels because the signal provided by the delay stage may not fully transition between a clean logic high to a clean logic low. The delay stage provides the OUT signal. A flip flop circuit may be coupled to the output of the delay stage and may help restore the duty cycle of the OUT signal so that the duty cycle of the RESTORED signal is approximately fifty percent. The flip flop circuit may also be used as a frequency divider in some embodiments and the frequency division may be selectable in some embodiments e.g. through a multiplexer . The RESTORED signal may for example drive one or more pump core s in a charge pump in an integrated circuit as described in more detail below.

In operation the oscillator circuit mirrors the supply voltage independent but possibly temperature dependent I REF current in discharging NODE 2 including any charge stored on the capacitance which because it is charged through pFET when conductive e.g. NODE 1 is charged to a logic high will have a charged voltage level that is proportional to the magnitude of the supply voltage VCCX. In other words because the nFETs discharge NODE 2 at a rate that is independent of the magnitude of the supply voltage the amount of time required to discharge NODE 2 is proportional to the amount of charge stored on NODE 2 including the charge stored on the capacitance which is proportional to the magnitude of the supply voltage VCCX. Generally the greater the magnitude of the supply voltage VCCX the more charge will be stored on NODE 2 when it is charged and so the longer it will take to discharge NODE 2 given a reference current that does not change with changing magnitudes of the supply voltage VCCX.

Because it will take longer to discharge NODE 2 for greater magnitudes of supply voltage VCCX the delay through the variable delay circuit stage will be longer for greater magnitude supply voltages VCCX which in turn will decrease the frequency of the OUT signal and or the RESTORED signal provided by the oscillator circuit . Conversely because it will take less time to discharge NODE 2 for supply voltages VCCX with a lower magnitude the delay through the variable delay circuit stage will be shorter for supply voltages VCCX with lower magnitudes which in turn will increase the frequency of the OUT signal and or the RESTORED signal provided by the oscillator circuit . As the variable delay increases or decreases the frequency of the OUT signal and or the RESTORED signal will decrease or increase respectively because the frequency is inversely proportional to the variable delay.

When NODE 1 is discharged e.g. to logic low the nFET may transition from being conductive to being non conductive and the pFET may transition from being non conductive to being conductive. When the pFET becomes conductive it charges NODE 2 including the capacitance coupled to NODE 2. The pFET may charge NODE 2 relatively quickly if the pFET is relatively wide as described above. The voltage level to which the pFET charges NODE 2 is proportional to the magnitude of the supply voltage VCCX. In general the greater the magnitude of the supply voltage VCCX the higher the voltage to which NODE 2 will be charged. When NODE 2 is charged the nFET is conductive which discharges NODE 3.

When NODE 1 is charged e.g. to logic high the pFET may transition from being conductive to being non conductive and the nFET may transition from being non conductive to being conductive. When the nFET becomes conductive it discharges NODE 2 including the capacitance coupled to NODE 2. The rate at which the nFET discharges NODE 2 is constant for a given I REF current. However because the voltage level to which NODE 2 was charged is proportional to the magnitude of the supply voltage VCCX the time or delay required to discharge the voltage level on NODE 2 including the capacitance is proportional to the magnitude of the supply voltage VCCX. Once NODE 2 is discharged to less than the threshold voltage the nFET becomes non conductive and the current I 3 will charge NODE 3.

In addition if the I REF current is proportional to the operating temperature of the operating circuit the delay through the variable delay circuit stage may be relatively stable across different operating temperatures because the I REF current may compensate for lower threshold voltages of the FETs e.g. when operating temperature increases by increasing the I 1 I 3 and I 4 currents and may compensate for higher threshold voltages of the FETs e.g. when operating temperature decreases by decreasing the I 1 I 3 and I 4 currents.

The time T it takes to discharge NODE 2 may in some embodiments be approximately calculated by the following equation if the widths of the transistors are similar and the threshold voltages Vt for the FETs are similar 

With reference to Equation 1 if temperature remains constant I REF R0 R1 and Vt thereby remains constant the time it takes to discharge NODE 2 generally increases with increasing magnitudes of the supply voltage VCCX. On the other hand if the supply voltage VCCX remains relatively constant but temperature increases I REF R0 R1 will increase while Vt increases. If the resistance values R0 R1 have been properly chosen and the FETs have been properly designed a nearly constant discharge delay may be achieved because the increases decreases in I REF R0 R1 may effectively cancel out the decrease increase in Vt.

The amount of current that the charge pump can provide to the VCCP bus depends among other things on the magnitude of the supply voltage provided to the pump core circuit and the frequency of the OUT signal which in turn depends among other things on the magnitude of the supply voltage provided to the oscillator circuit . In general the higher the magnitude of the supply voltage provided to the pump core and the faster the frequency of the OUT signal the greater the amount of current which may also be referred to as capacity that the charge pump can provide to the VCCP bus .

As described above in conventional charge pumps the magnitude of the supply voltage provided to both the pump core circuit and the oscillator circuit is regulated. However if the magnitude of the supply voltage provided to both the pump core circuit and the oscillator circuit is not regulated then increasing magnitudes of supply voltage provided to either or both of the oscillator circuit and the pump core circuit may increase the amount of current that the charge pump can provide to the VCCP bus. While it may be desirable in some instances to have an increased amount of current available in other instances it may not be desirable to have an increased amount of current available due to for example a constant current demand across different magnitudes of the supply voltage. For example as described above there may be a response delay between the time when the voltage level of the pumped voltage VCCP is adequate and when the oscillator circuit turns off in response to the ENF signal provided by the regulator circuit. If there is a relatively large amount of current available from the pump core circuit due to an increased magnitude of supply voltage provided to the oscillator circuit and or to the pump core circuit the current provided by the pump core circuit will continue to charge the VCCP bus during the response delay described above which may overcharge the VCCP bus creating noise on the VCCP bus. Additionally the faster the frequency of the oscillator circuit the lower the efficiency of the charge pump may be. So for unregulated conventional charge pumps the increased magnitude of the supply voltage provided to both the oscillator circuit and the pump core circuit may increase the noise on the VCCP bus while at the same time decrease the efficiency of the charge pump both of which may waste power. Additionally the increased current may require relatively wide interconnect wires to be used within the charge pump particularly in the pump core circuit in order to prevent electrical migration degradation.

Accordingly the oscillator circuit illustrated in includes a variable delay circuit such as one of the variable delay circuits described above. The variable delay circuit allows the oscillator circuit to provide the OUT signal at a frequency that decreases for increasing magnitudes of supply voltage VCCX. The decreased frequency of the OUT signal provided to the pump core circuit may reduce the capacity of the charge pump . The decreased capacity of the charge pump due to the decreased frequency of the OUT signal may however be counteracted by the increased capacity due to the increased magnitude of supply voltage provided to the pump core circuit . The charge pump may be useful in applications where the demand for current from the charge pump is relatively constant a few examples of which are given below.

Furthermore because the variable delay circuit reduces the capacity of the charge pump noise may be reduced on the VCCP bus and the efficiency of the charge pump may increase. Also because the variable delay circuit prevents the capacity from greatly increasing when the magnitude of the supply voltage VCCX increases the thickness of interconnect wires within the pump core circuit and the charge pump in general may be reduced. The reduced thickness of interconnect wires in turn may allow for a charge pump that occupies a smaller area on an integrated circuit and may simplify routing of the interconnect wires within the pump core circuit.

The row and column addresses are provided by the address latch to a row address decoder and a column address decoder respectively. The column address decoder selects bit lines extending through the array corresponding to respective column addresses. The row address decoder is connected to word line driver that activates respective rows of memory cells in the array corresponding to received row addresses. The selected data line e.g. a bit line or bit lines corresponding to a received column address are coupled to a read write circuitry to provide read data to a data output circuit via an input output data bus . An output pad coupled to the data output circuit is used for electrically coupling to the memory . Write data are provided to the memory array through a data input circuit and the memory array read write circuitry . An input pad coupled to the data input circuit is used for electrically coupling to the memory . The address command decoder responds to memory commands and addresses provided to the ADDR CMD bus to perform various operations on the memory array . In particular the address command decoder is used to provide control signals to read data from and write data to the memory array .

The word line driver may include one or more charge pumps which ma include an oscillator circuit such as those described above. The charge pump may provide a pumped voltage VCCP to one or more word lines during programming of the word lines and the charge pump s may be similar to the charge pump illustrated in and described above.

Alternatively or in addition to the charge pump including an oscillator circuit as described herein the memory may include an oscillator circuit in a self refresh circuit not specifically illustrated in . The self refresh circuit may refresh the data stored in the cells of the memory array . The rate at which the data in the memory array needs to be refreshed may be inversely proportional to the magnitude of the supply voltage provided to the memory array. If the magnitude of the supply voltage provided to the memory array is relatively low then the cells of the memory array may need to be refreshed more often whereas if the magnitude of the supply voltage provided to the memory array is relatively high then the cells of the memory array may need to be refreshed less often. As such an oscillator with an output signal that whose frequency is inversely proportional to the magnitude of the supply voltage provided to the memory array may be used to control the refresh rate of the memory array in order to reduce power that may be wasted if the memory array is needlessly refreshed too often when the magnitude of the supply voltage is relatively high while still refreshing the memory array frequently enough when the magnitude of the supply voltage is relatively low. In these cases the supply voltage for the memory array may be used as the supply voltage for the oscillator.

From the foregoing it will be appreciated that although specific embodiments of the invention have been described herein for purposes of illustration various modifications may be made without deviating from the spirit and scope of the invention. For example and illustrate embodiments of an oscillator circuit and illustrate embodiments of a variable delay circuit and illustrated embodiments of a charge pump . However other oscillator circuits variable delay circuits and or other charge pumps may be used which are not limited to having the same design and may be of different designs and include circuitry different from the circuitry in the embodiments illustrated in these Figures.

For example the oscillator circuits illustrated in may be used in applications other than a charge pump. As another example although illustrates an oscillator circuit wherein the variable delay through the variable delay circuit is proportional to the amount of time required to discharge NODE 2 another embodiment of an oscillator circuit may include a variable delay circuit wherein the variable delay is proportional to the time required to charge a node. Also although the oscillator circuit includes a variable delay circuit stage as the second delay stage a variable delay circuit stage may be included as the third stage or as a different stage. In still other embodiments a plurality of variable delay circuit stages may be included in an oscillator circuit.

Furthermore the oscillator circuits illustrated and described herein may be used in a broad range of different apparatuses such as circuitry a memory device a memory system e.g. SSD an electronic device or system e.g. a computer smart phone server etc. and so forth.

