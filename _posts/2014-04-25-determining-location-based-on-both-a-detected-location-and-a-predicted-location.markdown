---

title: Determining location based on both a detected location and a predicted location
abstract: A system and method is described that computes an estimated current location for a client device based on both the detected current location and the predicted current location of the client device. By utilizing the predicted current location, the system and method may account for and compensate for anomalies and inaccuracies in the detected current location. Accordingly, the system and method provides a more accurate estimation for the current location of the client device based on examination of heuristics and a priori environmental data. In particular, the system and method compensates for detected locations that are impossible or improbable based on previous locations of the client device, the layout of the environment in which the client device is traversing, data describing the user of the client device, and/or data describing the client device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09319844&OS=09319844&RS=09319844
owner: ARUBA NETWORKS, INC.
number: 09319844
owner_city: Sunnyvale
owner_country: US
publication_date: 20140425
---
The present disclosure relates to determining the current location of a wireless device based on a location detected using sensor data and a location predicted using heuristic and a priori knowledge of environments surrounding the client device.

Over the last decade there has been a substantial increase in the use and deployment of network devices. For example smartphones laptop computers desktop computers tablet computers and smart appliances may each communicate over wired and or wireless switching networks. Commonly these devices may determine their location using a variety of techniques.

For example wireless devices may determine their distance from an access point by examining characteristics of received transmitted signals. Based on analysis of signals from multiple access points an estimated detected location of a device may be determined. Although these techniques offer an estimated current location of a wireless device these estimates can be inaccurate and prone to errors caused by signal anomalies.

The approaches described in this section are approaches that could be pursued but not necessarily approaches that have been previously conceived or pursued. Therefore unless otherwise indicated it should not be assumed that any of the approaches described in this section qualify as prior art merely by virtue of their inclusion in this section.

In the following description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding. One or more embodiments may be practiced without these specific details. Features described in one embodiment may be combined with features described in a different embodiment. In some examples well known structures and devices are described with reference to a block diagram form in order to avoid unnecessarily obscuring the present invention.

Herein certain terminology is used to describe features for embodiments of the disclosure. For example the term digital device generally refers to any hardware device that includes processing circuitry running at least one process adapted to control the flow of traffic into the device. Examples of digital devices include a computer a tablet a laptop a desktop a netbook a server a web server an authentication server an authentication authorization accounting AAA server a Domain Name System DNS server a Dynamic Host Configuration Protocol DHCP server an Internet Protocol IP server a Virtual Private Network VPN server a network policy server a mainframe a television a content receiver a set top box a video gaming console a television peripheral a printer a mobile handset a smartphone a personal digital assistant PDA a wireless receiver and or transmitter an access point a base station a communication management device a router a switch and or a controller.

It is contemplated that a digital device may include hardware logic such as one or more of the following i processing circuitry ii one or more communication interfaces such as a radio e.g. component that handles the wireless data transmission reception and or a physical connector to support wired connectivity and or iii a non transitory computer readable storage medium e.g. a programmable circuit a semiconductor memory such as a volatile memory and or random access memory RAM or non volatile memory such as read only memory power backed RAM flash memory phase change memory or the like a hard disk drive an optical disc drive etc. or any connector for receiving a portable memory device such as a Universal Serial Bus USB flash drive portable hard disk drive or the like.

Herein the terms logic or logic unit are generally defined as hardware and or software. For example as hardware logic may include a processor e.g. a microcontroller a microprocessor a CPU core a programmable gate array an application specific integrated circuit etc. semiconductor memory combinatorial logic or the like. As software logic may be one or more software modules such as executable code in the form of an executable application an application programming interface API a subroutine a function a procedure an object method implementation an applet a servlet a routine source code object code a shared library dynamic load library or one or more instructions. These software modules may be stored in any type of a suitable non transitory storage medium or transitory computer readable transmission medium e.g. electrical optical acoustical or other form of propagated signals such as carrier waves infrared signals or digital signals .

Lastly the terms or and and or as used herein are to be interpreted as inclusive or meaning any one or any combination. Therefore A B or C or A B and or C mean any of the following A B C A and B A and C B and C A B and C. An exception to this definition will occur only when a combination of elements functions steps or acts are in some way inherently mutually exclusive.

The access points may be any device that can associate with the client device to transmit and receive data over wireless channels and or detect wireless signals transmitted by the client device . In one embodiment the access points may correspond to a network device such as a wireless access point a switch a router or any combination thereof. shows a component diagram of the access point according to one embodiment. In other embodiments the access points and may include similar or identical components to those shown and described in relation to the access point .

As shown in the access point may comprise one or more of a hardware processor data storage an input output I O interface and device configuration logic . Each of these components of the access point will be described in further detail below.

The data storage of the access point may include a fast read write memory for storing programs and data during operations and a hierarchy of persistent memory such as Read Only Memory ROM Erasable Programmable Read Only Memory EPROM and or Flash memory for example for storing instructions and data needed for the startup and or operation of the access point . In one embodiment the data storage is a distributed set of data storage components. The data storage may store data that is to be transmitted from the access point or data that is received by the access point . For example the access point may store data to be forwarded to the client device or to one or more of the access points and . In another embodiment the data storage may store previously estimated locations of the client device that are generated using signals received by the access point heuristics data associated with the client device and or a priori knowledge of environments surrounding the client device and or the access point .

In one embodiment the I O interface corresponds to one or more components used for communicating with other devices e.g. the client device the controller the ALE and or other access points and within the system via wired or wireless signals. The I O interface may include a wired network interface such as an IEEE 802.3 Ethernet interface and or a wireless interface such as an IEEE 802.11 WiFi interface. The I O interface may communicate with the client device the controller the ALE and or the access points and over corresponding wireless channels in the system .

In some embodiments the I O interface may include one or more antennas for communicating with the client device the controller the ALE the access points and other wireless devices in the network system and or other devices over the external network . For example multiple antennas may be used for forming transmission beams to one or more of the client device or the access points and through adjustment of gain and phase values for corresponding antenna transmissions. The generated beams may avoid objects and create an unobstructed path to the client device and or the access points and .

In one embodiment the I O interface in conjunction with the antennas may detect wireless signals emitted by the client device . In this embodiment the client device may not be directly associated with the access point such that the client device and the access point maintain a data connection but the access point is able to detect the presence of the proximate neighboring client device including signal strength characteristics. For example in the dashed lines indicates that the client device is visible to and or in range of the access points and although the access points and and the client device may not share a data connection. Instead the client device is only associated and maintains a data connection with the access point e.g. a data connection using one or more network protocols as signified by the solid lines. Accordingly each of the access points and may detect nearby signals of the client device even without an established data connection. Detection of these signals by the access points may be used by to determine a detected current location of the client device as will be described in greater detail below.

In one embodiment the hardware processor is coupled to the data storage and the I O interface . The hardware processor may be any processing device including but not limited to a MIPS ARM class processor a microprocessor a digital signal processor an application specific integrated circuit a microcontroller a state machine or any type of programmable logic array.

In one embodiment the device configuration logic includes one or more functional units implemented using firmware hardware software or a combination thereof for configuring parameters associated with the access point . In one embodiment the device configuration logic may be configured to determine a detected current location for the client device determine a predicted current location for the client device and determine an estimated current location of the client device based on the detected current location and or predicted current locations.

As described above the other access points and may be similarly configured as described above in relation to the access point . For example access points and may comprise hardware processor data storage an input output I O interface and device configuration logic in a similar fashion as described above in relation to the access point .

In one embodiment the controller and or the ALE may be similarly configured as described above in relation to the access point . For example the controller and or the ALE may comprise hardware processor data storage an input output I O interface and device configuration logic in a similar fashion as described above in relation to the access point .

In one embodiment the client device may be any wireless and or wired electronic devices capable of receiving and transmitting data over wired and wireless mediums. For example the client device may be one or more of a personal computer a laptop computer a netbook computer a wireless music player a portable telephone communication device a smart phone a tablet computer and a digital television. In one embodiment the client device is a digital device that includes a hardware processor memory hierarchy and input output I O interfaces including a wired and or wireless interface such as an IEEE 802.3 interface. In one embodiment the configuration of the components within the client device may be similar to those discussed above in relation to the access point .

Turning now to a method for calculating the estimated current location of the client device according to one embodiment will be described. In one embodiment each operation of the method may be performed by one or more components of the access points and or the client device . In other embodiments the operations of the method may be performed by the controller and or the ALE . Although the operations of the method are shown and described in a particular order in other embodiments the operations may be performed in a different order. For example in some embodiments one or more of the operations of the method may be performed concurrently or during overlapping time periods.

In one embodiment the method begins at operation with the receipt by one or more of the access points of one or more wireless signals from the client device . For example as shown in the client device may transmit wireless signals to the access points . The wireless signals may be transmitted by the client device at a predefined power level which is shared with the access points . For instance the wireless signals may be transmitted to the access points at 20 dB. In one embodiment the wireless signals are received by the access points at operation using one or more of the antennas and the input output interface .

In one embodiment the received signals may be transmitted as part of a data transfer or a communication involving control signals with one or more of the access points . For example the signals may be part of a wireless data transfer or a communication of control signals using an established data connection between the client device and the access point e.g. a data connection using one or more network protocols . These wireless signals may be detected by the access points and even though the access points and and the client device have not established a data connection. Although described as being related to a data transfer in other embodiments the wireless signals may be a beacon transmitted by the client device with the intended purpose of determining the detected current location of the client device instead of the transmission of data or control signals. Again these wireless signals may be detected by the access points even though the access points and and the client device have not established a data connection.

Following receipt of the wireless signals operation may compute the detected current location of the client device . In one embodiment the detected current location of the client device may be generated based on the wireless signals received at operation . For example in one embodiment operation may compute the detected current location of the client device using one or more received signal strength indicators RSSIs associated with the wireless signals . In this example each of the access points may analyze the received wireless signals to determine the power of these signals . Since these signals have traversed some distance between the client device and each respective access point the signals may decrease in power. For instance although the signals may have originally been transmitted at 20 dB the power of the wireless signal A received by the access point may be 18 dB the power of the wireless signal B received by the access point may be 15 dB and the power of the wireless signal C received by the access point may be 16 dB.

As noted above the access points may be aware of the power with which the signals were originally transmitted by the client device e.g. 20 dB . This transmitting power may be shared prior to transmitting the signals or the signals may themselves include this power information encoded therein.

Based on the determined power of the wireless signals at receipt and knowledge of the power of the signals at transmission each of the access points may determine a distance or range separating the client device and each respective access point . As shown in these distances are represented by circles A C where the radius of the circles indicate the estimated distance between the client device and each respective access point . For example using the receiving power levels of the signals described above the client device may be estimated to be five meters from the access point eight meters from the access point and six meters from the access point . Accordingly each of the circles A C may have radii of five meters eight meters and six meters respectively. These distance estimates may be determined based on 1 estimated transfer function s describing signal propagation degradation between the client device and the access points and or 2 a table mapping signal degradation to distance estimates.

Although described as a single distance estimate between the client device and the access points in some embodiments a distance range may be provided. For example using the receiving power levels of the signals described above the client device may be estimated to be between five and six meters from the access point eight and nine meters from the access point and six and seven meters from the access point .

Based on these estimated distances between the client device and the access points operation may compute a detected current location of the client device . In one embodiment the detected current location may be the overlap intersection of the circles A C. For example as shown in the detected current location of the client device may be the location X which falls in the overlap intersection between the circles A C.

In one embodiment the detected current location of the client device may be relative to one or more of the access points . In another embodiment based on knowledge of the location of one or more of the access points the detected current location may be relative to another object e.g. a landmark an area e.g. a room in which the client device and or the access points are located a campus or the entire earth i.e. GPS coordinates .

As described above operation may triangulate the position of the client device using the access points to arrive at the detected current location of the client device . However in other embodiments the detected current location of the client device may be determined using a single access point and beamforming techniques. For example in this embodiment the client device may generate a beam directed at the access point . Similar to the approach used above with multiple access points operation may determine the power of the beamformed signal received from the client device to determine a distance between the client device and the access point . Since the client device directed a beam toward the access points operation may determine an angle of the client device in relation to the access point . Accordingly using the distance derived from the power of the received beamformed signal and an angle of the client device in relation to the access point operation may compute the detected current location of the client device using a single access point . In still another embodiment Bluetooth and or radio frequency identifiers RFIDs may be used to determine the detected current location based on proximity estimates with the access points and the client device .

Although described above as computed by one or more of the access points in other embodiments one or more of the controller and the ALE may compute the detected current location of the client device based on the wireless signals transmitted by the client device . For example the access points may detect the wireless signals and pass on characteristics of the received signals e.g. RSSI values to the controller and or the ALE . In this embodiment the controller and or the ALE may thereafter compute a detected current location for the client device .

As described above the detected current location of the client device may be computed using RSSI for one or more wireless signals transmitted by the client device . Although under certain conditions this value may provide an accurate estimate of the location of the client device the detected current location may be inaccurate at times based on a number of factors. For example the environment in which the wireless signals are transmitted may not be in accordance with expected conditions. These anomalies may result in the wireless signals either arriving with higher or lower power levels than would be observed under normal conditions. Based on these unexpected power levels the detected current location may be inaccurate. In other situations other anomalies or detection errors may lead to inaccuracies in the detected current location of the client device .

To correct or compensate for anomalies in the detected current location computed at operation the method may utilize heuristic data and or a priori knowledge of environments surrounding the client device to arrive at one or more predicted current locations of the client device . As will be described in greater detail below an estimated current location for the client device may be computed using the detected current location and the one or more predicted current locations of the client device . By using predicted current locations the method may compensate for potential inaccuracies in the detected current location of the client device and arrive at a potentially more accurate estimated current location for the client device .

The method may begin the process of computing predicted current locations for the client device at operation . At operation one or more previous locations of the client device may be obtained received. In one embodiment the previous locations of the client device may be obtained from data stored in one or more of the access points the client device the controller the ALE and or another device in the network system . For example the access point may record previously estimated locations of the client device over time. These previously estimated locations may be stored in the data storage in any type of data structure and or database. In one embodiment these previous locations may be derived from previous performances of the method while in other embodiments the previous locations are derived through other techniques e.g. from the client device or a badge associated with a user of the client device being scanned at a known location .

In one embodiment the previous locations may be associated with a time. The times associated with the previous locations correspond to points in time at which the previous locations were detected and or estimated. For example a first previous location may be associated with the time 2 00 PM while a second previous location may be associated with the time 2 01 PM. Accordingly the first location represents the location of the client device at 2 00 PM while the second location represents the location of the client device at 2 01 PM.

In one embodiment operation may obtain previous locations for the client device within a designated period of time. For example the previous locations obtained at operation may be within ten seconds of the current time. By filtering on a designated time period the method eliminates previous locations that are outdated and may negatively skew computation of the estimated current location.

Following retrieval of the previous locations operation may retrieve one or more pieces of data describing the environment in which the client device is proximate to and or is located within. In one embodiment since the exact current location of the client device is not yet known operation may retrieve data describing the environment based on one or more of the previous locations retrieved at operation . For example operation may retrieve data describing the environment corresponding to the most recent previous location retrieved at operation .

In one embodiment the data retrieved at operation may include floor plans and or maps for one or more structures or areas corresponding to one or more previous locations. The floor plans and or maps may include locations of walls stairwells doorways elevators walkways installed fixtures and other objects that would either prevent or assist a user of the client device to walk or otherwise change location. For example shows a floor plan of a floor of a building. The floor plan includes indicators for walls an elevator a stairwell doorways and an installed fixture . As will be described in greater detail below using knowledge of the environment and surroundings of the client device the method may better predict the movement and or the current location of the client device .

In one embodiment the floor plans and or maps may be retrieved at operation from a local or remote repository. For example at operation one or more of the access points may retrieve floor plans for a building corresponding to the last known estimated location of the client device from a remote server over the external network .

At operation the method may retrieve one or more pieces of data that describe a user of the client device . The data may describe access privileges of the user and or any other constraints. For instance expanding on the example described above the one or more pieces of data retrieved at operation may include 1 areas of a building that are accessible to the user of the client device 2 physical impairments of the user of the client device that would prevent the user from accessing particular areas or resources of the building e.g. stairwells based on wheelchair constraints and or 3 a schedule or appointment calendar associated with the user of the client device . Similar to operation operation may be performed by accessing data from a local or remote repository.

At operation the method may retrieve one or more pieces of data that describe the client device . The data may describe capabilities of the client device and or a type model or class of the client device . For example the data retrieved at operation may indicate that the client device is one or more of a laptop computer tablet computer personal digital assistant or mobile phone. Similar to operations and operation may be performed by accessing data from a local or remote repository.

Turning now to operation the method may compute one or more predicted current locations of the client device based on the data retrieved at operations and or . As will be described in greater detail below one or more predicted current locations of the client device may be computed using one or more techniques. These techniques may be used in conjunction or separately to compute the predicted current locations of the client device .

In one embodiment a predicted location may be generated based on one or more previous locations of the client device . As noted above these previous locations may be 1 previously estimated locations derived using previous performances of the method and or 2 confirmed locations of the client device e.g. the user swiping a badge at a known location . Using these previous locations operation may attempt to generate an anticipated pathway for the client device within a floor plan or map retrieved at operation .

The pathway for the client device indicates predicted movement for the client device and may be used to determine a predicted location of the client device at a point in time as will be described in greater detail below. In one embodiment the predicted pathway for the client device may be generated using one or more pieces of data including 1 one or more previous locations of the client device 2 the predicted direction of the client device 3 the predicted velocity of the client device 4 floor plans or maps for the structure or area in which the client device is believed to be located 5 one or more pieces of data that describe a user of the client device and or 6 one or more pieces of data that describe the client device .

For example as shown in two previous locations A and B for the client device may be retrieved at operation and overlaid on the example floor plan . In this example these previous locations A and B may correspond to the times 2 01 05 PM and 2 01 35 PM respectively. The floor plan describes a floor of a building in which the client device is believed to be located. In one embodiment the determination of a floor plan may be based on the one or more previous locations of the client device . For example the previous locations A and B may indicate that the client device is located on the floor of the building represented by the floor plan . Based on this determination operation may retrieve the floor plan . A pathway may be generated based on these previous locations A and B and relative to the floor plan as described in greater detail below.

In one embodiment operation may determine the direction of movement for the client device based on the previous locations A and B. For example since the previous location B was computed after the location A as described above the client device is likely moving in the direction indicated by the arrow as shown in . In other embodiments in which three or more previous locations are utilized the method may generate a direction of movement for the client device based on only the most recent two previous locations or may generate an average direction of movement for the client device based on three or more previous locations. In one embodiment the direction may be represented by an angle relative to an object in the floor plan or the most recent previous location e.g. the previous location B . In one embodiment the pathway may be generated to travel along this estimated direction of the client device .

In one embodiment operation may also determine the velocity of the client device based on the previous locations A and B. For example the distance between the previous locations A and B may be three meters. Based on the corresponding times noted above associated with each of the previous locations A and B the elapsed time between the previous locations A and B is thirty seconds. Based on these time and distance values the velocity v of the client device may be estimated to be 

Similar to computation of the estimated direction of the client device in other embodiments in which three or more previous locations are utilized the method may generate an average velocity based on the three or more previous locations or base the estimated velocity on only the last two most recent previous locations.

Based on this estimated velocity and the estimated direction of the client device a predicted location may be generated for the client device along the pathway as shown in . For example at the time 2 01 45 PM the predicted location may correspond to a location in the floor plan one meter from the location B and headed in the same direction as indicated by the arrow .

Although shown as linear in some embodiments the pathway may compensate for known obstacles or barriers in the floor plan . For example as shown in based on the previous locations C and D the estimated direction of the client device and the estimated velocity of the client device the predicted location may be computed. This predicted location corresponds to a pathway that requires the client device to pass through a wall . In one embodiment operation compensates for this inaccuracy by generating a pathway that accounts for this barrier. In particular as shown in operation may generate the pathway in a similar estimated direction but that locates a door to travel through instead of attempting to pass through the wall . Based on this new pathway and the estimated velocity of the client device a new predicted current location for the client device may be computed. As shown the new predicted location falls on the new pathway but does not travel through any barriers e.g. a wall .

In some embodiments the pathway may be generated based on a target location for the client device as dictated by a schedule or appointment calendar. For example a calendar application running on the client device or associated with the user of the client device may indicate that the user is expected at a meeting in conference room A at 3 00 PM. Accordingly based on this information the pathway may be generated to connect the last previous location of the client device with the target location of the client device e.g. conference room A . In this embodiment the predicted current location of the client device may follow along this pathway such that the client device is located within conference room A at or around 3 00 PM.

In some embodiments the previous locations of the client device may be used to determine a historic movement trend for the client device . For example previous locations of the client device may indicate that the client device is located in a cafeteria area of a building each day at 12 30 PM. Based on this historic trend operation may predict that the client device will likely be in the cafeteria area at 12 30 PM or headed to the cafeteria area around 12 30 PM. Accordingly a pathway may be targeted to the cafeteria area and or a predicted location for the client device at 12 30 PM may be within the cafeteria area.

In some embodiments access privileges for the user of the client device may be used to generate the pathway . For example the access privileges of the user of the client device may be retrieved at operation and define the areas of a building and or campus accessible to the user of the client device . For instance access privileges may indicate that the user of the client device is not allowed to enter a particular room shown in the building and or campus. Although an originally generated pathway may have indicated that the client device is within this restricted room operation may modify this pathway to more accurately predict that the client device is at a location in which the user is allowed access. For example as shown in the pathway may lead into conference room A. However upon determining that access privileges associated with the user of the client device do not allow the user access to conference room A operation may generate a pathway that avoids conference room A as shown in . Based on this new pathway a corresponding predicted current location for the client device may be generated.

In other embodiments characteristics of the client device may assist in determining the pathway and or the predicted current location of the client device . For example data retrieved at operation may include the style of the client device e.g. a smartphone a laptop etc. . Since laptops are traditionally not brought into restrooms a pathway and or predicted location that places a laptop client device in a restroom may be adjusted to instead avoid the restroom. In contrast since phones are often brought into restrooms a pathway and or predicted location that places a phone client device in a restroom may not be adjusted.

As described above a predicted current location of the client device may be computed based on heuristics and a priori knowledge of environments surrounding the client device . As will be described in greater detail below this predicted location of the client device computed at operation may be combined with the detected location of the client device computed at operation to generate an estimated current location of the client device . This estimated current location may correct for inaccuracies in the detected location introduced by anomalies in the environment and detection errors.

As noted above following the computation of the detected current location and the predicted current location operation may compute an estimated current location for the client device based on the detected current location and the predicted current location. In one embodiment the detected current location may be averaged with the predicted current location of the client device to determine the estimated current location of the client device . For example in the detected current location may be represented by the coordinates 6 meters 4 meters relative to the top left most portion of the floor plan . This detected current location may have been computed using operation described above. In contrast the predicted current location may be represented by the coordinates 8 meters 6 meters relative to the top left most portion of the floor plan . This predicted current location may have been computed using operation described above. On the basis of these two sets of coordinates the estimated current location of the client device may be computed as 

As shown in the estimated current location may sit directly between the detected current location and the predicted current location .

In other embodiments the combination of the detected current location and the predicted current location to generate the estimated current location may utilize weights. The weights may be assigned to each of the detected and predicted locations and indicate the level of confidence for each value. For example as shown in the previous locations at coordinates 4 1 5 2 and 6 3 are assigned weights of 60 70 and 80 respectively. In contrast the predicted current location at coordinates 8 5 is assigned a weight of 100 . This 100 weight indicates a high confidence that the predicted location is correct. The weights for coordinates adjacent to the predicted location decrease until a wall is reached. Since in the current example embodiment the method is certain that the client device is in the room corresponding to the predicted location weights in other rooms may be set to 0 . As shown in the detected current location at coordinates 6 7 may be assigned a weight of 80 .

Based on the weights assigned to the predicted current location and the detected current location the estimated current location for the client device may be computed. Using the example described above and shown in the estimated current location may be computed as follow 

Accordingly using these weights the estimated current location at coordinates 6.4 5.3 represents a high confidence for the predicted current location and a slightly reduced confidence for the detected current location. Although shown as providing a 100 weight to the predicted current location in other embodiments a reduced weight may be applied to the predicted current location. This lower weight may indicate a lower confidence in the heuristic or environmental data used to compute the predicted current location. For example when the predicted current location is based on outdated data e.g. old previous estimated or known locations of the client device the weight applied to the predicted current location may be set lower.

As described above the estimated current location represents both the detected current location and the predicted current location of the client device . By utilizing the predicted current location the method may account for and compensate for anomalies and inaccuracies in the detected current location. Accordingly the method provides a more accurate estimation for the current location of the client device based on examination of heuristics and a priori environmental data. In particular the method compensates for detected locations that are impossible or improbable based on previous locations of the client device the layout of the environment in which the client device is traversing data describing the user of the client device and or data describing the client device .

An embodiment of the invention may be an article of manufacture in which a machine readable medium such as microelectronic memory has stored thereon instructions which program one or more data processing components generically referred to here as a processor to perform the operations described above. In other embodiments some of these operations might be performed by specific hardware components that contain hardwired logic e.g. dedicated digital filter blocks and state machines . Those operations might alternatively be performed by any combination of programmed data processing components and fixed hardwired circuit components. Also although the discussion focuses on uplink medium control with respect to frame aggregation it is contemplated that control of other types of messages are applicable.

Any combination of the above features and functionalities may used in accordance with one or more embodiments. In the foregoing specification embodiments have been described with reference to numerous specific details that may vary from implementation to implementation. The specification and drawings are accordingly to be regarded in an illustrative rather than a restrictive sense. The sole and exclusive indicator of the scope of the invention and what is intended by the applicants to be the scope of the invention is the literal and equivalent scope of the set of claims that issue from this application in the specific form in which such claims issue including any subsequent correction.

