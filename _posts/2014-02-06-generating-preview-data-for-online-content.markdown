---

title: Generating preview data for online content
abstract: Social networking systems benefit from techniques that improve the ability of users to share online content with other users of a social networking system. In one embodiment, when a user types, pastes, or otherwise inserts a URL, or some other hyperlink, into a message or post to the social networking system, a set of data on the referenced hyperlink target is acquired and stored on a server of the social networking system. The stored data is analyzed, to automatically generate a preview for the hyperlink; and the hyperlink preview is transmitted to the client device for approval. In one embodiment, follow-up actions related to the content are performed when the content is posed, which enables users to perform social graph actions to user nodes and concept nodes related to the message or post. In one embodiment, the shared content is cached on the social networking system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09442903&OS=09442903&RS=09442903
owner: FACEBOOK, INC.
number: 09442903
owner_city: Menlo Park
owner_country: US
publication_date: 20140206
---
In recent years a wide variety of common human interactions and activities have moved online and in particular into the realm of social networks. Online social networking sites have been increasingly used to keep up with close social ties organize around a shared interest or to meet new people. A December 2012 survey by the Pew Internet American Life Project found that 67 of American online adults use social networking sites up dramatically from 8 found by the same organization in a February 2005 survey.

Online social networking sites also provide a convenient way for users to share online media with other users. According to the Pew Project as of August 2012 46 of adult Internet users post original photos or videos online and 41 of adult Internet users take photos or videos that they have found online and repost. Accordingly techniques to improve the media sharing experience for users are important to online social networking systems.

Users of a social networking system share content by sending or posting electronic messages containing hyperlinks such as a Uniform Resource Locator URL to online content. When a user is sent a URL the underlying content may not be obvious from the URL itself. Additionally the overall context or relevance of the content linked via the hyperlink may not be apparent especially in relation to messages or comments that are made with or in response to the post. Accordingly a social networking system can benefit from techniques to enable the automatic generation of one or more preview elements for hyperlinks shared between users of the social networking system. While a social networking system is used to describe embodiments of preview generation for online content it will be understood that these concepts are generally applicable to generating previews for online content for other network services entities websites etc.

Detailed below are embodiments of methods systems and user interfaces for generating preview images titles and summary data for online content as well as follow up actions that are related to the online content. In addition to the embodiments specific details to enable one skilled in the art to practice the embodiments will be set forth. While such details are set forth it should be understood that the various embodiments could be practiced without these specific details. Additionally circuits structures and techniques that are generally known in the art are not shown in detail to avoid obscuring the understanding of this description however those of ordinary skill in the art with the included descriptions will be able to implement appropriate functionality without undue experimentation.

In the following description and claims the terms coupled and connected along with their derivatives may be used. It should be understood that these terms are not intended as synonyms for each other. Coupled is used to indicate that two or more elements which may or may not be in direct physical or electrical contact with each other co operate or interact with each other. Connected is used to indicate the establishment of communication between two or more elements that are coupled with each other.

In one embodiment computational resources of the social networking system execute algorithms to determine an appropriate image title and summary to use in an automatically generated preview for the hyperlink. Once the hyperlink preview is generated the preview elements are transmitted to the client device for approval. The preview is then displayed to describe the content referenced by the hyperlink and the user can accept or reject the preview. The user can edit one or more portions of the preview or select an alternate element to display as a preview before submitting the post and the preview for publication.

The computational resources performing the preview generation algorithm select the appropriate preview by considering several data elements where each data element acts as a sign indicator or signal to the algorithm. The algorithm uses the signals for the data elements to select the proper data to use for the link preview. Signals to the algorithm include positive and negative signals. Positive signals to the algorithm indicate that a particular image name or sentence is relevant or appropriate to use in describing the linked content. Negative signals to the algorithm indicate that a particular image or other data element may not be suitable for use as automatically generated preview data.

In one embodiment follow up actions are enabled when the content is shared which allows the use of features of the social networking system by a user that is viewing a post containing the hyperlink to the shared content. For example the user can comment on the post re share the post to friends or followers of the user or interact with pages on the social networking system related to the shared content. In one embodiment concepts encompassed within the shared content such as a product brand artist activity event group etc. are determined by a concept tagging module and a social graph of the social networking system is updated to associate those concepts with users that interact with the post containing the concept.

The methods systems and user interfaces described herein utilize both publicly available information as well as information provided by users of the social networking system. It should be noted that all use of such information is to be explicitly subject to all privacy settings of the involved users and the privacy policy of the social networking system as a whole.

Typical interactions between the user device A and the social networking system include receiving publications operations to view profiles of other users of the social networking system contributing and interacting with media items joining groups listing and confirming attendance at events checking in at locations liking certain pages posts creating pages and performing other tasks that facilitate social interaction as described herein. Each interaction is an exemplary interaction of a user accessing the social networking system as a network service.

The social networking system includes one or more severs to perform or provide various operations tasks and services such as platform storage one or more application programming interfaces APIs perform media analysis and concept tagging maintain a social graph and to provide one or more platform applications .

When a post contains a hyperlink an embodiment of the social networking system stores the content referenced by the hyperlink within platform storage and executes a preview generation algorithm using computational resources of the social networking system . The preview generation algorithm interacts with the content stored within the platform storage to extract image and text information from the content that is targeted by the hyperlink. The extracted image and text information is used to generate preview information for the content targeted by the hyperlink.

The media analysis module is used to perform text or image analysis on the extracted image and text information to determine the most relevant image and text data within the content. The relevant data is used to generate previews for the content to display when the content is shared between users of the social networking system. The concept tagging module works with the media analysis module to create or update concept tags stored within concept nodes of the social graph . The concept tagging module derives concept tags by analyzing data posted or otherwise shared by users of the social networking system. The derived concept tags are then used to assist preview generation. The concept tags can be used as preview element candidates or to refine a set of preview element candidates to automatically generate a preview for hyperlinked content.

The social graph stores user nodes concept nodes and edges between nodes as described herein. Each user node comprises one or more data objects corresponding to information associated with or describing a user while each concept node comprises one or more data objects corresponding to information associated with a concept. Each edge between a pair of nodes comprises one or more data objects corresponding to information associated with a relationship between users or between a user and a concept or between concepts corresponding to the pair of nodes.

Social graph edges for the social graph of the social networking system are more easily updated when users interact with content hosted by the social networking system . However the concepts underlying content on third party websites may not be as easily determined. Concepts for content hosted on third party websites can be derived during the preview generation process by the media analysis module and concept tagging module . Additional discussion on deriving concepts and concept tagging is found in U.S. patent application Ser. No. 13 167 701 titled Inferring Topics from Social Networking System Communication and U.S. patent application Ser. No. 13 167 700 titled Inferring Topics from Social Networking System Communications Using Social Context which are hereby incorporated by reference.

Third party web pages may also define specific concepts for hosted content by defining metadata elements for their pages. For example the external server may host a third party web page including metadata based on the Open Graph Protocol provided by Facebook though other manners of metadata tagging are envisioned e.g. W3C meta tags . Each metadata attribute corresponds to a property e.g. title description etc. and an associated value. An exemplary set of tags defined under Open Graph is illustrated in Table 1 though the use of metadata tagging is not so limited.

These exemplary tags provide information for use when generating a preview constructing concept nodes and linking concept nodes into the social graph. The tags provide signals that allow additional user or concept nodes to be created based on their relationship to the content or concept represented within the target of a shared hyperlink. For example the og title tag provides a signal that the title indicated by the tag is an optimal or preferred title for the linked content. Additionally the og image tag provides a strong signal as to a proper image to use as a preview image to show for the content. Likewise at least some of the sentences listed in the og description tag can be used in the preview summary for the content. Additional description of concept node creation with an exemplary social graph is provided with reference to below.

As illustrated an edge between of a pair of nodes represents a relationship between the pair of nodes. In particular each edge comprises one or more data objects corresponding to the relationship between a pair of nodes. For example a first user can declare that a second user is the friend of the first user causing the social networking system to transmit a friend request to the second user. In response to the second user s confirmation of the friend request the social networking system creates an edge between the first user and the second user in the social graph and stores the edge in one or more of storage servers of the social networking system.

The exemplary social graph includes an edge indicating a friend relation between user nodes of user A and user B and an edge indicating a friend relation between user nodes of user C and user B. Also shown is that user G is a friend of user B user C and user E respectively as illustrated by the edges between user nodes G and B between user nodes G and C and between user nodes G and E. Users C E and G watch or express an affinity for e.g. like a TV show American Idol as illustrated by the edges between the American Idol concept node and user nodes C E and G respectively. Similarly the edge between the user node B and the concept node Palo Alto may indicate that user B declares Palo Alto as his or her city of residence. The edge between the user node B and the concept node Macy s may indicate that user B likes the store Macy s. 

Each user node of the social graph may have a corresponding web page typically known as a profile page . For example in response to a request including a user name the social networking system accesses a user node corresponding to the user name and constructs or otherwise displays a profile page including the name a profile picture and other information associated with the user. A profile page of a first user may display to a second user all or a portion of the first user s information based on one or more privacy settings by the first user and the relationship between the first user and second user.

In addition the degree of separation between any two nodes is defined as the minimum number of hops required to traverse the social graph from one node to the other. A degree of separation between two nodes can be considered a measure of relatedness between the users or the concepts represented by the two nodes in the social graph . For example two users having user nodes that are directly connected by an edge i.e. are first degree nodes may be described as connected users or friends. Similarly two users having user nodes that are connected only through another user node i.e. are second degree nodes may be described as friends of friends. 

Each concept node corresponds to a concept of the social networking system. A concept can represent a real world entity such as a movie a song a sports team a celebrity a group a restaurant or other business establishment or a geographic location. An administrative user of a concept node corresponding to a concept may create or update the concept node by providing information of the concept e.g. by filling out an online form causing the social networking system to associate the information with the concept node. For example information associated with a concept can include a name or a title one or more images e.g. an image of a cover page of a book a web address e.g. a URL or contact information e.g. a phone number an email address . Each concept node of the social graph may correspond to a web page including a third party web page.

It should be noted that the social graphs can be much larger than social graph and the number of edges and or nodes in a social graph may be many orders of magnitude larger than that depicted herein. Additionally the social graph can expand and update dynamically based on user activity. In one embodiment the social graph is dynamically expanded and updated using data gathered from content shared between users of the social networking system. For example the concept tagging module of can determine or infer concepts from web pages videos or other media shared between users on the social network.

The social networking system uses the retrieved data to create or otherwise select a preview image a preview title and a preview summary to describe the content without requiring a viewer of the post to follow the hyperlink. In one embodiment once the preview elements e.g. preview image preview title and preview summary are loaded into the post creation interface the preview elements are retained if the post author removes or overwrite the hyperlink e.g. URL in the composition prompt . In one embodiment the author of the post is presented an option to edit the preview summary before submitting the post with a selectable submit button . However the post author may not be able to substitute or edit the automatically generated preview elements if the content does not contain suitable alternative elements or if the preview is constructed using content or publisher specific rules or guidelines that define the source material or structure of a preview. Once the author of the post has approved the preview e.g. by clicking submit button the post is submitted to the social networking system.

In one embodiment such as in an social networking system interface provided by a mobile device application the preview image occupies the majority of the post and the preview title hyperlink or other preview elements are displayed as a text overlay of the preview image . However other post configurations are possible and the configuration of the preview elements is not limited to any specific configuration.

As illustrated the exemplary profile belongs to a news and media website that shares content such as links to website publications with users of the social networking system. The post includes a hyperlink with an associated preview to such content. In one embodiment the popularity of a post is visible to some users of the social networking system such as an administrator of a profile page associated with an organization or media publication. In such embodiment a user e.g. profile page administrator is able to track social graph activity of a particular webpage such as the number of likes received by a post or the number of comments or re shares made by users that view the post.

In one embodiment an entity with followers sets a popularity threshold for a post to meet before the post can be automatically shared with others so that only popular posts are automatically shared. In one embodiment as a post becomes more popular the post can be automatically shared or re shared to followers of the publication or followers of related publications or to users that have expressed affinity with e.g. liked certain concepts embodied within a post. For example when TechCrunch makes post e.g. post mentioning Vine and Instagram users that are identified as having an interest in the post publisher or the content contained within the post have the post automatically displayed in the newsfeeds of the users.

In one embodiment preview generation for a shared content enables the follow up actions that are performed on the published post . When the preview generation identifies user nodes or concept nodes associated with the content a set of follow up actions are presented to the user via selectable interface buttons e.g. to allow the user to interact with others on the social networking system. The selectable interface buttons graphically represent exemplary follow up actions such as Like button Comment button and Share button although embodiments are not so limited and other follow up actions are possible. The viewing user can select the Like button to express an affinity for concepts identified in the shared content e.g. video on Instagram . The user can also comment on the post via the Comment follow up action or can read comments posted by other users. Share button enables a user to share the post with friends followers or other individuals within the social network of the user as defined by the social graph edges connected with the user node of the user and as limited by post specific or global privacy settings.

As described above an embodiment of the social networking system determines the preview data from the source code of the target web page and the publisher of the target web page can specify meta tags to provide hints or possible candidates for each of the preview elements. In one embodiment the meta tags are Open Graph tags which indicate specific properties that are related to the tagged content can be used to generate a preview for the content. The meta tags may further generate a concept node for the content should a concept node not exist on the social graph. An exemplary set of tags utilizing sample Open Graph tags corresponding to are listed in Table 2 below.

A host author or publisher of a third party website such as an online book store or an online application such as a book tracking application can define preview elements such as the preview image preview title and preview summary using the tags displayed in Table 2. For example a Title attribute can be defined using for example an HTML meta tag that loads the og title tag with the content Neuromancer Sprawl 1 which indicates to the social networking system that the preview title should be Neuromancer Sprawl 1 . Likewise the og image tag indicates that the image at http example.com image cover.jpg is to be used as a preview image while the preview summary should be at least in part based on the content stored in relation to the og description tag.

Once data such as a preview title including other relevant data such as the preview author or publisher preview image or preview summary is determined a concept node for the data can be added to the social networking system if such node does not already exist. The social networking system can then link the concept node to the social graph by creating edges between the concept node and the user nodes as illustrated in and described above. Additional social graph edges are created via the use of follow up actions such as the Like Comment and Share buttons displayed in conjunction with the published post .

In one embodiment the viewing user is presented with a selectable Comment button that allows the viewing user to post one or more comments as to the post the shared content referenced or linked to by the post or the underlying concept represented by the post. Additionally the viewing user can post comments in response to previous comments that have been posted by other users. In one embodiment the comment system presented to the user displays comments by users within the social graph of the viewing user at the top of a list of comments along with comments that have been deemed relevant to the topic or concept of the post.

In one embodiment the viewing user is presented with a selectable Share button which allows the viewing user to share the post with a set of users within the viewing user s social graph or that otherwise appear within the user s social network. In one embodiment the social networking system enables a viewing user to author a post that is viewable to all users of the social networking system as limited by a set of privacy settings.

As described above publishers of online content are able to define a metadata e.g. Open Graph tags to define specific data about the online content. For example a publisher can use a metadata tag article publisher to tag online content that originates from the publisher. When an article having a publisher tag is shared on the social networking system an embodiment includes a hyperlink to a page defined by the publisher s user node on the social networking system.

Additionally a content provider can define an article author tag e.g. property article author content Fareed Zakaria to specify the author of the media content shared on the social networking system. In the exemplary preview of both an author and publisher are defined and are displayed in the preview title of the article. The author metadata tag allows an embodiment of the social networking system to include a hyperlink to a page defined by the author s user node on the social networking system as a follow up action e.g. a hyperlink to the author s profile page website or other content by or about the author .

Several follow up actions can be performed via buttons displayed in conjunction with the preview of the shared media content when the media is displayed on the social networking system. In the exemplary post a selectable Follow button is displayed to allow a user to become a follower of the author or publisher of the content. In one embodiment a hyperlink to a page representing the user node of the author is displayed to allow a user to view additional content from the author or to become a follower of the author. In one embodiment a hyperlink to a page representing the user node of the publisher is displayed to allow a user to view additional content from the publisher or to become a follower of the publisher. In one embodiment the hyperlink directs the user to a third party website of the publisher.

In one embodiment the social networking system utilizes content information from the message posted by the author of a post when sharing the hyperlink to determine the most relevant preview element out of the element candidate. For example in the message post the post author mentioned a commencement address and Fareed. When generating a preview image the social networking system utilizes the message text as positive indicators for images that are relevant to commencement such as photos that are recognized by the social networking system as containing images relevant to a commencement or graduation such as the cap and diploma image displayed as the preview image . The name Fareed also appears in the message from the post author which correlates with Fareed Zakaria the author of the linked article. As a result a photo determined to be relevant to Fareed Zakaria may be considered as a candidate for the preview image .

In one embodiment the social networking system utilizes a facial recognition algorithm. Should an image of the author appear amongst the set of image preview candidates the social networking system facial recognition may detects the face of the author identified by a meta tag or other means and shows the image of the author s face as a preview image .

As shown at block an embodiment of the social networking system receives from a client device an electronic message containing a hyperlink that the user wishes to share. In response to receiving the hyperlink one or more servers of the social networking system perform operations to acquire data from the third party website as shown at block . The one or more servers store at least a portion of the set of data on a server connected to or otherwise associated with the social networking system. In one embodiment a version of the target data is already stored on a server of the social networking system and the social networking system captures and stores an updated version of the data responsive to an attempt by a user of the social networking system to share content referenced by the hyperlink target.

The social networking system automatically generates a preview for the online content referenced by the hyperlink in response to receiving a complete and valid hyperlink. In one embodiment once the social networking system has acquired at least a portion of the data from the server or data store that is the target of the hyperlink one or more servers execute an algorithm to analyze the set of data and automatically generate a preview for the hyperlink as shown at block . The one or more servers executing the algorithm generate a set of preview candidates for potential preview elements. A set of preview candidates for potential preview elements can be derived using metadata defined for a web page or from analysis of the body of the web page. Using the preview element candidates the one or more servers automatically select the appropriate preview elements by considering signals for each potential preview element as generated by the analysis of the acquired content. Signals to the algorithm include positive and negative signals. Positive signals to the algorithm indicate that a particular image name or sentence is relevant or appropriate to use in describing the linked content or as a preview element. Negative signals to the algorithm indicate that a particular image or other data element may not be suitable for use in the automatically generated preview. Additional detail on preview generation is described in below.

As shown at block an embodiment of the social networking system transmits the automatically generated preview to the client device of the author of the post to allow the author of the post to view and approve the automatically generated preview. In various embodiments the preview includes one or more of a preview image a preview title and a preview summary.

As shown at block an embodiment causes the client device to display the preview. In one embodiment the author of the post is presented with several alternative preview elements such as an alternative preview image or title to replace the automatically generated preview image or preview title.

In one embodiment the author of the post is presented an option to edit the preview summary before submitting the post. However the post author may not be able to substitute or edit the automatically generated preview elements if the content does not contain suitable alternative elements or if the preview is constructed using content specific criteria e.g. as defined by the publisher of the linked content .

Once the author of the post has approved the preview the post can be submitted to the social networking system. As shown at block the social networking system publishes the approved post containing the preview to the social networking system responsive to receiving an indication from the client device to publish the post.

In one embodiment established media publishers have a set of domains that are verified to host the official websites of the publication. Web pages on a verified domain are known to have a particular layout allowing pre defined publisher specific rules. If the location resource e.g. web page or similar online document referenced by the hyperlink as determined at block has pre defined publisher specific rules then the social networking system references the publisher specific rules to select the preview elements as shown at block . Administrators of the social networking system may define publisher specific rules for a content hosted on a domain. The rules allow consistent preview generation for the domain without extensive data analysis of the content. When processing a preview for a web page hosted by a domain with a consistent layout the preview generation algorithm will consistently find data for the various preview elements in a specific location on the web page. For example a particular domain will consistently publish pages that contain a publication date and time stamp followed by an article title one or more sentences suitable for a preview summary and an author byline for the article. Additionally a preview suitable image will consistently be the first image in the body of the article or will be of a consistent size or in a consistent position within the article.

In one embodiment publisher specific rules are generalized as content specific rules so that certain content is handled consistently. For example online photo galleries following a particular layout are processed in a consistent manner. Additionally online news sites following a particular layout are processed in a consistent manner. In one embodiment the publisher or content specific rules are exclusive and no additional parsing of the target data occurs to determine the preview elements for the automatically generated preview. In an alternate embodiment the publisher or content specific rules are used in conjunction with other data analysis methods and the logic flow for the preview proceeds to block .

In one embodiment the social networking system determines as shown at block if the location is a web page or a similar online document containing markup language tags such as HTML meta tags or Open Graph tags. The tags allow a content publisher to define how previews are generated for content acquired from a third party server. If the markup language tags are present the social networking system analyzes the tags to select one or more preview element candidates as shown at block . In one embodiment the tags are definitive of the preview such that the tags within the target document define each preview element and alternate preview elements are not sent to the client device.

In one embodiment the preview elements specified by the tags are analyzed in conjunction with preview element candidates determined by text layout analysis of the target document as shown at block . For example preview element candidates that are determined via document analysis are used to verify candidates specified via metadata tags. In one embodiment the social networking system transmits both types of candidate elements to a client device as alternative preview elements that are selectable by the user. If metadata tags are not used or are not available document analysis is used to both select and rank preview candidates. An example of preview candidate ranking is described with respect to preview images in below although the description is also generally applicable to preview title and preview summary candidates.

As shown at block a preview image generation system of for example a social networking system analyzes a set of images acquired from a target of the hyperlink using a series of indicators and assigns a rank to each image based on the indicator analysis. The indicators include positive and negative signals to the analysis algorithm which increase or decrease the relative rank of assigned to an image in comparison to the other images acquired from the hyperlink target.

As shown at block the algorithm will increase the rank assigned to an image e.g. from a default value in the set of images responsive to a determination of a positive indicator for the image. In contrast at block the algorithm will decrease the rank assigned to an image in the set of images responsive to determining a negative indicator for the image.

Example positive indicators for an image include the determination that an image is a full scale version of an image in an image gallery e.g. above a threshold comparatively larger size resolution etc. while other images in the set are thumbnail images or otherwise of a lower resolution smaller size etc. In contrast if an image is determined to be a thumbnail image where a larger or higher resolution image is available in the set of images the algorithm considers the image negatively indicated.

In one embodiment positive or negative indicators are dependent upon content type. For example in a news article an image containing one or more faces particularly images that are recognized as relevant to the article would be a positive indicator for the image. In some scenarios images of a particular file type are preferred depending on the content referenced by the hyperlink. In one embodiment JPEG format images are ranked higher than images in the GIF format when the linked content originates from an image sharing website. In one embodiment PNG images are preferred over both JPEG and GIF images. When a hyperlink target is an image gallery featuring high resolution images or a news article featuring images of the news article subjects images in the JPEG format may be preferable because a compressed image may allow for a reduced file storage size while presenting sufficient image quality for a preview image.

In one embodiment various image analysis techniques are employed during preview generation to increase or decrease the rank of an image. For example a face detection algorithm is used to detect and identify faces within preview image candidates. Images in which a face is detected are preferred for use to preview particular content such as news articles. The algorithm can also detect meme images e.g. images with text overlay and determine whether or not to show such images as a preview depending on the type of content targeted by a shared hyperlink. An Optical Character Recognition OCR engine can be used to determine if an image contains a particular amount of text which may be a positive or negative signal depending on the type of content referenced by the hyperlink. Additionally the preview generation system uses the OCR engine to recognize an embedded copyright watermark used by a photographer with a profile on the social networking system. In this instance the social graph of the photographer is analyzed and social graph connections to user nodes or concept nodes related to the photographer can be traversed to determine if the photographer is related to other content gathered from the hyperlink target during the preview generation process.

The presence of a copyright on image material acts as a positive or a negative signal under varying circumstances. For example images under a copyright owned by a one or more organizations may be excluded as a preview candidate based on configuration parameters for the preview generation system. In one embodiment images from other organizations are allowed. In one embodiment the preview generation system analyzes text located near or otherwise associated with images displayed within online content to determine if a copyright is asserted for an image. A distinction is also made if the preview generation system is able to recognize a license asserted with respect to an image or with respect to the online content in general. The assertion of a restrictive license within content is a negative indicator to the algorithm unless configured otherwise. However the recognition of a permissive license is a positive indicator. In one embodiment the copyright or another form of attribution or credit is included in the preview in response detecting the presence of a copyright.

As an additional example a negative indicator is determined for banner advertisements or other advertisement images. Advertisement images can be identified based on the placement of the image on the page the size of the image and or if the origin of the image is determined to be an advertisement website. Additionally advertisement images are often served by a server or from a location that is distinct from the other images on the target site.

Where a publisher utilizes tags such as Open Graph tags the image specified in a tag e.g. og image is accepted as a highly positive indication that the image specified is to be used as the preview image. In one embodiment where an image is specified via an Open Graph tag the image specified is used as the preview image and alternate images are not supplied.

After increasing or decreasing or otherwise determining the rank of at least some of the available images according to positive and negative indicators one or more images are determined to have a high rank relative to other images from the hyperlink target. As shown at block of one or more images having a high rank are selected by an embodiment of the social networking system. The one or more selected images are assigned to a set of preview image candidates as shown at block .

As shown at block the social networking system electronically transmits at least one image in the set of preview image candidates to a client device of the author of a post containing the hyperlink. After viewing the preview the author of the post can submit the post for publication to the social networking system. Alternatively the author of the post can reject the automatically generated preview and post a hyperlink without the generated preview. When multiple preview image candidates are available the author of the post can request to see one or more additional preview image candidates. In response an embodiment of the social networking system transmits an alternate preview image to the client device of the author for display.

Although this method is described with reference to preview image generation it will be understood that the details are relevant to the generation of other preview elements. Positive and negative indicators for various titles or sentences may reflect positively or negatively upon the rank of candidate titles or candidate sentences for the preview summary. For example a positive indicator for a preview title is if the text of a preview title candidate is found repeatedly throughout the body of the referenced content. A negative indicator is if the text of a preview candidate does not or rarely appears in the body of the referenced content.

As a follow up action to the publication of the post an embodiment of the social networking system creates social graph edges between the relevant user nodes and concept nodes as shown at block . For example when a user with followers publishes content to the social networking system or a third party web page the published content is re published to followers of the user. Additionally when a user publishes content that is related to concepts defined by one or more concept nodes of the social graph the published content is re published to other users with connections to the related concept nodes.

As shown at the shared content at the hyperlink is re published to followers of the relevant user or concept nodes subject to filtering options defined by the various users or profile page administrators of the social networking system. For example a user with followers can set filter options such that an article blog post song or other media or content that is shared by the user or determined to be related to the user will not be automatically shared with the user s followers until or unless the shared content receives a certain number of social graph actions by other users such as likes shares or comments. Additionally a follower of a user can also select an option to not have links or content automatically displayed until or unless the content at the link has received a certain number of actions e.g. likes shares etc. .

As shown at block the social networking system displays the re published content to a follower of relevant user and or concept nodes once the post receives a sufficient number of social graph actions to surpass any filter options.

In one embodiment keyword analysis is performed using the title as a query for a keyword search to determine a set of relevant sentences though other analysis methods are possible. For example if a user were to author a post that includes a hyperlink to an online newspaper article titled President Obama s budget proposal the social networking system uses the title to perform operation . In such an example operation includes analyzing the text of the article to find sentences which contain references to or variants of words or phrases containing for example President Obama budget or proposal. Accordingly a sentence in the article which states President Obama unveiled a 3.77 trillion spending plan on April 10 that proposes . . . would be selected as a relevant sentence. In one embodiment words related to words or phrases in the title are determined e.g. by the concept tagging module of and those words or phrases are searched. For example an additional sentence in the article stating The proposal includes modest new investments in infrastructure and education and major new taxes for the wealthy is selected in one embodiment because the words investment infrastructure education and taxes are relevant words for a news article with a title which includes the words budget and proposal. Additionally in an embodiment where related words are searched spending plan in the first sentence above would also flag the sentence because of the conceptual relationship between budget and spending plan. 

In one embodiment operation also includes analysis of comments left by other users of the social networking system. For example when a second user posts a hyperlink to re share content shared by a first user of the social networking system comments posted by users in the social graph of the first user are analyzed to determine if any of the comments posted include keywords matching any of the preview title candidates . Sentences in the comments of the post of the first user that include keywords matching the preview title candidates then influence the selection of preview summary candidates for the preview summary.

In one embodiment file data or metadata for scraped images is analyzed in an operation by the data processing system using summary data to determine or refine candidates for the preview images. In an embodiment in which a set of image candidates has already been selected image candidates with metadata that correlates with information contained within the summary data result in a positive signal and corresponding a rank increase. Likewise images that do not at all correlate with the summary data result in a negative signal and corresponding rank decrease.

In an embodiment of the social networking system that is able to identify and distinguish faces within an image faces that are relevant to the summary data are identified. For example a user can share a hyperlink to an article on a newspaper website and an embodiment of the social networking system determines the hyperlink will have a tag defined preview title of Obama releases a budget plan with a simple goal Ending the debt standoff. In this example the content provider also tag defined a description for the article In the first budget of his second term President Obama set aside the grand ambitions that marked his early days in office and sent Congress a blueprint aimed at achieving a simple goal ending the long partisan standoff over the national debt. An embodiment of the social networking system utilizing facial recognition would in operation recognize an image including the face of President Obama and assign the image a high image ranking relative to other images. In one embodiment images related to budget plan debt or standoff would also receive a high image ranking. The social networking system can be tuned to determine whether images containing relevant faces images containing any face or images containing other relevant images are ranked the highest.

In one embodiment a preview image and or a set of one or more preview image candidates are available for use as input to operation . In operation the social networking system analyzes the content scraped from the hyperlink target to verify refine or in some cases determine a set of preview title candidates or to select a preview title from the set of candidates. Generally between metadata tagging for online content and data used for the preview summary a title is readily able to be determined for a hyperlink preview. However the media content may be an image gallery lacking a metadata tag for a title and or otherwise include little to no text. In such an instance the social networking system utilizes operation to analyze content using image information to determine or refine a preview title. For example the image filename or other image metadata can be used as the preview title. In one embodiment when the social networking system is able to make a positive determination of one or more faces within the image the subject of the image is used as a preview title.

The computing system also includes an audio input output subsystem which includes some form of a microphone for audio input to record audio or receive voice instructions to be executed by the microprocessor s and a speaker or other audio output device to for example play back music or other audio. Additionally a display controller and display device work in concert to provide a visual user interface for the user.

The computing system also includes one or more input or output I O devices and interfaces which are provided to allow a user to provide input to receive output from and otherwise transfer data to and from the system. These I O devices and interfaces may include a mouse keypad or a keyboard a touch panel or a multi touch input panel camera optical scanner network interface modem other known I O devices or a combination of such I O devices. The touch input panel may be a single touch input panel which is activated with a stylus or a finger or a multi touch input panel which is activated by one finger or a stylus or multiple fingers.

The I O devices and interfaces also include a connector for a dock or a connector for a USB interface FireWire Thunderbolt Ethernet etc. to connect the computing system with another device external component or a network. Exemplary I O devices and interfaces also include wireless transceivers such as an IEEE 802.11 transceiver an infrared transceiver a Bluetooth transceiver a wireless cellular telephony transceiver e.g. 2G 3G 4G or another wireless protocol to connect the computing system with another device external component or a network and receive stored instructions data tokens etc. It will be appreciated that one or more buses may be used to interconnect the various components shown in .

In one embodiment the computing system is an exemplary representation of a client user device such as user device A N of . Accordingly the computing system is configurable as a personal computer including a tablet style computing device and personal digital assistant PDA a cellular telephone with PDA like functionality a Wi Fi based telephone a handheld computer which includes a cellular telephone a media player an entertainment system or devices which combine aspects or functions of these devices. In another embodiment the computing system is an exemplary representation of a server computer in the social networking system of .

In one embodiment the computing system is a network computer server or an embedded processing device within another device or consumer electronic product. As used herein the terms computer system device processing device computing apparatus and apparatus comprising a processing device is used interchangeably with the computing system and include the above listed exemplary embodiments.

It will be appreciated that additional components not shown may also be part of the computing system and in certain embodiments fewer components than that shown in may also be used in a computing system . Accordingly the methods disclosed herein are not limited to any specific combination of hardware circuitry and software or to any particular source for the instructions executed by the computing system . Computer implemented methods may be carried out in a computer system or other data processing system in response to its processor or processing system executing sequences of instructions contained in a memory such as memory or other non transitory machine readable storage medium. Additionally the software may further be transmitted or received over an I O device or interface such as a network interface. In various embodiments hardwired circuitry may be used in combination with the software instructions to implement the present embodiments.

It will be apparent from the description that aspects of the devices systems and methods described may be embodied at least partially in software. In other words computer implemented methods may be carried out in a computer system or other data processing system in response to its processor or processing system executing sequences of instructions contained in a memory. For example instructions can be embodied in an article of manufacture which is used to store program code providing at least some of the functionality of the embodiments described above.

An article of manufacture that stores program code may be embodied as but is not limited to one or more memories e.g. one or more flash memories random access memories static dynamic or other optical disks CD ROMs DVD ROMs EPROMs EEPROMs magnetic or optical cards or other type of non transitory machine readable media suitable for storing electronic instructions. Additionally the various embodiments may be implemented in hardware or firmware utilizing a Field Programmable Gate Array FPGA Application Specific Integrated Circuit ASIC a processor a computer or a computer system including a network but are not limited as such. Modules and components of hardware or software implementations can be divided or combined without significantly altering the embodiments.

While the flow diagrams in the figures described herein show a particular order of operations performed by certain embodiments it should be understood that such order is exemplary. For example the methods described herein may be performed with fewer or more features blocks or the features blocks may be performed in differing orders. Additionally the methods described herein may be repeated e.g. iterated recursed etc. or performed in parallel with one another or in parallel with different instances of the same or similar methods.

The various embodiments have been described in the specification and figures along with additional specific details to enable one skilled in the art to practice the embodiments. While such specific details have been set forth herein it should be understood that the various embodiments could be practiced without these specific details. Accordingly it is to be understood that the examples and illustrations used to describe the various embodiments are not to be limiting. Thus various modifications may become apparent to those skilled in the art without departing from the scope of the embodiments as defined by the claims to follow.

