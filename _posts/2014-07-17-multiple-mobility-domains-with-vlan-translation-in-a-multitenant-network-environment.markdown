---

title: Multiple mobility domains with VLAN translation in a multi-tenant network environment
abstract: An example method for facilitating multiple mobility domains with VLAN translation in a multi-tenant network environment is provided and includes detecting attachment of a first virtual machine on a first port and a second virtual machine on a second port of a network element, the first port and the second port being configured with a first mobility domain and a second mobility domain, respectively, and the first and second virtual machines being configured on a same original VLAN, determining whether the original VLAN falls within a pre-configured VLAN range, translating the original VLAN to a first VLAN on the first port corresponding to the first mobility domain and to a second VLAN on the second port corresponding to the second mobility domain, and segregating traffic on the original VLAN into the first VLAN and the second VLAN according to the respective mobility domains for per-port VLAN significance.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09313044&OS=09313044&RS=09313044
owner: CISCO TECHNOLOGY, INC.
number: 09313044
owner_city: San Jose
owner_country: US
publication_date: 20140717
---
This disclosure relates in general to the field of communications and more particularly to multiple mobility domains with virtual local area network VLAN translation in a multi tenant network environment.

Data centers are increasingly used by enterprises for effective collaboration and interaction and to store data and resources. A typical data center network contains myriad network elements including hosts load balancers routers switches etc. The network connecting the network elements provides secure user access to data center services and an infrastructure for deployment interconnection and aggregation of shared resource as required including applications hosts appliances and storage. Massively scalable data center MSDC is a large data center with more than a thousand servers that is designed to scale in size and computing capacity with little impact on existing infrastructure. MSDCs involve data center consolidation server virtualization and security. Most large enterprise class data centers use MSDC concepts to reduce both capital expenditures and operating expenses and to shorten time to deployment. Improving operational efficiency and optimizing utilization of resources in such data centers are some of the challenges facing data center managers. Data center managers want a resilient infrastructure that consistently supports diverse applications and services and protects the applications and services against disruptions. A properly planned and operating data center network provides application and data integrity and optimizes application availability and performance.

An example method for facilitating multiple mobility domains with VLAN translation in a multi tenant network environment is provided and includes detecting attachment of a first virtual machine on a first port and a second virtual machine on a second port of a network element the first port and the second port being configured with a first mobility domain and a second mobility domain respectively and the first and second virtual machines being configured on a same original VLAN determining whether the original VLAN falls within a pre configured VLAN translation range and if the original VLAN falls within the pre configured VLAN translation range translating the original VLAN to a first VLAN on the first port corresponding to the first mobility domain and to a second VLAN on the second port corresponding to the second mobility domain and segregating e.g. separating differentiating splitting etc. traffic on the original VLAN into the first VLAN and the second VLAN according to the respective mobility domains for per port VLAN significance.

As used herein the term mobility domain comprises a scope e.g. logical abstraction within which a virtual machine can be moved e.g. a specific virtual machine can be moved from one server to another within the same mobility domain the virtual machine cannot be moved between two distinct mobility domains and under which virtual port groups port identifiers and or port profiles have significance. The mobility domain can include an identifier for a set of VLANs and may comprise any suitable identifier within which the set of VLANs are scoped. Any one VLAN can span multiple mobility domains and each mobility domain in the network may include more than one VLAN.

Turning to is a simplified block diagram illustrating a communication system for facilitating multiple mobility domains with VLAN translation in a multi tenant network environment in accordance with one example embodiment. illustrates a network comprising a plurality of switches for example two spine switches and and two leaf switches and . Spine switches and leaf switches may comprise identical or similar network elements and may differ merely in the nature of devices attached to their respective ports. Whereas spine switches connect with leaf switches on their respective ports a plurality of servers may be connected to leaf switches on their respective ports for example servers are connected to leaf switch via ports P P P P and P respectively.

Each server may host one or more virtual machines which may be owned or operated by separate tenants. For example virtual machines and belong to tenant and run on servers and respectively virtual machines and belong to tenant and run on servers and respectively. Tenant has four virtual machines and that run on servers and respectively. In addition tenant controls a bare metal physical server connected to leaf switch . Servers and are connected to leaf switch . Server hosts virtual machine server hosts virtual machine both virtual machines and are controlled by tenant .

One or more of the virtual machines and network elements may be included in a separate VLAN for example VLAN and . As used herein the term VLAN comprises a network segment that encompasses a distinct broadcast domain in a Layer 2 network different VLANs are mutually isolated so that packets can only pass between them via one or more routers on a Layer 3 or higher protocol. Layer 2 and Layer 3 refer to network layers in the Open Systems Interconnect OSI Network Model. The VLAN is similar to a physical local area network LAN it differs in allowing end stations to be grouped together more easily even if they are not on the same network switch. VLAN membership can be configured through software instead of physically relocating devices or connections. To physically replicate the functions of a VLAN would require a separate parallel collection of network cables and equipment separate from the primary network. From an implementation point of view separating ports on a switch by VLAN groups separates traffic from various devices in a manner similar to connecting the devices to another distinct switch of their own associated with the separate port groupings . For example virtual machines and may be part of VLAN e.g. VLAN virtual machines and server may be part of VLAN .

Note that the number of switches servers virtual machines tenants VLANs and other elements of communication system shown in the FIGURE is merely for ease of illustration and is not intended to be limiting in any sense. Any number of such and other elements may be included within communication system within the broad scope of the embodiments.

Each leaf switch e.g. may be configured with a mobility domain VLAN module that can support multiple mobility domains with various features such as mobility domain scoped VLAN translation for per port significant VLANs mobility domain specific virtual port instantiation VLAN differentiation in profile handling and VLAN translation range for co existence of per port and per device significant VLANs.

For purposes of illustrating the techniques of communication system it is important to understand the communications that may be traversing the system shown in . The following foundational information may be viewed as a basis from which the present disclosure may be properly explained. Such information is offered earnestly for purposes of explanation only and accordingly should not be construed in any way to limit the broad scope of the present disclosure and its potential applications.

Cisco Vinci also known as Dynamic Fabric Automation DFA is a network architecture that can meet performance demands of MSDCs. Vinci s physical topology is based on a two tier fat tree also called Clos network where each leaf switch or router connects to each spine switch or router and vice versa. In Vinci border gateway protocol BGP is employed to support host route distribution among leafs via route reflector. To support data forwarding two overlay schemes FabricPath and virtual extensible local area network VXLAN can be used.

Simplified fabric management and automatic provisioning are some of the advantages of Vinci. Data Center Network Management DCNM offers a central point of management for ease of operation for fabric management and automatic provisioning. A three level hierarchy is used in DCNM to facilitate automatic provisioning i DCNM organization ii DCNM partition and iii DCNM network. A Vinci Internet Protocol IP fabric may host one or more DCNM organizations. Each DCNM organization may consist of one or more DCNM partitions. Within each DCNM partition one or more DCNM networks may be configured.

A specific DCNM network can be identified by a combination of a mobility domain identifier ID and a VLAN ID. In currently existing technologies a single leaf switch can be configured with only one mobility domain. Therefore in the leaf switch a specific VLAN can only be associated with one DCNM network because the DCNM network is identified by the mobility domain ID and the VLAN ID. To support auto configuration the DCNM network is associated with a profile whose configuration can be applied when the DCNM network is instantiated on a leaf switch after detecting a new tenant.

Vinci also supports multi tenancy. Multi tenancy refers to an architecture in which a single instance of a software application serves multiple customers. Each customer is called a tenant. Tenants can comprise organizations individuals associations etc. Tenants may be given the ability to customize some parts of the application such as color of the user interface or business rules. For example a software as a service SaaS provider can run one instance of an application on one instance of a database and provide web access to multiple tenants each tenant s data is isolated and remains invisible to other tenants. In the multi tenant architecture the software application is designed to virtually partition its data and configuration and each tenant works with a customized virtual application.

A lightweight approach for multi tenancy support provides for a segmentation ID as an attribute for a VLAN. Virtual network VN Segmentation VN Segment is a feature in Vinci for supporting scalable multi tenancy. VN Segment specifies a 24 bit segment ID used to identify a specific tenant globally within the network thereby enabling network support for larger scale of VLANs using the same technology. The VN segment ID is used for segregating and forwarding traffic for a Layer 2 virtual network and for distinguishing Layer 3 tenants at the leaf switches. For a host facing port on the leaf switch a VN Segment instance can be tied to a specific VLAN through a virtual port VP . In other words there is no need to specify a service instance on a basis and existing VLAN infrastructure can be reused.

Moreover a given virtual data center e.g. Vmware vCenter may have up to 4 096 VLANs but there can exist multiple linked vCenters with duplicate VLAN IDs. For example a tenant network with a given subnet may run out of VLANs and a linked vCenter with a new pool of 4 096 VLANs may be created. The same network segment may be extended across multiple vCenters because the first vCenter ran out of resources. Even though the two vCenters are linked together due to mobility domain movement constraints a given virtual machine may be moved only within one vCenter. The mobility domain s movement constraints may be imposed by logical clusters groups of VLANs created at the orchestrator i.e. a virtual machine may not be able to be moved outside of a logical grouping of VLANs defined at the orchestrator .

In some scenarios virtual machines of different tenants may want to use the same VLAN for frame encapsulation. For example virtual machines and of tenant may use VLAN for encapsulation virtual machines and of tenant may also use VLAN . However in currently existing network infrastructure VLANs of disparate tenants may not use the same VLAN and be attached to the same leaf switch because VLANs have per device significance e.g. relative to the leaf switch where one leaf switch may be configured with only one VLAN specific to a particular mobility domain and therefore traffic of tenants and cannot be segregated as desired. Enhancements to the existing VLAN infrastructure are needed to introduce per port significance for VLANs rather than per device significance.

To support per port significant VLAN a particular VLAN should be able to associate with different DCNM networks on different ports of the same leaf switch which may be not be possible in currently existing technologies. Traffic of a specific VLAN e.g. VLAN on different ports e.g. P P may belong to different broadcast domains only if the VLAN has per port significance e.g. broadcast domains identified by a specific combination of VLAN and port on the leaf switch . In a switch with explicit bridge domain support traffic may be mapped on different ports to different bridge domains. However existing VLAN infrastructure does not support explicit bridge domains.

Moreover although some VLANs may have per port significance other VLANs may still need to maintain per device significance. These two types of VLANs should be able to co exist on a same port however currently existing network infrastructure does not permit such co existence. For example VLAN has per device significance in leaf switch as it is dedicated to virtual machines and the physical server of tenant . Therefore in ports P P P and P VLAN of per port significance should co exist with VLAN of per device significance.

Communication system is configured to address these issues among others to offer a system and method for facilitating multiple mobility domains with VLAN translation in a multi tenant network environment. According to various embodiments mobility domains may be configured in leaf switches on a port basis. For example leaf switch may be configured with multiple mobility domains ports P and P may be configured with mobility domain ID MD ports P and P may be configured with another mobility domain ID MD ports P P may be configured with yet another mobility domain ID MD. Thus each port P P on leaf switch may be configured with one or more mobility domains.

VLAN translation may be used to segregate traffic of the same VLAN e.g. VLAN on different ports e.g. P P . For example a particular VLAN e.g. VLAN may be translated to one VLAN e.g. VLAN on ports e.g. P P belonging to one mobility domain e.g. MD and to another VLAN e.g. VLAN on ports e.g. P P belonging to another mobility domain e.g. MD . Thus VLAN translation may be scoped by mobility domain as DCNM networks are identified by mobility domain IDs in addition to VLAN IDs. After an original VLAN e.g. VLAN is mapped into a translated VLAN e.g. VLAN on a particular port e.g. P the translated VLAN may be used for control and data forwarding.

Assume merely for the sake of illustration and not as a limitation that mobility domain VLAN module executing at leaf switch detects attachment of virtual machine owned by tenant on port P configured with mobility domain MD tagged with original VLAN and virtual machine owned by tenant on port P configured with mobility domain MD tagged with original VLAN . Virtual machines and may be configured separately and independently on the same original VLAN e.g. by respective tenants and . Mobility domain VLAN module determines whether original VLAN falls within a pre configured VLAN range and if so mobility domain VLAN module translates original VLAN to a first VLAN e.g. VLAN on port P corresponding to mobility domain MD and to a second VLAN e.g. VLAN on port P corresponding to mobility domain MD and segregates traffic on original VLAN into first VLAN and second VLAN according to the respective mobility domains for per port VLAN significance.

In some embodiments mobility domain VLAN module may identify the associated DCNM network of the detected tenant e.g. tenant in the case of VM through the mobility domain of the port e.g. P and the VLAN e.g. VLAN used to tag the frame. The profile of the DCNM network can be suitably retrieved. Typically the profile contains command line interface CLI commands to create VLANs and switch virtual interfaces SVIs . The CLI commands may be parameterized with the appropriate VLAN for virtual port instantiation and other functions. Embodiments of communication system may parameterize the CLI commands with the translated VLAN although the original VLAN may be used to retrieve the profile. Thus although the DCNM network and profile are identified by the mobility domain ID and the original VLAN ID control and data traffic flow according to the translated VLAN. Thus VLAN differentiation may be implemented during profile retrieval and parameterization. The original VLAN may be used in profile retrieval and the translated VLAN may be used profile parameterization so that the VLAN and SVI are created for the translated VLAN.

Turning back to the example mobility domain VLAN module may retrieve a profile based on a combination of mobility domain MD and original VLAN parameterize the profile with translated first VLAN and instantiate the first VLAN on port P with the parameterized profile. Mobility domain VLAN module may retrieve another profile based on a combination of mobility domain MD and original VLAN parameterize the profile with the second VLAN and instantiate the second VLAN on port P with the parameterized profile.

The translated VLANs may be created to carry traffic for the corresponding DCNM networks of the mobility domains the translated VLANs may not flood traffic out of ports of other mobility domains that belong to other DCNM networks. By default virtual ports of the translated VLAN may be instantiated on all trunk ports e.g. a trunk port is a port that is assigned to carry traffic for all the VLANs that are accessible by a specific switch a process known as trunking . According to various embodiments when the translated VLAN is created its virtual ports may be instantiated on ports of the specific mobility domain associated with the translated VLAN. Thus virtual ports may not be instantiated on ports of other mobility domains.

For example mobility domain VLAN module may instantiate a first set of virtual ports on substantially all ports e.g. P P configured with mobility domain MD that segregates traffic at the corresponding ports according to first VLAN . Broadcast traffic on original VLAN received at any of the first set of virtual ports may be forwarded to substantially all others of the first set of virtual ports. Similarly mobility domain VLAN module may also instantiate a second set of virtual ports on substantially all ports e.g. P P configured with mobility domain MD that segregates traffic at the corresponding ports according to second VLAN . Broadcast traffic on original VLAN received at any of the second set of virtual ports may be forwarded to substantially all others of the second set of virtual ports.

In various embodiments the VLAN translation range may be specified to distinguish VLANs that may be translated from those that may not be translated. Thus VLANs with per port significance may be translated and included in the VLAN translation range VLANs with per device significance may not be translated and may be excluded from the VLAN translation range. The VLAN translation range may be specified to subject VLANs in the translation range to translation on a port VLANs out of the translation range may not be subject to translation and can therefore still maintain per device significance.

Assume merely for the sake of illustration and not as a limitation that VLAN is not included in the pre configured VLAN translation range. Mobility domain VLAN module executing at leaf switch detects attachment of virtual machine owned by tenant on port P configured with mobility domain MD tagged with original VLAN . As original VLAN does not fall within the preconfigured VLAN translation range mobility domain VLAN module may instantiate virtual ports corresponding to original VLAN on substantially all ports e.g. P P P P P of leaf switch and broadcast traffic on original VLAN to substantially all such virtual ports.

Thus if a packet arrives at port P from virtual machine the packet may be identified as arriving at the virtual port corresponding to original VLAN and mobility domain MD. Correspondingly mobility domain VLAN module may translate original VLAN to first VLAN and broadcast the packet to other virtual ports in this case instantiated on ports P and P corresponding to first VLAN . Similarly if the packet arrives at port P from virtual machine the packet may be identified as arriving at the virtual port corresponding to original VLAN and mobility domain MD. Correspondingly mobility domain VLAN module may translate original VLAN to second VLAN and broadcast the packet to other virtual ports in this case instantiated on ports P and P corresponding to first VLAN .

On the other hand if the packet arrives at port P from virtual machine the packet may be identified as arriving at the virtual port corresponding to original VLAN with a default mobility domain e.g. MD . Correspondingly mobility domain VLAN module may perform no translation and instead broadcast the packet to other virtual ports in this case instantiated on ports P P corresponding to original VLAN . Note that mobility domain VLAN module may be implemented in substantially all leaf switches in network . Note also that each mobility domain may be mapped to a separate tenant of network .

Embodiments of communication system can allow multiple tenants connected to the same leaf switch to share the same VLAN allowing existing behavior of per device VLANs to remain unchanged with no change to DCNM networks and profile contents. Auto configuration solution of Vinci may be enhanced to allow flexible multi tenant layer with VLAN translations and decoupling of control and forwarding to better serve customer needs. Embodiments of communication system can facilitate competitive advantage over existing IP overlay offerings through simplified VLAN translation with lightweight multi tenant infrastructure.

Turning to the infrastructure of communication system the network topology of network can include any number of servers hardware accelerators virtual machines switches including distributed virtual switches routers and other nodes inter connected to form a large and complex network. A node may be any electronic device client server peer service application or other object capable of sending receiving or forwarding information over communications channels in a network. Elements of may be coupled to one another through one or more interfaces employing any suitable connection wired or wireless which provides a viable pathway for electronic communications. Additionally any one or more of these elements may be combined or removed from the architecture based on particular configuration needs.

Communication system may include a configuration capable of TCP IP communications for the electronic transmission or reception of data packets in a network. Communication system may also operate in conjunction with a User Datagram Protocol Internet Protocol UDP IP or any other suitable protocol where appropriate and based on particular needs. In addition gateways routers switches and any other suitable nodes physical or virtual may be used to facilitate electronic communication between various nodes in the network.

Note that the numerical and letter designations assigned to the elements of do not connote any type of hierarchy the designations are arbitrary and have been used for purposes of teaching only. Such designations should not be construed in any way to limit their capabilities functionalities or applications in the potential environments that may benefit from the features of communication system . It should be understood that communication system shown in is simplified for ease of illustration.

The example network environment may be configured over a physical infrastructure that may include one or more networks and further may be configured in any form including but not limited to local area networks LANs wireless local area networks WLANs VLANs metropolitan area networks MANs VPNs Intranet Extranet any other appropriate architecture or system or any combination thereof that facilitates communications in a network.

In some embodiments a communication link may represent any electronic link supporting a LAN environment such as for example cable Ethernet wireless technologies e.g. IEEE 802.11x ATM fiber optics etc. or any suitable combination thereof. In other embodiments communication links may represent a remote connection through any appropriate medium e.g. digital subscriber lines DSL telephone lines T1 lines T3 lines wireless satellite fiber optics cable Ethernet etc. or any combination thereof and or through any additional networks such as a wide area networks e.g. the Internet .

In various embodiments mobility domain VLAN module may be implemented as a combination of hardware and software in the respective leaf switches e.g. . In some embodiments mobility domain VLAN module may be implemented exclusively as hardware and in some other embodiments exclusively as software. In some other embodiments mobility domain VLAN module may be implemented in an external appliance e.g. server and suitably attached to corresponding leaf switches . Note that the switches e.g. spine switches leaf switches may comprise any suitable network element capable of performing network switching operations.

As used herein the term network element is meant to encompass computers network appliances servers routers switches gateways bridges load balancers firewalls processors modules or any other suitable device component element or object operable to exchange information in a network environment. Moreover the network elements may include any suitable hardware software components modules interfaces or objects that facilitate the operations thereof. This may be inclusive of appropriate algorithms and communication protocols that allow for the effective exchange of data or information. For example leaf switches may comprise Top Of Rack ToR switches and may include fabric extenders and other networking components.

The various servers may comprise rack servers blade servers bare metal servers etc. configured with suitable hypervisors and other software components to facilitate executing one or more virtual machines thereon. Each virtual machine may be configured to a specific VLAN tenant mobility domain etc. for example by a network administrator tenant administrator tenant operator etc. The configuration may be effected manually or automatically within the broad scope of the embodiments.

Turning to is a simplified block diagram illustrating an example logical view of network according to an embodiment of communication system . Network may be logically partitioned into one or more DCNM organization s . Each DCNM organization may be partitioned into one or more DCNM partition s . Each DCNM partition may be further partitioned into one or more DCNM network s e.g. DCNM network DCNM network DCNM network . Each DCNM network may be associated with a profile e.g. profile associated with DCNM network profile associated with DCNM network etc. . Each profile may specify configuration parameters for leaf switches to be associated with corresponding DCNM network .

Each DCNM network may be identified by a specific combination of mobility domain ID and VLAN ID. Network may be logically partitioned into mobility domains and VLANs at the virtual machines. For example VMs in mobility domain and VLAN configured at the VMs may belong to DCNM network VMs in mobility domain and VLAN configured at the VMs may belong to DCNM network VMs in mobility domain and VLAN configured at the VMs may belong to DCNM network .

According to various embodiments VLAN of mobility domain may be translated to VLAN at ports in the leaf switch to which DCNM network is attached similarly VLAN of mobility domain may be translated to VLAN at ports in the leaf switch to which DCNM network is attached. Thus each leaf switch may be configured with more than one DCNM network e.g. multiple mobility domains and VLANs and may be configured to appropriately segregate packets of separate DCNM networks.

Turning to is a simplified block diagram illustrating example details of an example mobility domain VLAN module according to an embodiment of communication system . A forwarding manager FWM may be used to detect the presence of a new tenant e.g. tenant . A Host Mobility Manager HMM may request mobility domain and translated VLAN information from a VLAN manager . VLAN manager may access a translation map to determine if the original VLAN is to be translated e.g. original VLAN is within a preconfigured VLAN translation range and if so the specific translation. VLAN manager may provide the retrieved parameters to HMM .

HMM may retrieve appropriate profile from a suitable database server e.g. Lightweight Directory Access Protocol LDAP server based on tenant information such as original VLAN provided by FWM and mobility domain information provided by VLAN manager . HMM may pass the profile and parameters to a Port Profile Manager PPM which parameterizes profile and triggers a CLI module to execute the parameterized profile on associated leaf switch e.g. . A memory element and a processor may facilitate the operations described herein.

Turning to is a simplified flow diagram illustrating example operations that may be associated with embodiments of communication system . At FWM may learn a new Media Access Control MAC address of a newly attached VM e.g. VM at a port e.g. P on a leaf switch e.g. and the original VLAN e.g. VLAN . At HMM may query VLAN manager for the mobility domain associated with the port e.g. P and original VLAN e.g. VLAN e.g. input is output is 

At HMM may receive from VLAN manager a virtual network interface translated VLAN mapping e.g. HMM provides virtual network interface VNI original VLAN and mobility domain to VLAN manager and receives the translated VLAN in response e.g. input output . At profile may be parameterized with the translated VLAN e.g. VLAN . At the VLAN with the parameterized profile may be created. At the mapping from the original VLAN to the translated VLAN may be programmed on hardware e.g. appropriate forwarding tables in leaf switch by executing a software application programming interface API VLAN TRANSLATION PROG with port numbers original VLAN and translated VLAN 

Turning to is a simplified block diagram illustrating example details of an embodiment of communication system . Example profile includes a key e.g. for indexing comprising a mobility domain ID and VLAN ID where the VLAN ID is the original VLAN configured on the virtual machine. The corresponding content indicates the parameters relevant to the profile such as VLAN ID interface VLAN etc. which may be parameterized with the translated VLAN. Three example mobility domains are illustrated per port mobility domains MD and MD associated with VLAN and per device mobility domain MD associated with VLAN .

Further example details of example leaf switch are also shown indicating translation map comprising an association between mobility domain original VLAN and translated VLAN. In the illustrated example mobility domain MD and original VLAN are mapped to translated VLAN mobility domain MD and original VLAN are mapped to translated VLAN . Thus VLAN may be mapped to different translated VLANs in different mobility domains. In MD VLAN is mapped to VLAN whereas in MD VLAN is mapped to VLAN . Note that per device mobility domain MD would not be eligible for translation according to the VLAN translation range and therefore may not have a corresponding translated VLAN. Therefore traffic of VLAN belongs to the same broadcast domain regardless which port it comes from and goes to.

Per port mobility domain MD may be configured on ports P and P and MD may be configured on ports P and P. Therefore VLAN translation programming in ports P and P are different from that in ports P and P. Whereas original VLAN is mapped to translated VLAN at ports P and P original VLAN to translated VLAN at ports P and P. In many embodiments VLAN manager initiates mobility domain scoped VLAN translation programming at ports P P. Virtual ports VP of translated VLAN may be instantiated on ports P and P only and not on ports P P. Similarly virtual ports VP of translated VLAN may be instantiated on ports P and P only and not on ports P P. Virtual ports VP of non translated VLAN may be instantiated on all ports P P.

Note that for the DCNM network of tenant the corresponding profile may be retrieved through mobility domain MD and original VLAN . However the profile content to create VLAN and SVI may be parameterized by using translated VLAN as control and forwarding traffic are on the translated VLAN. The same differentiation may apply to the DCNM network of tenant .

Turning to is a simplified flow diagram illustrating example operations that may be associated with embodiments of communication system . At a first mobility domain MD may be configured on a first set of ports P and P. At a second mobility domain MD may be configured on a second set of ports P and P. At mobility domain VLAN module may detect attachment of first VM on first port P configured with first mobility domain MD and tagged with original VLAN . At mobility domain VLAN module may detect attachment of second VM on second port P configured with second mobility domain MD and tagged with the same original VLAN .

At a determination may be made whether the original VLAN is included in a pre configured VLAN translation range. If VLAN is included in the pre configured VLAN translation range at original VLAN of first VM may be translated to first VLAN corresponding to first mobility domain MD. At original VLAN of second VM may be translated to second VLAN corresponding to second mobility domain MD. At first VLAN may be instantiated on first port P with its profile parameterized for first VLAN . At second VLAN may be instantiated on second port P with its profile parameterized for second VLAN . At a first set of virtual ports may be instantiated on substantially all ports P and P configured with first mobility domain MD. At a second set of virtual ports may be instantiated on substantially all ports P and P configured with second mobility domain MD. At traffic on original VLAN may be segregated into first VLAN and second VLAN according the respective mobility domains MD and MD for per port VLAN significance.

Turning back to if the original VLAN is not included in the pre configured VLAN translation range at virtual ports may be instantiated on substantially all ports of leaf switch . At traffic on the original VLAN may be broadcast to substantially all ports of leaf switch .

Note that in this Specification references to various features e.g. elements structures modules components steps operations characteristics etc. included in one embodiment example embodiment an embodiment another embodiment some embodiments various embodiments other embodiments alternative embodiment and the like are intended to mean that any such features are included in one or more embodiments of the present disclosure but may or may not necessarily be combined in the same embodiments. Note also that an application as used herein this Specification can be inclusive of an executable file comprising instructions that can be understood and processed on a computer and may further include library modules loaded during execution object files system files hardware logic software logic or any other executable modules. Furthermore the words optimize optimization and related terms are terms of art that refer to improvements in speed and or efficiency of a specified outcome and do not purport to indicate that a process for achieving the specified outcome has achieved or is capable of achieving an optimal or perfectly speedy perfectly efficient state.

In example implementations at least some portions of the activities outlined herein may be implemented in software in for example mobility domain VLAN module . In some embodiments one or more of these features may be implemented in hardware provided external to these elements or consolidated in any appropriate manner to achieve the intended functionality. The various network elements e.g. mobility domain VLAN module may include software or reciprocating software that can coordinate in order to achieve the operations as outlined herein. In still other embodiments these elements may include any suitable algorithms hardware software components modules interfaces or objects that facilitate the operations thereof.

Furthermore mobility domain VLAN module described and shown herein and or their associated structures may also include suitable interfaces for receiving transmitting and or otherwise communicating data or information in a network environment. Additionally some of the processors and memory elements associated with the various nodes may be removed or otherwise consolidated such that a single processor and a single memory element are responsible for certain activities. In a general sense the arrangements depicted in the FIGURES may be more logical in their representations whereas a physical architecture may include various permutations combinations and or hybrids of these elements. It is imperative to note that countless possible design configurations can be used to achieve the operational objectives outlined here. Accordingly the associated infrastructure has a myriad of substitute arrangements design choices device possibilities hardware configurations software implementations equipment options etc.

In some of example embodiments one or more memory elements e.g. memory element can store data used for the operations described herein. This includes the memory element being able to store instructions e.g. software logic code etc. in non transitory media such that the instructions are executed to carry out the activities described in this Specification. A processor can execute any type of instructions associated with the data to achieve the operations detailed herein in this Specification. In one example processors e.g. processor could transform an element or an article e.g. data from one state or thing to another state or thing. In another example the activities outlined herein may be implemented with fixed logic or programmable logic e.g. software computer instructions executed by a processor and the elements identified herein could be some type of a programmable processor programmable digital logic e.g. a field programmable gate array FPGA an erasable programmable read only memory EPROM an electrically erasable programmable read only memory EEPROM an ASIC that includes digital logic software code electronic instructions flash memory optical disks CD ROMs DVD ROMs magnetic or optical cards other types of machine readable mediums suitable for storing electronic instructions or any suitable combination thereof.

These devices may further keep information in any suitable type of non transitory storage medium e.g. random access memory RAM read only memory ROM field programmable gate array FPGA erasable programmable read only memory EPROM electrically erasable programmable ROM EEPROM etc. software hardware or in any other suitable component device element or object where appropriate and based on particular needs. The information being tracked sent received or stored in communication system could be provided in any database register table cache queue control list or storage structure based on particular needs and implementations all of which could be referenced in any suitable timeframe. Any of the memory items discussed herein should be construed as being encompassed within the broad term memory element. Similarly any of the potential processing elements modules and machines described in this Specification should be construed as being encompassed within the broad term processor. 

It is also important to note that the operations and steps described with reference to the preceding FIGURES illustrate only some of the possible scenarios that may be executed by or within the system. Some of these operations may be deleted or removed where appropriate or these steps may be modified or changed considerably without departing from the scope of the discussed concepts. In addition the timing of these operations may be altered considerably and still achieve the results taught in this disclosure. The preceding operational flows have been offered for purposes of example and discussion. Substantial flexibility is provided by the system in that any suitable arrangements chronologies configurations and timing mechanisms may be provided without departing from the teachings of the discussed concepts.

Although the present disclosure has been described in detail with reference to particular arrangements and configurations these example configurations and arrangements may be changed significantly without departing from the scope of the present disclosure. For example although the present disclosure has been described with reference to particular communication exchanges involving certain network access and protocols communication system may be applicable to other exchanges or routing protocols. Moreover although communication system has been illustrated with reference to particular elements and operations that facilitate the communication process these elements and operations may be replaced by any suitable architecture or process that achieves the intended functionality of communication system .

Numerous other changes substitutions variations alterations and modifications may be ascertained to one skilled in the art and it is intended that the present disclosure encompass all such changes substitutions variations alterations and modifications as falling within the scope of the appended claims. In order to assist the United States Patent and Trademark Office USPTO and additionally any readers of any patent issued on this application in interpreting the claims appended hereto Applicant wishes to note that the Applicant a does not intend any of the appended claims to invoke paragraph six 6 of 35 U.S.C. section 112 as it exists on the date of the filing hereof unless the words means for or step for are specifically used in the particular claims and b does not intend by any statement in the specification to limit this disclosure in any way that is not otherwise reflected in the appended claims.

