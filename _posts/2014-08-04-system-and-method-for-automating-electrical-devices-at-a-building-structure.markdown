---

title: System and method for automating electrical devices at a building structure
abstract: An electrical control system for automatically controlling the operation of a plurality of electronic control units, each of which is operatively connected to one or more electrical devices. The electronic control units are configured to communicate with a client device having access to a user application configurable by a user. The user application is configured to automatically control the operation of the electrical devices, which include consumer appliances used at a home or business to perform functions such as cooking, cleaning, lighting, heating or refrigeration. Each of the electrical devices is operatively connected to one or more of the control units, each of which is programmed to operate according to the user application which is stored in the client device and/or the cloud as a user application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09207659&OS=09207659&RS=09207659
owner: 
number: 09207659
owner_city: 
owner_country: 
publication_date: 20140804
---
This application claims priority to U.S. Provisional Patent Application Ser. No. 61 862 259 entitled System and Method for Automating Electronic Devices in a Building Structure by Ameer Sami filed Aug. 5 2013 the disclosure of which is herein incorporated by reference in its entirety.

The present application is directed to a system and method for automating electrical devices and in particular to an intelligent system and method for automating the control of electrical devices at a building structure such as a home or business using a smartphone or tablet device.

A building automation system is an automated electronically controlled system that can provide centralized control of lighting HVAC heating ventilation and air conditioning appliances security locks of gates and doors and other systems to provide improved convenience comfort energy efficiency and security. Some elements of a building automation system include sensors such as temperature daylight or motion detection controllers such as a general purpose personal computer or a dedicated automation controller and actuators such as motorized valves light switches motors and others. One or more human machine interface devices are required so that occupants of the building structure can interact with the system for monitoring and control. This may be a specialized terminal located within the building structure.

An adaptive electrical device control system monitors learns and controls electrical devices include home appliances consumer electronic devices and electrical devices such as lamps here collectively identified as electrical devices that are plugged into one or more electronic control units. The electrical devices are located at a home or a business where a user s habits or schedules are monitored to provide for the control of the operation of the electrical devices. The adaptive control system is used in different embodiments to control the operation of dumb and smart electrical devices. In one embodiment one or more smart devices such as mobile devices are connected to other devices or networks through communication protocols such as Bluetooth Near Field Communication NFC WiFi 3G networks 4G networks and other communication protocols. The smart device operates responsively to a communication received from other smart devices. The smart device also transmits information to other devices either to control the other devices or to indicate a status of the smart device. In another embodiment dumb devices those which do not include a communication device are also controlled.

In addition the devices are controlled according to a sensed motion of or a proximity to user activities. The system switches the devices on and off automatically when needed and or when based on a user s activity within a predetermined environment also identified herein as context . Each device is assigned a unique identifier which is stored in one embodiment in the cloud of a cloud based environment where the cloud is generally defined as the storing and accessing data and programs over the Internet instead of or in combination with using a computer s hard drive or memory. The adaptive electrical device control system enables the connected devices to obtain status information and control the attached devices automatically or manually by a device input or by an application based control system wherein software of the application is configured to adapt to one or more users habits and to enable control of the electrical devices.

In one embodiment there is provided a method of controlling the operation of a plurality of electrical devices located at a building according to a user s schedule. The method includes sensing by a plurality of control units each operatively connected to one of the plurality of electrical devices an operation as initiated by a user of each of the electrical devices over a first period of time storing the sensed operation of each of the electrical devices in a memory and comparing the stored sensed operations with other stored sensed operations during the first period of time. The method further includes providing a schedule of the compared stored sensed operations based on compared stored sensed operations which are similar and controlling the operation of the plurality of electronic devices according to the provided schedule.

In another embodiment there is provided a method of controlling the operation of a plurality of electrical devices located at a building according to a plurality of user s schedules. The method includes assigning by a portable electronic device a first identifier to a first user of the plurality of users assigning by the portable electronic device a second identifier to a second user of the plurality of users and determining by a plurality of control units each operatively connected to one of the plurality of electrical devices a first schedule for the first user and a second schedule for the second user wherein each of the first and second schedules are configured to control the operation of the plurality of electrical devices according to the first schedule and the second schedule. The method further includes determining by a first control unit of the plurality of control units a location of the first user and the second user with respect to the first control unit based on the first and second identifiers and controlling the operation of the first control unit based on the determined location of the first user and second user.

In still another embodiment there is provided an electrical device control system for controlling the operation of a plurality of electrical devices located at a building and configured to communicate with a client device utilized by a user. The control system includes a user application configured to be accessible by the client device the user application configured to receive user data. A first control unit includes i an electrical power connection configured to provide electrical power to one of the electrical devices ii communication circuitry configured to communicate with the user application and iii control circuitry operable to access data provided as input data to the client device change a state of the electrical device and determine a change in the state of the electrical device. A second control unit includes i a user input component configured to respond to a user input ii communication circuitry configured to communicate with the user application and iii control circuitry operable to generate a signal in response to the user input and determine an identity of the user based on the generated signal. A third control unit includes i an electrical power connection configured to provide electrical power to one of the electrical devices ii a power port configured to provide electrical power to the client device iii communication circuitry configured to communicate with the user application and iv control circuitry operable to change a condition of the electrical device and determine a change in the state of the electrical device.

The embodiments of the present invention described below are not intended to be exhaustive or to limit the invention to the precise forms disclosed in the following detailed description. Rather the embodiments are chosen and described so that others skilled in the art may appreciate and understand the principles and practices of the present invention.

The applications described herein can be embodied as program code in software and or firmware resident in one or more control units one or more of the client devices in the user interface of a client device or in remote devices which are coupled to the system through hardwired connections wireless connection connections to the internet or other means of communication to software or firmware either wired or wireless.

The automation system is an adaptive electrical control system configured to be controlled through the cloud by one or more users interacting with one or more of the devices . By using the cloud the adaptive control system leverages application programming interfaces APIs through the use of mobile tablet television wearable devices and personal computer PC application clients which bi directionally communicate over communication protocols including Bluetooth wifi NFC ethernet and or 3G communication networks or 4G communication networks.

The control system is configured to enable a user to interact with the adaptive electrical device control system in different ways. In one embodiment the user interacts indirectly via a user sensing device such as a motion sensor a proximity sensor or a laser sensor which detects a presence of a user. The sensing device is triggered by the user when the user is in the proximity of the sensing device or when entering a portion of a space in a defined environment. In another embodiment the user interacts directly with the adaptive electrical control device system and connected devices by using an application client on a cell phone a mobile device a television a tablet a wearable device a personal computer and or other compatible device. The user in another embodiment interacts directly with the connected devices. The user is enabled to check status schedule tasks and control functions of devices of the control device system using the client application. One or more user profiles and activity command conflict resolution rules are provided.

In one embodiment the user initially logs into the user communication device and the device receives signals identifying each of the control units that are controllable by the user communication device and therefore the user . The user is presented with a list of control devices that are controllable and the user is allowed to select start up times in one embodiment for specific control devices. Each of the control devices control one or more appliances such as a fan a television a light a kitchen appliance and a digital video disc DVD player . While certain embodiments are directed to the control of appliances the embodiments are not limited to the control of only appliances and are directed to the control of any electrical device configured to perform a specific task which includes entertainment refrigeration cooking cleaning lighting HVAC heating ventilation and air conditioning security devices including video cameras and locks and other systems.

As illustrated in the outlet box control unit includes a microcontroller operatively connected to a power supply which is coupled to a plug . The plug is adapted to plug into a standard wall outlet and connects the power supply to the standard voltage provided through the wall outlet. The power supply in one embodiment is a direct current DC power supply which converts the standard alternating current provided by the wall outlet to a DC voltage and current adapted to provide power to the microcontroller . A USB charging port is also operatively coupled to the power supply which provides power sufficient to charge one or more app clients . The outlet box further includes communication circuitry which in different embodiment includes one of or both of a Bluetooth module and a wi fi module . The communication circuitry is configured to communicate with an internet service provider ISP or another device capable of communicating with an ISP using the standard internet protocol suite. Other communication modules are also contemplated as described herein. A memory provides for data storage on the device which holds data which the microcontroller either has stored there or which is retrieved by the microcontroller .

The microcontroller can include one or more individual controllers and can include at least one processor coupled to a memory. The microcontroller can include one or more processors e.g. microprocessors and the memory can include random access memory RAM devices comprising the main memory storage of the microcontroller as well as any supplemental levels of memory e.g. cache memories non volatile or backup memories e.g. programmable or flash memories read only memories etc.

An illumination device such as a light emitting diode LED is located on a housing of the device at a location such as a front plate which is observable by the user. The illumination device which is coupled to the microcontroller receives a signal from the microcontroller to illuminate the device. In one embodiment the signal provided by the microcontroller indicates that the outlet box is operative where a non illuminated light indicates that the outlet box is inoperative. In another embodiment the microcontroller provides a varying signal such as a pulsed signal to repetitively turn the illumination device on and off. In this embodiment the pulsed signal indicates that one of the users has received a text message a voice mail message or an e mail message at the user s client device. The microcontroller however is not limited to providing only alerts of this type but other alerts are possible.

An outlet is coupled to the plug to provide the power available at the wall outlet to which the plug is coupled. In addition the outlet is coupled to the microcontroller through a current sensor such as a Hall current sensor which measures the amount of current drawn through the outlet by an electrical device plugged into the outlet . In addition a relay is coupled between the current sensor and the plug . The relay is also coupled to the microcontroller . The relay is turned on and off by the microcontroller such that the power delivered to the electrical device through the outlet controls the operation of the plugged in appliance. The current sensor provides to the microcontroller a signal indicating that the plugged in appliance is drawing current thereby providing to the microcontroller a status signal of the appliance. In addition the microcontroller is configured not only monitor the state of the appliance on or off in one embodiment but also record the time at which the appliance is turned on or off. By monitoring the state of the appliance as well as the operation times the system learns user habits to generate a schedule reflective of the user or users.

The outlet box control unit is constructed such that when the outlet box control unit is plugged into a standard two outlet wall electrical receptacle or electrical outlet the outlet not used by the outlet box is accessible for another electrical plug. While the illustrated outlet box control unit includes one outlet for receiving a plug and controlling a device in different embodiments outlet boxes with multiple outlets are possible. Multi outlet outlet boxes in one embodiment control each outlet individually such that multiple unique devices with different schedules are controlled by a single outlet box control unit or in another embodiment the multiple outlets are controlled in unison. Additionally the outlet box control unit in different embodiments controls one outlet based on the usage or expected usage of another. For example the two outlet box temporarily turns off a first device when a second device is being powered up and requires a large electrical current draw. After the start up period of the second device the outlet box control unit repowers the first device. In yet another embodiment the outlet box control unit is constructed to be wired directly into a building s electrical system so that it may completely replace a standard two plug outlet in the wall as described with respect to wall socket .

The wall plate control unit includes a design similar to a standard switch plate that is mounted to a wall at a location where an electrical switch is disposed. The wall plate control unit replaces the switch plate such that one or more holes through which a screw or similar fastener can be used to mount the wall plate control unit to a wall. In addition the wall plate control unit includes the electrical switch or button that triggers an electrical connection to an electrical device. For instance actuation of the switch or button may trigger a light or ceiling fan on and off. In an exemplary embodiment the wall plate control unit includes a push button toggle in which users utilize the same action to both power and depower an object controlled by the wall plate.

While in one embodiment the system is configured to operate in a manual mode where all of the electrical devices being controlled are scheduled according to user inputs through the application the system in other embodiments is configured to automatically determine a user s schedule over a predetermined period of time block and as further described with respect to . During the predetermined period of time the user s schedule is sensed determined stored and updated automatically by each of the units . As previously described each of the devices includes a communication circuit which is configured to track the operations made to the connected devices by the identified user. This information is transmitted to the user s application which is configured to store a schedule of a devices usage or operation and to transmit the schedule to the cloud system block . Once the predetermined period of time has elapsed a final time schedule is stored for each of the uniquely identified devices associated with an identified user block . Once stored the user is able to modify the time schedule manually through the client device such that the time schedule is adapted to the user s desired schedule block . For instance if the user determines that the lights are turned off at the end of the day at a certain time the user may change the turn off time to a later time if desired. Once the schedule has been modified by a user the modified schedule is transmitted to each of the units such that operation of each of the units is scheduled according to the user s schedule block .

Because many users maintain a routine schedule from one week to a following week the habits are detected over the two week period of time where the first week s stored data is compared to the second week stored data. If there are similarities between the first week s stored data and the second week s stored data the determined similarities are permanently recorded to construct a weekly time schedule block . In addition during the recording of habits made at block the system turns on or off the electrical devices according to a user s location within a residence. These changes are recorded by the system and used to construct the weekly time schedule of block .

Once the initial two week schedule has been determined the electrical device usage within the residence is tracked an additional two weeks to determine whether the usage patterns or habits that were recorder during the initial two week period have been maintained. If so these usage patterns are determined to be correct. If anything is determined to be incorrect i.e. outside of the determined usage pattern the system updates or corrects the usage pattern with the new schedules or habits. During each of the initial schedules and any follow up schedules data reflecting usage patterns for each devices and the identity of the user following the usage pattern are stored block .

Once the second two week pattern has been completed the system has stored a usage pattern which is followed from the end of that time period forward block . At the same time the user s location and a current pattern of use of the electrical devices is continuously monitored by the system block . The current pattern of use is stored in a temporary memory for a one week period of time by the system. The stored current pattern is compared to the previously stored pattern and compared to the most recently updated two week stored pattern of use. If there are any differences or irregularities between the current pattern and the stored pattern the previously stored pattern is updated block and the system continues to operate as before as described for blocks and . While habits are being determined the system turns electrical devices on and off according to the user s location block .

While one embodiment is described using a two week period of time to determine a user s habit other periods of time are also possible. For instance in one embodiment a time period of four weeks is used to determine a user s pattern of usage of a period of four weeks. Such a time period is useful for a user who works two full workweeks of 12 hour days followed by two full weeks of time off. Consequently the system described herein includes a default period of learning time of two weeks which can be changed and set to a preferred learning time of a user. In other embodiments the learning period of time is set by a user with a selectable menu such as a pull down menu which provides a selection of predetermined periods of learning time.

As previously described with respect to the system is configurable to determine whether a user is designated as an administrator. If so the system is configured to recognize the difference between a non administrative user and an administrator. B and C illustrate one possible configuration of the system where one of the users is an administrator and the remaining users are non administrators. To illustrate such a configuration it is assumed that the system is in a shutdown mode which occurs when all of the users have left the premises for instance when parents have gone to work and children have gone to school. In this case the system sensing that all users including the designated administrator have left the premises the system moves to the shutdown mode which has either been determined through the learning process or established with input from the administrator.

Once in the shutdown mode the system monitors through the use of a proximity sensor for the return of a first one of the users whether the administrator of one of the non administrative user block . The proximity sensor in different embodiments is located at the entrance to the residence or in the residence at the wall plate closest to the entrance. If the proximity sensor determines that an administrative user or a non administrative user has been detected block then the system determines whether the user is an administrator block . If a user has not been detected the system continues the monitoring as block . If the user is an administrator the system determines whether the administrator s schedule has changed when compared to the previously stored schedule block . If the administrator s schedule has changed the administrator s schedule is modified block from the previously stored schedule and is applied. In any event the administrator s stored schedule or modified schedule is used by the system to control the electrical devices block .

If at block it is determined that the user is a non administrative user it is determined at block whether the non administrative user s schedule has changed when compared to the previously stored schedule block . If the non administrative user s schedule has changed the non administrative user s schedule is modified block from the previously stored schedule and is applied. In any event the non administrative user s stored schedule or modified schedule is used by the system to control the electrical devices block .

Once the schedules of the administrator and the non administrative user have been applied the system determines whether manual operation is being used block . If so the system determines whether the administrator has limited a function of one of the controlled devices block . If yes then the administrator s device limits are applied at block . Such a feature is useful where the administrator is a parent who has limited the amount of time a television or computer is used during a day. For instance if a predetermined total amount of television time set by the administrator has been exceeded then the system will not enable turning on of the television. In this embodiment the system removes power from the television by adjusting the state of the relays or to disconnect the power needed to turn the television on. If the function of the device has not been limited manual operation is allowed block .

The system in different embodiments continues to monitor the proximity sensors in the residence if manual operation is not being used as determined at block . If one of the proximity sensors detects the presence of an administrator and user block then the system determines the proximity of each of the administrator and non administrative user to the proximity sensor block . Depending on which of the administrator or non administrative user is closest to the proximity sensor the system applies the schedule of the closest person block . If no non administrative user or administrator is detected the system continues to monitor the proximity sensors by responding to signals generated by the sensors when necessary block .

Each of the units in different embodiments includes the proximity sensor that allows the units to determine when a user is near a specific device . In an exemplary embodiment each of the units measures the strength of a wireless signal from a user communication device to determine the proximity of a user to a specific device. Other methods of determining the proximity of a specific user in different embodiments are utilized. For example the user communication device in one embodiment determines a location of the device using the Global Positioning System or other comparable system GLONASS Galileo etc. and transmits the location to the cloud computing system which then relays the location of the user with respect to one or more of the units or typically the appropriate device which is the closest to the user. In this embodiment the proximity sensors determine proximity through signal strength provided by the user s devices through Bluetooth wi fi or other signals transmitted and received.

Using proximity location and schedule data the units are configured to power on and turn off specific devices based on predetermined rules. For example if a user exceeds a predetermined distance from the user s house the devices controlling the lights in one embodiment are configured to turn off all of the lights in the house if the time is between the hours of 8 am and 5 pm and some of the lights if the time is between the hours of 6 pm and 6 am. The rules associated with the units are also based on specific users. For example a specific device in one embodiment is configured to turn on a device when a first user gets to within 15 feet of the specifically identified device. Proximity of a user to a device is determined using the Bluetooth module of the communication circuitry in one of the control units . In other embodiments other means of determining proximity include communication protocols including those described herein such as GPS.

The same device in this embodiment is configured to turn on the same item when a second user stays within 10 feet of the specific device for more than 90 seconds. When it is determined that there are no users present in the home the system places the house in shutdown mode as previously described where everything that the user has not specified to be turned off is turned off therefore allowing the user to conserve electricity.

The client application residing on one of the client devices include a plurality of user interface screens illustrated in . As illustrated in a user interface screen which is displayed on the device client identifies each of the units by a text identifier associated with the electronic device which is being controlled for instance speakers desk lamp and fan. The identifiers in other embodiments are random or pseudo random codes associated with the devices such as DEVICE KJT723. In an exemplary embodiment the device identifiers are automatically received by the application from the units based on the proximity of the client and user to the units . It is contemplated however that the user in different embodiments manually enters a unique code to identify a specific device that is to be controlled.

In one embodiment the user enters the time schedule for a specific appliance and the user s communication device wirelessly transmits a user identification ID code associated with the user s account to the selected device along with a requested on time and off time. The user ID code transmitted to selected device in one embodiment is the same as a username adopted by the user when setting up the system although a username is not required. In an exemplary embodiment the user communication device also transmits the user ID code and on times and off times to the cloud based computing system that stores the user ID. Alternatively the user communication device transmits the user ID and start up time only to the cloud based computing system which then forwards the data to a specifically identified device . In addition to allowing a user to control the units and therefore the electrical devices from a distance the cloud computing system also acts to save the user s preferences in the event that the user s communication device and or the units are lost or damaged. Based in part on the user input schedules the units control the specified appliances to which the units are connected. In another embodiment because the client device is operatively connected to the cloud a user controls electrical devices at the building when located at a distance where proximity sensors are not effective and the only communication is through the cloud . For instance a user on vacation sets a furnace to increase the temperature in the house so that the house is at the desired temperature upon arrival of the user.

As can be seen from the user interface screen each of the units is controllable by being configured to be manually scheduled to be manually turned on or off. Selection of the buttons at the user interface screen manually turns on or off the associated appliance through control by the units . The application residing in the communication device which is being used by the user is configured to store the manually controlled operations as well as the times at which units manually controlled operations occur and therefore the electrical devices are turned on and off. This information is stored in the memory of the communication devices and in the cloud . In addition the same screen including one and off times is used to provide a manually entered time schedule as opposed to the previously described learned time schedule.

Because each user has access to the system application and can program the system application to his or hers time schedule a schedule for one or more of the units may be in conflict. For example a first user may schedule a light bulb to turn on at 7 00 am and turn off at 8 00 am while a second user may schedule the same light bulb to turn on at 6 45 am and turn off at 7 30 am. The device is configured in one embodiment to resolve the schedule conflicts based on a plurality of secondary factors. The designated administrator for instance overrides the schedule input by the other user. In the given example if the second user was an administrator the administrator s schedule overrides the first user s schedule and the light bulb would be shut off between 7 30 am and 8 00 am. In addition to resolving conflicts based on the classifications of the users the units in different embodiments resolve schedule conflicts based on the proximity of the users so that the user who is closest to the device that has the dominant schedule.

In other embodiments manual operation of a controllable input device such as a toggle a switch or user interface at the units generally overrides any previously entered rules for controlling the device. In addition manual control is achieved in other embodiments through the user interface of . In other configurations the predetermined schedule overrides the manual input as previously described. For example if an administrative user desires to limit the number of hours per day that a specific device is utilized such as a television or gaming console the device is programmed to ignore even operation responsive to a manual input designating a desired operation. For example in other embodiments the administrator programs a light to be off during a child s nap time and to be unaffected by manual input through a wall or other light switch. In this situation the programming prevents the light from being turned on by the child who does not wish to take the nap.

Each of the units in different embodiments transmits power usage data back to the user communication devices either wirelessly or through the cloud computing system. The power usage data allows the user to remotely tell which of the electrical devices is currently operational or being used. For instance some appliances draw power continuously but at different levels depending on use. The units in different embodiments include the Hall current sensors amp meters which measure the flow of electrical current to the items controlled by the units . For specific appliances the units to which the appliances are connected are programmed to provide an alert either at the device or at user communication device if the device is enabled to deliver flow of electrical current but no current is being measured. For example if a device is allowing electrical current to flow to a light bulb but no current flow is measured the user in one embodiment receives an electronic message such as an SMS text message or email alert indicating that a bulb has burnt out and needs to be replaced. The system in other embodiments provides monthly electricity usage reports for each user broken down by item blender television etc. by item class lighting kitchen appliances etc. or by room basement bedroom etc. .

In another embodiment the units are configured to briefly test electrical current flow through an item at predetermined times and provide a user alert if no current flow is detected. For example a coffee maker often includes an on off switch that enables a user to control the operation of the coffee maker. As an example for instance on one morning the user manually turns off the coffee maker when finished but neglects to turn it on for the next morning. In that situation the following morning the device allows electrical current to flow to the coffee maker but the on off switch will prevent the operation of the coffee maker and inconvenience the user. If the device to which the coffee maker is connected and the system is configured to provide a test current for instance 1 second the previous evening and detected no current flow the system transmits to the user an email or SMS text reminder to turn the coffee maker on so that coffee is made for the following morning. Other communication platforms in different embodiments are also used to communicate device status including social media platforms such as Twitter Instagram and Facebook.

In addition to controlling electric items based on a user input schedule and a proximity of the user to the device the system has the ability to learn a user s schedule and automate the control of an item accordingly as described above. The user carrying their user communication device controls the operation of the electrical devices according to the user s normal routine. Based on the proximity of the user communication device the device determines which user has turned on or off a specific device at a certain time. The system learns the user s routine and is able to automate these tasks according to the routine. For example if a user normally turns on a bathroom heater from 7 am to 8 am on weekdays in the winter after the device has learned the user s schedule to a reasonable confidence level over a period of 2 weeks for instance the device automatically turns on the bathroom heater at 7 am. In addition to monitoring a user s actual usage of a particular item the system enables users to enter a schedule for when specific items are to be turned on or off which will help the system better learn the user s schedule.

Users routines however do change over time and the system continually monitors the users activities for anomalies changes and differences from the schedules. From the previous example if the bathroom heater was automatically turned on at 7 am and the user shut the heater off a few minutes after 7 am the system would detect and record a difference in the user s schedule. The following day the device would still turn on the bathroom heater at 7 am since the device was unable to determine if the previous day s activity was an anomaly such as a snow day in which the user slept in or whether the change was a significant or longer term change in the user s routine which requires a change of the learned schedule in the device . If the user continues to turn off the bathroom heater every day a few minutes after 7 am the device and system determine that the change is not an anomaly in the user s routine and adjusts the schedule stop turning on the bathroom heater at 7 am on weekdays.

The units in other embodiments also communicate with other units to refine the automatic control of appliance connected thereof. For example consider a user s morning routine which is to turn off a coffee pot at 7 30 am use a microwave for five minutes afterwards and then sit down and turn on a television in another room. If the user is running late i.e. outside their usual routine and the coffee pot is not shut off until 7 40 am the device controlling the coffee pot communicates with the device controlling the television to adjust the schedule such that the television is not turned on until a quarter till eight five minutes after the coffee pot was turned off. In this way the sequence of events is maintained at the predetermined schedule or sequence of events but all are delayed by the same amount of time due to the first event being delayed.

The settings screen shown in includes a button to turn on or off the entire system or whether to automatically or to manually control the schedule of events. In addition by using the control application the user may activate an alarm clock feature by selecting the options button of the alarm clock which provides the user interface screen of and as further illustrated in which includes various different user selectable items. The user interface screen includes a device selection button a flickering lights button a time button and a days active button. In one example the user sets a clock radio to turn on in a bedroom at 6 25 am on weekdays. If the device controlling the clock radio is not deactivated by 6 30 am the system escalates the alarm in response to the user selecting the device Master Side Lamp to flicker. At 6 30 am master side lamp which is controlled by one of the units begins to flash or flicker the lights in the room. The device controlling the clock radio may also be deactivated through the user communication device.

While the user communication device may actively run processes that control the operation of the outlet box control unit the wall socket control unit and the wall plate control unit in an exemplary embodiment substantially all of the computer processing is performed within the units while the user communication device occasionally transmits a user ID to indicate the location of the user to the units . Occasionally transmitting the user ID requires only minimal power and helps conserve battery power on the user communication device. In another embodiment the user communication device includes a radio frequency identification RFID tag that is detected by an RFID reader located on each of the units . RFID tags readable by the units in different embodiments are attached to a variety of items and the movement of those items may be used to further optimize the system. For example if an RFID tag were placed on a dog collar the system learns that when the user communication device and the dog collar simultaneously leave through a front door all items inside the house should be powered down for 50 minutes and a light on the front porch should be turned on in 45 minutes since both the dog and owner are taking a walk and will return in approximately 50 minutes. As can be seen the front porch light has been programmed to turn on approximately five minutes before the return of the dog and owner.

In one embodiment the alert is generated on every control unit at a building when any of the users receives a text message. In another embodiment the alert is generated specifically for a user and only on the control unit or units near location of the user. For instance if a first user is sensed to be in the kitchen a second user is sensed to be in a family room and a text message is received for the first user the LEDs of only the control units in the kitchen are illuminated. The illumination signifying the receipt of a text message in different embodiments is continuously on for a predetermined period of time or flashes on and off for a predetermined time. In one embodiment each of the control units includes a photosensor which illuminates when the room is sufficiently dark and flashes on and off when the text message is received.

In the outlet box control unit and wall socket control unit a first port and a second port are accessible through the front face of the wall socket control unit each of which corresponds to the USB charging port of . In different embodiments the first and second ports and provide charging only for the battery of a user device . In other embodiments one or both of the ports and provide a hardwired communication link.

The outlet box control unit is generally shaped as a rectangular prism having a two or three pronged electrical plug extending from the back for insertion into a wall outlet. Both the wall socket control unit and wall plate switch control unit include generally planar wall plates which are substantially flush with or which extend slightly away from a wall to which each of the wall socket control unit and the wall plate switch control unit are affixed. The remaining electrical and or electronic hardware is inserted behind a wall generally between the wall studs.

While exemplary embodiments incorporating the principles of the present invention have been disclosed herein the present invention is not limited to the disclosed embodiments. Instead this application is intended to cover any variations uses or adaptations of the invention using its general principles. Further this application is intended to cover such departures from the present disclosure as come within known or customary practice in the art to which this invention pertains and which fall within the limits of the appended claims.

