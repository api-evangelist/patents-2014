---

title: Automatic calibration of probe request received signal strength indication (RSSI) threshold to control associations
abstract: System and methods are provided for dynamically setting a threshold signal-to-noise ratio for probe requests for one or more access points in a wireless network based on several factors, including density/distance between access points and/or current and expected load on access points. By dynamically adjusting a threshold signal-to-noise for probe requests, the systems and methods described herein may efficiently utilize resources based on current and/or expected conditions. In particular, an access point may ignore client device probe requests when another access point may be better positioned to handle such a request and/or when the access point would be unable to meet expected load requirements if such an associate were made.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09408181&OS=09408181&RS=09408181
owner: ARUBA NETWORKS, INC.
number: 09408181
owner_city: Sunnyvale
owner_country: US
publication_date: 20140422
---
The present disclosure relates to dynamically setting a threshold signal to noise for probe requests for one or more access points in a wireless network based on several factors including density distance between access points and or load on access points.

Over the last decade there has been a substantial increase in the use and deployment of wireless client devices from dual mode smartphones to tablets capable of operating in accordance with a particular Institute of Electrical and Electronics Engineers IEEE standard. With wireless becoming the de facto medium for connectivity among users it has become increasingly important for network systems to intelligently manage connections.

In some environments client devices may attempt to associate with an access point by transmitting a probe request. Traditionally a threshold signal to noise ratio is manually preset for the access point and or the wireless network. Probe requests that fall below this manually preset threshold signal to noise ratio are ignored by the corresponding access point. Although this threshold signal to noise ratio allows the access points and wireless network to ignore probe requests from client devices this manually set threshold does not take into account dynamic environmental variables.

The approaches described in this section are approaches that could be pursued but not necessarily approaches that have been previously conceived or pursued. Therefore unless otherwise indicated it should not be assumed that any of the approaches described in this section qualify as prior art merely by virtue of their inclusion in this section.

In the following description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding. One or more embodiments may be practiced without these specific details. Features described in one embodiment may be combined with features described in a different embodiment. In some examples well known structures and devices are described with reference to a block diagram form in order to avoid unnecessarily obscuring the present invention.

Herein certain terminology is used to describe features for embodiments of the disclosure. For example the term digital device generally refers to any hardware device that includes processing circuitry running at least one process adapted to control the flow of traffic into the device. Examples of digital devices include a computer a tablet a laptop a desktop a netbook a server a web server an authentication server an authentication authorization accounting AAA server a Domain Name System DNS server a Dynamic Host Configuration Protocol DHCP server an Internet Protocol IP server a Virtual Private Network VPN server a network policy server a mainframe a television a content receiver a set top box a video gaming console a television peripheral a printer a mobile handset a smartphone a personal digital assistant PDA a wireless receiver and or transmitter an access point a base station a communication management device a router a switch and or a controller.

It is contemplated that a digital device may include hardware logic such as one or more of the following i processing circuitry ii one or more communication interfaces such as a radio e.g. component that handles the wireless data transmission reception and or a physical connector to support wired connectivity and or iii a non transitory computer readable storage medium e.g. a programmable circuit a semiconductor memory such as a volatile memory and or random access memory RAM or non volatile memory such as read only memory power backed RAM flash memory phase change memory or the like a hard disk drive an optical disc drive etc. or any connector for receiving a portable memory device such as a Universal Serial Bus USB flash drive portable hard disk drive or the like.

Herein the terms logic or logic unit are generally defined as hardware and or software. For example as hardware logic may include a processor e.g. a microcontroller a microprocessor a CPU core a programmable gate array an application specific integrated circuit etc. semiconductor memory combinatorial logic or the like. As software logic may be one or more software modules such as executable code in the form of an executable application an application programming interface API a subroutine a function a procedure an object method implementation an applet a servlet a routine source code object code a shared library dynamic load library or one or more instructions. These software modules may be stored in any type of a suitable non transitory storage medium or transitory computer readable transmission medium e.g. electrical optical acoustical or other form of propagated signals such as carrier waves infrared signals or digital signals .

Lastly the terms or and and or as used herein are to be interpreted as inclusive or meaning any one or any combination. Therefore A B or C or A B and or C mean any of the following A B C A and B A and C B and C A B and C. An exception to this definition will occur only when a combination of elements functions steps or acts are in some way inherently mutually exclusive.

The access points and the network controllers may be connected through the switching fabric through wired and or wireless connections. Each element of the network system will be described below by way of example. In one or more embodiments the network system may include more or less devices than the devices illustrated in which may be connected to other devices within the network system via wired and or wireless mediums. For example in other embodiments the network system may include additional access points network controllers and or client devices than those shown in .

The access points may be any device that can associate with the client devices to transmit and receive data over wireless channels. Each of the access points may be configured to operate one or more virtual access points VAPs that allow each of the access points to be segmented into multiple broadcast domains. In one embodiment the access points may correspond to a network device such as a wireless access point a switch a router or any combination thereof. shows a component diagram of the access point according to one embodiment. In other embodiments the access points may include similar or identical components to those shown and described in relation to the access point .

As shown in the access point may comprise one or more of a hardware processor data storage an input output I O interface and device configuration logic . Each of these components of the access point will be described in further detail below.

The data storage of the access point may include a fast read write memory for storing programs and data during performance of operations tasks and a hierarchy of persistent memory such as Read Only Memory ROM Erasable Programmable Read Only Memory EPROM and or Flash memory for example for storing instructions and data needed for the startup and or operation of the access point . In one embodiment the data storage is a distributed set of data storage components. The data storage may store data that is to be transmitted from the access point or data that is received by the access point . For example the data storage of the access point may store data to be forwarded to the client devices or to one or more of the network controllers .

In one embodiment the I O interface corresponds to one or more components used for communicating with other devices e.g. the client devices the network controllers and or other access points via wired or wireless signals. The I O interface may include a wired network interface such as an IEEE 802.3 Ethernet interface and or a wireless interface such as an IEEE 802.11 WiFi interface. The I O interface may communicate with the client devices and the network controllers over corresponding wireless channels in the system . In one embodiment the I O interface facilitates communications between the access point and one or more of the network controllers through the switching fabric . In one embodiment the switching fabric includes a set of network components that facilitate communications between multiple devices. For example the switching fabric may be composed of one or more switches routers hubs etc. These network components that comprise the switching fabric may operate using both wired and wireless mediums.

In some embodiments the I O interface may include one or more antennas for communicating with the client devices the network controllers and or other wireless devices in the network system . For example multiple antennas may be used for forming transmission beams to one or more of the client devices or the network controllers through adjustment of gain and phase values for corresponding antenna transmissions. The generated beams may avoid objects and create an unobstructed path to the client devices and or the network controllers .

In one embodiment the hardware processor is coupled to the data storage and the I O interface . The hardware processor may be any processing device including but not limited to a MIPS ARM class processor a microprocessor a digital signal processor an application specific integrated circuit a microcontroller a state machine or any type of programmable logic array.

In one embodiment the device configuration logic includes one or more functional units implemented using firmware hardware software or a combination thereof for configuring parameters associated with the access point . In one embodiment the device configuration logic may be configured to allow the access point to associate with different client devices .

As described above the other access points may be similarly configured as described above in relation to access point . For example the access points may each comprise a hardware processor data storage an input output I O interface and device configuration logic in a similar fashion as described above in relation to the access point .

In one embodiment the client devices may be any wireless or wired electronic devices capable of receiving and transmitting data over wired and wireless mediums. For example the client devices may be one or more of personal computers laptop computers netbook computers wireless music players portable telephone communication devices smart phones tablets and digital televisions. In one embodiment the client devices are digital devices that include a hardware processor memory hierarchy and input output I O interfaces including a wired and or wireless interface such as an IEEE 802.3 interface. In one embodiment the configuration of the components within the client devices may be similar to those discussed above in relation to the access point . In other embodiments the client devices may include more or less components than those shown in in relation to the access point .

As noted above the client devices may attempt to associate with an access point through the transmission of a probe request. As will be described in greater detail below the corresponding access point may analyze the probe requests received from the client device to determine whether the client device will be allowed to associate with the access point . In some embodiments the access point may indicate that a client device is not allowed to associate with the access point through the transmission of a response to a corresponding probe request. While in other embodiments the access point may indicate that a client device is not allowed to associate with the access point through failing to respond or otherwise ignoring a corresponding probe request. For example a probe request may be ignored if the request fails to meet a threshold signal to noise ratio of a corresponding access point . Processes and techniques for setting these threshold signal to noise ratios for access points will be described in greater detail below.

In one embodiment the network controllers are digital devices that include a hardware processor memory hierarchy and input output I O interfaces including a wired and or wireless interface such as an IEEE 802.3 interface. In one embodiment the configuration of the components within the network controllers may be similar to those discussed above in relation to the access point . In other embodiments the network controllers may include more or less components than those shown in in relation to the access point .

In one embodiment the network controllers may be any set of devices that assist the access points in performing network tasks and operations. For example the network controllers may assist in determining a threshold signal to noise ratio to be used by the access points for processing a probe request received from a client device . The threshold signal to noise ratio is the ratio of signal to noise in a probe request signal frame received from a client device at which the access point may respond and attempt to associate with the client device . For example if the threshold signal to noise ratio for the access point is 10 dB and a probe request from the client device has a signal to noise ratio of 9 dB the access point will not respond to the probe request and will not attempt to associate with the client device . In contrast if the threshold signal to noise ratio for the access point is 10 dB and a probe request from the client device has a signal to noise ratio of 11 dB the access point will respond to the probe request and will attempt to associate with the client device .

The threshold signal to noise ratio may be set based on various factors including the density of or distance between access points and or current and or expected access point load. In contrast to traditional systems dynamic setting of the threshold signal to noise ratio for each of the access points allows the network system to more efficiently associate client devices with access points with a reduced number of client device moves. The different processes and techniques for dynamically setting selecting threshold signal to noise ratios will be discussed in greater detail below.

Although each of the operations in the method are shown and described in a particular order in other embodiments the operations of the method may be performed in a different order. For example although the operations of the method are shown as being performed sequentially in other embodiments the operations of the method may be performed in overlapping or at least partially overlapping time periods.

In one embodiment the method may commence at operation with the determination of the distances between a particular access point and a selected set of other access points . For example the particular access point may be the access point and the selected set of access points may be the access points and . In one embodiment the set of access points and may be selected based on a shared channel and or a shared Service Set Identifier SSID with the particular access point . Accordingly the access points may each operate on the same channel and or on the same SSID. Although described hereinafter in relation to the access points the method may be similarly performed for other sets of access points . Accordingly each access point may separately determine a threshold signal to noise ratio that is used for determining whether probe requests from client devices are ignored or responded to.

Operation may determine the distances between the particular access point and each of the access points and using any technique or process. In one embodiment the distances between the access point and each of the access points and may be determined at operation based on a set of probe signals. For example a set of probe signals may be transferred between the access point and each of the access points and . Upon receipt the signal strength of the received signals may be compared against the original transmission strength to determine a difference value. For example the original transmission strength of a test probe signal between the access point and the access point may be 20 dB while the received signal strength may be 16 dB. Accordingly the distance between the access point and may be described as 4 dB i.e. 20 dB 16 dB .

In another embodiment the relative positions of each of the access points may be recorded during setup of the network system . In this embodiment operation may determine the distance between the access point and each of the access points and by looking up the locations in a stored table and or database. These pre recorded distances may be represented in decibels.

In other embodiments the distances between access points may be determined using any other technique. These distance values may be used to represent a density of access points in a particular area.

Following determination of a set of distance values at operation operation may select one distance value from the set of distance values. For example operation may select the minimum distance value the maximum distance value the mode of the distances values the average of the distance values etc. For instance in one embodiment the maximum distance value from the set of distances determined at operation may be selected at operation . This maximum distance value may reflect the density of access points in the network system and or the farthest radio frequency distance between the access point and a client device in the network system . A client device should not associate with the access point that is farther than the access points and as instead these client devices should attempt to associate with the closer access points and . In these embodiments the method is performed with the assumption that the access points are uniformly distributed within the network system . Accordingly each of the access points may be uniformly spaced from 1 other access points and and 2 the boundaries of the area covered serviced by the network system .

Following selection of a distance value at operation operation may determine a minimum signal to noise ratio. The minimum signal to noise ratio reflects a default value for assigning a threshold signal to noise ratio for the particular access point . For example the minimum signal to noise ratio may be preset by an administrator of the network system . In one embodiment as will be described in greater detail below the minimum signal to noise ratio may be selected as the threshold signal to noise ratio when the access point does not have any neighboring access points on the same channel and or using the same SSID.

Following determination of a minimum signal to noise ratio operation takes the minimum value between the selected distance value and the minimum signal to noise ratio and assigns this value as the threshold signal to noise ratio for the access point . For example when the selected distance value from operation is 6 dB and the minimum signal to noise ratio determined at operation is 4 dB operation would determine that the selected distance value is less than the minimum signal to noise ratio.

Upon determining that the selected distance value is less than the minimum signal to noise ratio i.e. the access points are relatively separated and are not densely packed together in the network system operation may assign the selected distance value which is represented in decibels as the threshold signal to noise ratio for the access point . In particular when the access points are not densely packed together in the network system the client devices may not have many proximate access points to associate with. Accordingly the threshold signal to noise ratio for the access point may be set to a low level that encourages association with the access point . This will provide the client devices with greater ease in associating with access points in a low density environment.

Conversely upon determining that the selected distance value is greater than the minimum signal to noise ratio operation may assign the minimum signal to noise ratio as the threshold signal to noise ratio for the access point . In particular this minimum signal to noise ratio may be selected in situations where the particular access point does not have any neighboring access points i.e. access point is in a hotspot configuration . When the particular access point does not have any neighboring access points an empty set value may be returned by operations and such that the minimum signal to noise ratio is chosen by operations and as the threshold signal to noise ratio.

As described above the method relies on access point density distances in the network system to determine the threshold signal to noise ratio for the access point . Although described in relation to the access point in other embodiments the method may determine a threshold signal to noise ratio for the access points in a similar fashion as described above. In some embodiments the method may be performed on each access point independently. In this fashion the access points may solely and autonomously determine which client devices they associate with. In particular upon receiving a probe request from a client device that is below a threshold signal to noise ratio selected by the corresponding access point the access point may ignore the request and in effect deny association with the client device . Similarly upon receiving a probe request from a client device that is at or above a threshold signal to noise ratio selected by the corresponding access point the access point may respond to the request and attempt to associate with the client device .

Turning now to a method for selecting a threshold signal to noise ratio according to another embodiment will be described. In contrast to the method that determines a threshold signal to noise ratio based on access point density and or distances between the access points the method may determine a threshold signal to noise ratio based on current and or expected client device load on an access point . The method may be performed by one or more devices in the network system . For example the method may be performed by one or more of the network controllers in conjunction with one or more of the access points in the network system . In one embodiment one of the network controllers may be designated as a master network controller in the network system such that each operation of the method is performed by this designated master network controller. In another embodiment the method may be entirely performed by a single access point . Accordingly each access point may autonomously decide a threshold signal to noise ratio for responding to client device probe requests.

Although each of the operations in the method are shown and described in a particular order in other embodiments the operations of the method may be performed in a different order. For example although the operations of the method are shown as being performed sequentially in other embodiments the operations of the method may be performed in overlapping or at least partially overlapping time periods.

In some embodiments the threshold signal to noise ratio determined with the method for the access point may be used by the method as an initial estimate. In this embodiment the method may refine adjust this initial threshold signal to noise ratio estimate for the access point based on current and or expected load on the access point . For example the method may commence at operation with receipt of an initial threshold signal to noise estimate for the access point . As noted above this initial threshold signal to noise estimate may be obtained through performance of the method .

At operation this initial threshold signal to noise ratio estimate may be used to determine an estimated data rate for the access point that would achieve the initial threshold signal to noise ratio estimate. The estimated data rate may indicate the rate at which the access point would be able to communicate with the farthest client device while using the initial threshold signal to noise ratio estimate. For example the initial threshold signal to noise ratio estimate may be used with a rate table to lookup an associated rate based on the initial threshold signal to noise ratio estimate. In one embodiment a large initial threshold signal to noise ratio estimate would provide a corresponding large estimated data rate for the access point and a low initial threshold signal to noise ratio estimate would provide a corresponding low estimated data rate for the access point .

In one embodiment operation may determine an estimated data rate for the access point also based on the average packet size transmitted and or received by the access point . This average packet size may be a preset value or the average packet size may be calculated over any time period e.g. average packet size over the previous day hour minute second etc. . For example the estimated data rate for the access point may be calculated at operation using the following equation EstimatedRate RateTable probeReqThreshold avgPktSize 

The rate table may be preset prior to the commencement of the method and retrieved accessed from a local or remote location. For example the rate table may include a probe request threshold value i.e. probeReqThreshold value an average packet size value i.e. avgPktSize value and an estimated rate value i.e. EstimatedRate value as shown in the example table below.

The example rate table above indicates the minimum signal to noise ratio SNR or RSSI required for successfully transmitting a frame with an average packet size at the estimated rate. Accordingly using a known probe request threshold value i.e. probeReqThreshold value and an average packet size value i.e. avgPktSize value an estimated rate value i.e. EstimatedRate value may be looked up in the example rate table shown above.

At operation the method may calculate the average residual airtime per cycle for the access point . The average residual airtime per cycle indicates the amount of airtime not currently being used by client devices associated with the access point e.g. client devices as shown in . In one embodiment this average residual airtime per cycle may be calculated over a one second interval and may be calculated using any standard or technique including using ASAP. In one embodiment the average residual airtime for the access point that has N associated client devices may be calculated at operation according to the following equation 

In one embodiment the airtime used per client device i.e. Airtime ClientDevice may be an estimated value while in other embodiments the airtime used per client device may be measured over the network system during any discrete time period. In the above equation the airtime used by each of the N client devices associated with the access point may be summed. This summed value represents the individual fractions of a second of airtime consumed by each of the client devices associated with the access point . This value may be subtracted from a single second to arrive at the residual airtime available on the access point based on the N current client devices associated with the access point .

At operation the residual capacity on the access point may be calculated based on the estimated data rate for the access point calculated at operation and the residual airtime available on the access point calculated at operation . The residual capacity on the access point represents the airtime capacity on the access point that would be consumed if a client device at the boundary of the initial threshold signal to noise ratio was to connect associate with the access point . The residual capacity on the access point may be calculated at operation based on the below equation ResidualCapacity EstimatedRate ResidualAirtime

At operation the estimated additional airtime load on the access point if one or more client devices are added associated with the access point may be calculated. For example the access point may use the average load per client device i.e. the average traffic sent to and from a client device to estimate the anticipated airtime load from client devices that would potentially connect to the access point . For example the estimated additional airtime load on the access point may be calculated at operation by the equation below EstimatedAdditionalLoad ExpectedClientNum AvgLoadPerClien

In the above equation N indicates the number of client devices presently associated with the access point e.g. five client devices while ExpectedClientNum is the maximum number of client devices that are expected anticipated to associate with that the access point in the future e.g. thirty client devices . In one embodiment the average load per client device may be estimated based on the current N client devices associated with the access point historical averages for client devices associated with the access point at the time at which the method is being performed and or a preconfigured setting for the access point and or the network system . Similarly the expected client number for the access point may be set based on a preset configuration value or may be estimated based on historical averages for the access point at the time at which the method is being performed e.g. thirty client devices . Since the value for the EstimatedAdditionalLoad is calculated on the basis that ExpectedClientNum N when ExpectedClientNum

At operation the residual capacity on the access point may be compared with the estimated additional airtime load on the access point to determine whether the initial threshold signal to noise ratio efficiently uses airtime and other resources of the access point . For example when operation determines that the residual capacity on the access point is greater than the estimated additional airtime load on the access point operation may decrease the initial threshold signal to noise ratio for the access point . In this case since the residual capacity on the access point is greater than the estimated additional airtime load on the access point the access point has additional resources that may be used for additional client devices . Accordingly decreasing the initial threshold signal to noise ratio may potentially allow additional client devices to associate with the access point .

Conversely when operation determines that the residual capacity on the access point is less than the estimated additional airtime load on the access point operation may increase the initial threshold signal to noise ratio for the access point . In this case since the residual capacity on the access point is less than the estimated additional load on the access point the access point cannot support the additional client devices . Accordingly increasing the initial threshold signal to noise ratio may potentially reduce the additional client devices that are expected to associate with the access point . Following operation adjustment of the threshold signal to noise ratio the method may return to operation to analyze this new threshold signal to noise ratio.

When operation determines that the residual capacity on the access point is equal to the estimated additional load on the access point operation may set the threshold signal to noise ratio for the access point equal to the initial threshold signal to noise ratio to the threshold signal to noise ratio for the access point . As described above the method relies on the access point s current and expected load to determine the threshold signal to noise ratio for the access point . In some embodiments the method may be performed on each access point independently. In this fashion the access points may solely and autonomously determine which client devices are allowed to associate with the access point . In particular upon receiving a probe request from a client device that is below a threshold signal to noise ratio selected by the corresponding access point the access point may ignore the request and in effect deny association with the client device . Similarly upon receiving a probe request from a client device that is at or above a threshold signal to noise ratio selected by the corresponding access point the access point may respond to the request and attempt to associate with the client device .

Although the method describes determining a threshold signal to noise ratio for an access point based on the load generated by an initial threshold signal to noise ratio in other embodiments a threshold signal to noise ratio may be determined without an initial value. For example shows a method for determining a threshold signal to noise ratio for the access point according to another embodiment. In contrast to the method that determines a threshold signal to noise ratio based on an initial threshold signal to noise ratio the method may determine a threshold signal to noise ratio without an initial value. However similar to the method the method may determine the threshold signal to noise ratio for the access point based on current and or expected client device load on the access point .

The method may be performed by one or more devices in the network system . For example the method may be performed by one or more of the network controllers in conjunction with one or more of the access points in the network system . In one embodiment one of the network controllers may be designated as a master network controller in the network system such that each operation of the method is performed by this designated master network controller. In another embodiment the method may be entirely performed by a single access point . Accordingly each access point may autonomously decide a threshold signal to noise ratio for responding to client device probe requests.

Although each of the operations in the method are shown and described in a particular order in other embodiments the operations of the method may be performed in a different order. For example although the operations of the method are shown as being performed sequentially in other embodiments the operations of the method may be performed in overlapping or at least partially overlapping time periods.

In one embodiment the method may commence at operation with calculation of the desired residual airtime capacity on the access point . The desired residual airtime capacity is the airtime capacity load on the access point if one or more client devices are added associated with the access point . For example the access point may use the average load per client device from the access point i.e. the average traffic sent to and from a client device to estimate the anticipated load from a client device that would connect to the access point . In one embodiment the desired residual airtime capacity on the access point may be calculated at operation by the equation below DesiredResidualCap ExpectedClientNumber AvgLoadPerClien

In the above equation N indicates the number of client devices presently associated with the access point e.g. five client devices while ExpectedClientNum is the maximum number of client devices that are expected anticipated to associate with that the access point in the future e.g. thirty client devices . In one embodiment the average load per client device may be estimated based on the current N client devices associated with the access point historical averages for client devices associated with the access point at the time at which the method is being performed and or a preconfigured setting for the access point and or the network system . Similarly the expected client device number for the access point may be set based on a preset configuration value or may be estimated based on historical averages for the access point at the time at which the method is being performed. e.g. thirty client devices . Since the value for the EstimatedAdditionalLoad is calculated on the basis that ExpectedClientNum N when ExpectedClientNum

Following calculation of the desired residual airtime capacity the average residual airtime capacity per cycle on the access point may be calculated at operation . The average residual airtime per cycle indicates the amount of airtime not currently being used by the N client devices currently associated with the access point . In one embodiment this average residual airtime per cycle may be calculated over a one second interval and may be calculated using any standard or technique including using ASAP. In one embodiment the average residual airtime for the access point that has N associated client devices may be calculated according to the following equation 

In the above equation the airtime used by each of the N client devices associated with the access point may be summed. This summed value represents the individual fractions of seconds of airtime consumed by each of the client devices associated with the access point . This value may be subtracted from a single second to arrive at the residual airtime available on the access point based on the N current client devices associated with the access point .

At operation the desired client device rate for the access point may be calculated. The desired client device rate may represent the data rate for each of the client devices if additional client devices are associated with the access point . In one embodiment the desired client device rate may be determined based on the desired residual airtime capacity on the access point calculated at operation and the average residual airtime capacity per cycle on the access point calculated at operation . For example the desired client device rate may be calculated at operation based on the following equation 

Utilizing the desired client device rate operation may determine a threshold signal to noise ratio for the access point . In one embodiment the desired client device rate may be used with a rate table to determine the threshold signal to noise ratio. For example operation may look up the threshold signal to noise ratio corresponding to the desired client device rate in the rate table. In one embodiment this lookup may be performed along with the average packet size transmitted and or received by the access point . This average packet size may be calculated over any time period e.g. average packet size over previous day hour minute second etc. . For example the threshold signal to noise ratio for the access point may be calculated at operation using the following equation ThresholdSNR RateTable DesiredClientRate avgPktSize 

The rate table may be preset prior to the commencement of the method and retrieved accessed from a local or remote location.

As described above the threshold signal to noise ratio may be determined such that airtime capacity for the access point is efficiently utilized. As described above the method relies on the access point s current and expected load to determine the threshold signal to noise ratio for the access point . In contrast to the method the method does not rely on or require an initial estimate for the threshold signal to noise ratio.

In some embodiments the method may be performed on each access point independently. In this fashion the access points may solely and autonomously determine which client devices are allowed to associate with the access point . In particular upon receiving a probe request from a client device that is below a threshold signal to noise ratio selected by the corresponding access point the access point may ignore the request and in effect deny association with the client device . Similarly upon receiving a probe request from a client device that is at or above a threshold signal to noise ratio selected by the corresponding access point the access point may respond to the request and attempt to associate with the client device .

As described above system and methods are provided for dynamically setting a threshold signal to noise ratio for probe requests for one or more access points in a wireless network based on several factors including density distance between access points and or current and expected load on access points . By dynamically adjusting a threshold signal to noise for probe requests the systems and methods described herein may efficiently utilize resources based on current and or expected conditions. In one embodiment one or more of the methods and may be performed periodically to ensure that corresponding threshold signal to noise ratios for probe requests are optimally set. For example the methods and or may be performed during setup of the network system at scheduled intervals e.g. every ten minutes and or upon an access point and or client device joining the network system .

An embodiment of the invention may be an article of manufacture in which a machine readable medium such as microelectronic memory has stored thereon instructions which program one or more data processing components generically referred to here as a processor to perform the operations described above. In other embodiments some of these operations might be performed by specific hardware components that contain hardwired logic e.g. dedicated digital filter blocks and state machines . Those operations might alternatively be performed by any combination of programmed data processing components and fixed hardwired circuit components. Also although the discussion focuses on uplink medium control with respect to frame aggregation it is contemplated that control of other types of messages are applicable.

Any combination of the above features and functionalities may used in accordance with one or more embodiments. In the foregoing specification embodiments have been described with reference to numerous specific details that may vary from implementation to implementation. The specification and drawings are accordingly to be regarded in an illustrative rather than a restrictive sense. The sole and exclusive indicator of the scope of the invention and what is intended by the applicants to be the scope of the invention is the literal and equivalent scope of the set of claims that issue from this application in the specific form in which such claims issue including any subsequent correction.

