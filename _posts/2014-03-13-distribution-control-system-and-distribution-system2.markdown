---

title: Distribution control system and distribution system
abstract: A distribution control system includes a generating unit configured to generate video frame data and sound frame data from content data; a first converting unit configured to convert the video frame data into first transmission data to be transmitted through a communication network by encoding the video frame data; a second converting unit configured to convert the sound frame data into second transmission data to be transmitted through the communication network by encoding the sound frame data; and a transmitting unit configured to transmit the first transmission data to a first communication terminal connected to the communication network and transmits the second transmission data to a second communication terminal connected to the communication network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09628866&OS=09628866&RS=09628866
owner: RICOH COMPANY, LIMITED
number: 09628866
owner_city: Tokyo
owner_country: JP
publication_date: 20140313
---
The present application claims priority to and incorporates by reference the entire contents of Japanese Patent Application No. 2013 054405 filed in Japan on Mar. 15 2013 and Japanese Patent Application No. 2014 028986 filed in Japan on Feb. 18 2014.

The present invention relates to transmission of data to communication terminals such as personal computers and electronic blackboards.

With the recent widespread use of the Internet cloud computing has been used in various fields. Cloud computing is a service usage pattern in which users use services cloud services provided by a server on the Internet using a communication terminal connected to the Internet and pay for the service.

Web content carried on the Internet tends to be enriched for the purpose of responding to various demands. As a result accessing the enriched content using a communication terminal for making use of services through the Internet involves a problem in that a load on the communication terminal is unfavorably high.

As a technology for reducing loads on communication terminals there is a technology called thin client refer to Japanese Patent Application Laid open No. 2007 221229 for example . This thin client technology allows various applications to be executed on communication terminals in a web based manner using an Internet environment.

Even with the thin client technology there still remains a problem in that a high load is imposed on a communication terminal to access enriched content.

The conventional technique cannot also meet needs to reproduce video and sound of the content by different communication terminals respectively e.g. reproducing video by a projector and reproducing sound by a speaker separate from the projector.

It is an object of the present invention to at least partially solve the problems in the conventional technology.

According to an embodiment there is provided a distribution control system that includes a generating unit configured to generate video frame data and sound frame data from content data a first converting unit configured to convert the video frame data into first transmission data to be transmitted through a communication network by encoding the video frame data a second converting unit configured to convert the sound frame data into second transmission data to be transmitted through the communication network by encoding the sound frame data and a transmitting unit configured to transmit the first transmission data to a first communication terminal connected to the communication network and transmits the second transmission data to a second communication terminal connected to the communication network.

According to another embodiment there is provided a distribution system that includes the distribution control system according to the above embodiment and the first communication terminal and the second communication terminal.

The above and other objects features advantages and technical and industrial significance of this invention will be better understood by reading the following detailed description of presently preferred embodiments of the invention when considered in connection with the accompanying drawings.

Described below with reference to the accompanying drawings is a distribution system according to an embodiment. Described below in detail is an invention that causes both a web browser hereinafter referred to as a browser and an encoder to execute in cooperation with each other in the cloud through cloud computing and transmits video data sound data and the like to communication terminals.

In the following images include a still image and a moving image. Videos basically mean moving images and also include moving images that are stopped to be still images. A still image sound represents at least either one of a still image and sound. An image sound represents at least either one of an image and sound. A video sound represents at least either one of video and sound.

Described with reference to is an outline of the embodiment according to the present invention. is a schematic diagram of a distribution system according to the present embodiment.

As illustrated in the distribution system according to the present embodiment includes a distribution control system a plurality of communication terminals to a terminal management system and a web server . In the following any communication terminal among the communication terminals to can be referred to as a communication terminal . The distribution control system the terminal management system and the web server are all implemented by server computers.

The communication terminal is a terminal used by a user who receives services of the distribution system . The communication terminal is a notebook personal computer PC . The communication terminal is a mobile terminal such as a smartphone or a tablet terminal. The communication terminal is a multifunction peripheral printer product MFP in which the functions of copying scanning printing and faxing are combined. The communication terminal is a projector. The communication terminal is a TV video conference terminal having a camera a microphone and a speaker. The communication terminal is an electronic blackboard whiteboard capable of electronically converting drawings drawn by a user or the like.

The communication terminal is not only such terminals as illustrated in but also may be devices communicable through a communication network such as the Internet including a watch a vending machine a car navigation device a game console an air conditioner a lighting fixture a camera alone a microphone alone and a speaker alone.

The distribution control system the communication terminal the terminal management system and the web server can communicate with each other through a communication network including the Internet and a local area network LAN . Examples of the communication network may include wireless communication networks such as 3rd Generation 3G Worldwide Interoperability for Microwave Access WiMAX and Long Term Evolution LTE .

The communication terminal for example among the communication terminals does not have a function of communicating with the other terminals or systems through the communication network . However as illustrated in a user inserts a dongle into an interface such as Universal Serial Bus USB or High Definition Multimedia Interface HDMI of the communication terminal thereby enabling it to communicate with the other terminals and systems. is a conceptual view when the dongle is attached to the communication terminal.

The distribution control system has a browser in the cloud and through the function of rendering in the browser acquires a single or a plurality of pieces of content data described in a certain description language and performs rendering on the content data thereby generating frame data including still image data such as bitmap data made up of red green and blue RGB and sound data such as pulse code modulation PCM data i.e. still image sound data . The content data is data acquired from the web server any communication terminal and the like and includes image sound data in Hypertext Markup Language HTML and Cascading Style Sheets CSS image sound data in MP4 MPEG 4 and sound data in Advanced Audio Coding AAC .

The distribution control system has an encoding unit in the cloud and the encoding unit plays a role as an encoder thereby converting frame data as still image sound data into video sound data in the compression coding format such as H.264 MPEG 4 AVC H.265 and Motion JPEG.

The terminal management system performs login authentication on the communication terminal and manages contract information and the like of the communication terminal . The terminal management system has a function of a Simple Mail Transfer Protocol SMTP server for transmitting e mail. The terminal management system can be embodied as for example a virtual machine developed on a cloud service IaaS Infrastructure as a Service . It is desirable that the terminal management system be operated in a multiplexed manner to provide service continuity in case of unexpected incidents.

The browser enables real time communication collaboration RTC . The distribution control system includes the encoding unit in described below and the encoding unit can perform real time encoding on frame data output by the browser and output video sound data generated through conversion compliant with the H.264 standard or the like. As a result the processing of the distribution control system is different from for example processing in a case in which non real time video sound data recorded in a DVD is read and distributed by a DVD player.

Not only the distribution control system but also the communication terminal may have a browser. In this case updating the browser of the distribution control system eliminates the need to start up the browsers of the respective communication terminals .

Thus the distribution control system can distribute even rich web content data to the communication terminal while converting it from the web content data in HTML or the like into the compressed video sound data in H.264 or the like in the cloud. As a result the communication terminal can reproduce the web content smoothly without time and costs for adding the latest browser or incorporating a higher spec central processing unit CPU operating system OS random access memory RAM and the like.

Future enrichment in web content will only require higher specifications of the browser the CPU and the like in the distribution control system in the cloud without the need for higher specifications of the communication terminal .

Applying the above distribution method as illustrated in to the distribution system can also distribute web content data to a plurality of sites as video sound data. Described below are distribution methods illustrated in to .

Thus the same video sound is reproduced at the sites. In this case the communication terminals do not need to have the same level of display reproduction capability e.g. the same resolution . The distribution method like this is called for example multicast .

Thus for example even for landscape web content XYZ video sound is reproduced by the communication terminals in a divided manner. As a result when the communication terminals are installed in a line the same effect can be obtained as the reproduction of one piece of large video. In this case the communication terminals need to have the same level of display reproduction capability e.g. the same resolution . The distribution method like this is called for example multidisplay .

At the first site video sound data acquired by the communication terminal is encoded by an encoding unit and is then transmitted to the distribution control system . After that it is decoded by a decoding unit of the distribution control system and is then input to the browser . Operation data indicating the strokes drawn on the communication terminal with the electronic pen P1 in this case coordinate data on the display of the communication terminal or the like is transmitted to the distribution control system to be input to the browser . Also at the second site video sound data acquired by the communication terminal is encoded by the encoding unit and is then transmitted to the distribution control system . After that it is decoded by the decoding unit of the distribution control system and is then input to the browser . Operation data indicating the strokes drawn on the communication terminal with the electronic pen P2 in this case coordinate data on the display of the communication terminal or the like is transmitted to the distribution control system to be input to the browser .

The browser acquires for example web content data A as a background image displayed on the displays of the communication terminals from the web server . The browser combines the web content data A operation data p1 p2 and video sound content data E1 E2 and renders them thereby generating pieces of frame data as still image sound data in which the pieces of content data A p1 p2 E1 E2 are arranged in a desired layout. The encoder bridge unit encodes the pieces of frame data and the distribution control system distributes video sound data indicating the same content A p1 p2 E1 E2 to both sites. At the first site thereby video A p1 p2 E1 video part and E2 video part is displayed on the display of the communication terminal and sound E2 sound part is output from the speaker of the communication terminal . Also at the second site the video A p1 p2 E1 video part and E2 video part is displayed on the display of the communication terminal and sound E1 sound part is output from the speaker of the communication terminal . At the first site the sound of the site itself E1 sound part is not output owing to an echo cancelling function of the communication terminal . At the second site the sound of the site itself E2 sound part is not output owing to an echo cancelling function of the communication terminal .

Thus at the first site and the second site remote sharing processing can be performed that shares the same information in real time at remote sites thus making the distribution system according to the present embodiment effective in a teleconference or the like.

In this case the distribution control system distributes video data A p1 p2 E1 video part and E2 video part indicating the same content to the communication terminal at the first site and the communication terminal at the second site and distributes sound data E1 sound part and E2 sound part indicating the same content to the communication terminal at the first site and the communication terminal at the second site. At the first site thereby the video A p1 p2 E1 video part and E2 video part is displayed on the display of the communication terminal and the sound E2 sound part is output from the speaker of the communication terminal . Also at the second site the video A p1 p2 E1 video part and E2 video part is displayed on the display of the communication terminal and the sound E1 sound part is output from the speaker of the communication terminal . At the first site the sound of the site itself E1 sound part is not output owing to the echo cancelling function of the communication terminal . At the second site the sound of the site itself E2 sound part is not output owing to the echo cancelling function of the communication terminal .

Described first with reference to and is the hardware configuration of the present embodiment. is a hardware configuration diagram of a distribution control system a communication terminal a terminal management system and a web server. is a hardware configuration diagram of a dongle. Because the hardware configuration relating to the communication of the communication terminal is the same as part of the hardware configuration of the communication terminal the description thereof will be omitted.

As illustrated in the distribution control system includes a CPU that controls the entire operation of the distribution control system a read only memory ROM that stores therein a program used for driving the CPU such as IPL a RAM used as a work area of the CPU an HDD that stores therein various kinds of data such as programs a hard disk controller HDC that controls the reading and writing of the various kinds of data from and into the HDD under the control of the CPU a media drive that controls the reading and writing of data from and into a storage medium such as a flash memory a display that displays various kinds of information an interface I F that transmits data through the communication network and to which the dongle is connected a keyboard a mouse a microphone a speaker a graphics processing unit GPU and a bus line such as an address bus or a data bus for electrically connecting the above components as illustrated in . As in the communication terminal as a projector the GPU may not be provided. Because the hardware configuration of the terminal management system and the web server is the same as the hardware configuration of the distribution control system the description thereof will be omitted.

Described next with reference to is the hardware configuration of the dongle illustrated in . As illustrated in the dongle includes a CPU that controls the entire operation of the dongle a ROM that stores therein a basic input output program a RAM used as a work area of the CPU an electrically erasable and programmable ROM EEPROM that performs the reading and writing of data under the control of the CPU a GPU an interface I F for connection to the I F of the communication terminal an antenna a communication unit that performs communications by a short distance wireless technology through the antenna and a bus line such as an address bus or a data bus for electrically connecting the above units. Examples of the short distance wireless technology include the Near Field Communication NFC standards Bluetooth registered trademark Wireless Fidelity WiFi and ZigBee registered trademark . Because the dongle includes the GPU even when no GPU is included as in the communication terminal the communication terminal can perform calculation processing needed for graphics display with the dongle attached as illustrated in .

Described first with reference to is the functional configuration of the distribution control system . is a functional block diagram illustrating mainly the functions of the distribution control system. illustrates a functional configuration where the distribution control system distributes video sound data to the communication terminal and the distribution control system has the same functional configuration also where the distribution destination is other than the communication terminal . Although the distribution control system includes a plurality of distribution engine servers the following describes a case where a single distribution engine server is included in order to simplify the description.

As illustrated in the distribution control system has functional components in implemented by the hardware configuration including the CPU and the programs illustrated in .

Specifically the distribution control system includes the browser a transmitter receiver a browser management unit a transmission first in first out FIFO buffer a time management unit a time acquisition unit a channel adaptive controller the encoder bridge unit a transmitter receiver a reception FIFO a recognition unit a delay information acquisition unit a channel adaptive controller and the decoding unit . The distribution control system further includes a storage unit implemented by the HDD illustrated in . This storage unit stores therein recognition information described below output from the recognition unit and sent through the browser management unit . The content data acquired by the browser can be temporarily stored in the storage unit as a cache.

Among the above functional components the browser is a browser that operates within the distribution control system . The browser is kept updated along with the enrichment of web content at all times. The browser includes Media Player Flash Player JavaScript registered trademark CSS and HTML Renderer. JavaScript includes the standardized product and one unique to the distribution system .

Media Player is a browser plug in for reproducing multimedia files such as video sound files within the browser . Flash Player is a browser plug in for reproducing flash content within the browser . The unique JavaScript is a JavaScript group that provides the application programming interface API of services unique to the distribution system . CSS is a technology for efficiently defining the appearance and style of web pages described in HTML. HTML Renderer is an HTML rendering engine.

A renderer renders content data such as web content data as image sound data thereby generating pieces of frame data as still image sound data. As illustrated in the renderer is also a layout engine that lays out a plurality of kinds of content A p1 p2 E1 E2 .

The distribution system according to the present embodiment provides the browsers within the distribution control system and a cloud browser for use in a user session is selected from the browsers . The following describes a case where the single browser is provided in order to simplify the description.

The transmitter receiver transmits and receives various kinds of data various kinds of requests various kinds of instructions and the like to and from the terminal management system and the web server . For example the transmitter receiver acquires web content data from a content site at the web server . The transmitter receiver outputs the various kinds of data acquired from the terminal management system to the functional components within the distribution control system and controls the functional components within the distribution control system based on the various kinds of data various kinds of requests various kinds of instructions and the like acquired from the terminal management system . For example for the browsers the transmitter receiver outputs a request for switching distribution pattern from the terminal management system to the browser management unit . The browser management unit then controls switching from one browser to another browser among the browsers. Based on the request for switching distribution from the terminal management system the transmitter receiver performs the switching of combinations of the components within the encoder bridge unit illustrated in and .

The browser management unit manages the browser . For example the browser management unit instructs the browser to start up and exit and numbers an encoder ID at startup or exit. The encoder ID is identification information that the browser management unit numbers in order to manage the process of the encoder bridge unit . The browser management unit numbers and manages a browser ID every time the browser is started up. The browser ID is identification information that the browser management unit numbers in order to manage the process of the browser to identify the browser .

The browser management unit acquires various kinds of operation data from the communication terminal through the transmitter receiver and outputs them to the browser . The operation data is data generated through operation events operations through the keyboard the mouse and the like strokes with an electronic pen P and the like on the communication terminal . When the communication terminal provides various sensors such as a temperature sensor a humidity sensor and an acceleration sensor the browser management unit acquires sensor information that contains output signals of the sensors from the communication terminal and outputs it to the browser . The browser management unit further acquires image sound data from the recognition unit and outputs it to the browser and acquires recognition information described below from the recognition unit and stores it in the storage unit . The browser management unit acquires video sound data from the reception FIFO buffer and outputs it to the browser .

The transmission FIFO is a buffer that stores therein pieces of frame data as still image sound data generated by the browser .

The time acquisition unit performs time adjustment processing in conjunction with a time controller in the communication terminal described below. Specifically the time acquisition unit acquires time information T indicating time T in the distribution control system from the time management unit receives time information t indicating time t in the communication terminal from the time controller described below through the transmitter receiver and a transmitter receiver and transmits the time information t and the time information T to the time controller .

The channel adaptive controller calculates reproduction delay time U based on transmission delay time information D and calculates operation conditions such as the frame rate and the data resolution of a converter in the encoder bridge unit . This reproduction delay time is time for delaying reproduction through the buffering of data until being reproduced. In other words the channel adaptive controller changes the operation of the encoder bridge unit based on the transmission delay time information D and the size of the data e.g. the number of bits or the number of bytes . The transmission delay time information D indicates frequency distribution information based on a plurality of pieces of transmission delay time D1 acquired by a delay information acquisition unit of the communication terminal . The transmission delay time D1 indicates time from the point when the video sound data is transmitted from the distribution control system to the point when it is received by the communication terminal and is acquired from a reproduction controller .

The encoder bridge unit outputs pieces of frame data as still image sound data generated by the browser to the converter in the encoder bridge unit described below. In this case the encoder bridge unit also operates based on the operation conditions calculated by the channel adaptive controller . The encoder bridge unit will be described in more detail with reference to and . is a detailed diagram of the encoder bridge unit. is a functional block diagram illustrating the functions of the converter.

As illustrated in the encoder bridge unit includes a creating selecting unit a selecting unit and a plurality of converters provided therebetween. Although the three converters are illustrated here any number of them may be provided. In the following any converter is referred to as a converter .

The converter converts the data format of the pieces of frame data as still image sound data generated by the browser into a data format of H.264 or the like allowing distribution of the data to the communication terminal through the communication network . For that purpose as illustrated in the converter includes a trimming unit a resizing unit a dividing unit and the encoding unit . The trimming unit the resizing unit and the dividing unit do not perform any processing on sound data.

The trimming unit performs processing to cut out part of a still image. The resizing unit changes the scale of a still image. The dividing unit divides a still image as illustrated in .

The encoding unit encodes the pieces of frame data as still image sound data generated by the browser thereby converting them to distribute video sound data to the communication terminal through the communication network . When the video is not in motion when there is no inter frame change a skip frame is thereafter inserted until the video moves to save a band. Sound frame data is made up of a predetermined number of samples. While a voice is stopped silent samples are added to provide a continuous frame.

When sound data is generated together with still image data by rendering both pieces of data are encoded and when only sound data is generated only encoding is performed to compress data without trimming resizing and dividing.

The creating selecting unit creates a new converter or selects pieces of frame data as still image sound data to be input to a converter that is already generated. In the creation the creating selecting unit creates a converter capable of conversion according to the capability of the communication terminal to reproduce video sound data. When sound data sound frame data is generated together with still image data video frame data by rendering the creating selecting unit creates a converter may be referred to as a first converting unit configured to convert the still image data and a converter may be referred to as a second converting unit configured to convert the sound data. In the selection a converter that is already generated is selected. For example in starting distribution to the communication terminal in addition to distribution to the communication terminal the same video sound data as video sound data being distributed to the communication terminal may be distributed to the communication terminal . In such a case furthermore when the communication terminal has the same level of capability as the capability of the communication terminal to reproduce video sound data the creating selecting unit uses the converter that is already created for the communication terminal without creating a new converter for the communication terminal

The selecting unit selects a desired one from the converters that are already generated. The selection by the creating selecting unit and the selecting unit allows distribution in various patterns as illustrated in .

The transmitter receiver transmits and receives various data requests and the like to and from the communication terminal . This transmitter receiver transmits various data requests and the like to the communication terminal through the communication network from the cloud thereby allowing the distribution control system to distribute various data requests and the like to the communication terminal . For example in the login processing of the communication terminal the transmitter receiver transmits to the transmitter receiver of the communication terminal authentication screen data for prompting a user for a login request. The transmitter receiver also performs data transmission and data reception to and from user applications of the communication terminal and device applications of the communication terminal by a protocol unique to the distribution system through a Hypertext Transfer Protocol over Secure Socket Layer HTTPS server. This unique protocol is an HTTPS based application layer protocol for transmitting and receiving data in real time without being interrupted between the distribution control system and the communication terminal. The transmitter receiver also performs transmission response control real time data creation command transmission reception response control reception data analysis and gesture conversion.

The transmission response control is processing to manage an HTTPS session for downloading requested from the communication terminal in order to transmit data from the distribution control system to the communication terminal . The response of the HTTPS session for downloading does not end immediately and holds for a certain period of time one to several minutes . The transmitter receiver dynamically writes data to be sent to the communication terminal in the body part of the response. In order to eliminate costs for reconnection another request is allowed to reach from the communication terminal before the previous session ends. By putting the transmitter receiver on standby until the previous request is completed overhead can be eliminated even when reconnection is performed.

The real time data creation is processing to give a unique header to the data of compressed video and a compressed sound generated by the encoding unit in and write it in the body part of HTTPS.

The command transmission is processing to generate command data to be transmitted to the communication terminal and write it in the body part of HTTPS directed to the communication terminal .

The reception response control is processing to manage an HTTPS session requested from the communication terminal in order for the distribution control system to receive data from the communication terminal . The response of this HTTPS session does not end immediately and is held for a certain period of time one to several minutes . The communication terminal dynamically writes data to be sent to the transmitter receiver of the distribution control system in the body part of the request.

The reception data analysis is processing to analyze the data transmitted from the communication terminal by type and deliver the data to a necessary process.

The gesture conversion is processing to convert a gesture event input to the communication terminal as the electronic blackboard by a user with an electronic pen or in handwriting into data in a format receivable by the browser .

The recognition unit performs processing on image sound data received from the communication terminal . Specifically for example the recognition unit recognizes the face age sex and the like of a human or animal based on images taken by a camera for signage. In a workplace the recognition unit performs name tagging by face recognition and processing of replacing a background image based on images taken by the camera . The recognition unit stores recognition information indicating the recognized details in the storage unit . The recognition unit achieves speeding up by performing processing with a recognition expansion board.

The delay information acquisition unit is used for the processing of upstream channel adaptive control and corresponds to the delay information acquisition unit of the communication terminal for use in the processing of downstream channel adaptive control. Specifically the delay information acquisition unit acquires transmission delay time information d1 indicating transmission delay time d1 from the decoding unit and holds it for a certain period of time and when a plurality of pieces of transmission delay time information d1 are acquired outputs to the channel adaptive controller transmission delay time information d indicating frequency distribution information based on a plurality of pieces of transmission delay time d1. The transmission delay time information d1 indicates transmission delay time indicating time from the point when the video sound data is transmitted from the communication terminal to the point when it is received by the distribution control system .

The channel adaptive controller is used for the processing of the upstream channel adaptive control and corresponds to the channel adaptive controller for use in the processing of the downstream channel adaptive control. Specifically the channel adaptive controller calculates the operation conditions of the encoding unit of the communication terminal based on the transmission delay time information d . The channel adaptive controller transmits a channel adaptive control signal indicating operation conditions such as a frame rate and data resolution to the encoding unit of the communication terminal through the transmitter receiver and the transmitter receiver .

The decoding unit decodes the video sound data transmitted from the communication terminal . The decoding unit also outputs the transmission delay time information d1 indicating transmission delay time d1 to the delay information acquisition unit

The functional configuration of the communication terminal is described with reference to . is a functional block diagram illustrating mainly the functions of the communication terminal. The communication terminal is a terminal serving as an interface for a user to perform a login to the distribution system start and stop the distribution of video sound data and the like.

As illustrated in the communication terminal has functional components in implemented by the hardware configuration including the CPU and the programs illustrated in . When the communication terminal becomes communicable with the other terminals and systems through the communication network by the insertion of the dongle as illustrated in the communication terminal has the functional components in implemented by the hardware configuration and the programs illustrated in and .

Specifically the communication terminal includes a decoding unit the transmitter receiver an operating unit the reproduction controller a rendering unit the time controller the delay information acquisition unit a display unit and the encoding unit . The communication terminal further includes a storage unit implemented by the RAM illustrated in . This storage unit stores therein time difference information indicating a time difference described below and time information t indicating time t in the communication terminal .

The decoding unit decodes video sound data distributed from the distribution control system and output from the reproduction controller .

The transmitter receiver transmits and receives various data requests and the like to and from the transmitter receiver of the distribution control system and a transmitter receiver of the terminal management system . For example in the login processing of the communication terminal the transmitter receiver performs a login request to the transmitter receiver of the terminal management system in response to the startup of the communication terminal by the operating unit .

The operating unit performs processing to receive operations input by a user such as input and selection with a power switch a keyboard a mouse the electronic pen P and the like and transmits them as operation data to the browser management unit of the distribution control system .

The reproduction controller buffers the video sound data a packet of real time data received from the transmitter receiver and outputs it to the decoding unit with the reproduction delay time U taken into account. The reproduction controller also calculates the transmission delay time information D1 indicating transmission delay time D1 and outputs the transmission delay time information D1 to the delay information acquisition unit . The transmission delay time information D1 indicates time from the point when the video sound data is transmitted from the distribution control system to the point when it is received by the communication terminal .

The time controller performs time adjustment processing in conjunction with the time acquisition unit of the distribution control system . Specifically the time controller acquires time information t indicating time t in the communication terminal from the storage unit . The time controller issues a request for time information T indicating time T in the distribution control system to the time acquisition unit of the distribution control system through the transmitter receiver and the transmitter receiver . In this case the time information t is transmitted concurrently with the request for the time information T .

The delay information acquisition unit acquires from the reproduction controller the transmission delay time information D1 indicating transmission delay time D1 and holds it for a certain period of time and when a plurality of pieces of transmission delay time information D1 are acquired outputs transmission delay time information D indicating frequency distribution information based on a plurality of pieces of transmission delay time D1 to the channel adaptive controller through the transmitter receiver and the transmitter receiver . The transmission delay time information D is transmitted for example once in a hundred frames.

The encoding unit transmits video sound data E that is acquired from a built in microphone or the camera and a microphone that are externally attached and is encoded time information t that indicates the current time tin the communication terminal and is acquired from the storage unit and the time difference information that indicates the time difference in between the distribution control system and the communication terminal and is acquired from the storage unit to the decoding unit of the distribution control system through the transmitter receiver and the transmitter receiver . The encoding unit changes the operation conditions of the encoding unit based on the operation conditions indicated by the channel adaptive control signal received from the channel adaptive controller . The encoding unit in accordance with the new operation conditions transmits the video sound data E that is acquired from the camera and the microphone and is encoded the time information t that indicates the current time tin the communication terminal and is acquired from the storage unit and the time difference information that indicates the time difference and is acquired from the storage unit to the decoding unit of the distribution control system through the transmitter receiver and the transmitter receiver .

The built in microphone the externally attached camera and microphone and the like are examples of an inputting unit and are devices that need encoding and decoding. The inputting unit may output touch data and smell data in addition to video sound data.

The inputting unit includes various sensors such as a temperature sensor a direction sensor an acceleration sensor and the like.

The functional configuration of the terminal management system is described with reference to . is a functional block diagram illustrating the functions of the terminal management system.

As illustrated in the terminal management system has functional components in implemented by the hardware configuration including the CPU and the programs illustrated in .

Specifically the terminal management system includes the transmitter receiver a transmitter receiver and an authentication unit . The terminal management system further includes a storage unit implemented by the HDD illustrated in . The storage unit stores therein distribution destination selection menu data a terminal management table and an available terminal management table .

The distribution destination selection menu is data indicating such a destination selection menu screen as illustrated in .

As illustrated in the terminal management table manages the terminal ID of the communication terminal a user certificate contract information when a user uses the services of the distribution system the terminal type of the communication terminal setting information indicating the home uniform resource locators URLs of the respective communication terminals the execution environment information of the communication terminals a shared ID installation position information and display name information in association with each other. The execution environment information includes favorites previous Cookie information and cache file of each communication terminal which are sent to the distribution control system together with the setting information after the login of the communication terminal and are used for performing an individual service on the communication terminal .

The shared ID is an ID that is used when each user distributes the same video sound data as video sound data being distributed to his her own communication terminal to the other communication terminals thereby performing remote sharing processing and is identification information that identifies the other communication terminals and the other communication terminal group. For example the shared ID of the terminal ID t006 is v006 the shared ID of the terminal ID t007 is v006 and the shared ID of the terminal ID t008 is v006 . When the communication terminal with the terminal ID t001 issues a request for remote sharing processing with the communication terminals with the terminal ID v006 the distribution control system distributes the same video sound data as video sound data being distributed to the communication terminals to the communication terminals . However when the communication terminals and the communication terminals are different in the resolution of the display unit the distribution control system distributes the video sound data accordingly.

As illustrated in for example the installation position information indicates an installation position when the communication terminals are arranged side by side. The display name information is information indicating the details of the display name in the distribution destination selection menu illustrated in .

As illustrated in the available terminal management table manages in association with each terminal ID a shared ID indicating a communication terminal or a communication terminal group with which the communication terminal indicated by the terminal ID can perform remote sharing processing.

The transmitter receiver transmits and receives various data requests and the like to and from the communication terminal . For example the transmitter receiver receives a login request from the transmitter receiver of the communication terminal and transmits an authentication result of the login request to the transmitter receiver .

The transmitter receiver transmits and receives various data requests and the like to and from the distribution control system . For example the transmitter receiver receives a request for the data of the distribution destination selection menu from the transmitter receiver of the distribution control system and transmits the data of the distribution destination selection menu to the transmitter receiver .

The authentication unit searches the terminal management table based on the terminal ID and the user certificate received from the communication terminal thereby determining whether there is the same combination of a terminal ID and a user certificate thereby authenticating the communication terminal .

Operations and pieces of processing of the present embodiment are described with reference to to . These pieces of processing are performed by the CPUs of the distribution control system the communication terminal the terminal management system and the web server in accordance with the respective programs stored therein.

Specific distribution processing in the basic distribution method illustrated in is described with reference to . is a sequence diagram illustrating the basic distribution processing of the distribution control system. Although described here is a case of issuing a login request through the communication terminal a login may be performed through the communication terminal other than the communication terminal

As illustrated in when a user turns on the communication terminal the transmitter receiver of the communication terminal issues a login request to the transmitter receiver of the terminal management system Step S . The transmitter receiver receives the login request. This login request includes the terminal ID and the user certificate of the communication terminal . The authentication unit then acquires the terminal ID and the user certificate of the communication terminal

The authentication unit searches the terminal management table based on the terminal ID and the user certificate thereby determining whether there is the same combination of a terminal ID and a user certificate thereby authenticating the communication terminal Step S . The following describes a case where the same combination of a terminal ID and a user certificate is present in the terminal management table that is where the communication terminal is determined as a valid terminal in the distribution system .

The transmitter receiver of the terminal management system transmits the IP address of the distribution control system to the transmitter receiver of the communication terminal Step S . The IP address of the distribution control system is acquired from the distribution control system by the terminal management system and is stored in the storage unit in advance.

The transmitter receiver of the terminal management system issues a startup request of the browser to the transmitter receiver of the distribution control system Step S . The transmitter receiver receives the startup request of the browser . The browser management unit starts up the browser based on the startup request received by the transmitter receiver Step S .

The creating selecting unit of the encoder bridge unit creates the converter in accordance with the capability of the communication terminal to reproduce video sound data the resolution of the display and the like and the type of content Step S . Next the transmitter receiver issues a request for content data A to the web server in accordance with an instruction by the browser Step S . In response thereto the web server reads the requested content data A from its own storage unit not illustrated Step S . The web server then transmits the content data A to the transmitter receiver of the distribution control system Step S .

The browser renders the content data A received by the transmitter receiver thereby generating pieces of frame data as still image sound data and outputs them to the transmission FIFO Step S . The converter encodes the pieces of frame data stored in the transmission FIFO thereby converting them into video sound data A to be distributed to the communication terminal Step S .

The transmitter receiver transmits the video sound data A to the transmitter receiver of the communication terminal Step S . The transmitter receiver of the communication terminal receives the video sound data A and outputs it to the reproduction controller .

In the communication terminal the decoding unit acquires the video sound data A from the reproduction controller and decodes it Step S . After that a speaker reproduces sound based on decoded sound data A and the display unit reproduces video based on video data A acquired from the decoding unit and rendered by the rendering unit Step S .

The following describes communication processing using a plurality of communication terminals through the distribution control system with reference to . is a sequence diagram illustrating distribution processing using a plurality of communication terminals through the distribution control system. Described here is specific processing for the communication terminals in the pattern illustrated in . Because the processing here includes login processing browser startup and the like similar to Steps S to S description starts with the processing corresponding to Step S.

As illustrated in the transmitter receiver of the distribution control system receives content data A from the web server Step S . The browser renders the content data A thereby generating pieces of frame data as still image sound data and outputs them to the transmission FIFO Step S .

When the encoding unit of the communication terminal receives the input of content data as video sound data E from the camera and the microphone Step S the encoding unit encodes the content data E Step S . The transmitter receiver transmits the content data E encoded by the encoding unit to the transmitter receiver of the distribution control system Step S . The transmitter receiver of the distribution control system receives the content data E .

The decoding unit of the distribution control system decodes the content data E received by the transmitter receiver and outputs it to the reception FIFO Step S . The browser renders the content data E stored in the reception FIFO thereby generating frame data E as still image sound data and outputs it to the transmission FIFO Step S . In this case the browser outputs the data in a layout in which the content data E is combined with the content data A already acquired.

In addition when the operating unit of the communication terminal receives the input of a stroke operation with the electronic pen P1 Step S the transmitter receiver transmits operation data p indicating the details of the stroke operation received by the operating unit to the transmitter receiver of the distribution control system Step S . The transmitter receiver of the distribution control system receives the operation data p . The browser management unit outputs the operation data p received by the transmitter receiver to the browser .

The browser renders the operation data p thereby generating frame data p as still image sound data and outputs it to the transmission FIFO Step S . In this case the browser outputs the data in a layout in which the operation data p is combined with the content data A E already acquired.

The converter encodes pieces of frame data A E p as still image sound data stored in the transmission FIFO thereby converting them into video sound data A E p to be distributed to the communication terminals and Step S .

The transmitter receiver acquires the encoded video sound data A E p from the encoder bridge unit including the converter and transmits it to the transmitter receiver of the communication terminal Step S . The transmitter receiver of the communication terminal receives the video sound data A E p and the reproduction controller of the communication terminal acquires the video sound data A E p from the transmitter receiver . In the communication terminal the decoding unit acquires the video sound data A E p from the reproduction controller and decodes it Step S . After that the speaker reproduces sound based on decoded sound data A E and the display unit reproduces video based on video data A E p acquired from the decoding unit and rendered by the rendering unit Step S .

For the communication terminal as is the case with Step S the transmitter receiver acquires the encoded video sound data A E p from the encoder bridge unit and transmits it to the transmitter receiver of the communication terminal Step S . The reproduction controller of the communication terminal acquires the video sound data A E p . In the communication terminal the decoding unit acquires the video sound data A E p from the reproduction controller and decodes it Step S . After that the speaker reproduces sound based on decoded sound data A E and the display unit reproduces video based on video data A E p acquired from the decoding unit and rendered by the rendering unit Step S .

Thus the same video sound as the video sound output to the communication terminal is output also to the communication terminal .

In the above description the communication terminals illustrated in are used as the external camera microphone speaker of the communication terminals respectively. As described above the communication terminals may communicate with the distribution control system independently of the communication terminals respectively.

In this case the processing at Step S to Step S is processing performed by the communication terminal . At Step S the video frame data A E video part p is encoded to be converted into video data and the sound frame data E sound part is encoded to be converted into sound data by the converter configured to convert the video frame data and the converter configured to convert the sound frame data.

At Step S the video data A E video part p after being encoded is transmitted to the communication terminal and the sound data E sound part after being encoded is transmitted to the communication terminal . The communication terminal decodes and renders the video data A E video part p transmitted from the distribution control system to reproduce video. However the sound data E sound part after being encoded and transmitted to the communication terminal is not output from the communication terminal owing to the echo cancelling function of the communication terminal .

At Step S the video data A E video part p after being encoded is transmitted to the communication terminal and the sound data E sound part after being encoded is transmitted to the communication terminal . The communication terminal decodes and renders the video data A E video part p transmitted from the distribution control system to reproduce video. The communication terminal decodes the sound data E sound part after being encoded to reproduce sound.

The processing of time adjustment is described with reference to . is a sequence diagram illustrating the processing of time adjustment.

In order to acquire time indicating when the transmitter receiver issues a request for the time information T to the distribution control system the time controller of the communication terminal acquires time information t in the communication terminal from the storage unit Step S . The transmitter receiver issues a request for the time information T to the transmitter receiver Step S . In this case the time information t is transmitted concurrently with the request for the time information T .

In order to acquire time indicating when the transmitter receiver received the request at Step S the time acquisition unit of the distribution control system acquires time information T in the distribution control system from the time management unit Step S . In order to acquire time indicating when the transmitter receiver responds to the request at Step S the time acquisition unit further acquires time information T in the distribution control system from the time management unit Step S . The transmitter receiver then transmits the time information t T T to the transmitter receiver .

In order to acquire time indicating when the transmitter receiver received the response at Step S the time controller of the communication terminal acquires time information t in the communication terminal from the storage unit Step S .

The time controller of the communication terminal calculates the time difference between the distribution control system and the communication terminal Step S . This time difference is given by Equation 1 below. 2 2 1 

The time controller stores the time difference information indicating the time difference in the storage unit Step S . The series of processing of time adjustment is performed for example regularly every minute.

Described next with reference to is the processing of channel adaptive control on data transmitted from the distribution control system to the communication terminal downstream . is a sequence diagram illustrating the processing of channel adaptive control on data transmitted from the distribution control system to the communication terminal.

First the channel adaptive controller of the distribution control system calculates reproduction delay time information U indicating reproduction delay time U for delaying reproduction by buffering until the reproduction controller of the communication terminal reproduces video sound data and outputs the reproduction delay time information U to the encoder bridge unit Step S .

The transmitter receiver then acquires the reproduction delay time information U from the encoder bridge unit and transmits it to the transmitter receiver of the communication terminal Step S . The transmitter receiver of the communication terminal receives the reproduction delay time information U . The encoder bridge unit adds time information T indicating time Tacquired from the time management unit as a time stamp to the video sound data A acquired from the transmission FIFO and encoded for example Step S . The transmitter receiver transmits the video sound data and the time information T of the distribution control system to the transmitter receiver of the communication terminal Step S . The transmitter receiver of the communication terminal receives the time information T of the distribution control system and outputs the video sound data and the time information T to the reproduction controller .

In the communication terminal based on the reproduction delay time information U acquired at Step S the time information T acquired at Step S and the time difference information stored in the storage unit at Step S the reproduction controller waits until the time T U in the communication terminal and then outputs the video sound data acquired at Step S to the decoding unit . This causes the speaker to output sound and the display unit to reproduce video through the rendering unit Step S . This causes only video sound data received by the communication terminal within the range of the reproduction delay time U given by Equation 2 below to be reproduced while video sound data out of the range is delayed excessively and is deleted without being reproduced. 2 

The reproduction controller reads the current time tin the communication terminal from the storage unit Step S . This time tindicates time in the communication terminal when the communication terminal received video sound data from the distribution control system . The reproduction controller further reads the time difference information indicating the time difference stored at Step S in the storage unit Step S . The reproduction controller then calculates the transmission delay time D1 indicating time from the point when the video sound data is transmitted from the distribution control system to the point when it is received by the communication terminal Step S . This calculation is performed with Equation 3 below when the communication network becomes congested the transmission delay time D1 becomes longer. 1 3 

The delay information acquisition unit acquires transmission delay time information D1 indicating the transmission delay time D1 from the reproduction controller and holds it for a certain period of time and when a plurality of pieces of transmission delay time information D1 are acquired outputs to the transmitter receiver the transmission delay time information D indicating frequency distribution information based on a plurality of pieces of transmission delay time D1 Step S . The transmitter receiver transmits the transmission delay time information D to the transmitter receiver of the distribution control system Step S . The transmitter receiver of the distribution control system receives the transmission delay time information D and outputs the transmission delay time information D to the channel adaptive controller .

The channel adaptive controller of the distribution control system newly calculates reproduction delay information U based on the transmission delay time information D and calculates the operation conditions such as the frame rate and the data resolution of the converter and outputs them to the encoder bridge unit Step S . In other words the channel adaptive controller changes the operation of the encoder bridge unit based on the transmission delay time information D and the size of the data e.g. the number of bits or the number of bytes .

The transmitter receiver acquires reproduction delay time information U indicating the new reproduction delay time U calculated at Step S from the encoder bridge unit and transmits the reproduction delay time information U to the transmitter receiver of the communication terminal Step S . The transmitter receiver of the communication terminal receives the reproduction delay time information U .

The converter of the encoder bridge unit changes the operation conditions of the converter based on the channel adaptive control signal indicating the operation conditions Step S . For example when the transmission delay time D1 is excessively long and the reproduction delay time U is made longer in accordance with the transmission delay time D1 reproduction time at the speaker and the display unit becomes delayed excessively. As a result there is a limit to making the reproduction delay time U longer. In view of this the channel adaptive controller not only causes the encoder bridge unit to change the reproduction delay time U to be the reproduction delay time U but also causes the converter to decrease the frame rate of video sound data and to decrease the resolution of video sound data thereby addressing the congestion of the communication network . This causes the encoder bridge unit as with Step S to add the current time information T to the video sound data A as a time stamp in accordance with the changed operation conditions Step S . The video sound data is thus added Step S . The transmitter receiver transmits the video sound data and the time information T of the distribution control system to the transmitter receiver of the communication terminal Step S . The transmitter receiver of the communication terminal receives the video sound data and the time information T of the distribution control system and outputs the video sound data and the time information T to the reproduction controller .

In the communication terminal based on the reproduction delay time information U acquired at Step S the time information T acquired at Step S and the time difference information stored in the storage unit at Step S the reproduction controller waits until the time T U in the communication terminal and then outputs the video sound data to the decoding unit thereby as with Step S causing the speaker to output sound and the display unit to reproduce video through the rendering unit Step S . This is followed by the processing at and after Step S. Thus the processing of the downstream channel adaptive control is performed continuously.

The processing of the channel adaptive control described above can appropriately reproduce video sound by the communication terminal while responding to load fluctuations of the communication network . When the video sound of the same content is reproduced by a plurality of communication terminals each of the communication terminals controls timing for starting the reproduction of the video sound based on reproduction delay time information thereby reproducing the video sound in a synchronized manner among the communication terminals . When the video and the sound of the same content are reproduced by separate communication terminals the communication terminal that reproduces video and the communication terminal that reproduces sound control timing for starting the reproduction of the video and the sound based on reproduction delay time information separately thereby reproducing the video and the sound of the same content in a synchronized manner.

In order to reproduce the video and the sound of the same content by the separate communication terminals in a synchronized manner the video and the sound sampled at the same time are required to be reproduced at the same timing by the separate communication terminals . This reproduction synchronization can be achieved by causing the reproduction controller of the communication terminal that reproduces video and the reproduction controller of the communication terminal that reproduces sound to adjust buffering time of video data and sound data based on common reproduction delay time to match the timing for starting the reproduction of the video and the sound sampled at the same timing.

As for the video assume that the time required for sample acquisition and encoding by the distribution control system is A1 the transmission time of the video data from the distribution control system to the communication terminal that reproduces video is B1 and the time required for the decoding and the like of the video data by the communication terminal that reproduces video is D1. As for the sound assume that the time required for sample acquisition and encoding by the distribution control system is A2 the transmission time of the sound data from the distribution control system to the communication terminal that reproduces sound is B2 and the time required for the decoding and the like of the sound data by the communication terminal that reproduces sound is D2.

In the example of the time obtained by adding A1 B1 and D1 is longer than the time obtained by adding A2 B2 and D2 and when the communication terminal that reproduces video and the communication terminal that reproduces sound immediately decode and reproduce the received video data and sound data respectively the video and the sound are not synchronized. Given this situation the distribution control system determines reproduction delay time which is the time from sampling time to reproduction start time in accordance with the quality or the like of a channel that transmits the video data and the sound data. The reproduction controller of the communication terminal that reproduces video and the reproduction controller of the communication terminal that reproduces sound adjust buffering times C1 C2 based on the common reproduction delay time determined by the distribution control system and match the timing for starting the reproduction of the video and the sound sampled at the same timing thereby synchronizing the reproduction of the video and the sound. The example of makes the buffering time C2 for buffering the sound data longer than the buffering time C1 for buffering the video data thereby synchronizing the reproduction of the video and the sound.

The reproduction delay time is determined by the processing of the channel adaptive control described above and is separately reported to the communication terminal that reproduces video and the communication terminal that reproduces sound. The same reproduction delay time is set in the reproduction controller of the communication terminal that reproduces video and the reproduction controller of the communication terminal that reproduces sound. The reproduction controller of the communication terminal that reproduces video and the reproduction controller of the communication terminal that reproduces sound determine the buffering times C1 C2 respectively based on the sampling times written in the headers or the like of the video data and the sound data transmitted from the distribution control system time differences with respect to the distribution control system obtained by the time adjustment processing described above and the reproduction delay time described above. This causes the reproduction of the video and the sound sampled at the same time to be started at the same timing and causes the video and the sound of the same content to be reproduced in a synchronized manner.

Described next with reference to is the processing of channel adaptive control on data transmitted from the communication terminal to the distribution control system upstream . is a sequence diagram illustrating the processing of channel adaptive control on data transmitted from the communication terminal to the distribution control system.

First the encoding unit of the communication terminal encodes content data as video sound data E input from the camera and the microphone Step S . In this situation the encoding unit acquires the time information t indicating the current time tin the communication terminal and the time difference information indicating the time difference from the storage unit and does not encode them. The transmitter receiver transmits the video sound data E the time information t and the time difference information A to the transmitter receiver of the distribution control system Step S . The transmitter receiver of the distribution control system receives the video sound data E the time information t and the time difference information .

In the distribution control system the decoding unit reads time Tindicating when the video sound data E and the like were received at Step S from the time management unit Step S . The decoding unit then calculates transmission delay time d1 indicating time from the point when the video sound data is transmitted from the communication terminal to the point when it is received by the distribution control system Step S . This calculation is performed by Equation 4 below when the communication network becomes congested the transmission delay time d1 becomes longer. 1 4 

As is the case with the delay information acquisition unit the delay information acquisition unit of the distribution control system acquires transmission delay time information d1 indicating the transmission delay time d1 from the decoding unit and holds it for a certain period of time and when a plurality of pieces of transmission delay time information d1 are acquired outputs to the channel adaptive controller the transmission delay time information d indicating frequency distribution information based on a plurality of pieces of the transmission delay time d1 Step S .

Based on the transmission delay time information d the channel adaptive controller calculates the operation conditions of the encoding unit Step S . The transmitter receiver transmits a channel adaptive control signal indicating the operation conditions such as a frame rate and data resolution to the transmitter receiver of the communication terminal Step S . The transmitter receiver of the communication terminal receives the channel adaptive control signal. In other words in the case of the channel adaptive control illustrated in downstream the channel adaptive control signal is output to the encoder bridge unit within the same distribution control system and in contrast in the case of the channel adaptive control illustrated in upstream the channel adaptive control signal is transmitted to the communication terminal from the distribution control system through the communication network .

Based on the operation conditions received by the transmitter receiver the encoding unit changes the operation conditions of the encoding unit Step S . The encoding unit then performs the same processing as Step S based on the new operation conditions Step S . The transmitter receiver as with Step S transmits the video sound data E acquired from the camera and the microphone and encoded the time information t indicating the current time tin the communication terminal acquired from the storage unit and the time difference information indicating the time difference also acquired from the storage unit to the transmitter receiver of the distribution control system Step S . The transmitter receiver of the distribution control system receives the video sound data E the time information t and the time difference information . This is followed by the processing at and after Step S. Thus the processing of the upstream channel adaptive control is performed continuously.

The processing of multidisplay is described next with reference to to . to are sequence diagrams illustrating the processing of multidisplay illustrated in .

The following describes an example of reproducing video sound XYZ being reproduced on the communication terminal also on the communication terminals in a divided manner.

The browser for displaying web content is referred to as a browser and the browser for displaying a setting screen for a user is referred to as a browser . Described first is the processing corresponding to Step S in .

First the browser of the distribution control system renders the web content data XYZ acquired from the web server thereby generating pieces of frame data as still image sound data and outputs them to the transmission FIFO Step S . The converter encodes the pieces of frame data stored in the transmission FIFO thereby converting them into video sound data XYZ in a data format distributable to the communication terminal Step S .

The transmitter receiver transmits the video sound data XYZ converted by the converter to the transmitter receiver of the communication terminal Step S . The transmitter receiver of the communication terminal receives the video sound data XYZ and outputs it to the reproduction controller .

In the communication terminal the decoding unit acquires the video sound data XYZ from the reproduction controller and decodes it Step S . After that the speaker reproduces sound based on decoded sound data XYZ and the display unit reproduces video based on video data XYZ acquired from the decoding unit and rendered by the rendering unit Step S .

A screen displayed on the display unit is switched to a menu request screen not illustrated by the user of the communication terminal and the operating unit receives the pressing of a distribution destination selection menu not illustrated on the menu request screen Step S . This causes the transmitter receiver to transmit a request for switching to the distribution destination selection menu to the transmitter receiver of the terminal management system Step S . The transmitter receiver of the terminal management system receives the request for switching to the distribution destination selection menu. This request includes the terminal ID of the communication terminal

The transmitter receiver transmits a startup request of the browser to the transmitter receiver of the distribution control system Step S . The transmitter receiver of the distribution control system receives the startup request of the browser and issues the startup request of the browser to the browser management unit .

The browser management unit then starts up the browser Step S . The creating selecting unit of the encoder bridge unit switches the output from the browser to the converter e.g. the converter to the output from the browser to the converter e.g. the converter Step S . When the communication terminal and another communication terminal e.g. the communication terminal are sharing the converter e.g. the converter to receive the video sound data at Step S the creating selecting unit of the encoder bridge unit newly creates the converter e.g. the converter because the other communication terminal e.g. the communication terminal is using the converter e.g. the converter for the browser

The transmitter receiver transmits a request for a distribution destination selection menu to the transmitter receiver of the terminal management system in accordance with an instruction by the browser Step S . In this situation the terminal ID of the communication terminal is also transmitted. The transmitter receiver of the terminal management system receives the request for a distribution destination selection menu and outputs the terminal ID of the communication terminal to the storage unit .

In response thereto the storage unit of the terminal management system searches the available terminal management table based on the terminal ID thereby extracting the corresponding shared ID Step S . This shared ID indicates a communication terminal available for the communication terminal to perform remote sharing processing. As illustrated in because the terminal ID of the communication terminal is t001 the shared IDs to be extracted are v003 and v006 .

The storage unit further searches the terminal management table based on the extracted shared ID thereby extracting display name information indicating the corresponding display name Step S . As illustrated in the display names corresponding to the extracted shared IDs v003 and v006 are Tokyo head office F MFP and Osaka exhibition hall F multidisplay respectively.

The transmitter receiver transmits distribution destination selection menu data M as content data to the transmitter receiver of the distribution control system Step S . The transmitter receiver of the distribution control system receives the distribution destination selection menu data M and outputs it to the browser . As illustrated in this distribution destination selection menu data M includes check boxes shared IDs and display names.

As illustrated in the browser renders the content data indicating the distribution destination selection menu data M acquired from the terminal management system thereby generating pieces of frame data as still image sound data and outputs them to the transmission FIFO Step S . The converter encodes the pieces of image sound data M stored in the transmission FIFO thereby converting them into video sound data M in a data format distributable to the communication terminal Step S .

The transmitter receiver transmits the video sound data M converted by the converter to the transmitter receiver of the communication terminal Step S . The transmitter receiver of the communication terminal receives the video sound data M and outputs it to the reproduction controller .

In the communication terminal the decoding unit acquires the video sound data M from the reproduction controller and decodes it Step S . After that the display unit reproduces video as illustrated in based on the video data XYZ acquired from the decoding unit and rendered by the rendering unit Step S .

In the distribution destination selection menu illustrated in when the check box of the shared ID v006 is checked and the OK button is pressed by the user the operating unit receives the operation input by the user Step S .

The transmitter receiver transmits a check result as operation data to the transmitter receiver of the distribution control system Step S . The transmitter receiver of the distribution control system receives the check result as operation data and outputs it to the browser

The browser selects the shared ID from the check result Step S . The transmitter receiver transmits a request for adding a distribution destination to the transmitter receiver of the terminal management system in accordance with an instruction by the browser Step S . This request for adding a distribution destination includes the shared ID selected at Step S. The transmitter receiver of the terminal management system receives the request for adding a distribution destination and outputs the shared ID to the storage unit . The browser then ends Step S . This causes the creating selecting unit of the encoder bridge unit to switch the output from the browser to the converter back to the output from the browser to the converter Step S .

As illustrated in in the storage unit of the terminal management system the terminal management table is searched based on the shared ID sent at Step S thereby extracting the corresponding terminal ID and installation position information Step S . The transmitter receiver transmits an instruction to add a distribution destination to the transmitter receiver of the distribution control system Step S . This instruction to add a distribution destination includes the terminal ID and the installation position information extracted at Step S. The transmitter receiver of the distribution control system receives the instruction to add a distribution destination and outputs the instruction to add a distribution destination to the browser management unit . Included here are three sets of the terminal ID and the installation position information that is the terminal ID and the installation position information being t006 and left respectively the terminal ID and the installation position information being t007 and middle respectively and the terminal ID and the installation position information being t008 and right respectively.

The creating selecting unit of the encoder bridge unit creates a converter for multidisplay Step S . In this case the creating selecting unit of the encoder bridge unit acquires the terminal ID and the installation position information from the browser management unit .

The dividing unit of the converter created at Step S divides the pieces of frame data XYZ as still image sound data stored in the transmission FIFO and the encoding unit encodes the divided pieces of frame data Step S .

The transmitter receiver transmits video sound data X encoded by the encoder bridge unit to the transmitter receiver of the communication terminal based on the terminal ID t006 and the installation position information left Step S . The transmitter receiver of the communication terminal receives the video sound data X and outputs it to the reproduction controller .

In the communication terminal the decoding unit acquires the video sound data X from the reproduction controller and decodes it Step S . After that the speaker reproduces sound based on decoded sound data X and the display unit reproduces video based on video data X acquired from the decoding unit and rendered by the rendering unit Step S .

Similarly the transmitter receiver transmits video sound data Y encoded by the encoder bridge unit to the transmitter receiver of the communication terminal based on the terminal ID t007 and the installation position information middle Step S . The transmitter receiver of the communication terminal receives the video sound data Y and outputs it to the reproduction controller .

In the communication terminal the decoding unit acquires the video sound data Y from the reproduction controller and decodes it Step S . After that the speaker reproduces sound based on decoded sound data Y and the display unit reproduces video based on video data Y acquired from the decoding unit and rendered by the rendering unit Step S .

Similarly the transmitter receiver transmits video sound data Z encoded by the encoder bridge unit to the transmitter receiver of the communication terminal based on the terminal ID t008 and the installation position information right Step S . The transmitter receiver of the communication terminal receives the video sound data Z and outputs it to the reproduction controller .

In the communication terminal the decoding unit acquires the video sound data Z from the reproduction controller and decodes it Step S . After that the speaker reproduces sound based on decoded sound data Z and the display unit reproduces video based on video data Z acquired from the decoding unit and rendered by the rendering unit Step S .

As described above with reference to the specific example in the distribution system according to the present embodiment the distribution control system includes the browser that performs rendering and the encoder bridge unit that performs encoding and the like in the cloud. The browser generates pieces of frame data as still image sound data based on content data described in a certain description language. The encoder bridge unit converts the pieces of frame data into video sound data distributable through the communication network . After that the distribution control system distributes the video sound data to the communication terminal . As a result the communication terminal can smoothly reproduce web content without update of its browser or time and costs for upgrading the specifications of a CPU an OS a RAM and the like. This eliminates the problem in that enriched content increases a load on the communication terminal .

In particular the browser enables real time communication and the converter performs real time encoding on the frame data generated by the browser . Consequently unlike a case in which a DVD player selects and distributes non real time that is pre encoded video sound data as seen in for example on demand distribution of video sound data the distribution control system renders content acquired immediately before being distributed thereby generating pieces of frame data and then encoding them. This allows real time distribution of video sound data.

In the distribution system according to the present embodiment the distribution control system separately encodes video frame data and sound frame data generated from content data and converts them into transmission data transmits the transmission data video data converted from the video frame data to the communication terminal that reproduces video and transmits the transmission data sound data converted from the sound frame data to the communication terminal that reproduces sound thereby reproducing the video and the sound of the content by the separate communication terminals.

The distribution system according to the present embodiment includes the terminal management system and the distribution control system as separate systems. For example the terminal management system and the distribution control system may be constructed as an integral system by for example causing the distribution control system to have the functions of the terminal management system .

The distribution control system and the terminal management system according to the above embodiment may be implemented by a single computer or may be implemented by a plurality of computers in which individual parts functions means or storage units are divided and assigned in any desirable unit.

Storage media such as CD ROMs and HDDs in which the programs of the above embodiment are recorded can be provided as program products domestically or abroad.

One aspect of the present invention can resolve a problem in that a high load is imposed on a communication terminal to respond to the enrichment of content and also can reproduce video and sound of content with separate communication terminals.

Although the invention has been described with respect to specific embodiments for a complete and clear disclosure the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the art that fairly fall within the basic teaching herein set forth.

