---

title: Configuration data handling in wireless communication devices
abstract: Enhanced handling of device configuration data in wireless communication devices is provided herein. In one example, a method is presented that includes receiving data transferred by a device management node for incorporation into a node of a configuration data tree that stores device configuration data for the wireless communication device. The method also includes identifying the data as unable to be incorporated into the configuration data tree, and transferring a rejection notice for delivery to the device management node. The method also includes receiving a node addition instruction and responsively creating a new data tree that is populated with at least one blank node and is linked to a root node shared with the configuration data tree. The method also includes receiving again the data transferred by the device management node and responsively incorporating the data into the blank node of the new data tree.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09602346&OS=09602346&RS=09602346
owner: Sprint Communications Company L.P.
number: 09602346
owner_city: Overland Park
owner_country: US
publication_date: 20141211
---
Aspects of this disclosure are related to the field of wireless communications and in particular to wireless communication systems and wireless communication devices.

Wireless communication systems can include user devices such as cellular communication devices that can receive wireless access to communication services from various access nodes of a cellular communication network distributed over a geographic area. The user devices can include various other transceivers and interfaces for communicating over different wired and wireless links. Various configuration data can be stored on the user devices. This configuration data can include parameters and information related to the user devices and the wireless access such as device identifiers phone numbers of the devices identities access parameters service parameters or other data. However data structures and associated information associated with the configuration data can be predetermined and not allow flexibility in the configuration of the user devices.

One example of the configuration data includes the Open Mobile Alliance OMA Device Management DM tree. The OMA DM comprises protocols configuration specifications and data structures for handling configuration data between management entities and user devices. The OMA DM can handle provisioning of user devices enabling and disabling features of the user devices configuration of parameters and settings on the user device software upgrades and fault management for the user devices among other user device properties.

Systems methods apparatuses and software for handling device configuration data in wireless communication devices are provided herein. In one example method is presented that includes receiving a configuration change request transferred by a device management node the configuration change request comprising payload data for incorporation into one of a plurality of nodes of a configuration data tree that stores at least the device configuration data for the wireless communication device. The method also includes identifying the payload data as unable to be incorporated into the configuration data tree and responsively rejecting the configuration change request by at least transferring a rejection notice for delivery to the device management node. The method also includes receiving a node addition instruction transferred by the device management node and responsively creating a new data tree that is populated with at least one blank node and is linked to a root node shared with the configuration data tree. The method also includes receiving a further configuration change request transferred by the device management node the further configuration change request comprising the payload data for incorporation into the new data tree and responsively incorporating the payload data into the blank node of the new data tree.

In another example a wireless communication device is provided. The wireless communication device includes a network transceiver configured to receive a configuration change request transferred by a device management node the configuration change request comprising payload data for incorporation into one of a plurality of nodes of a configuration data tree that stores at least the device configuration data for the wireless communication device. The wireless communication device includes processing circuitry configured to identify the payload data as unable to be incorporated into the configuration data tree and responsively reject the configuration change request by at least transferring a rejection notice for delivery to the device management node. The network transceiver is configured to receive a node addition instruction transferred by the device management node and the processing circuitry configured to responsively create a new data tree that is populated with at least one blank node and is linked to a root node shared with the configuration data tree. The network transceiver is configured to receive a further configuration change request transferred by the device management node the further configuration change request comprising the payload data for incorporation into the new data tree and the processing circuitry configured to responsively incorporate the payload data into the blank node of the new data tree.

In operation wireless communication device receives wireless access to communication services over wireless link . One or more wireless access nodes of wireless communication network can provide this wireless access and these wireless access nodes can be distributed over a geographic area. Wireless communication device includes configuration data in at least one data structure of wireless communication device . This configuration data can relate to various parameters and properties of wireless communication device such as access parameters service parameters device identifiers operating software information phone numbers user identifiers or other parameters and properties of wireless communication device including combinations and variations thereof.

In the configuration data for wireless communication device is stored in at least data tree . Data tree comprises a tree data structure stored on at least one computer readable media of wireless communication device . During operation wireless communication device may receive changes or additions to the various elements of the configuration data. However in many examples data tree is fixed by a predetermined standards body or original equipment manufacturer and some changes or additions might not be able to be incorporated into data tree .

To provide for enhanced operation of wireless communication device in handling configuration data is presented. is a flow diagram illustrating a method of operation of wireless communication device . The operations of are listed below parenthetically. In wireless communication device receives configuration change request transferred by device management node . Configuration change request comprises payload data for incorporation into at least one of a plurality of nodes of configuration data tree that stores at least the device configuration data for wireless communication device .

The configuration change request can comprise a request to change a parameter or property of wireless communication device that is stored within data tree . These parameters or properties are mentioned above for the configuration data among other parameters and properties. Payload data comprises the configuration data along with any associated indicators such as a payload type node type configuration data type or other indicator.

Wireless communication device identifies payload data as unable to be incorporated into configuration data tree . In this example configuration change request might be attempting to replace data in an existing node of data tree or add a node into data tree . Data tree is comprised of a plurality of predetermined fixed nodes and node types. Attempts to change or alter the nodes or node types can be rejected by wireless communication device .

Wireless communication device rejects configuration change request by at least transferring rejection notice for delivery to device management node . Rejection notice can indicate that configuration change request was directed to changes that data tree could not accommodate such as to nodes or node types that cannot be changed by wireless communication device . Rejection notice can indicate the payload data included with configuration change request . In further examples when configuration change request is directed to changes that data tree can accommodate then wireless communication device can transfer a success notice for delivery to device management node .

Wireless communication device receives a node addition instruction transferred by device management node . Responsive to rejection notice device management node transfers a node addition instruction for delivery to wireless communication device . The node addition instruction can indicate a node type or a node property or can indicate that a new blank or generic node should be added to configuration data stored by wireless communication device .

Wireless communication device creates new data tree that is populated with at least one blank node and is linked to a root node shared with configuration data tree . In new data tree is shown as added by wireless communication device in addition to existing data tree . Data tree and data tree can share a root element such as a root node. Data tree and data tree can be traversable via the root node. Data tree is populated by one or more leaf nodes. These one or more nodes comprise blank or generic nodes which are not populated by configuration data.

Wireless communication device receives further configuration change request transferred by device management node . Further configuration change request comprises payload data for incorporation into new data tree . In this example payload data includes payload data and can comprise the same payload data. Responsive to configuration change request wireless communication device incorporates payload data into a blank node of new data tree . Data tree cannot accommodate payload data or in this example and the configuration data indicated by payload data or is instead incorporated into one or more blank or generic nodes of data tree . Incorporation into data tree can include overwriting a default or placeholder data portion of the blank node and reconfiguring the type of the blank node to correspond to a configuration data type indicated by configuration change request . Wireless communication device can store further configuration change request data in data tree .

Returning to the elements of wireless communication device comprises transceiver circuitry processing circuitry and user interface elements. The transceiver circuitry typically includes amplifiers filters modulators and signal processing circuitry. Wireless communication device can also include user interface systems network interface card equipment memory devices non transitory computer readable storage mediums software processing circuitry or some other communication components. Wireless communication device can be a wireless communication device subscriber equipment customer equipment access terminal smartphone telephone mobile wireless telephone personal digital assistant PDA computer e book mobile Internet appliance wireless network interface card media player game console or some other wireless communication apparatus including combinations thereof. In this example wireless communication device includes multiple transceiver portions or antenna portions among other circuit and equipment elements for communicating wirelessly with multiple wireless communication networks using different wireless communication modes or wireless communication protocols.

Wireless communication network comprises communication and control systems for providing access to communication services for user devices and networks. Wireless communication network can provide communication services including communication routing link bridging network communications data exchange or other communication services. In some examples wireless communication network is a cellular voice and data network that can provide voice calls text messages data access or other communication services provided over cellular or wireless communication networks. In some examples wireless communication network includes equipment to provide wireless access to communication services within different coverage areas to user devices route communications between content providers and user devices and facilitate handoffs between equipment of different coverage areas among other operations. Wireless communication network can also comprise elements such as radio access network RAN equipment E UTRAN Node B equipment eNodeB equipment Evolved Node B equipment Mobility Management Entity MME equipment interworking functions IWF Home Subscriber Servers HSS Policy and Charging Rules Function nodes PCRF packet data network gateways PGW serving gateways SGW Evolved Universal Terrestrial Radio Access E UTRA network equipment base stations base transceiver stations BTS base station controllers BSC mobile switching centers MSC home location registers HLR radio node controllers RNC call processing systems authentication authorization and accounting AAA equipment access service network gateways ASN GW packet data switching nodes PDSN home agents HA mobility access gateways MAG configuration nodes management nodes Internet access nodes telephony service nodes databases or other communication and control equipment.

Device management node comprises computer processing systems and equipment. Device management node can include communication or network interfaces as well as computer systems microprocessors circuitry cloud based systems or some other processing devices or software systems and can be distributed among multiple processing devices. Examples of device management node can also include software such as an operating system logs data structures databases utilities drivers networking software and other software stored on a computer readable medium.

Communication link includes one or more wireless links and use the air or space as the transport media. Communication link comprises one or more wireless communication links provided over an associated wireless frequency spectrum or wireless frequency band and can use various protocols. In this example communication link can each comprise Long Term Evolution LTE LTE Advanced Code Division Multiple Access CDMA Evolution Data Optimized EVDO single carrier radio transmission technology link 1xRTT Global System for Mobile Communication GSM Universal Mobile Telecommunications System UMTS High Speed Packet Access HSPA Radio Link Protocol RLP 3rd Generation Partnership Project 3GPP Worldwide Interoperability for Microwave Access WiMAX Orthogonal Frequency Division Multiple Access OFDMA Single carrier frequency division multiple access SC FDMA Wideband Code Division Multiple Access W CDMA Time Division Synchronous Code Division Multiple Access TD SCDMA IEEE 802.11 Wireless Fidelity Wi Fi or some other cellular or wireless communication format including combinations improvements or variations thereof.

Communication link uses metal glass optical air space or some other material as the transport media. Communication link can use various communication protocols such as Time Division Multiplex TDM asynchronous transfer mode ATM Internet Protocol IP Ethernet synchronous optical networking SONET hybrid fiber coax HFC Universal Serial Bus USB circuit switched communication signaling wireless communications or some other communication format including combinations improvements or variations thereof. Communication link can be a direct link or can include intermediate networks systems or devices and can include a logical network link transported over multiple physical links. Communication link can include many different signals sharing the same associated link as represented by the associated lines in comprising resource blocks access channels paging channels notification channels forward links reverse links user communications communication sessions overhead communications carrier frequencies other channels timeslots spreading codes transportation ports logical transportation links network sockets packets or communication directions.

Although one main link for each of links is shown in it should be understood that links are merely illustrative to show communication modes or access pathways. In other examples further links can be shown with portions of the further wireless links shared and used for different communication sessions or different content types among other configurations.

As a further example for enhanced handling of configuration data in wireless communication systems is presented. is a system diagram illustrating communication system . includes user device Open Mobile Alliance OMA server and cellular network . User device comprises a smartphone device and receives wireless access to communication services over wireless link from cellular network . The communication services can include voice calls text messaging data exchange Internet access among other services. OMA server and cellular network communicate over link .

Cellular network includes one or more wireless access nodes such as base stations distributed over a geographic area to provide wireless access to communication services for one or more wireless user devices such as user device . To manage and configure the various user devices OMA server is included which can deliver configuration data to the user devices over cellular network . OMA server comprises computer processing systems and equipment. OMA server comprises can include communication or network interfaces as well as computer systems microprocessors circuitry cloud based systems or some other processing devices or software systems and can be distributed among multiple processing devices and systems.

User device includes OMA client and system property storage . OMA client comprises software executed by user device which interfaces with OMA server for exchanging configuration data for user device . OMA client stores configuration data for user device in system property storage . Storage comprises one or more computer readable storage media accessible by OMA client such as included in a storage system of user device .

Configuration data is stored in one or more data structures namely data trees in . A first data tree comprises an original equipment manufacturer configuration tree and a second data tree is created by OMA client with blank nodes responsive to configuration data that is not suitable for storage in data tree as detailed below in . Data tree and data tree share a common data structure root in this example.

In this example data tree includes OMA device management DM data and can represent OMA DM represents management objects of user device as a hierarchical tree structure where nodes can be uniquely addressed with uniform resource identifiers URIs . In some examples data tree comprises a Device Management Tree DMT . OMA server can obtain current configuration information from data tree that indicate the various OMA DM properties of user device . The various tree nodes of data tree can be queried by OMA server by way of OMA client . In some examples predetermined nodes of data tree can be altered by OMA server . However in many examples some nodes cannot be altered without altering the entire data tree or alternatively some nodes of data tree cannot have an associated node type changed or have additional copies of the same type within data tree .

To further illustrate the operations of communication system is presented. is a sequence diagram illustrating a method of operation of communication system . In two transactions are detailed. A first transaction illustrates a successful configuration change request without addition of a data tree while a second transaction illustrates a successful change request with addition of data tree .

Turning to the first transaction user device includes OMA client which interfaces with OMA server to handle transfer and storage of configuration information for user device . First an OMA session is setup between OMA client and OMA server . This OMA session can comprise a wireless application protocol WAP push or session over SMS. The OMA session setup can include messaging from OMA server to OMA client in the form of notifications or alert messages among other messaging to establish a configuration session between user device and OMA server .

OMA server issues a replace request which includes payload data. This replace request indicates a node in data tree that can accept replacement data or new data indicated by the payload data. In this example OMA client accepts the payload data and writes the payload data to an existing node or node type in data tree of system property storage . Responsive to successfully writing the payload data into data tree OMA client issues a 200 confirm message for delivery to OMA server to indicate that the data has successfully been incorporated into data tree .

Turning now to the second transaction an OMA session is setup between OMA client and OMA server . As with the first transaction this OMA session setup can comprise a WAP push communication. OMA server issues replace request which includes payload data which in this example comprises an alternate phone number for user device .

Replace request indicates a node or node type in data tree that cannot accept replacement data or new data indicated by payload data . OMA client can compare a field or node type indicated by replace request for payload data to a predetermined field or node type to determine if replace request should be rejected or accepted. The field or node type might indicate a node type that is not alterable in data tree or might indicate a special predetermined field type which indicates a new node type is to be created which is not supported by data tree .

In the phone number example discussed presently data tree might be a data tree established initially for a configuration of user device which already includes a phone number for user device . In order to incorporate a different phone number into data tree and entirely new replacement configuration tree might need to be established for user device such as a replacement data tree transferred by OMA server which can be time consuming and wasteful of wireless resources to transfer many nodes unrelated to the desired replacement data for a single node. Also user device might wish to have more than one phone number associated therewith and data tree might be configured to only store one unique phone number for user device . A user might wish to have more than one phone number associated with user device when using both traditional circuit switched phone services such as 1xRTT voice call services and packet based phone services such as Voice over IP VoIP services . A user might wish to establish a phone number unique to each service or might wish to alter the phone numbers occasionally. Additionally a user might initially establish user device for voice calls over a first service and then desire to use a second service for voice calls in addition to the first service. A first data tree might be associated with the first service which cannot be altered in situ to accommodate the second service.

In this example OMA client does not incorporate payload data into data tree and instead issues a rejection message for delivery to OMA server namely 404 notice for delivery to OMA server . Responsive to 404 notice OMA server issues create command . Create command indicates to create a new data tree in user device which can be used to contain payload data .

OMA client creates data tree responsive to create command and populates data tree with at least one blank node. In at least three blank nodes are shown for data tree . The blank nodes can comprise an entire OMA configuration tree but with each node incorporating blank generic or placeholder data that can be overwritten with configuration data at a later time. The blank nodes can also comprise a subset of nodes of an OMA configuration tree such as a small number of nodes which are flexible in node type or with undefined node types that can be configured as various node types by OMA client .

Once data tree has been created in system property storage OMA client issues a success message for delivery to OMA server namely a 200 confirm message that indicates creation of data tree . Responsive to the 200 confirm notice OMA server re issues a replace request with payload data . In this is shown as replace request which includes payload data . Once OMA client receives replace request OMA client can incorporate payload data into the new data tree . OMA client issues another 200 confirm message for delivery to OMA server responsive to incorporating payload data into data tree .

To incorporate payload data into data tree OMA client can overwrite placeholder data or generic data in one of the blank nodes of data tree with payload data . A node type or node properties can also be changed to correspond to a data type of payload data . For example a phone number could be written into node BB and a node type of node BB can be changed to indicate a phone number is stored therein.

Additionally a logical address pointer can be employed to link a node of data tree to a node in data tree . As shown in node B of data tree is linked via logical address pointer to node BB of data tree . The logical address pointer can be used to link an existing node in a data tree to a new node in another data tree. For example when a node in data tree cannot be modified a logical pointer can be established to a node in data tree which includes modified or alternate data for the node type of the linked node in data tree . In this manner data tree is not modified but instead a node in data tree can include altered or modified data that points to a specified node in data tree . In node B can indicate a phone number such as a first phone number associated with user device . Node BB can be linked via a pointer to node B and node BB can indicate another phone number for device . In this manner data tree can remain unaltered but can be supplemented by data tree to accommodate changes or alterations to the data in data tree and multiple phone numbers can be supported by user device in configuration data maintained by OMA client in system property storage .

It should be understood that other configuration data can be handled in a similar manner to the phone number example in . For example software updates device identities service properties access properties or other properties and parameters can be stored in data tree after being incorporated into blank or generic nodes of data tree . Advantageously data tree can remain unaltered and data tree or additional data trees can accommodate alternate configuration data sets or changes to data found in data tree without altering data tree .

Network interface system includes one or more network interfaces. In wireless communication device network interface system includes transceiver . Transceiver includes at least one wireless communication interface for communicating over wireless links such as described for wireless link in or wireless link in . Transceiver includes antennas power amplifiers RF circuitry transceivers network interface card equipment modems and other communication circuitry. In this example transceiver communicates over link . Link can include one or more wireless links as described herein such as that described for link in and link in although variations are possible.

Processing circuitry can comprise one or more microprocessors and other processing circuitry that retrieves and executes software from storage system . Processing circuitry can be implemented within a single processing device but can also be distributed across multiple processing devices or sub systems that cooperate in executing program instructions. Examples of processing circuitry include general purpose central processing units application specific processors and logic devices as well as any other type of processing device combinations or variations thereof. In some examples portions of processing circuitry is physically separate from some elements of Wireless communication device and area included in remote servers cloud based processing systems or virtualized computing systems.

Storage system can comprise any non transitory computer readable storage media capable of storing software that is executable by processing circuitry . Storage system also includes data structures which include one or more trees databases tables lists or other data structures that store configuration data for wireless communication device . Storage system can include volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Storage system can be implemented as a single storage device but can also be implemented across multiple storage devices or sub systems co located or distributed relative to each other. Storage system can comprise additional elements such as a controller capable of communicating with processing circuitry . Examples of storage media include random access memory read only memory magnetic disks optical disks flash memory virtual memory and non virtual memory magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and that can be accessed by an instruction execution system as well as any combination or variation thereof.

Software can be implemented in program instructions and among other functions can when executed by wireless communication device in general or processing circuitry in particular direct wireless communication device processing system or processing circuitry to receive data transferred by a device management node for incorporation into a node of a configuration data tree identify the data as unable to be incorporated into the configuration data tree transfer a rejection notice for delivery to the device management node receive a node addition instruction and responsively create a new data tree that is populated with at least one blank node and is linked to a root node shared with the configuration data tree and responsively incorporate the data into the blank node of the new data tree among other operations. Software can include additional processes programs or components such as operating system software database software or application software. Software can also comprise firmware or some other form of machine readable processing instructions executable by elements of processing system such as processing circuitry .

In at least one implementation the program instructions can include configuration client system property storage and operating system . Configuration client interfaces with a configuration server such as OMA server in to receive and transfer configuration data. Configuration client can store and retrieve configuration data stored in system property storage in one or more data structures such as data trees. Configuration client can create new data trees with generic or blank nodes responsive to commands received from a configuration server. System property storage stores system properties for wireless communication device such as configuration data discussed herein. Operating system provides various storage interface elements such as device drivers application programming interfaces or other software elements to allow system property storage to interface with computer readable storage elements of wireless communication device .

In general software can when loaded into processing circuitry and executed transform processing circuitry overall from a general purpose computing system into a special purpose computing system customized to receive data transferred by a device management node for incorporation into a node of a configuration data tree identify the data as unable to be incorporated into the configuration data tree transfer a rejection notice for delivery to the device management node receive a node addition instruction and responsively create a new data tree that is populated with at least one blank node and is linked to a root node shared with the configuration data tree and responsively incorporate the data into the blank node of the new data tree among other operations. Encoding software on storage system can transform the physical structure of storage system . The specific transformation of the physical structure can depend on various factors in different implementations of this description. Examples of such factors can include but are not limited to the technology used to implement the storage media of storage system and whether the computer storage media are characterized as primary or secondary storage. For example if the computer storage media are implemented as semiconductor based memory software can transform the physical state of the semiconductor memory when the program is encoded therein. For example software can transform the state of transistors capacitors or other discrete circuit elements constituting the semiconductor memory. A similar transformation can occur with respect to magnetic or optical media. Other transformations of physical media are possible without departing from the scope of the present description with the foregoing examples provided only to facilitate this discussion.

User interface system includes equipment and circuitry for receiving user input and control such as for engaging in voice calls or data sessions and receiving user instructions for text or video messages among other operations. Examples of the equipment and circuitry for receiving user input and control include push buttons touch screens selection knobs dials switches actuators keys keyboards pointer devices microphones transducers potentiometers non contact sensing circuitry accelerometers or other human interface equipment. User interface system also includes equipment to communicate information to a user of wireless communication device . Examples of the equipment to communicate information to the user could include displays indicator lights lamps light emitting diodes haptic feedback devices audible signal transducers speakers buzzers alarms vibration devices or other indicator equipment including combinations thereof.

The included descriptions and figures depict specific embodiments to teach those skilled in the art how to make and use the best mode. For the purpose of teaching inventive principles some conventional aspects have been simplified or omitted. Those skilled in the art will appreciate variations from these embodiments that fall within the scope of the invention. Those skilled in the art will also appreciate that the features described above can be combined in various ways to form multiple embodiments. As a result the invention is not limited to the specific embodiments described above but only by the claims and their equivalents.

