---

title: Global platform for managing subscriber identity modules
abstract: A method of operating a mobile wireless network comprising: receiving, by a provisioning server, a signal from a mobile wireless network specifying a location of a first mobile device having a first International Mobile Subscriber Identity (IMSI) and operating in the mobile wireless network under a first condition, the mobile wireless network including a plurality of mobile switching centers (MSCs) and a plurality of mobile devices operating in the mobile wireless network; provisioning the first IMSI in the first HLR based on a state transition rule from a first provisioning state to a second provisioning state; provisioning a second IMSI in the first HLR based on the state transition rule from a third provisioning state to the first provisioning state; and transmitting data identifying the second IMSI to the first mobile device to allow the first mobile device to operate in the mobile wireless network under a second condition.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08897776&OS=08897776&RS=08897776
owner: Japser Technologies, Inc.
number: 08897776
owner_city: Mountain View
owner_country: US
publication_date: 20140102
---
This application is a continuation of U.S. patent application Ser. No. 13 622 172 entitled GLOBAL PLATFORM FOR MANAGING SUBSCRIBER IDENTITY MODULES filed on Sep. 18 2012 which is a continuation of U.S. patent application Ser. No. 13 340 997 entitled GLOBAL PLATFORM FOR MANAGING SUBSCRIBER IDENTITY MODULES filed on Dec. 30 2011 now U.S. Pat. No. 8 275 357 issued on Sep. 25 2012 U.S. patent application Ser. No. 11 119 401 entitled SELF PROVISIONING OF WIRELESS TERMINALS IN CELLULAR NETWORKS filed Apr. 29 2005 now issued as U.S. Pat. No. 8 346 214 issued on Jan. 1 2013 U.S. patent application Ser. No. 11 398 493 entitled SELF PROVISIONING OF WIRELESS TERMINALS IN WIRELESS NETWORKS filed Apr. 4 2006 now issued as U.S. Pat. No. 8 498 615 issued on Jul. 30 2013 and co pending U.S. patent application Ser. No. 11 804 582 entitled WIRELESS COMMUNICATION PROVISIONING USING STATE TRANSITION RULES filed May 18 2007.

In a wireless system the wireless terminal has a Subscriber Identity Module SIM which contains the identity of the subscriber. One of the primary functions of the wireless terminal with its SIM in conjunction with the wireless network system is to authenticate the validity of the wireless terminal for example a cell phone and the wireless terminal s subscription to the network. The SIM is typically a microchip that is located on a plastic card a SIM card which is approximately 1 cm square. The SIM card is then placed in a slot of the wireless terminal to establish the unique identity of the subscriber to the network. In some cases the wireless terminal itself contains the subscriber identification and authentication functionality so that a separate SIM and or SIM card is not utilized.

In the SIM or within the wireless terminal an authentication key and a subscriber identification pair are stored. An example of such a pair would be the authentication key Ki as used in GSM networks and the associated subscriber identification IMSI International Mobile Subscriber Identity . Another example would be the authentication key A Key and subscriber identification MIN Mobile Identification Number as used in CDMA and TDMA networks. In either case a corresponding identical set of an authentication key and a subscriber identification are stored in the network. In the SIM or in the wireless terminal and within the network the authentication functionality is run using the local authentication key and some authentication data which is exchanged between the SIM and the network. If the outcomes of running the authentication functionality in the SIM and in the network leads to the same result then the SIM wireless terminal are considered to be authenticated for the wireless network.

In existing wireless systems a SIM or wireless terminal has an authentication key associated with only one subscriber identification and this subscriber identity is typically tied to a local region or network. When a SIM or wireless terminal authenticates in a region that is not local or with a network that is not local then usually the SIM or wireless terminal needs to pay additional roaming service charges to connect with the wireless network. It would be beneficial if the SIM or wireless terminal were not tied to a local region or network. For example equipment vendors would then be able to sell the same equipment in multiple regions and for multiple networks. Additionally end users may avoid roaming service charges or at least more favorable subscription terms may be available.

The invention can be implemented in numerous ways including as a process an apparatus a system a composition of matter a computer readable medium such as a computer readable storage medium or a computer network wherein program instructions are sent over optical electronic or wireless communication links. In this specification these implementations or any other form that the invention may take may be referred to as techniques. A component such as a processor or a memory described as being configured to perform a task includes both a general component that is temporarily configured to perform the task at a given time or a specific component that is manufactured to perform the task. In general the order of the steps of disclosed processes may be altered within the scope of the invention.

A detailed description of one or more embodiments of the invention is provided below along with accompanying figures that illustrate the principles of the invention. The invention is described in connection with such embodiments but the invention is not limited to any embodiment. The scope of the invention is limited only by the claims and the invention encompasses numerous alternatives modifications and equivalents. Numerous specific details are set forth in the following description in order to provide a thorough understanding of the invention. These details are provided for the purpose of example and the invention may be practiced according to the claims without some or all of these specific details. For the purpose of clarity technical material that is known in the technical fields related to the invention has not been described in detail so that the invention is not unnecessarily obscured.

A system and method for provisioning a subscriber identification to a wireless terminal in a wireless network is disclosed. A control center receives transmission from a wireless network. The transmission indicates that a wireless terminal is roaming. The control center provisions a subscriber identification to the wireless terminal where the subscriber identification is selected based at least in part on the identification of the wireless network in which the wireless terminal is roaming. Using the newly provisioned subscriber identification the wireless terminal acquires wireless service from the wireless network as a local wireless terminal. The wireless terminal can operate as a local wireless terminal for that network or for a network with which the local network has a preferred relationship. The wireless terminal can acquire telecommunications service as a local terminal by using a stored set of authentication key subscriber identification that is specific to the network it is operating in. In various embodiments the wireless terminal can operate as a local terminal by receiving or downloading a specific set of authentication key subscriber identification or by receiving or downloading a subscriber identification to pair with an existing authentication key.

Communications from a wireless terminal are passed to another wireless terminal over the same wireless network using a local wireless network base station to the other wireless terminal or the communications are carried by a wired network or other wireless network to the destination terminal. Wireless network center communicates with its associated HLR where sets of authentication key subscriber identification are stored to help in authenticating a wireless terminal that is acquiring wireless network service. One example of a subscriber identification is an international mobile subscriber identifier IMSI . Wireless network center and its associated HLR communicate with provisioning server to enable a wireless terminal to acquire a new subscriber identification that is paired with an existing authentication key and or a new set of authentication key subscriber identification. In some embodiments the transmission of the authentication key or the authentication key subscriber identification is encrypted. In various embodiments the authentication key or the authentication key subscriber identification is are decrypted at the wireless terminal and or in the SIM card. The old authentication key new subscriber identification pair and or the new set of authentication key subscriber identification are added in the appropriate manner to the HLR AuC databases or the HLR databases associated with wireless network centers so that the wireless terminal can be authenticated and can acquire wireless network service using the new subscriber identification and or authentication key set. In various embodiments the wireless network system is a cellular system a GSM GPRS wireless system a CDMA or WCDMA wireless system or a TDMA wireless system or any other type of wireless network system.

In the wireless terminal performs a location update with the visited wireless network using the new Subscriber Identification. In the network center HLR AuC and provisioning server searches for the Subscriber Identification in its ADS and retrieves the corresponding Authentication Key. In a challenge is generated RAND and with the Authentication Key is used to calculate a Response SRES using an authentication algorithm A3 . In the RAND is sent to the wireless terminal and a response is requested. In the wireless terminal uses the RAND with the Authentication Key from its ADS to independently calculate a SRES using encryption algorithm A3 stored in its SIM. In the SRES is sent to the network center and or HLR AuC and or provisioning server . In authentication is passed if the received SRES matches the locally computed SRES otherwise the authentication fails.

Wireless communication provisioning using state transition rules associated with an identifier is disclosed. A first state associated with one or more identifiers is defined. A second state associated with one or more identifiers is defined. A state transition rule is defined between the first and second states. In some embodiments the one or more identifiers are stored in a subscriber identity module SIM . In some embodiments a plurality of states are defined a plurality of state transition rules are defined and a group of states and transition rules are selected and associated with one or more identifiers. In some embodiments wireless communications comprise mobile data mobile cellular communications or any other appropriate wireless communications.

In some embodiments a customer organization defines a sequence of states for devices that communicate data with a global platform provider s application server via one or more wireless carrier networks. The provider e.g. the global platform provider enables the communication via the wireless carrier networks. The plurality of states enables the activity of provisioning of a customer device or provider device used in the data communication with appropriate billing access and or authorization for each activity especially with regard to testing activation deactivation etc.

Carrier network includes carrier switching network e.g. SGSN serving General Packet Radio Services GPRS support node used in Global System for Mobile Communications GSM networks carrier data traffic handler e.g. GRX a GPRS roaming exchange and or SS7 signaling system 7 system and a plurality of carrier towers represented in by tower . Communications of data traffic to and from device are received by carrier network by a carrier tower which communicates the data traffic with carrier data traffic handler . Carrier data traffic handler communicates data traffic with carrier switching network . Carrier switching network can communicate with network and Authentication Center Home Location Register HLR and Authentication Authorization and Accounting AAA Server e.g. a Radius server of provider system . In one embodiment provider system is operated by a global platform provider as a control center.

Network enables communication with customer system which includes customer application server and customer administrator . In some embodiments network comprises the internet a local area network a wide area network a wired network a wireless network or any other appropriate network or networks for communicating with customer system . Customer application server receives data from and transmits data to device regarding the customer s services or products. In various embodiments the customer s services includes transaction related services monitoring services and or location tracking services. In some embodiments a state transition rule defining transition from one provisioning state to another provisioning state associated with device is implemented on customer application server . In some embodiments a state transition rule defining transition from one provisioning state to another provisioning state associated with device is not known to device .

Provider system includes HLR AAA server application server database DB administrator . In an embodiment where the provider system is the control center of a global platform provider application server can perform the function of a provisioning server such as provisioning server of in addition to other functions. Provider system enables customer services by enabling data communication services via the carrier network with device . HLR enables communication with the provider system by indicating if device is allowed to have data communication through carrier network with customer system . AAA server enables specific permissions that are available regarding data communications between device and customer system via carrier network . Application server enables provisioning and billing for the provider. Provisioning comprises enabling devices such as device to have mobile data communication services using a mobile carrier network. DB includes information related to provisioning and billing for the provider. Administrator administrates provider system. Customer system administrator communicates with provider application server to administrate customer system usage billing provisioning for data communication service of carrier network enable by provider . In some embodiments functionality of HLR and AAA server are performed by the same server are partitioned between two servers but not exactly as described herein or any other server configuration to achieve the same functionality.

In some embodiments one or more states are based on the lifecycle of the service of a wireless communication device.

A test ready state can be used to allow a manufacturer to test a SIM or a device with a SIM and its network communication infrastructure before delivering the SIM or device with a SIM to an end user a retail location or a distributor. A test ready state can be a default state for a SIM that allows authentication and authorization with a global platform provider s HLR and AAA server but does not have any billing associated with it. A SIM in a test ready state is able to conditionally transact data voice and or Short Message Service SMS communications for example some limits may be placed on the communications while in this state such as communication may occur up to a maximum data transmitted received amount or up to a maximum number of days since the initial data communication. A test ready state may have no prerequisite state have no limitation to a next state e.g. all states allowed as next state have no exclusivity rule be a required state and be allowed to have automatic and or manual transitions.

An inventory state can be used to allow a SIM to be placed in a device and associated with an identifier of the device e.g. a terminal identifier or a point of sale terminal identifier . An inventory state cannot coexist with an activation ready state. An inventory state cannot connect with the network and requires a manual change in order to change state. An inventory state may have a test ready state as a prerequisite have no limitation to a next state e.g. all states allowed as next state have an exclusivity rule in that it cannot coexist with an activation ready state not is a required state and be allowed only to have manual transitions.

An activation ready state can be used to allow a SIM to be ready to be activated. An activation ready state will authenticate and authorize with the HLR and AAA server of the provider system but no billing will occur. After the first data communication e.g. first packet data protocol PDP context communication the SIM state will automatically change to an activated state. An activation ready state may have a test ready state or inventory state as a prerequisite have no limitation to a next state e.g. all states allowed as next state have an exclusivity rule in that it cannot coexist with an inventory state not be a required state and be allowed to have an automatic transition to an activated state or a manual transition to other states.

An activated state can be used to allow a SIM or a device with a SIM to be used by a user. In an activated state the SIM will authenticate and authorize on the HLR and AAA server of the provider system. Billing commences immediately on changing to this state. The provider system may check to make sure that the proper information is contained on the provider system s HLR and AAA server databases as well as the billing databases. In some cases the checks will include checking the identifiers stored in the SIM e.g. international mobile subscriber identifier IMSI customer identifier device identifier etc. . An activated state may have a test ready state inventory or activation ready state as a prerequisite have possible next states of deactivated purged or retired have no exclusivity rule not be a required state and be only allowed to have a manual transition to a next state.

A deactivated state can be used to allow a SIM or a device with a SIM to be deactivated by the user. In a deactivated state the SIM will not be allowed to authenticate and will not be billed. The AAA server of the provider system and the gateway GPRS support node GGSN of carrier networks will be sent a notification e.g. a packet informing them that the SIM has been deactivated. An deactivated state may have an activated state as a prerequisite have possible next states of activated purged or retired have no exclusivity rule not be a required state and be only allowed to have a manual transition to a next state.

A retired state can be used to allow a SIM or a device with a SIM to be retired by the provider or the user. In a retired state the SIM will not be allowed to authenticate and billing ends. A retired state may have any state as a prerequisite except purged have any possible next states i.e. all states possible have no exclusivity rule not be a required state and be only allowed to have a manual transition to a next state.

A purged state can be used to allow a SIM or a device with a SIM to be purged by the provider. In a purged state the SIM will not be allowed to authenticate and the subscriber identification is removed from the system e.g. IMSI permanently removed from the HLR of the provider system . A purged state may have any state as a prerequisite have no possible next states have no exclusivity rule not be a required state and be not allowed to have any transitions to a next state.

In some embodiments a state is defined by a customer. In some embodiments the state is defined using an Internet based service.

In some embodiments a state definition does not support communication sessions and a transition to that state will terminate existing open communication sessions.

In some embodiments a first wireless communication provisioning state allows a communication device to pass traffic without incurring any billing charges and an associated state transition rule allows an automated transition to a second provisioning state where the second provisioning state incurs billing charges. In some embodiments a first wireless communication provisioning state allows a communication device to pass traffic without incurring any billing charges and an associated state transition rule allows an automated transition to the second provisioning state where the second provisioning state does not allow the communication device to pass traffic.

In state transition rule s between two states is are defined. A transition from one state to another may occur automatically on a predetermined condition or manually. If the transition is based on a condition is met e.g. upon first data communication packet data protocol context established the state will automatically change from one to another e.g. activation ready state to activated state . In various embodiments the transition condition is based on one or more of the following a predetermined amount of elapsed time since a prior state transition an amount of service usage above a predetermined amount of service usage one or more service signalings or any other appropriate condition. In various embodiments the condition is based on an exclusivity rule a state rule a communication data transfer or any other appropriate condition. A manual change from one state to another requires an intervention directly from the provider system for example an action through a manager portal by uploading a file to the SIM or device with the SIM or an application programming interface API call.

In various embodiments a state transition rule can be defined for an individual device or a group of devices or different rules can be defined for different individual devices or different groups of devices or any other appropriate combination as appropriate for meeting the needs of a supplier of devices.

In some embodiments a group of states are defined and a group of transition rules are defined and then a selection of states and transition rules are associated with one or more identifiers.

In some embodiments a customer selects a state transition rule. In some embodiments a customer defines a state transition rule. In various embodiments the state transition rule is selected and or defined using an Internet based service using a local program interface or any other appropriate manner of selecting and defining a state transition rule.

In some embodiments a state transition rule when activated terminates existing communication sessions.

In inventory state a device is waiting to be transferred to a user. In this state no connectivity is enabled and no billing occurs. The state is maintained until transition . Transition occurs when the OEM or the customer or its channel service providers manually triggers a state change. When the state change is triggered the SIM is changed to activated state . In activated state a device is being used by user. In activated state the SIM is able to establish a PDP session and connect and transfer data to a customer application server via a carrier network. The user is billed for the service provided by the provider. Billing information is provided to the customer by gathering the relevant data from the network carriers and the provider s data bases. The SIM remains in the active state until triggered to transition. Transition may be triggered manually or automatically. In various embodiments transition is triggered automatically by a maximum number of connections allowed a maximum amount of data transferred a maximum amount of time since the start of PDP sessions or any other appropriate automatic trigger condition. In some embodiments the user or the customer can also manually trigger transition to a deactivated state .

In deactivated state a device is finished being used as requested by an end user or by a customer system request by being in a deactivated state. In deactivated state the SIM is not able to connect and establish a PDP session. While in deactivated state there is no billing for connectivity. Transition can be triggered automatically e.g. after a period of time or manually e.g. by the customer . When transition is triggered the SIM changes state to purged state . In purged state the SIM and the device the SIM is in is removed from the system. In purged state the SIM is not able to connect and establish a PDP session. There is no billing associated with the trigger or the state. Accounting for the customer may remove the item from inventory or asset lists. Purged state automatically removes the IMSI and International Circuit Card Identifier ICCID from the HLR of the provider system.

In activation ready state a device is waiting to be transferred to a user. In various embodiments the activation ready state is set after testing by the OEM when the device is being shipped from the OEM to retail locations distribution partners directly to end users or when the SIM or device with the SIM is about to be in the end users hands but is not ready to have billing service fully implemented. In this state SIM connectivity is enabled and a PDP session can be established. Upon the first PDP session occurring transition is triggered. When the state change is triggered the SIM is changed to activated state . In activated state a device is being used by user. In activated state the SIM is able to establish a PDP session and connect and transfer data to a customer application server via a carrier network. The user is billed for the service provided by the provider. Billing information is provided to the customer by gathering the relevant data from the network carriers and the provider s data bases. The SIM remains in the active state until triggered to transition. Transition may be triggered manually or automatically. In various embodiments transition is triggered automatically by a maximum number of connections allowed a maximum amount of data transferred a maximum amount of time since the start of PDP sessions or any other appropriate automatic trigger condition. In some embodiments the user or the customer can also manually trigger transition to a deactivated state .

In deactivated state a device is finished being used as requested by an end user or by a customer system request by being in a deactivated state. In deactivated state the SIM is not able to connect and establish a PDP session. While in deactivated state there is no billing for connectivity. Transition can be triggered automatically e.g. after a period of time or manually e.g. by the customer . When transition is triggered the SIM changes state to purged state . In purged state the SIM and the device the SIM is in is removed from the system. In purged state the SIM is not able to connect and establish a PDP session. There is no billing associated with the trigger or the state. Accounting for the customer may remove the item from inventory or asset lists. Purged state automatically removes the IMSI and International Circuit Card Identifier ICCID from the HLR of the global platform provider system.

Although the foregoing embodiments have been described in some detail for purposes of clarity of understanding the invention is not limited to the details provided. There are many alternative ways of implementing the invention. The disclosed embodiments are illustrative and not restrictive.

