---

title: Event recorder playback with integrated GPS mapping
abstract: A computer-implemented method includes enabling a user of event recorder playback software to select a past time segment of recorded locomotive event data. The method includes presenting recorded video data recorded by one or more cameras on the locomotive during the past time segment, presenting recorded GPS map data indicative of the geographical position of the locomotive during the past time segment, and presenting recorded locomotive operational data recorded during the past time segment. The presentations of recorded video data, recorded GPS map data, and recorded locomotive operational data are synchronized based on a common attribute associated with all of the recorded data. Implementation of a select animation process to one or more of the presentations of recorded data results in the simultaneous implementation of the same select animation process to another of the presentations of recorded data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09467643&OS=09467643&RS=09467643
owner: Progress Rail Services Corporation
number: 09467643
owner_city: Albertville
owner_country: US
publication_date: 20140106
---
The present disclosure relates generally to event recorder playback and more particularly event recorder playback with integrated GPS mapping.

Event recorders provided on various mobile vehicles such as planes and trains are generally designed to record data associated with an event during operation of the vehicle. The event recorders are typically designed and built to store that recorded data in a crash hardened memory unit. A crash hardened memory unit is configured to withstand the severe conditions that may occur during an accident. The memory units for these event recorders are contained within enclosures that allow the stored data to remain intact after accidents or other abnormal events. An important purpose of the event recorder is to provide a source of data that can be retrieved from the event recorder after an event such as an accident and provide a detailed and accurate accounting of exactly what happened leading up to and during the event.

On scene investigations after events involving mobile vehicles are time consuming and are not always accurate. Often investigators must rely on witness statements and approximations to assess the events and the relative timing of the events leading up to the accident and to determine who is at fault. It is therefore difficult to guarantee the correctness of these assessments. Insurance companies use these assessments to determine who must pay for the damage after an accident has occurred. Incorrect assessments lead to money being spent unnecessarily by the insurance companies whose clients were not at fault.

A system capable of recording reproducing and analyzing information pertaining to an accident is very valuable. Investigations would be more accurate since the system will provide precise data prior to during and after the accident. Additionally insurance companies will benefit due to improved investigation assessments. Existing event recorders often are capable of recording only specific types of data such as limited amounts of video and or audio data or data provided by sensors that measure vehicle operating characteristics. During accident reconstruction the various types of data must be synchronized after the fact by stitching together the different types of data relative to different time sources associated with each of the different types of data. This process requires complex software and may lead to inaccuracies in the perceived relative timing of different recorded data.

An integrated diagnostic telemetry and recording system for use with a locomotive is disclosed in U.S. Pat. No. 7 965 312 of Chung et al. that issued on Jun. 21 2011 the 312 patent . The 312 patent discloses an imaging system that generates landmark correlated images taken from a locomotive and logs the recorded information with one or more data tags such as tags indicative of time operating conditions and or location. The event recorder of the 312 patent records and transmits video geographic data and locomotive operating parameters and the data may be sent to an off board data monitoring center based on certain conditions or geographic locations.

Although the system of the 312 patent may improve safety and aid in investigations regarding the operation of a locomotive it may be less than optimal. In particular the disclosed system of the 312 patent does not provide a system that allows for easy comparison of multiple types of data that are synchronized and displayed on a common display.

The system and method of the present disclosure solves one or more problems set forth above and or other problems in the art.

In one aspect the present disclosure is directed to an event recorder playback system. The system may include a controller with the controller configured to receive recorded data comprising video data GPS map data and operational data associated with operation of a locomotive during a trip. The recorded data may include tagged metadata. The controller may process the recorded data by using the tagged metadata to synchronize the recorded data. The controller may also coordinate an animation of at least a portion of the synchronized recorded data such that implementation of a select animation process to one of the recorded video data GPS map data and operational data results in the simultaneous implementation of the same select animation process to another of the recorded video data GPS map data and operational data. The event recorder playback system may also include a user console that is configured to display the coordinated animation of at least a portion of the synchronized video data GPS map data and operational data.

In another aspect the present disclosure is directed to a computer implemented method that may include enabling a user of event recorder playback software configured to present a display at a user console to select a past time segment of recorded locomotive event data. The method may also include presenting recorded video data recorded by one or more cameras on the locomotive during the past time segment presenting recorded GPS map data indicative of the geographical position of the locomotive during the past time segment and presenting a graphical display of recorded locomotive operational data recorded during the past time segment. The method may also include synchronizing the presentations of recorded video data recorded GPS map data and the graphical display of recorded locomotive operational parameters based on a common attribute associated with all of the recorded data. The method may further include coordinating an animation of at least a portion of the synchronized presentations of recorded video data recorded GPS data and recorded locomotive operational data such that implementation of a select animation process to one or more of the presentations of recorded data results in the simultaneous implementation of the same select animation process to another of the presentations of recorded data.

In still another aspect the present disclosure is directed to a non transitory computer readable data storage medium storing program code operable to cause a user console to perform operations on data recorded by an event recorder associated with a locomotive during a trip by the locomotive. The operations may include enabling a user of the user console to select a past time segment of recorded locomotive event data presenting recorded video data recorded by one or more cameras on the locomotive during the past time segment presenting recorded GPS map data indicative of the geographical position of the locomotive during the past time segment and presenting a graphical display of recorded locomotive operational parameters recorded during the past time segment. The operations may also include synchronizing the presentations of recorded video data recorded GPS map data and the graphical display of recorded locomotive operational data based on a common attribute associated with all of the recorded data. The operations may further include coordinating an animation of at least a portion of the synchronized presentations of recorded video data recorded GPS data and recorded locomotive operational data such that implementation of a select animation process to one or more of the presentations of recorded data results in a simultaneous implementation of the same select animation process to another of the presentations of recorded data.

As shown in user console may be divided into sections or areas that may be fixed in size and relationship to each other or provided as windows that may be reconfigured resized and repositioned relative to each other using a GUI manager. In various implementations the areas may include a graphical display area in which data indicative of locomotive operational parameters may be displayed in graphical form. A controller not shown associated with user console may be configured to retrieve data recorded by an event recorder on or associated with a locomotive. The data may be retrieved in real time such as over a wireless wired or combination wireless and wired network connected to the event recorder. Alternatively or in addition the data may be retrieved from data storage medium that has been removed from the event recorder or to which data from the event recorder has been transferred. A display area of user console may include Global Positioning System GPS map data of the geographical area within which the locomotive was traveling while the data indicative of locomotive operational parameters was being recorded. Another display area of user console may be provided for the display of video data captured by one or more cameras mounted on the locomotive. At least some of the data indicative of locomotive operational parameters may also be presented on user console in tabular form within yet another display area of user console .

The various types of computing devices that include user console may be provided with software applications or may access these software applications from external sources over a real time communication network such as the Internet. Application Programming Interfaces API may be provided between the software applications and GUI software to provide a user of the device with certain features and operations. A user may desire certain operations such as scrolling selecting gesturing zooming and other animating operations for the presentations of data on user console . The data being presented in the various display areas of user console may be synchronized based on a common attribute associated with all of the stored data. Common attributes may include a universal time stamp that is associated with each of the types of data being presented. The universal time stamp may be included as metadata which is data that is descriptive of the data to which it is attached. Other examples of the types of metadata that may be attached to or associated with the data being presented may include information relating to a particular landmark or geographical position at or near which the data was being recorded.

A controller associated with user console may be configured to coordinate an animation of at least a portion of the synchronized presentations of stored video data stored GPS data and stored locomotive operational parameters. Implementation of a select animation process such as scrolling across a portion of data displayed in area may result in the simultaneous implementation of the same process of scrolling across a corresponding portion of GPS map data displayed in area . Similarly implementation of a scrolling process to one or more of the presentations of stored locomotive operational parameters and GPS map data may result in the simultaneous scrolling through video data being presented in display area . Scrolling is one possible animation process implemented on the presentation of content on user console . Scrolling is the act of sliding a directional e.g. horizontal or vertical presentation of content such as text drawings or images across a screen or display window. As shown in scrolling through the locomotive operational parameters graphically presented in display area of user console may be done with the help of a scrollbar or by using keyboard shortcuts such as through the use of arrow keys. A vertical line marker VLM is shown extending vertically across display area from scrollbar . In the exemplary display of a time bar is presented across the bottom of display area and scrolling across the display using scrollbar results in the presentation of data recorded at different times during the operation of the locomotive. A player may also be included with one or more of the display areas of console such as shown at the bottom of display area in . The controller associated with user console may be configured to enable the various features of player such that scrolling of the VLM extending across display area may be automated. Player may include a reverse button indicated by and a slider bar. The functions of each of these controls as seen from the left of player in are to play in reverse by automatically moving the VLM to the left pause the play by stopping movement of the VLM play forward by automatically moving the VLM to the right and adjusting how fast the VLM moves by adjusting the slider bar shown to the right of the forward button. The controller associated with user console may be configured to implement simultaneous scrolling across GPS map data presented in area . The simultaneously displayed GPS map data illustrates the geographical location of the locomotive on a map during the time period when locomotive operational parameters being displayed in area were recorded.

Zooming is another animation process that may be implemented in the presentation of content on user console . Zooming involves a change in the scale of the data that is being observed at any particular point in time. As one example a user may desire to zoom in on data recorded when the locomotive was at or near a particular position designated by a cursor in the GPS map display area . This may allow the user to expand the scale of the presentation of data recorded at that position for closer examination. The user may achieve the desired results through various keyboard shortcuts or other processes such as movement of a slider bar or gesturing by the user through inputs on a touch screen at two or more input points. Animation operations in general include changing the presentation of content on user console within a given time period. The controller associated with user console may be configured to simultaneously display zooming in or out on a particular segment of the GPS map data presented in area with zooming in or out on the corresponding time segment of recorded data being displayed in area .

A time period of data recorded by an event recorder on the locomotive may be selected based at least partially upon a length of time before an event such as an accident that may include significant data or signals potentially relevant to determining the cause of the event. Data or signals that may be considered significant or relevant to determining the cause of an event may be data indicative of parameters characteristics or commands but for the existence of which the event would most likely not have happened. A determination of which data may be relevant to determining the cause of an event may be based at least in part on one or more of empirical data and historical data. In the case of an event recorder mounted on a locomotive significant data or signals may include data indicative of locomotive operating parameters locomotive control signals locomotive performance characteristics and sounds and sights both internal to and external to the locomotive as detected by audio and video sensors. Other significant data may be indicative of engine operating parameters exhaust characteristics and electrical parameters. Operator or central control commands and other wireless signals or wired signals provided over multi unit MU trainline communication buses may also be provided to the controller associated with user console . Still further significant data may include data indicative of environmental conditions geographical location or other unusual conditions or events exterior to the vehicle on which the integrated event recorder is mounted.

One or more controllers associated with user console may embody single or multiple microprocessors that may form one or more modules configured e.g. programmed for requesting and or receiving various types of data. The various types of data may include video data and audio data. Other types of data may include locomotive data indicative of one or more locomotive operating parameters locomotive control signals and locomotive performance characteristics. Engine operating and performance data may also be requested and received by the controllers and displayed graphically in display area of console . Additional types of data may include but are not limited to electrical data exhaust characteristics and positive train control PTC data. PTC data is indicative of the actual location of a train at all times such as may be obtained from one or more global positioning system GPS sensors and autonomous command signals that implement control of the actual location of the train and where the train is allowed to move for safety reasons. One or more controllers associated with the event recorder may also be configured for associating and encoding a universal time stamp derived from a common time source with each of the various types of data in order to enable real time synchronization of all the recorded data when re creating an event on user console . By associating a universal time stamp with all of the various types of data received by the event recorder controller the controller may avoid the need to stitch together the various types of data after the data has been separately recorded and associated with separate time sources that may not reflect exactly the same time. As one non limiting example an event recorder controller may receive frames of video and or audio data from an internet protocol IP camera mounted at the front of the train and record that data side by side with other types of data received at the same point in time. The point in time associated with each of the different types of data may be a universal time stamp in that it is derived from a common time source for all of the types of data. The other types of data may include the sound of a train horn actuation of a brake lever by an operator a signal received from a GPS sensor a change in throttle setting a sudden change in exhaust characteristics the position of the train relative to a train crossing and the speed and acceleration or deceleration of the train.

As shown in an exemplary event recording system may include various recording and measuring devices. In the example of the system includes video cameras and . However the system is scalable and can support any number of cameras from one to many. The cameras can be positioned to record an environment that is within the field of view of the cameras. illustrates all three video cameras recording video data from an event data source . Event data source may represent an area encompassing a field of view in front of the lead locomotive of a consist of locomotives and extending along the track. Alternative implementations may include one or more of the cameras recording video of areas to the sides of the locomotive above or below the locomotive behind the locomotive or inside the locomotive cab. Cameras positioned to record video data from inside the locomotive cab may provide a record of operator actions and or the positions of controls and gauges on one or more control panels. In some examples each camera may pan tilt and zoom to change the field of view. Each camera may also include a microphone to acquire audio data or to trigger the recording of data from event data source . As one example the blowing of the train horn as the train approaches a crossing may trigger the recording of data by the cameras.

The system may also include a locomotive operational data source . This data source is represented in as a single block but may include one or more sensors alarms or other devices that detect engine operating and performance data electrical data throttle control data air and fuel pressures brake activation exhaust characteristics and PTC data. A GPS map data source may be provided to generate an indication of the current position of the locomotive on a map of the geography along the track on which the train is traveling at the time the data is being recorded. GPS map data source may be provided as part of the event recorder system or may include data received from sources external to the event recorder. GPS map data may be received from preexisting data sources including a library of GPS maps for the region in which the train is traveling. One or more GPS sensors mounted on the locomotive may provide data on the exact location of the locomotive relative to a preexisting map at any particular point in time. Each data source can also associate the detected data with a time period of occurrence. Data collected by the various data sources can be sensor data collected automatically and at specific time periods e.g. once a second . Alternatively or in addition data may be collected in association with alarm messages commands received from an onboard operator commands received from a central command center or other initiating events. A common attribute such as a universal time stamp or the presence of a landmark or geographical position may be associated with all of the types of detected data and may be included as metadata attached to the data.

Cameras and locomotive operational parameters data source and GPS map data source may be positioned and configured to record data acquired within the physical and temporal range of an event or series of events. The cameras may record audio visual data and transmit audio visual data streams to audio visual data storage within a server e.g. a crash hardened solid state drive . The server may also comprise locomotive operational parameters data storage . In various implementations such as illustrated in data storage may also acquire GPS map data associated with the geographical position of the locomotive when the operational parameters are being detected and recorded. One of ordinary skill in the art will recognize that the functions of server could be performed by any number of microprocessors and or memory devices positioned in an event recorder and or connected to the event recorder through a network. As shown in the data recorded by server of an event recorder may be communicated to a data processing application over communication path . This transmission of data over path may occur in real time via a wireless wired or combination wireless wired network. Alternatively or in addition data may be transferred from server after an event such as when the data is downloaded from an event recorder recovered from an accident site. A data processing application may receive data from the server from both audio visual data storage and locomotive operational parameters data storage process the data and generate an output that can be used to drive the GUI displayed on user console shown in .

Data presented on user console can be displayed in a variety of formats such as graphical textual or video format. The display areas of user console can have a number of shapes sizes aspect ratios and settings. The video display area can also display more than one video clip. For example three different video clips associated with cameras and pointed in three different directions could be displayed. At least the display area for presenting the recorded locomotive operational parameters may be provided with a time bar. Movement of scrollbar along the time bar allows a user to select a current time of interest. The time bar may span a range of time that covers all or less than all of the time during which a train was moving along a particular length of track. This time period may cover many hours and therefore the corresponding GPS map data displayed in area may cover a large geographical area. A user can change the position of scrollbar in display area or the position of cursor in display area in order to indicate a new time or geographical position of interest.

A controller associated with user console may be further configured to display real time data being acquired by and transmitted from various sensors and other data sources on and off of the train. This real time data may be in addition to the data downloaded from data storage of the server of an event recorder. The controller associated with user console may be configured to receive data that is being transmitted over a communication network either wirelessly over a wired communication path or by a combination of wireless and wired communication paths. This feature may facilitate operation or diagnostics of the locomotive in addition to the reconstruction of an event such as an accident. Various sensor and data sources may provide the video audio data locomotive operational parameters data and GPS map data. One source may be a locomotive control system that provides data about the operational performance and status of the locomotive. For example a locomotive control system may provide data on power commands engine speed locomotive speed traction feedback pneumatic brakes brake pressures dynamic braking load throttle operating faults ambient temperature commanded parameters and the like. Another data source may be the multi unit MU cables or trainlines that run between locomotives in a train and provide operation status and carry command and control signals. For example the MU cables may carry signals that include data on an operator s power brake commands direction calls power modes and the like. Moreover data can also be collected directly from various locomotive and environmental sensors control circuits and devices track geometry monitors smoke and fire detectors chemical or fuel detectors engine on relays and emergency brake relays locomotive horn and bell indications hot wheel or hot bearing sensors and impact sensors. Other environmental and operational parameters that may be observed and recorded may include but are not limited to weather conditions track conditions track topology elevation direction and heading.

The disclosed system and method for playback of event recorder data may enhance the ability of a user to derive useful information from the replay of data associated with a locomotive event. Various types of data recorded by an event recorder on a locomotive prior to during and following an event may be synchronized by at least one common attribute associated with the event. During the replay of the synchronized event data an exemplary method may include coordinating animations of portions of the synchronized presentations of data on user console . Coordinated animations of select portions of the synchronized presentations of data may enhance the ability to investigate and determine the exact causes or contributing factors for different locomotive events.

Step may include presenting recorded video data for the selected time segment. A user may control the presentation of recorded video data by scrolling forward or backward in time while viewing the video data until an event of interest is observed. As one example an event associated with the locomotive may include a large object such as a truck or other vehicle striking the locomotive. The exact point in time at which the event occurred may not be known so it may be necessary during the replay of event data on user console to fast forward through the recorded video data until seeing the frame or frames where impact occurred.

Step may include presenting recorded GPS map data of the geographical position of the locomotive during the selected time segment. The initial scale at which the GPS map data is presented in area of user console may not allow for detailed viewing of the exact terrain at any particular point in time. This may be the result of presenting GPS map data in area for an extended period of time over which the locomotive has traveled a long distance. During an investigation of an event it may be desirable to zoom in on a relatively short section of track to determine whether the grade or other geographical features at that location may have been a contributing factor.

Step may include presenting a graphical display of recorded locomotive operational data recorded during the selected time segment. In one exemplary implementation display area of user console may include the graphical display of various parameters. The recorded data may be presented with the magnitudes or quantities of the parameters along the y axis of the graph and the time at which each magnitude or quantity was recorded presented along a time bar on the x axis of the graph. During an investigation of an event a user may move scrollbar along the time bar of the x axis in area until spotting a significant spike in the presentation of data that may be indicative of a factor contributing to the cause of the event.

Step may include synchronizing the presentation of recorded video data recorded GPS map data and the graphical display of recorded locomotive operational data based on an associated common attribute. As discussed above this synchronization may be enabled by having associated a common attribute such as a universal time stamp with each of the types of data as the data was recorded by an event recorder. Other common attributes may include proximity to a common landmark or other geographical position when the different types of data are recorded. Identifying information such as one or more of these common attributes may be tagged or associated with the recorded data as metadata.

Step may include coordinating an animation of at least a portion of the synchronized presentations of data such that implementation of a select animation process to one or more presentations of recorded data results in the simultaneous implementation of the same select animation process to another of the presentations of data. As discussed above various animation processes may include scrolling through the presented data in any one of the display areas and zooming in or out within one or more display areas to change the scale of the presented data.

It will be apparent to those skilled in the art that various modifications and variations can be made to the disclosed system and method without departing from the scope of the disclosure. Other implementations of the disclosed methods of playing back recorded event data will be apparent to those skilled in the art from consideration of the specification and practice of the methods disclosed herein. It is intended that the specification and examples be considered as exemplary only with a true scope of the disclosure being indicated by the following claims and their equivalents.

