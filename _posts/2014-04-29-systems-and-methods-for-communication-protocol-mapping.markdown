---

title: Systems and methods for communication protocol mapping
abstract: Provided are systems and methods for communication protocol mapping. A first computing device uses a first communication protocol while a second computing device uses a second communication protocol. In some implementations, the first communication protocol and the second communication protocol are for different service domains. In accordance with an embodiment of the disclosure, a server is configured to map communication between the different service domains. In some implementations, the first communication protocol is a protocol conforming to Representational State Transfer ‘REST’ and the second communication protocol is a Session Initiation Protocol ‘SIP’. In accordance with another embodiment of the disclosure, a server is configured to map communication between the protocol conforming to REST and SIP, regardless of whether different service domains are involved.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09042531&OS=09042531&RS=09042531
owner: BlackBerry Limited
number: 09042531
owner_city: Waterloo
owner_country: CA
publication_date: 20140429
---
This application is a continuation of U.S. patent application Ser. No. 13 365 584 filed Feb. 3 2012 and claims the benefit of U.S. Provisional Patent Application Ser. No. 61 557 651 filed Nov. 9 2011. Both of these disclosures are incorporated by reference in their entirety.

Computing devices are programmable machines capable of carrying out a sequence of arithmetic or logical operations. Some computing devices are capable of communicating with other devices. Such communication might adhere to a communication protocol. There are many communication protocols in existence for various types of communication.

Session Initiation Protocol SIP is a signalling protocol used for controlling communication sessions such as voice and video calls over Internet Protocol IP . Computing devices might use SIP for various telephony signalling services.

Representational State Transfer REST is a software architecture style used for identifying manipulating and transferring resource states through client server communication. REST is stateless and is typically based on Hypertext Transfer Protocol HTTP . Computing devices might use a RESTful protocol for various other services.

It should be understood at the outset that although illustrative implementations of one or more embodiments of the present disclosure are provided below the disclosed systems and or methods may be implemented using any number of techniques whether currently known or in existence. The disclosure should in no way be limited to the illustrative implementations drawings and techniques illustrated below including the exemplary designs and implementations illustrated and described herein but may be modified within the scope of the appended claims along with their full scope of equivalents.

According to an aspect of the disclosure there is provided a method for execution by a server the method comprising mapping communication from a first communication protocol used by a first computing device to a second communication protocol used by a second computing device wherein the first communication protocol is for a printer service domain and the second communication protocol is for a telephony signalling service domain and mapping the communication comprises mapping communication for the first computing device to electronically print a document onto the second computing device.

According to another aspect of the disclosure there is provided a non transitory computer readable medium having stored thereon computer executable instructions that when executed on a processor of a server implement the method summarised above.

According to another aspect of the disclosure there is provided a server comprising a processor and a protocol mapping function configured for mapping communication from a first communication protocol used by a first computing device to a second communication protocol used by a second computing device wherein the first communication protocol is for a printer service domain and the second communication protocol is for a telephony signalling service domain and mapping the communication comprises mapping communication for the first computing device to electronically print a document onto the second computing device.

According to another aspect of the disclosure there is provided a method for execution by a server the method comprising mapping communication from a first communication protocol used by a first computing device to a second communication protocol used by a second computing device wherein the first communication protocol is a protocol conforming to Representational State Transfer REST and the second communication protocol is a Session Initiation Protocol SIP and mapping the communication comprises mapping communication for the first computing device to electronically print a document onto the second computing device.

According to another aspect of the disclosure there is provided a non transitory computer readable medium having stored thereon computer executable instructions that when executed on a processor of a server implement the method summarised above.

According to another aspect of the disclosure there is provided a server comprising a processor and a protocol mapping function configured for mapping communication from a first communication protocol used by a first computing device to a second communication protocol used by a second computing device wherein the first communication protocol is a protocol conforming to Representational State Transfer REST and the second communication protocol is a Session Initiation Protocol SIP and mapping the communication comprises mapping communication for the first computing device to electronically print a document onto the second computing device.

Other aspects and features of the present disclosure will become apparent to those ordinarily skilled in the art upon review of the following description of the specific embodiments of the invention.

Referring now to shown is a block diagram of an example communication system featuring a server and two computing devices . The server has a processor a protocol mapping function and may have other components that are not shown. The computing devices are shown with specific components as will be described below but might have alternative components as will also be described below. The communication system may have other computing devices and other components but they are not shown for simplicity.

The server might be part of a network not shown . The network might for example be a wireless network in which case the computing devices might be wireless devices. Note that the wireless network may include wires in spite of having components for wireless communication. Example wireless networks are provided below with reference to . Alternatively the network might be a wired network. In any event the network facilitates communication between the server and the computing devices .

The operation of the communication system will now be described by way of example. In this example it is assumed that the first computing device is to electronically print a document onto the second computing device . To this end the first computing device has a printer driver capable of generating an electronic file such as a Portable Document Format PDF file a PostScript PS file etc. Also the second computing device has a memory capable of storing the electronic file. Note that the electronic printing does not require any printing on physical paper.

The first computing device uses a first communication protocol for a printer service domain while the second computing device uses a second communication protocol for a telephony signalling service domain. Therefore the first communication protocol and the second communication protocol are for different service domains.

In accordance with an embodiment of the disclosure the protocol mapping function of the server is configured to map communication from the different service domains. Therefore the electronic printing from the first computing device onto the second computing device can be accomplished even though the second computing device uses the second communication protocol which is for the telephony signalling service domain and not the printer service domain. The first communication protocol e.g. RESTful HTTP models a resource i.e. the electronic file to be transferred from the first computing device to the second computing device and the second communication protocol e.g. SIP extends that model through a real time session established with the second computing device .

In some implementations each service domain is linked to a specific domain name on a specific server. Through a domain name the user can access the server and therefore the service for that domain. Different service domains have different domain names used for accessing service. In this example the first computing device would connect to a server in the printer service domain and the second computing device would connect to a server running SIP in the telephony signalling service domain. In a specific example the first computing device is a Personal Computer PC using a RESTful protocol e.g. based on HTTP for the printer service domain and the second computing device is a tablet computer using SIP for the telephony signalling service domain. Other types of computing devices and communication protocols for different service domains are possible and are within the scope of the disclosure.

The illustrated example focuses on protocol mapping between two specific service domains namely the printer service domain and the telephony signalling service domain. However it is to be understood that protocol mapping between other different service domains is possible and within the scope of this disclosure. For example beside the printer service domain other possible service domains could include a social networking services domain e.g. for sharing information such as messages music pictures etc. or an emergency services domain e.g. for providing notifications such as paging alerts etc. . One or more of these service domains could be provided on one side while the telephony signalling service domain is on the other side. Note that for such alternative protocol mapping the computing devices may have alternative components. For example instead of having the printer driver the first computing device might have one or more alternative components for another service domain. Also note that implementations may depend upon protocol support available for a particular domain e.g. social networking services domain or emergency services domain and might involve a messaging protocol such as Java Message Service JMS REST SIP etc.

Protocol mapping between the different service domains might for example involve a RESTful protocol e.g. based on HTTP on one side and SIP on the other side or other protocols. However it is noted that protocol mapping between a RESTful protocol and SIP is not limited to different service domains let alone the different service domains described above. Therefore in accordance with another embodiment of the of the disclosure the protocol mapping function of the server is configured to map communication between a RESTful protocol and SIP regardless of whether different service domains are involved. In some implementations the mapping involves the printer service domain and the telephony signalling service domain as described above. In alternative implementations the mapping involves other service domains examples of which have been mentioned above.

In some implementations the server maintains a protocol mapping between the first communication protocol used by the first computing device and the second communication protocol used by the second computing device . In alternative implementations the mapping is calculated by other means and does not rely on any protocol mapping that has been maintained on the server .

In the illustrated example the protocol mapping function is implemented as software and is executed by the processor . However more generally the protocol mapping function may be implemented as software hardware firmware or any appropriate combination thereof.

Referring now to shown is a flowchart of an example method of mapping communication between two computing devices. This method may be implemented in a server of a communication system for example by the protocol mapping function of the server shown in . More generally this method may be implemented in any appropriate apparatus.

In some implementations as shown at step the server maintains a protocol mapping between a first communication protocol used by the first computing device and a second communication protocol used by the second computing device. In some implementations the protocol mapping provides a mapping for communication between different service domains. In one example the first communication protocol is for a printer service domain and the second communication protocol is for a telephony signalling service domain.

In accordance with an embodiment of the disclosure as shown at step the server maps communication between the first communication protocol used by the first computing device and the second communication protocol used by the second computing device. Therefore the server performs mapping for communication between the different service domains. In some implementations this mapping is performed based on the protocol mapping maintained at step . In alternative implementations the mapping is calculated by other means and does not rely on any protocol mapping that has been maintained on the server.

There are many possibilities for the different service domains. In some implementations the first communication protocol is for a printer service domain and the second communication protocol is for a telephony signalling service domain. In specific implementations the first communication protocol is a RESTful protocol e.g. based on HTTP for the printer service domain and the second communication protocol is a SIP for the telephony signalling service domain. For such implementations the server might for example map communication for the first computing device to electronically print a document onto the second computing device.

Note that the electronic printing does not require any printing on physical paper but rather involves generating an electronic file e.g. PDF file PS file etc. to be stored on the second computing device. Accomplishing the electronic printing from the first computing device onto the second computing device even though the second computing device uses SIP which is for the telephony signalling service domain and not the printer service domain can be accomplished by various embodiments disclosed herein.

It is to be understood that other different service domains are possible and are within the scope of this disclosure. Examples have been provided above and are therefore not repeated here.

Protocol mapping between the different service domains might for example involve a RESTful protocol e.g. based on HTTP on one side and SIP on the other side or other protocols. However it is noted that protocol mapping between a RESTful protocol and SIP is not limited to different service domains let alone the different service domains described above. Therefore in accordance with an another embodiment of the of the disclosure the server at step maps communication between a RESTful protocol and SIP regardless of whether different service domains are involved. In some implementations the mapping involves the printer service domain and the telephony signalling service domain as described above. In alternative implementations the mapping involves other service domains examples of which have been mentioned above.

Referring now to shown is a signalling diagram showing example details of communication protocol mapping between two between two computing devices . The signalling is shown for a specific scenario namely the first computing device electronically printing a document onto the second computing device . However it is to be understood that other scenarios are possible and are within the scope of the disclosure. Furthermore it is to be understood that the signalling diagram is very specific and is provided only as an example.

In this example a user might use both the first computing device and the second computing device . In a specific example the first computing device is a PC and the second computing device is a tablet computer and the user wishes to electronically print a document onto the tablet computer from the PC. Once electronically printed on the tablet computer the user has the electronic document on the tablet computer and take it with them.

The second computing device has a Print Application which at step subscribes to a Sub Notify component which functions as a communication liaison for applications such as the Print Application running on the second computing device . Once subscribed the Print Application is capable of communicating outside of the second computing device .

The first computing device has a printer driver not shown . At step the first computing device sends a request to a Mobile Service Delivery Platform MSDP server to electronically print a document on the second computing device . Note that the request adheres to REST and includes a Computing Device Identifier CCID identifying the second computing device as a target for the electronic document. At step there is user authentication which can help to prevent malicious users from sending electronic documents to the second computing device .

Upon user authentication at step the MSDP server locates the second computing device using the CCID from the request received at step . It is assumed that the second computing device previously registered step not shown with the MSDP server and therefore there is a Transmission Control Protocol TCP connection between the MSDP server and the second computing device . The CCID is used to map onto this TCP connection.

Upon locating the second computing device at step the MSDP server requests a file transfer call which is a packet switched session used to transfer the electronic document from the first computing device to the second computing device . The request adheres to SIP which is a protocol for the telephony signalling service domain but identifies that the request in respect of the printer service domain. Note that the MSDP server uses SIP because this signaling channel is already maintained between the MSDP server and applications on the second computing device including the Print Application .

Upon receiving the request at step the Sub Notify component notifies the Print Application that there is a request to electronically print a document on the second computing device . The Print Application notifies the user at step and requests the user to accept the request.

At step the Print Application notifies the Sub Notify component that the user has been prompted. In response the Sub Notify component sends a corresponding message to the MSDP server at step .

Upon receiving the corresponding message the MSDP server creates the session at step . Note that the session is created without waiting for the user to accept the request. Since REST is stateless the MSDP server does not set a timer in order to wait for the user to accept the request as the timer would not be stateless.

At step the MSDP server sends a message to the first computing device informing that the session has been created and indicating its session ID. At this point the first computing device does not know whether the user has accepted the request. Also according to REST the computing device should not wait. Therefore at step the first computing device requests a status update. In this manner for a state transition within the call setup procedure the first computing device is directed to a long lived HTTP GET on a resource i.e. waiting the resource status change or transition to the next state .

In the meantime at step the user accepts the request to transfer the electronic document. Therefore at step the Print Application sends a request to a File Transfer component in order to create a file Uniform Resource Locator URL that can be used to transfer the electronic document. In response the File Transfer component generates a secure file URL at step and then conveys this back to the Print Application at step .

At step the Print Application notifies the Sub Notify component that the user has accepted the request to transfer the electronic document. Note that this signal identifies the file URL that was generated at step . In response the Sub Notify component sends a corresponding message at step to the SDP server which in turn forwards a corresponding message to the first computing device at step . Note that the signal at steps is based on SIP while the signal at step is based on RESTful HTTP and therefore the signals are different from one another even though they both carry the file URL. At step the MSDP server acknowledges receipt of the file URL.

At this point the first computing device has the file URL and can therefore transfer the electronic document. At step the first computing device uses the file URL to transfer the electronic document to the second computing device . The electronic document is received by the File Transfer component of the second computing device . In response the File Transfer component acknowledges receipt of the electronic document at step . The File Transfer component also informs the Print Application at step that the electronic document has been received.

At this point the second computing device has the electronic document and so the session used to transfer the electronic document is no longer needed. Therefore at step the Print Application notifies the Sub Notify component that the session should be terminated. In response the Sub Notify component sends a command to the MSDP server to end the session. The MSDP server ends the session step not shown and confirms the same at step . Alternatively the session is terminated by the first computing device sending an HTTP DELETE which is mapped to BYE over SIP.

In this example it can be seen that the MSDP server offers a RESTful interface to the printer driver running on the first computing device . Therefore the electronic printing from the first computing device onto the second computing device is accomplished even though the second computing device uses SIP which is for the telephony signalling service domain and not the printer service domain. Various RESTful operations can be mapped to SIP to allow things like discover of the second computing device prompt the user to accept the file transfer wait for the response before proceeding cancel the transfer operation end the session when file transfer finishes etc. RESTful API s are by nature request response with a short timeout and stateless. Embodiments of the disclosure provide a mechanism to map the RESTful Print API into SIP session and signaling procedures for the file transfer.

In accordance with another embodiment of the disclosure there is provided a non transitory computer readable medium having computer executable instructions stored thereon for execution on a processor of a server so as to implement any of the methods described herein. The non transitory computer readable medium might for example be an optical disk such as a Compact Disk CD a Digital Video Disk DVD or a Blu Ray Disk BD . Alternatively the non transitory computer readable medium might for example be a memory stick a memory card a disk drive a solid state drive etc. Other non transitory computer readable media are possible and are within the scope of this disclosure. More generally the non transitory computer readable medium can be any tangible medium in which the computer executable instructions can be stored.

Referring now to shown is a block diagram of an example computing device . In this example the computing device is a mobile device . However as noted above other types of computing devices are possible e.g. PC tablet computer etc. and are within the scope of the disclosure. It is to be understood that the mobile device is shown with very specific details and is provided only as an example.

The mobile device has a housing that may be elongated vertically or may take on other sizes and shapes including clamshell housing structures . The keyboard may include a mode selection key or other hardware or software for switching between text entry and telephony entry. Alternatively the mobile device may have a housing that does not take on other sizes and shapes.

A microprocessor is shown schematically as coupled between a keyboard and a display . The microprocessor is a type of processor. The microprocessor controls operation of the display as well as overall operation of the mobile device in response to actuation of keys on the keyboard by a user.

In addition to the microprocessor other parts of the mobile device are shown schematically. These include a communications subsystem a short range communications subsystem the keyboard and the display along with other input output devices including a set of LEDs a set of auxiliary I O devices a serial port a speaker and a microphone as well as memory devices including a flash memory and a Random Access Memory RAM and various other device subsystems . The mobile device may have a battery to power the active elements of the mobile device . The mobile device is in some embodiments a two way radio frequency RF communication device having voice and data communication capabilities. In addition the mobile device in some embodiments has the capability to communicate with other computer systems via the Internet.

Operating system software executed by the microprocessor is in some embodiments stored in a persistent store such as the flash memory but may be stored in other types of memory devices such as a read only memory ROM or similar storage element. In addition system software specific device applications or parts thereof may be temporarily loaded into a volatile store such as the RAM . Communication signals received by the mobile device may also be stored to the RAM .

The microprocessor in addition to its operating system functions enables execution of software applications on the mobile device . A predetermined set of software applications that control basic device operations such as a voice communications module A and a data communications module B may be installed on the mobile device during manufacture. In addition a personal information manager PIM application module C may also be installed on the mobile device during manufacture. The PIM application is in some embodiments capable of organizing and managing data items such as e mail calendar events voice mails appointments and task items. The PIM application is also in some embodiments capable of sending and receiving data items via a wireless network . In some embodiments the data items managed by the PIM application are seamlessly integrated synchronized and updated via the wireless network with the device user s corresponding data items stored or associated with a host computer system. Additional software modules illustrated as another software module N may be installed during manufacture.

Communication functions including data and voice communications are performed through the communication subsystem and possibly through the short range communications subsystem . The communication subsystem includes a receiver a transmitter a GPS receiver and one or more antennas illustrated as a receive antenna a transmit antenna and a GPS antenna . In addition the communication subsystem also includes a processing module such as a digital signal processor DSP and local oscillators LOs .

The specific design and implementation of the communication subsystem might be dependent upon the communication network in which the mobile device is intended to operate. The communication network might be a cellular network. For example the communication subsystem of the mobile device may be designed to operate with the Mobitex DataTAC or General Packet Radio Service GPRS mobile data communication networks and also designed to operate with any of a variety of voice communication networks such as Advanced Mobile Phone Service AMPS Time Division Multiple Access TDMA Code Division Multiple Access CDMA Personal Communications Service PCS Global System for Mobile Communications GSM etc. Examples of CDMA include 1X and 1x EV DO and Wideband CDMA. Other applicable communication networks might include packet data systems Enhanced Data rates for GSM Evolution EDGE E EDGE UMTS UTRAN OFDMA systems TD SCDMA systems LTE E UTRAN etc. The communication subsystem may also be designed to operate with a non cellular network such as an 802.11 Wi Fi network or an 802.16 WiMAX network or both. Other types of data and voice networks both separate and integrated may also be utilized with the mobile device .

Network access may vary depending upon the type of communication system. For example in the Mobitex and DataTAC networks mobile devices are registered on the network using a unique Personal Identification Number PIN associated with each device. In GPRS networks however network access is typically associated with a subscriber or user of a device. A GPRS device therefore typically has a subscriber identity module commonly referred to as a Subscriber Identity Module SIM card in order to operate on a GPRS network.

When network registration or activation procedures have been completed the mobile device may send and receive communication signals over the communication network . Signals received from the communication network by the receive antenna are routed to the receiver which provides for signal amplification frequency down conversion filtering channel selection etc. and may also provide analog to digital conversion. Analog to digital conversion of the received signal allows the DSP to perform more complex communication functions such as demodulation and decoding. In a similar manner signals to be transmitted to the network are processed e.g. modulated and encoded by the DSP and are then provided to the transmitter for digital to analog conversion frequency up conversion filtering amplification and transmission to the communication network or networks via the transmit antenna .

In addition to processing communication signals the DSP provides for control of the receiver the transmitter and the GPS receiver . For example gains applied to communication signals in the receiver and the transmitter may be adaptively controlled through automatic gain control algorithms implemented in the DSP .

In a data communication mode a received signal such as a text message or web page download is processed by the communication subsystem and is input to the microprocessor . The received signal is then further processed by the microprocessor for an output to the display or alternatively to some other auxiliary I O devices . A device user may also compose data items such as e mail messages using the keyboard or some other auxiliary I O device such as a touchpad a rocker switch a thumb wheel or some other type of input device or combinations thereof. The composed data items may then be transmitted over the communication network via the communication subsystem .

In a voice communication mode overall operation of the device is substantially similar to the data communication mode except that received signals are output to a speaker and signals for transmission are generated by a microphone . Alternative voice or audio I O subsystems such as a voice message recording subsystem may also be implemented on the mobile device . In addition the display may also be utilized in voice communication mode for example to display the identity of a calling party the duration of a voice call or other voice call related information.

Location determination using GPS technology involves receiving GPS signals from GPS satellites on the antenna . The GPS signals are received using the GPS receiver and processed by the DSP . Typically GPS signals from at least four satellites are processed. Further details of GPS are omitted for simplicity.

The short range communications subsystem enables communication between the mobile device and other proximate systems or devices which need not necessarily be similar devices. For example the short range communications subsystem may include an infrared device and associated circuits and components or a Bluetooth communication module to provide for communication with similarly enabled systems and devices.

Numerous modifications and variations of the present disclosure are possible in light of the above teachings. It is therefore to be understood that within the scope of the appended claims the disclosure may be practised otherwise than as specifically described herein.

