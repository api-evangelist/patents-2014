---

title: Computer-implemented system and method for roof modeling and asset management
abstract: Embodiments of the invention provide a computer-implemented system and method for generating a three-dimensional rooftop model. In some embodiments, the system and method can process stereo aerial images to generate a stereoscopic image, and generate a point-cloud field from at least a portion of the stereoscopic image. Some embodiments of the computer-implemented system and method can generate three-dimensional rooftop models using polylines and polygons derived from the point-cloud field. In some embodiments, a rooftop solar energy potential can be determined using a rooftop area calculated using the system and method. In some further embodiments, a rainwater run-off potential can be calculated using a measured rooftop area calculated using the computer-implemented system and method. In some embodiments, the system and method can display at least one building including at least one rooftop including one or more rooftop portions including a display of a solar potential and/or a rainwater runoff potential.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09569565&OS=09569565&RS=09569565
owner: CYBERCITY 3D, INC
number: 09569565
owner_city: El Segundo
owner_country: US
publication_date: 20140109
---
This application claims the benefit of filing date of U.S. Provisional Application Ser. No. 61 751 687 titled A COMPUTER IMPLEMENTED SYSTEM AND METHOD FOR ROOF MODELING AND ASSET MANAGEMENT the specification of which is incorporated by reference herein in its entirety. This application also claims the benefit of filing date of U.S. Provisional Application Ser. No. 61 843 852 titled A COMPUTER IMPLEMENTED SYSTEM AND METHOD FOR ROOF MODELING AND ASSET MANAGEMENT the specification of which is incorporated by reference herein in its entirety.

Remote building surveying including building foot print assessments total roof geometry and roof surface area measurements offers an enormous potential to provide rapid highly accurate solar energy potential flood modeling and stormwater run off assessments. Systems and methods have been developed for remote building structure analysis using three dimensional geometric modeling. However the prior art methods generally use oblique data and images two dimensional digitized roof data footprints or traditional three dimensional CAD data and generate geometric models using photogrammetry software. Using these methods users often find that building data are required from more than one source thus adversely affecting costs. Furthermore data manipulation and model generation often requires manual procedures or may only be partially automated.

In response to growing environmental concerns and the need to provide a diverse energy economy cities and municipalities are rapidly advancing programs to encourage the use of solar energy conversion to electricity. Current methods for solar radiation and photovoltaic energy potential are derived from querying and browsing GIS maps with different spatial data overlay e.g. solar irradiation measured by local weather stations and solar radiation models based on digital elevation models and or raster layers . Current methods require significant volumes of overlay data and extensive data interpolation to generate the photovoltaic potential of a roof area. The current methods also involve manual processing from remote sensing measurements shot obliquely. Moreover well known current methods do not enable individual home owners to determine the photovoltaic potential of their home but only the photovoltaic potential of the surrounding area. The installation and integration of solar energy infrastructure can be costly and often varies from roof top to roof top thereby causing an undesirable return on investment for poorly planned installations.

Global sustainability efforts are also driving the utilization of home water collection surfaces for diversion and containment of rainwater in many cities and municipalities. Not only is the need driven by the demand for more effective management of water resources and water conservation municipalities are realizing the need to determine tenant and owner responsibility for stormwater run off. Management of the run off is required in order to more effectively control local pollution of rivers bays and coastal waters. Building data and roof area assessments can be used to more equitably and effectively implement regulations and urban drainage design.

Energy conservation efforts are driving the utilization of thermal capture images for heating or cooling energy escape assessments. There is a need for more enhanced measurement profiles related to thermal images and three dimensional roof and fa ade measurements. Further energy conservation efforts are driving the utilization of new software for monitoring and optimizing energy within specific building floors. There is a need for more enhanced measurement profiles expressing information within buildings on a geospatial platform which also includes data queries and real time monitoring. This information can be used in next generation mapping systems that can allow for greater marketing and management intelligence in government and commercial real estate property sales and management in transaction based web maps and e commerce sites.

Primarily driven by these emerging applications there exists a need for systems and methods that provide more accurate scalable and automated building structure assessment information using stereo photographic imagery.

Some embodiments of the invention comprise a computer implemented roof area measurement system comprising a processor and a non transitory computer readable storage medium in data communication with the processor in which the non transitory computer readable storage medium including a rooftop modeling system executable by the processor is configured to prepare at least one three dimensional model of a physical rooftop including at least one rooftop by performing steps executable by the processor. The steps can comprise calculating at least one stereoscopic image using a first aerial image and a second aerial image of at least one physical rooftop where the first aerial image and second aerial image include at least a 30 image overlap. The steps can further comprise calculating a point cloud from at least a portion of the at least one stereoscopic image and generating at least one polygonal chain using at least a portion of the point cloud. The steps can comprise identifying at least one rooftop portion defined by a closed polygonal chain and calculating a geometry and area of the at least one rooftop portion. The steps can comprise calculating a slope and orientation to North of the at least one rooftop portion and calculating a solar potential of the at least one rooftop portions using at least the geometry and area slope and orientation to North of the at least one rooftop portions. The steps can also comprise displaying in a graphical user interface with the at least one three dimensional model including the at least one rooftop portions and displaying a solar potential of at least one portion of the at least one rooftop.

In some embodiments the computer implemented system and method can further comprise the rooftop modeling system executable by the processor and configured to calculate a total rooftop area from the at least one rooftop portions. In some further embodiments displaying the solar potential of at least one portion of the at least one rooftop comprises rendering the at least one rooftop portions in one or more colors correlated to the solar potential of the at least one portion of the at least one rooftop. In some other embodiments displaying the solar potential of at least one portion of the at least one rooftop comprises rendering the at least one rooftop portions in one or more graphical patterns correlated to the solar potential of the at least one portion of the at least one rooftop.

Some embodiments of the computer implemented system and method further comprise the rooftop modeling system executable by the processor and configured to calculate and display a rooftop solar potential using at least the total rooftop area and slope and orientation to North of the at least one rooftop portions.

In some further embodiments the system and method further comprises the rooftop modeling system executable by the processor and configured to display a three dimensional model of at least one building comprising the at least one rooftop portion and to display a roof data feature of the at least one building based at least in part on a user selection of the at least one rooftop portion. In some embodiments the roof data feature comprises a display window comprising a data field including at least one of an absolute height a relative height a surface area total a surface area XY a slope min a slope max a roof pitch angle a roof type a solar azimuth a solar surface area a two dimensional solar area an sP fa ade and an SP roof.

In some embodiments the solar potential of at least one portion of the at least one rooftop can be designated to be a poor solar potential a fair solar potential a good solar potential and an excellent solar potential a no solar potential a low solar potential a medium solar potential a high solar potential and or a highest solar potential.

In some embodiments least one portion of the at least one rooftop is assigned a solar value. In some embodiments the solar value comprises a numerical value and the at least one portion of the at least one rooftop is rendered in a color assigned to the numerical value. In some other embodiments at least one portion of the at least one rooftop is rendered with a graphical pattern assigned to the numerical value. In some further embodiments the at least one rooftop comprises a plurality of solar values and the rooftop is rendered in a plurality of colors based at least in part on the plurality of solar values.

Some embodiments include the system and method calculating and displaying a roof data feature comprising a display window comprising at an orientation to North an area and a potential.

Some embodiments comprise a non transitory computer readable storage medium storing computer readable instructions which when executed by at least one processor of a computer cause a roof area modeling system to perform steps comprising receiving and storing on a computer readable storage medium a first file comprising using the least one processor preparing at least one three dimensional model of a physical rooftop including at least one rooftop by performing steps executable by the processor. The steps can comprise acquiring at least a first aerial image and a second aerial image of at least one physical rooftop in which the first aerial image and second aerial image include at least a 30 image overlap. The steps can also include calculating at least one stereoscopic image using the first aerial image and a second aerial image and calculating a point cloud from at least a portion of the at least one stereoscopic image. The steps can also include generating at least one polygonal chain using at least a portion of the point cloud identifying at least one rooftop portion defined by a closed polygonal chain calculating a geometry and area of the at least one rooftop portion and calculating a slope and orientation to North of the at least one rooftop portion. The steps can further include calculating a solar potential of the at least one rooftop portions using at least the geometry and area slope and orientation to North of the at least one rooftop portions and displaying in a graphical user interface the at the least one three dimensional model including the at least one rooftop portions and displaying a solar potential of at least one portion of the at least one rooftop.

Some embodiments comprise a non transitory computer readable storage medium storing computer readable instructions which when executed by at least one processor of a computer cause a roof area modeling system to perform steps comprising receiving and storing on a computer readable storage medium a first file comprising using the least one processor preparing at least one three dimensional model including at least one rooftop by performing steps executable by the processor including calculating a total rooftop area from the at least one rooftop portions and displaying the solar potential of at least one portion of the at least one rooftop by rendering the at least one rooftop portions in one or more colors correlated to the solar potential of the at least one portion of the at least one rooftop.

Some embodiments of the invention include a computer implemented roof runoff measurement system comprising a processor a non transitory computer readable storage medium in data communication with the processor including a rooftop modeling system executable by the processor and configured to prepare at least one three dimensional model of at least one physical roof including at least one rooftop by performing steps executable by the processor. The steps can include calculating at least one stereoscopic image using a first aerial image and a second aerial image of at least one physical roof that include at least a 30 image overlap calculating a point cloud from at least a portion of the at least one stereoscopic image and generating at least one polygonal chain using at least a portion of the point cloud. The steps can further include identifying at least one rooftop portion defined by a closed polygonal chain calculating a geometry and area of the at least one rooftop portion and calculating a slope of the at least one rooftop portion. The steps can also include calculating a rainwater runoff potential of the at least one rooftop portions using at least the geometry and area slope of the at least one rooftop portions and displaying in a graphical user interface the at the least one three dimensional model including the at least one rooftop portions and displaying a rainwater runoff potential of at least one portion of the at least one rooftop.

In some embodiments the runoff potential is calculated based at least in part on a flow of rainwater per unit width of the at least one rooftop portion which is calculated using the expression 

where i is the rainfall intensity falling on the at least one rooftop portion with a longitudinal slope of So and length L.

In some embodiments the runoff potential is calculated based at least in part on a time for a water droplet to travel from a top of the at least one roof portion to the bottom of the at least one roof portion based on a water droplet velocity calculated using the expression 

where n equals a roughness coefficient of the surface of the at least one rooftop portion and y is the depth of flow of rainwater runoff.

Before any embodiments of the invention are explained in detail it is to be understood that the invention is not limited in its application to the details of construction and the arrangement of components set forth in the following description or illustrated in the following drawings. The invention is capable of other embodiments and of being practiced or of being carried out in various ways. Also it is to be understood that the phraseology and terminology used herein is for the purpose of description and should not be regarded as limiting. The use of including comprising or having and variations thereof herein is meant to encompass the items listed thereafter and equivalents thereof as well as additional items. Unless specified or limited otherwise the terms mounted connected supported and coupled and variations thereof are used broadly and encompass both direct and indirect mountings connections supports and couplings. Further connected and coupled are not restricted to physical or mechanical connections or couplings.

The following discussion is presented to enable a person skilled in the art to make and use embodiments of the invention. Various modifications to the illustrated embodiments will be readily apparent to those skilled in the art and the generic principles herein can be applied to other embodiments and applications without departing from embodiments of the invention. Thus embodiments of the invention are not intended to be limited to embodiments shown but are to be accorded the widest scope consistent with the principles and features disclosed herein. The following detailed description is to be read with reference to the figures in which like elements in different figures have like reference numerals. The figures which are not necessarily to scale depict selected embodiments and are not intended to limit the scope of embodiments of the invention. Skilled artisans will recognize the examples provided herein have many useful alternatives that fall within the scope of embodiments of the invention.

Some embodiments of the invention include a computer implemented system and method for calculating and displaying roof area measurement data for at least one building or structure. For the purposes of describing the invention as disclosed a roof can be described as the covering of at least part of the uppermost portion of a building or structure. In general the characteristics of a roof are dependent upon the purpose of the building that it covers.

In some embodiments one or more parameters generated by one or more modules of the computer implemented system and method can be used for solar energy evaluation. For example in some embodiments the computer implemented system and method can assign a solar resource to one or more rooftop areas of a building or structure. In order to fully assess any rooftop surface as a solar resource the size of the roof surface and the pitch angle of the roof requires calculation. In many instances roofs can have one or more complex geometries and therefore each roof segment or surface polygon needs to be calculated. Moreover the relationship of a particular roof s orientation to the horizon is also important in understanding solar exposure. The determination of roof geometry area and orientation facilitates the calculation of the solar potential of a particular roof polygon. The key parameters that are required to establish the solar energy potential and therefore the financial and installation economics include the size of the roof surface for solar panel installation the pitch angle of the roof calculating each roof surface or polygon and the orientation to south the azimuth of the roof or roof polygon .

In some embodiments the system and method can comprise a stereo image set up process module that can enable acquisition image data review and delivery of images for subsequent analysis and processing by the system and method . In some embodiments one or more components of the computer system and method can use automated photogrammetric techniques in combination with stereo aerial images including aerial satellite imagery and or multiple remote sensing sources including but not limited to satellite images aerial images oblique and LiDAR imagery. Some embodiments of the computer implemented system and methods as depicted in and described throughout include automated measurement systems that utilize mass produced building images that are readily available including from those described above . For example as depicted in the process module can include a plurality of main tasks including image GIS review and geometric checking of camera files . In some embodiments the process module can conclude by progressing to a point cloud collection module with image upload for point cloud analysis. The point cloud collection module can include a plurality of main tasks including review of aero triangulation and sample data orientation and validation . Although depicted as sequential main tasks the system and method can also include one or more main tasks that can be processed in parallel. Furthermore in some embodiments the system and method can include other main tasks in addition to those shown and or can include one or more main tasks that are processed in a different order to that depicted in . In some embodiments the module can include proceeding with a check for vertical and horizontal accuracy task followed by processing and plot checks tasks. Following the module the system and method can proceed to the generate 3D measurement and three dimensional model module . This module can include a roof coding system and graphic files and buildings cut with terrain for final measurements main tasks. In some embodiments following conclusion of the modules the system and method can comprise an edit and export to native format module . The edit and export to native format module can include a plurality of tasks including final editing checking reverse walls remove duplicate objects and geometry final visual inspection and concluding with export to open source geo other . Following data file processing using the edit and export to native format module the system and method can comprise an add application specific data attributes and deploy module with main tasks comprising a relevant solar information and a generate report and analysis . Although depicted as sequential process modules the system and method can also include one or more process modules that can be processed in parallel. Furthermore in some embodiments the system and method can include other process modules in addition to those shown and or can include one or more process modules that are processed in a different order to that depicted in .

In some embodiments one or more of the processes defined by the process modules of the system and method can include or comprise one or more sub tasks capable of creating one or more three dimensional models. The sub tasks can comprise one or more actions by the user and or one or more actions by the system and method e.g. following processing by the system architecture . For example in some embodiments the system and method can include sub tasks comprising data capture automated modeling semi automated editing sub tasks and texturing options e.g. see illustrating a sub task summary for the computer implemented three dimensional model processing and generation system and method of according to one embodiment of the invention .

In some embodiments the data capture sub tasks can include stereo measurement e.g. stereo image capture and processing digital terrain model hereinafter DTM point cloud generation and quality management . Photogrammetry enables the determination of geometric parameters of objects from photographic images. In some embodiments one or more components of the computer system and method can use automated photogrammetric techniques in combination with stereo aerial images including aerial satellite imagery and or multiple remote sensing sources including but not limited to satellite images aerial images oblique and LiDAR imagery. In some embodiments one or more components of the computer system and method can use automated photogrammetric techniques in combination with stereo aerial images with a minimum of 30 overlap including aerial satellite imagery. In some embodiments stereo images with 30 or more overlap can be processed from multiple remote sensing sources including but not limited to satellite images aerial images oblique and LiDAR imagery. Some embodiments perform analysis of imagery using point cloud generation. In some embodiments one or more DTM s can be generated from one or more images.

In some embodiments the automated modeling sub tasks can include three dimensional model generation and or topological structuring In some embodiments DTM or an artificial height reference can be used to generate a three dimensional model. In some embodiments the automated modeling sub tasks can utilized topological structuring to generate at least one three dimensional image.

In some further embodiments the semi automated editing sub tasks can include one or more sub tasks for editing three dimensional models created using sub tasks . In some embodiments one or more of the semi automated editing sub tasks can include tools for geometric refinement geometric module attribute tagging basement generation and other conversion tools. For example in some embodiments the semi automated editing sub tasks can include geometry refinement adding attributes basement generation and a conversion tool .

In some embodiments three dimensional models can be rendered using one or more texturing options using the texturing options sub task . In some embodiments one or more modules of the computer implemented system and method can include extensive texturing options including texture management of various model surfaces. For example in some embodiments the texturing options can include a texture management and terrestrial or aerial oblique images applied . In some embodiments one or more textures can be applied to roofs walls or other surfaces of a model and in some further embodiments terrestrial or aerial oblique images can be used as the basis of a texture and applied to one or more surfaces.

Some embodiments of the invention also relate to a device or an apparatus for performing the computer implemented methods described herein. The apparatus can be specially constructed for the required purpose such as a special purpose computer. shows one example of a system architecture implementation useful for performing one or more of the computer implemented methods according to at least one embodiment of the invention. As shown the system can include at least one computing device including at least one or more processors . Some processors can include processors residing in one or more conventional server platforms. In some embodiments the system architecture can include a network interface and an application interface coupled to at least one processor capable of running at least one operating system . Further the system architecture can include a network interface and an application interface coupled to at least one processor capable of running one or more of the software modules e.g. enterprise applications . In some embodiments the software modules can include a server based software platform that can include numerous other software modules suitable for hosting at least one account and at least one client account as well as transferring data between one or more accounts. When defined as a special purpose computer the computer can also perform other processing program execution or routines that are not part of the special purpose while still being capable of operating for the special purpose. Alternatively the operations can be processed by a general purpose computer selectively activated or configured by one or more computer programs stored in the computer memory cache or obtained over a network. When data are obtained over a network the data can be processed by other computers on the network e.g. a cloud of computing resources.

With the above embodiments in mind it should be understood that the invention can employ various computer implemented operations involving data stored in computer systems. Moreover the above described databases and models throughout the system can store analytical models and other data on computer readable storage media . In addition the above described applications of the monitoring system can be stored on computer readable storage media . These operations are those requiring physical manipulation of physical quantities. Usually though not necessarily these quantities take the form of electrical electromagnetic or magnetic signals optical or magneto optical form capable of being stored transferred combined compared and otherwise manipulated.

In some embodiments the system architecture can include at least one computer readable medium coupled to at least one data storage device at least one data source and at least one input output device . In some embodiments the invention can also be embodied as computer readable code on a computer readable medium . The computer readable medium can be any data storage device that can store data which can thereafter be read by a computer system. Examples of the computer readable medium can include hard drives network attached storage NAS read only memory random access memory FLASH based memory CD ROMs CD Rs CD RWs DVDs magnetic tapes other optical and non optical data storage devices or any other physical or material medium which can be used to tangibly store the desired information or data or instructions and which can be accessed by a computer or processor.

In some embodiments the computer readable medium can be distributed over a conventional computer network via the network interface so that the computer readable code can be stored and executed in a distributed fashion. For example in some embodiments one or more components of the system architecture can be tethered to send and or receive data through a local area network LAN . In some further embodiments one or more components of the system architecture can be tethered to send or receive data through an internet e.g. a wireless internet . In some embodiments at least one software application running on at least one processor can be configured to be coupled for communication over a network 

In some embodiments one or more components of the network can include one or more resources for data storage including any other form of computer readable media beyond the media for storing information and including any form of computer readable media for communicating information from one electronic device to another electronic device. Also in some embodiments the network can include wide area networks WAN direct connections e.g. through a universal serial bus port or other forms of computer readable media or any combination thereof. Also various other forms of computer readable media can transmit or carry instructions to a client device including a router private or public network or other transmission device or channel both wired and wireless. The software modules can be configured to send and receive data from a database e.g. from a computer readable medium including data sources and data storage that can comprise a database and data can be received by the software modules from at least one other source. In some embodiments at least one of the software modules can be configured within the system to output data to a user via at least one digital display e.g. to at least one client device comprising a digital display .

In some embodiments one or more components of the network can include a number of client devices which can be personal computers including for example desktop computers laptop computers digital assistants personal digital assistants cellular phones mobile phones smart phones pagers digital tablets internet appliances and other processor based devices. In general a client device can be any type of external or internal devices such as a mouse a CD ROM DVD a keyboard a display or other input or output devices

In some embodiments the system architecture as described can enable one or more users to receive analyze input modify create and send data to and from the system architecture including to and from one or more enterprise applications running on the system architecture . Some embodiments include at least one user accessing one or more modules including at least one enterprise applications via a stationary I O device through a LAN . In some other embodiments the system architecture can enable at least one user accessing enterprise applications via a stationary or mobile I O device through an internet . Moreover in some embodiments one or more users can access interact and view data calculated by the system and method using one or more client devices e.g. as depicted by the two way arrows shown in .

In some embodiments the seamless flow of data across one or more of the modules as described can be supported in a Microstation platform . Microstation is a trademark of Bentley Systems Incorporated. In some embodiments capture data e.g. roof features can be entered into Microstation platform as line springs or polygons. Using these methods the system and method can directly process captured images from virtually any photogrammetric system or data source.

In some embodiments the system and method can be configured by a user to build and render at least one three dimensional building or structure comprising at least one object. For example illustrates of an example of a building object layout according to one embodiment of the invention. In some embodiments the method and system includes a data structure where an entity such as a building structure such as a building a bridge a church hospital a factory an apartment complex or other structure can comprise a plurality of geometric objects. In some embodiments one or more of the geometric objects can be assigned a tag set that includes one or more attributes such as the same ID number footprint object name roof type etc. In some embodiments each object can comprise one or more cells. In some embodiments the cells can include a roof cell a wall cell a bottom cell etc. Some other embodiments can include different cells types depending on the architectural features of the building. In some embodiments each geometric cell is composed of faces. For example illustrates an overview of an object layer hierarchy of the building and object layout as depicted in according to one embodiment of the invention. As shown the hierarchy is illustrated in a series of layers the first layer being the building which comprises two objects and a footprint shown in the second layer of the hierarchy. The third layer is the surface e.g. the roof cell wall cell and bottom cell and the fourth layer comprises faces of the cells of the objects which in this example shows faces of the roof of object and faces of the wall of object . The fourth layer also shows face of roof of object as well as face of wall of object . Further in some embodiments the system and method can generate a three dimensional model based on a data object layer hierarchy of a building or structure. For example illustrates a logical structure layout of a building according to one embodiment of the computer implemented system and method implemented for example in a Microstation platform . In some embodiments the logical structure layout comprising a building can include a hierarchical structure can comprise at least one object and footprint . In some embodiments the object can comprise a layer hierarchy with at least one wall and at least one roof . Further the at least one wall can include a hierarchy with at least one surface and a hierarchy with at least one roof that can include a hierarchy with at least one surface

As discussed earlier in some embodiments the system and method can include process module including a data capture sub task that can include point cloud generation . In some embodiments the system and method can process stereo aerial photographs e.g. using the process module to generate a point cloud field and some embodiments of the computer implemented system and method can process the point cloud field to generate a three dimensional rooftop model. For example illustrates an example of a point cloud field generated by the computer implemented system and method according to one embodiment of the invention. In some embodiments a point cloud geometric object can be defined using a series of polylines forming at least one polygonal chain where at least one is labeled in and polygons formed by a closed polygonal chain where at least one is labeled in derived from the point cloud field and defined with a set of internal points and boundary points .

Some embodiments of the system and method enable conversion of the point cloud geometric object to one or more three dimensional polygon faces. In some embodiments various structural and or architectural features can be defined and differentiated. For example in some embodiments various roof objects such as dormers and chimneys can be defined and coded. Furthermore in some embodiments walls and other features between objects can be generated automatically. illustrates a point cloud geometry coding system generated by the computer implemented system and method according to one embodiment of the invention. In some embodiments various structural and or architectural features can be defined and differentiated. For example in some embodiments various roof objects such as dormers and chimneys can be defined and assigned a code . In some embodiments the coding system can include assignment of one or more measurement rules .

In some embodiments the system and method can display information using at least one graphical user interface hereinafter referred to as GUI . The GUI can comprise one or more windows capable of displaying image data in textural or graphical format and may include one or more icons enabling a user to control one or more functions of the system and method . for example depicts a GUI showing a representation of a point cloud in a window portion with a conversion to a three dimensional polygon using one embodiment of the computer implemented system and method . As illustrated some embodiments convert one or more point clouds comprising one or more polygonal chains to one or more three dimensional polygon faces of a three dimensional polygon displayed in a window portion . For example as shown the three dimensional polygon can comprise a building including a rooftop comprising one or more closed polygonal lines forming at least one rooftop portion of the rooftop .

In some embodiments one or modules of the method and system can include one or more editing features. For example as described earlier the system and method can include a process module which can include the semi automated editing sub tasks comprising one or more sub tasks for editing three dimensional models created using sub tasks . For example in some embodiments gaps and overlays between one or more vertices of a geometric object can be corrected. illustrates a building geometry refinement and editing procedure generated by the computer implemented system and method according to one embodiment of the invention. As shown a grid function can assist in the correction or refinement of rectangularity connectivity planarity and parallelism providing an overall improvement in the geometry of an object. Specifically shows a building structure overlay showing improvement in geometry achievable using a grid function to check for rectangularity paralleling lines and connectivity and shows a transformation from the original structure through an intermediate grid overlay to a refined geometry structure .

Some embodiments can include editing and refinement of complex roof lines and polygon face refinement. For example illustrates a building geometry refinement and editing procedure generated by the computer implemented system and method according to one embodiment of the invention. In some embodiments the editing procedure can include a refinement of geometry of overhanging roofs by back projection of the building footprint. Some embodiments also can include checking faces for planarity e.g. faces of the roof of object and faces and calculation of maximum planar face error.

Conventional roof area calculation methodologies are typically based on a two dimensional footprint of the building or structure. For example depicts a prior art calculation of two dimensional roof area using conventional two dimensional geometric techniques. As shown some conventional methods estimate an impervious roof area or solar roof area based on a two dimensional footprint of the building shown as areas . As illustrated in which shows a comparison of building footprints footprints and various three dimensional roof geometries geometries conventional methods typically do not account for variations in roof z axis values as all three geometries vary from each other. However the footprints are substantially equal in geometry. The problem can become further magnified with complex roof geometries. For example illustrates a comparison of two dimensional roof footprints and various three dimensional roof geometries for water resourcing and solar capture. As shown in a roof area calculation based solely on a total building footprint can significantly underestimate the actual roof area of a structure. In some other instances the building footprint approach can over estimate the actual roof area of a structure. Although not shown in the actual roof area will vary between each building structure but the footprint measured using conventional methods will be substantially identical. This is further illustrated in which shows a comparison of the total building footprint overlaid on the three dimensional geometry of the building including the roof.

Some embodiments of the invention can include providing to a user a plurality of parameters generated by one or more process modules e.g. process modules . In some embodiments the computer implemented system and method can generate and display a listing of the data which can be used as parameters to assess solar energy potential or can be used for stormwater runoff analysis. For example illustrates a data listing according to one embodiment which includes a data field and an associated description field . In some embodiments the data field and the associated description field can be provided for a solar roof potential assessment. In other embodiments the data field and associated description field can be provided for a stormwater run off calculation. The data listing can include a data field comprising at least one of a EGID describing a building ID number an absolute height describing data for building height relative to sea level a relative height describing data for building height relative to DTM and a surface area total describing data for total three dimensional area. The data listing can also include a data field comprising at least one of a surface area x y describing data for 2D polygon total area a slope min describing data for slope of roof polygon minimum a slope max describing data for a slope of polygon maximum and a roof pitch angle describing data for a solar roof slope in degrees. Further the data listing can also include a data field comprising at least one of a roof type describing data for a roof description e.g. flat saddle etc. a solar azimuth describing data for roof orientation relative to North a solar surface area describing a solar roof surface area a 2D solar area describing a 2D polygon area measurement an Sp fa ade describing a superstructure fa ade area and an Sp roof describing a superstructure roof area. In some embodiments the computer implemented system and method can generate at least one of the data and for use in calculating at least one solar energy potential variable of a roof and or at least one variable for use in a stormwater runoff analysis.

In addition to or in place of providing data to a user comprising building geometry measurement data in the form of text such as data listing or spreadsheets the computer implemented system and method can also provide a user the option of displaying the data in the form of at least one graphical rendering of a building or structure geometric model. In some embodiments the at least one graphical rendering can include a three dimensional rendering of one or more roof data features. For example as shown in illustrating a GUI a three dimensional visualization of roof areas can be rendered using the computer implemented system and method . In some embodiments a listing of the data measurement produced using the computer implemented system and method can be provided to a user by selecting any one roof area within the display . In other embodiments a user can toggle between a three dimensional visualization of the roof data features and a listing of the data measurement .

In some embodiments a user can access the at least one graphical rendering illustrated in with a three dimensional rendering of one or more roof data features that are differentially visually coded. For example illustrates a GUI of a three dimensional visualization of roof area depicting solar and stormwater runoff analysis measured using the computer implemented system and method according to one embodiment of the invention. Similar to the GUI display a three dimensional visualization of roofs can be rendered using the computer implemented system and method . A listing of the data measurement produced using the computer implemented system and method can be provided to a user by selecting any one portion of a roof within the display . In this instance the user can also be presented with a dual display showing the three dimensional visualization display with roof portions and a three dimensional visualization display showing roof portions that can be differentially visually coded. For example roof portions can include roof portions and that can be differentially coded by the system and method to allow a user to visualize the potential of any one area of a roof of a structure or building to be used for solar energy generation hereinafter referred to as the solar potential and or for stormwater runoff analysis. In some embodiments one or more modules of the computer implemented system and method can be used to generate a three dimensional rooftop model for energy scavenging applications. By processing a point cloud field i.e. using the technique of the example of a point cloud field in of a building or structure to produce a rooftop area calculated from the three dimensional rooftop model the computer implemented system and method can be used to generate a three dimensional rooftop analysis of solar energy potential. For example in the case of solar potential shown in the example of in some embodiments the roof portion can be color coded red to indicate an excellent potential yellow or orange to indicate a good potential green to indicate a fair potential and blue to indicate a poor potential . In some embodiments the same color scheme can be used to represent a stormwater runoff collection potential i.e. the solar potentials shown in can be representative of stormwater runoff potentials . In some embodiments color coding potentials for a plurality of roof portions of any one roof e.g. roof can be the same for a solar potential and a stormwater runoff collection potential and can depend on at least one of the variables and . In some other embodiments depending on at least one of the variables and calculated by the computer implemented system and method the color coding potentials for a plurality of roof portions e.g. roof portions and of any one roof e.g. roof area can be different for a solar potential and a stormwater runoff collection potential.

In some embodiments the computer implemented system and method can render one or more polygons of a plurality of buildings or structures including one or more roofs with a calculated solar potential. For example as shown in the GUI of and the GUI of a three dimensional solar potential rendering can be calculated using the computer implemented system and method and displaying a plurality of buildings within a window . As with the embodiment described above and illustrated in showing a GUI of a three dimensional visualization of roof area depicting solar and stormwater runoff analysis the GUI of comprises one example of a three dimensional solar potential rendering calculated using the computer implemented system and method for a plurality of rooftops comprising at least one rooftop portion with a coding system. In this instance a color code of red is used to indicate an excellent potential a yellow or orange is used to indicate a good potential a green to indicate a fair potential and a blue to indicate a poor potential . In some embodiments the same color scheme can be used to represent a stormwater runoff collection potential of any one of the rooftops from any one of the rooftop portions as described earlier. Further in some embodiments a user can access solar potential information by selecting one or more of the rooftops and or one or more rooftop portions causing the system and method to display at least one information box . As shown in in some embodiments the information box can include one or more variables calculated by the system and method including but not limited to the rooftop orientation to North the rooftop area and the potential i.e. the solar potential in this instance .

In some embodiments one or more roofs of a building or structure can be assigned as a solar resource and a solar score can be calculated for at least one roof surface. In some embodiments the system and method can provide a solar energy potential map of a building surface or a plurality of building surfaces. Furthermore in some embodiments the solar potential can be referenced to a solar score for rooftop profiles depending on the size pitch and orientation of the solar exposed roof surface. For example illustrates a three dimensional solar potential rendering calculated using the computer implemented system and method according to one embodiment of the invention. The rendering can comprise a solar energy potential map comprising at least one building or structures . In some embodiments the solar energy potential map can include a plurality of building or structures with including a plurality of rooftops that have been assigned a solar value based on one or more calculations of the system and method . For example the plurality of building or structures can comprise rooftops that can include rooftop portions and or each of which may be assigned a solar value. In some embodiments as shown by the solar roof key the solar value can comprise a value between 1.0 and 6.0 in 1.0 increments. For example the solar value can include a solar value of 1.0 a solar value of 2.0 a solar value of 3.0 a solar value of 4.0 a solar value of 5.0 or a solar value of 6.0 . For instance in the embodiment illustrated in the solar energy potential map can include a rooftop portion with a solar value a rooftop portion with a solar value a rooftop portion with a solar value a rooftop portion with a solar value a rooftop portion with a solar value and a rooftop portion with a solar value . Moreover in some embodiments one or more of the solar values and can be assigned a color code so that any one of the rooftop and or rooftop portions of the solar energy map can be rendered in a color code representing any one of the solar values and . For example in some embodiments the solar energy potential map can include a rooftop portion with a solar value that is rendered in a red color a rooftop portion with a solar value that is rendered in an orange color rooftop portion with a solar value that is rendered in a yellow color rooftop portion with a solar value that is rendered in a green color rooftop portion with a solar value that is rendered in a turquoise color and a rooftop portion with a solar value that is rendered in a blue color. In some embodiments any one of the solar values and can be represented by one or more other colors. In other embodiments any one of the solar values and can be represented by patterns or other conventional visual marks that can be recognized and distinguished by a user . In some embodiments the solar roof key can include more or less solar values. Further some embodiments can include more or less building or structures shown within a solar potential rendering .

In some embodiments the system and method can render solar energy equipment positioned within a solar energy potential map comprising at least one building or structures . For example illustrates a GUI of a rooftop solar array rendered as a three dimensional solar potential rendering calculated and combined with a pre existing or future solar array roof . In some embodiments a solar collection efficiency of a current or planned solar array can be modeled for a particular roof polygon.

In some embodiments some portions of the rooftops comprise more than one solar potential and or a solar value can be rendered with abrupt boundaries from one solar potential and or a solar value assigned color to another solar potential and or a solar value assigned color. Some embodiments include more than one solar energy potential and or solar value to be calculated by the system and method for any one rooftop . For example in some embodiments a three dimensional solar potential rendering can display a plurality of building roofs with roof top polygon with a variable solar energy potential represented by a graduated color region across a roof top surface. As shown in some areas of roofs including regions can comprise more than one solar potential and or a solar value can be rendered with at least one graduated transition boundary representing a transition from one solar potential and or a solar value assigned color to another solar potential and or a solar value assigned color . For example the roof areas close to a building wall or a higher section of a building i.e. roof areas that can be shadowed during some period of a day can be colored in a lighter color to represent regions of the roof surface with slightly lower solar potential.

Some embodiments can enable a user to visualize a three dimensional map of one or more buildings or structures with a solar roof potential index. For example in some embodiments the system and method can enable a user to be presented with a three dimensional solar potential rendering with solar scores assigned to at least one rooftop e.g. such as shown in illustrating a three dimensional solar potential rendering calculated using the computer implemented system and method according to one embodiment of the invention and then assign a solar roof potential index to one or more rooftops e.g. also as shown in illustrating a GUI showing a three dimensional solar potential rendering calculated using the computer implemented system and method according to one embodiment of the invention . In this instance one or more rooftop areas of a building can be assigned as a solar potential. Furthermore as depicted in in some embodiments the solar potential can be referenced to a solar score for rooftop profiles depending on the size pitch and orientation of the solar exposed rooftop surface. For example in the embodiments shown in the GUI a solar potential key can be displayed including a solar score 0 representing no solar potential a solar score 1 representing low solar potential a solar score 2 representing medium solar potential and a solar score 3 representing a high solar potential and a solar score 4 representing the highest solar potential

In some embodiments any one of the solar potential and can be assigned a color code. For example in some embodiments the solar score 0 representing no solar potential can be assigned a purple color code. The solar score 1 representing low solar potential can be assigned a yellow color code. The solar score 2 representing medium solar potential can be assigned a yellow orange color code. The solar score 3 representing a high solar potential can be assigned an orange color code and the solar score 4 representing the highest solar potential can be assigned a red color code. In some embodiments the system and method can compute a solar potential of any one of the rooftops e.g. any one of the rooftops of the building shown in and render one or more of the rooftops with a color representing any one of the solar potential and as described above. In some embodiments any one of the solar potential and can be represented by one or more other colors. In other embodiments any one of the solar potential and can be represented by patterns or other conventional visual marks that can be recognized and distinguished by a user .

In some embodiments a user can select any rooftop surface e.g. any roof polygon or portion to enable the system and method to display detailed solar potential information within a pop up information window . In some embodiments the system and method can display detailed solar potential information within the pop up window that includes a predicted solar potential of any single rooftop portion. In other embodiments the system and method can display detailed solar potential information within the pop up window that includes a predicted solar potential calculated for the entire rooftop surface of a building . For example in some embodiments one or more rooftops surfaces of a single structure i.e. building can include solar potential i.e. one or more rooftop portions can be assigned a solar score 1 and rendered in a yellow color code or a solar score 2 and rendered in a yellow orange color code or a solar score 3 and rendered in an orange color code or a solar score 4 and rendered in a red color code. However the system and method can calculate that the building has no solar potential and assigns a solar score of zero.

In some embodiments of the invention one or more parameters generated by one or more modules of the computer implemented system and method can be used for managing water resources and water conservation and environmental conservation. Embodiments of the invention that can be used for runoff analysis can use known environmental parameters such as annual rainfall statistics including but not limited to the annual rainfall total and historic intensity. For example in some embodiments one or more parameters generated by one or more modules of the computer implemented system and method can be used for stormwater roof surveying and assessments. Some embodiments provide for one or more modules of the computer implemented system and method can be used for flood modeling including storm surge risk assessment.

Roof designs can sometimes cause unintended consequences when rainwater is present. The roof geometry and drainage characteristics of a roof can determine how water flows off of a roof and the amount of water affecting an area depends on how much rain falls off of a roof. To determine the amount of water the size of the roof surface the pitch angle of the roof and the relationship of a particular roof s orientation to the horizon each roof segment and or surface polygon can be calculated in some embodiments. The elevation of the roof relative to the ground and sea level can be determined and therefore the height of the building can also be determined. These parameters along with the annual rainfall and its historic intensity can facilitate calculating the total rainfall runoff from a particular roof polygon.

Some embodiments of the system and method can calculate the flow of water per unit width of roof surface using the following expression 

Assuming a rainfall of intensity i falling on a roof of longitudinal slope Sand length down the slope L and the roof is very wide perpendicular to the direction of flow then q provides a measure of flow per unit width going down the roof. If the impact of the rain on the roof makes the flow turbulent then Manning s equation can be used to determine the time for a water droplet to travel from the top to the bottom of the slope by calculating the velocity V 

In some embodiments one or more parameters generated by one or more modules of the computer implemented system and method can be used to enable cities and municipalities to determine responsibility for stormwater run off that travels into municipality streets and ultimately into rivers bays and or coastal waters. In some embodiments urban drainage design models can be created from building data and roof area assessments using at least one embodiment of the system and method . The models can be used to more equitably and effectively implement regulations and urban drainage design for municipal districts cities and counties.

Other factors that can be implemented in stormwater run off models calculated by the system and method include water management and drainage. For example measurements of a flow of rainwater from a roof surface can be influenced by water capture and collection infrastructure. provide illustrations of stormwater drainage and management and recovery for a building . In some embodiments measurements of one or more flows of rainwater from a roof surface can be influenced by water capture and collection infrastructure such as guttering piping and water collection reservoirs.

In some other embodiments other environmental parameters can be used by the system and method to calculate a runoff flow . For example illustrates a stormwater run off calculation methodology used in some embodiments of the system and method . In some embodiments a surface contaminant detachment and reattachment parameter can be used in the system and method . In some embodiments roof surface contamination can alter the water flow rate and direction across a roof surface e.g. roof surface shown in the illustration of . In some embodiments roof surface contamination can become detached from the roof surface and be transported within a flow of water across some distance of a roof surface . In some embodiments at least some suspended contamination can be deposited and or reattached to at least a portion of the roof surface . In some embodiments the presence of a contamination fixed to at least a portion of the roof surface can alter a flow rate or direction of water across at least a portion of the roof surface . In some other embodiments the presence of a contamination suspended in a flow of water can alter a flow rate or direction of the water across at least a portion of the roof surface .

Some embodiments of the invention are useful in a variety of alternative applications. For example illustrates a GUI illustrating a coastal flood analysis produced with spatial analytics using the computer implemented system and method according to one embodiment of the invention. In some embodiments the coastal flood vulnerability of one or more building structures of a community can be calculated and displayed by the system and method . As illustrated in in some embodiments the GUI can include a building or community rendered in three dimensions including a coastal flood analysis of a region defined by a two dimensional map . For example in some embodiments any region of a building or community can be rendered using one or more color codes representing a level of coastal flood risk. In some embodiments an inland region can include at least some portion rendered in a green color. A coastal region can include at least some portions rendered in a yellow color and bay area can include at least some portions rendered in a red color. In some embodiments any one of the regions can be rendered in one or more other colors. In some further embodiments any one of the regions can be rendered with patterns or other conventional visual graphical marks that can be readily distinguished by a user .

In some embodiments the system and method can render at least one texture on any portion of a displayed polygon of a building or structure. For example as discussed earlier in some embodiments the system and method can include sub tasks comprising data capture automated modeling semi automated editing sub tasks and texturing options see illustrating a sub task summary . In some embodiments three dimensional models can be rendered using one or more texturing options using the texturing options sub task including texture management of various model surfaces. For example in some embodiments the texturing options can include a texture management and terrestrial or aerial oblique images applied . For example in some embodiments one or more textures can be applied to roofs walls or other surfaces of a building or structure model. Moreover in some further embodiments terrestrial or aerial oblique images can be used as the basis of a texture i.e. as texture bitmaps and applied to one or more surfaces of a building or structure. For example illustrates a GUI showing a dual display comprising a window displaying an aerial photograph of a group of buildings alongside a window displaying a at least one texturing model . In some embodiments any polygon forming any portion of the texturing model can be textured. In some embodiments any portion of the texturing model including at least one textured polygon can be displayed in the window displaying an aerial photograph of a group of buildings .

Some embodiments of the invention can provide at least one texturing process to a user . For example illustrates a process flow according to one embodiment of the computer implemented system and method . In some embodiments one or more modules of the system and method can map one or more textures from a photographic image to one or more objects and processed using the system and method into a textured three dimensional city model . For example in some embodiments one or more textures can be applied to one or more object surfaces i.e. three dimensional polygon surfaces . In some embodiments a fa ade texturing can be used from actual ground photographs whereas in other embodiments textures can be obtained from oblique images.

Some embodiments can utilize additional types of imagery and information to texture a surface of a building or structure. For example thermal bridging air leakage and air infiltration are all ways in which heat is lost or energy is wasted from a building or structure. In some embodiments thermal imagery can be used solely for evaluation purposes or can be used in conjunction with the other methods previously described. For example in some embodiments the occupancy of a building can be evaluated based on thermal imagery taken in the winter months. Using these methods vacant or deserted structures can be identified. Furthermore in some embodiments the thermal imagery can be used to provide heat release information to law enforcement or other local state or federal agencies.

In some embodiments of the invention energy insulation efficiencies can be assessed based on heat released from one or more walls or edges of a building structure and used to render a texture map onto one or more buildings or structures. For example using substantially the same texturing method as has been previously described thermal heat aerial imagery can be mapped onto the roof and fa ade of one or more objects. For example as shown in which illustrates an example of a thermal image of a residential area include a color code according to one embodiment of the invention and which illustrates an example of a thermal image of one building of the residential area in some embodiments thermal imagery can be used to provide a thermal map of a community and or a thermal map of an individual building or structure . In this instance one or more buildings or structures can be rendered by texturing one or more surfaces of one or more buildings using at least one or more thermal images comprising a one or more colors defined by a color code comprising a range of colors representing any temperature between an upper temperature and a lower temperature . In some further embodiments any one of the thermal maps can be rendered with patterns or other conventional visual graphical marks that can be readily distinguished by a user and correlated to at least one temperature or temperature range.

In some embodiments of the system and method a variety of tools can be implemented to enable manipulation and modification of at least one three dimensional geometric model of a building or structure. In some embodiments the system and method can be implemented into or with one or more commercially available computer aided design software packages. For example in some embodiments the system and method can be implemented with a Microstation platform i.e. platform depicted in an architectural and engineering software package for two and three dimensional design and drafting developed and sold by Bentley Systems Incorporated. In some embodiments the Microstation platform supported system and method can capture data e.g. roof features and directly process captured images from virtually any photogrammetric system or data source. Some embodiments provide for direct export of a three dimensional model in a Microstation platform into an Esri geodatabase i.e. supporting MDB type files . In this geodatabase the main building and the super structure are put into different feature classes with geometry attributes and theme attributes such as area volume etc. In some embodiments a solar surface roof face can be put into a special feature class with area slope as attributes. Esri is a registered trademark of Environmental Systems Research Institute Inc.

In some embodiments various tool modules can be implemented into the system and method for use with one or more software platforms including but not limited to the Microstation platform as described above. For example as discussed earlier the system and method can include sub tasks comprising data capture automated modeling semi automated editing sub tasks see illustrating a sub task summary for the computer implemented three dimensional model processing and generation system and method of according to one embodiment of the invention . In some embodiments one or more editing sub tasks can include tools for geometric refinement geometric module attribute tagging basement generation and other conversion tools. Some embodiments can implement seamless flow of data across one or more of the modules. and illustrate examples of the tool modules for modeling editing data integration quality control and batch processing according to one embodiment of the computer implemented system and method . In some embodiments using one or more tools as described and illustrated in and A C a user can manipulate and refine a three dimensional geometric model in the system and method implemented in a Microstation platform .

In some embodiments the tools shown in can include a Move point to line icon that can enable a user to snap a selected vertex to a line in an xy plane. In some embodiments the tools can also include at least one of a Set point height to average icon a Set point height to icon a Change Point Height icon a Set lines parallel icon a Rotate line endpoint to parallel baseline icon a Set Z on two line face icon a Set Z on face icon a Set Z on two line face along pointed line icon and a Set Z on the face along pointed line icon . In some embodiments the Set point height to average icon can enable a user to calculate the average height of selected vertices and set it as the Z of each vertex. In some embodiments the Set point height to icon can enable a user to select a vertex as a base point and set its height to another selected vertex. In some further embodiments the Change Point Height icon can allow a user to change the selected point height. Some embodiments include a Set lines parallel icon that can enable a user to set all selected lines parallel to the ideal line. In some embodiments the Rotate line endpoint to parallel baseline icon can enable a user to rotate one endpoint to parallel the baseline. Further some embodiments include a Set Z on two line face icon that can enable a user to set the point height on the face that is defined by two lines. In some embodiments the Set Z on face icon can enable a user to set a point height on the ideal face. In some embodiments the Set Z on two line face along pointed line icon can allow a user to set a point on a face along the pointed line and the face is defined by the selected two lines. In some embodiments the Set Z on the face along pointed line icon can enable a user to set a point on the selected face along the pointed line.

Some embodiments include tools as shown in . In some embodiments the tools can include at least one of a Move Object icon a Rotate Object icon a Clone object icon a Set Object on Roof icon a Cut object icon an Align objects on two line face icon an Align objects on face icon an Align objects along base line icon an Align Objects in row icon a Object touch icon or an Auto Shape icon . In some embodiments the Move Object icon can enable a user to shift a selected object. In other embodiments the tools can include other functions. For example the Rotate Object icon can enable a user to rotate a selected object. The Clone object icon can enable a user to clone a selected object. The Set Object on Roof icon can enable a user to automatically set one object feet on the roof faces of another object in a batch. The Cut object icon can enable a user to cut out an object by another selected object. The Align objects on two line face icon can enable a user to make group objects aligned to a face that is defined by two base lines. The Align objects on face icon can enable a user to make a group of objects aligned to a face. The Align objects along base line icon can enable a user to make a group of objects align along touching a base line. The Align Objects in row icon can enable a user to make a group objects align in a row. The Object touch icon can enable a user to make objects touch each other.

Some embodiments include tools . For example in some embodiments tools can include at least one of an Auto Shape icon a Float Object icon an Add face icon a Delete face icon an Auto Face orientation icon or a Remove Shared wall icon . In some embodiments the Icon can enable a user to automatically adjust the coordinate of the selected object to realize parallel perpendicular coplanar etc. The Float Object icon can enable a user to make an object float. The Add face icon can enable a user to add the selected polygon into a three dimensional object wall or roof face. The Delete face icon can enable a user to remove the selected face from a three dimensional object. The Auto Face orientation icon can enable a user to automatically change the normal orientation of faces in a batch. In some embodiments the Remove Shared wall icon can enable a user to remove the shared wall faces between three dimensional objects in a batch.

Some embodiments can include data integration tools. As described earlier some embodiments of the invention include a system and method comprising automated modeling . Digital terrain models can be generated from one or more images and DTM or an artificial height reference can be used to generate a three dimensional model e.g. using a sub task . For example is an example of the three dimensional integration tools of one embodiment of the computer implemented system and method . In some embodiments the data integration tools can enable data processing from various data sources including editing and merging of a plurality of three dimensional models. As shown in some embodiments tools can include a Split object manually icon a Split object icon and a Merge Objects into One icon . In some embodiments the Split object manually icon can enable a user to split one object into two according to the manual polygon. The Split object icon can enable a user to split one object into two according to the selected footprint. The Merge Objects into One icon can enable a user to merge several object elements into one three dimensional object.

As depicted in tools can include at least one of Create Object Base icon a Create Overhang Roof icon a Snap Wall to Inner wall icon an Artificial Overhang Roof icon a Group Object icon a Label objects in Fence icon or a Classify objects in Fence icon . In some embodiments the Create Object Base icon can enable a user to create an object base. The Create Overhang Roof icon can enable a user to create an overhang roof by integrating the selected three dimensional object and the referenced footprint. The Snap Wall to Inner wall icon can enable a user to snap a wall to another inner wall. The Artificial Overhang Roof icon can enable a user to create an overhang wall for all houses within a fence. The Group Object icon can enable a user to group three dimensional objects within a fence into a building label three dimensional objects in one building with the same EGID code derive the FootBase for each building and put it in level MAPPOLYGON . The Label objects in Fence icon can enable a user to group three dimensional objects in fence into one building by the reference footprint and to label the three dimensional objects in one building with the same EGID code. The Classify objects in Fence icon can enable a user to classify the three dimensional object type.

Some embodiments of the system and method can include alternative functions including but not limited to quality control tools. For example as illustrated in three dimensional geometric models can be refined using one or more of the tools . In some embodiments one or more features of a three dimensional geometric model can be modified to correct or alter one or more geometric defects. In some embodiments one or more features can be added to the three dimensional geometric model. Since almost all photogrammetric systems support Snap Parallel and Perpendicular functions in data capture the Auto Shape feature of the system and method reduces the manual work time to edit coplanar parallel perpendicular etc. For example can include tools comprising Clean Model in Fence icon and Coplan Face icon . In some embodiments the Clean Model in Fence icon can enable a user to remove the line face and redundant points. The Coplan Face icon can enable a user to find the un coplanar face and flag the errors.

As discussed earlier the system and method includes various automated or semi automated modules. In this instance the system and method can process a plurality of data files following a single set of instructions. The plurality of data files can be automatically processed in sequence or in parallel. In some embodiments a specific geometric modeling procedure can be performed in a batch mode by the system and method . Furthermore one or more components or modules of the computer system and method can be integrated to perform any or all analyses and actions automatically. Moreover data inputs from others systems can be automatically integrated into the system and method rather than batch uploaded. These fully integrated solutions can be programmed to adjust in real time to any new data input. For example the user can select one or more data sources and one or more projects and instruct the system and method to process one or more data sources and or one or more projects. In some embodiments the one or more data sources and or one or more projects can be run in parallel. In other embodiments the one or more data sources and or one or more projects can be run in series. In some embodiments the one or more data sources and or one or more projects can run sequentially and in parallel at different times. For example illustrates a GUI as an example of the batch processing tools of one embodiment of the computer implemented system and method .

Some embodiments of the invention include one or more graphical user interfaces can enable a user to access various tools and functions of the computer implemented system and method . For example provides an illustration of a tool icons GUI according to one embodiment of the computer implemented system and method implemented in a Microstation platform . Further provides an illustration of a control parameters tool icons GUI according to one embodiment of the computer implemented system and method implemented in a Microstation platform and illustrates a geometry structure window according to one embodiment of the computer implemented system and method implemented in a Microstation platform . illustrates a geometry face cut operation according to one embodiment of the computer implemented system and method implemented in Microstation platform . In this instance the system and method can generate a building structure window including a rendering of a building or structure before cutting shared faces and a building structure window including a rendering of a building or structure after cutting shared faces.

Some embodiments of the system and method can include various functions and tools for data visualization. For example in some embodiments one or more modules of the system and method can build and render a street of a municipality comprising at least one building. In the example embodiments rendered in the GUI of a three dimensional visualization model of a street scene includes a plurality of buildings on a street . As shown the street can also include one or more sidewalks and street furniture such as lamp posts .

Some embodiments of the system and method can include alternative functions including but not limited to data visualization for architectural planning. For example illustrates an example GUI illustrating a rendering of a municipality plan comparison according to one embodiment of the computer implemented system and method . In some embodiments a slide viewer function can be used to control renderings within a first window and a second window of the municipality plan comparison . In some embodiments a user can move the slide viewer function to the left or right to enlarge or reduce either the first window or the second window and to change a displayed design of one or more buildings or structures within the municipality plan comparison . For example in some embodiments a user can review a plan design of a building shown in the first window by sliding the slide viewer function to the left to render a version of the building showing more architectural detail.

Some embodiments of the system and method can include data visualization and line of site analysis. For example illustrates a rendering of a city view including a plurality of buildings or structures and a rendered line of site tool according to one embodiment of the computer implemented system and method . In some embodiments the line of sight tool can calculate an inter visibility between pairs of points i.e. what is visible along the lines between these points given the position of the points in three dimensional space relative to a surface or features of at least one structure within the city view . For example as illustrated in in some embodiments one or more lines can extend from a rendered line of sight tool . In some embodiments one or more of the lines can be made to appear to pass into one or more of the buildings or structures and pass outward from the one or more of the buildings or structures as one or more lines . Lines can comprise a line of sight extending from a position of the line of sight tool that would be visible to a user when viewing from a position of the line of sight tool and lines can comprise a line of sight that would not be visible to a user when viewing from a position of the line of sight tool . In some embodiments lines and lines can be rendered differently to enable a user to visually distinguish at least one of the lines over at least one of the lines . For example in some embodiments one or more of the lines can be rendered in a red color and one or more of the lines can be rendered in a green color. In some other embodiments the lines can be rendered in other colors. In some further embodiments lines can be rendered in one or more graphical patterns e.g. such as a dotted or dashed line . In this instance for example one or more of the lines can be rendered in a solid line and one or more of the lines can be rendered as a dashed or dotted line.

Some embodiments of the system and method can include alternative functions including but not limited to skyline visualization for a municipality. For example illustrates a rendering of a city view with a skyline tool according to one embodiment of the computer implemented system and method . In some embodiments the skyline tool can generate at least one three dimensional polyline representing the line that divides the sky from the surface and or features that touch the sky based from the perspective of the observer location. In this instance an observer point such as a functional or virtual surface a range of from and to azimuths or other features that typically represent buildings can be added as at least one input variable. As illustrated a region of visibility can be rendered visible to a user using a rendered region . In this instance the rendered region can comprise a region of visibility extending from a position of the skyline tool that would be visible to a user when viewing from a position of the skyline tool within the city view . In some embodiments the rendered region can be rendered in a color e.g. a grey color defined anywhere within a boundary of the polyline . In some other embodiments the rendered region can be rendered in other colors or color combinations or colored patterns. In other embodiments the rendered region rendered in one or more graphical patterns e.g. such as a dotted dashed or other patterned fill . In some embodiments the rendered region can be made to appear opaque within the city view so that a user can retain a view of the city view regardless of the position and area of coverage of the rendered region .

Some embodiments of the system and method can include architectural detail rendering. For example illustrates a rendering including a plurality of building foot prints of an architecture detail tool according to one embodiment of the computer implemented system and method . In some embodiments the system and method can enable a user to enhance traditional building footprints with one or more architectural details . As shown in the example of the building foot prints can include architectural details such as the building comprising architectural detail .

In further embodiments the structural relationship to building height modeling and comparison can be calculated and assessed. For example as shown in the renderings in comprising a plurality of buildings three dimensional visualization models of various building height extensions can be calculated and rendered by the computer implemented system and method . The building height extensions can be rendered onto at least one of the plurality of buildings extending the rendered height of the building. In some embodiments essentially any geospatial reference requiring built environment information can be derived from some embodiments of this invention. These embodiments result in improved results for building height rules and city building parameters as they relate to architecture utilities public works and or public safety.

In some embodiments the system and method can render at least one building or structure including augmented reality information. Augmented reality is an overlap between the virtual and the real world. It is related to a more general concept called mediated reality in which a view of reality is modified possibly even diminished rather than augmented by a computer. As a result the technology functions by enhancing one s current perception of reality. An image is augmented when some visual graphics or texts are superimposed into the actual real world view to enhance the user experience in the real environment. The extra information provided with the help of augmented reality can create an improved experience for the user and can aid in understanding information displayed to the user . Some embodiments can include computer generated graphics two dimensional and three dimensional that are merged with the imagery of the real world and therefore can provide a superior experience to the user in the real world. In some embodiments augmented reality applications can be deployed with the help of smart phones tablets kiosks and web based applications. In some embodiments an application is downloaded to a mobile phone or web based applications and or kiosks can be used. The only requirement is that the product in which the application is being downloaded should be camera enabled. Some embodiments include various types of products that use augmented reality including but not limited to smart phones eye wear tablets head mounted displays head up displays watches clip on devices and other wearable computers. For example illustrates one example of an augmented reality rendering with GIS three dimensional geometry applied with real time data information according to one embodiment of the computer implemented system and method . As shown a street scene with building renderings can be calculated and displayed to a user and can include address information and heading information rendered over the scene . In some embodiments a user can control the address information and heading information by moving within the scene and or by selecting one or more of the building renderings .

In some embodiments an intermediate step to three dimensional augmented reality rendering display can include a three dimensional building geometry projected within various graphics platforms including Google Street View mapping service. For example illustrates one example of an intermediate step to three dimensional augmented reality rendering with real time data information according to one embodiment of the computer implemented system and method . In this example the system and method can render the three dimensional building geometry projected to a user within Google Street View mapping service . Google and the Google logo and Google Street View are registered trademarks of Google Inc.

In other embodiments three dimensional building geometry produced by the system and method can be expressed through augmented reality platforms such as Google Glass wearable computing device. For example illustrates one example of three dimensional augmented reality rendering expressed in augmented reality mapping platforms according to one embodiment of the computer implemented system and method . In some embodiments a user wearing a Google Glass device can look at a building in the real world and the Google Glass device can display at least a partial representation of a virtual version of the real world building by displaying at least a partial outline of a building and or a three dimensional map showing an approximate location of the building calculated according to at least one embodiment of the computer implemented system and method described herein. Google Glass is a trademark of Google Inc.

Referring now to the GUI of in some embodiments the three dimensional augmented reality renderings calculated according to one embodiment of the computer implemented system and method can include integration with the world wide web. For example in some embodiments the renderings such as three dimensional map can be displayed to a user within a three dimensional augmented reality platform e.g. with a Google Glass device and integrated with the world wide web. In some further embodiments the augmented reality rendering of buildings can be displayed and integrated with the world wide web. Further as shown in in some embodiments the system and method can enable a user to view an augmented reality display illustrating three dimensional augmented reality rendering of a street scene with buildings .

In some further embodiments one or more buildings or other structures can be displayed and rendered with real time shading. For example illustrates one example of a GUI including a three dimensional augmented reality rendering with real time shading according to one embodiment of the computer implemented system and method . In this example embodiment the rendering includes a plurality of trees that are shown to be casting at least one shadow over a building .

In some embodiments any of the above described databases and models throughout the method and system can display at least one polygon that includes a live direct or indirect view of a physical real world environment. For example any of the above described databases and models throughout the method and system can display at least one polygon that can include one or more elements of the image augmented by computer generated sensory input including but not limited to sound video graphics shading reflection or location based information such as GPS.

In some embodiments a three dimensional building geometry produced by the system and method including those expressed through an augmented reality platforms such as Google Glass wearable computing device and or Google Street View can include street furniture. For example illustrates one example of three dimensional augmented reality rendering of buildings and a street scene including street furniture according to one embodiment of the computer implemented system and method and illustrates one example of three dimensional augmented reality rendering of buildings and a street scene including street furniture according to another embodiment of the computer implemented system and method .

In some embodiments the three dimensional augmented reality rendering including street furniture includes the preparation of a data stack as shown in . For example in some embodiments the data stack can include a plurality of variables that can be used and or created by the system and method . In some embodiments the data stack can include one or more variables comprising a city administration and or boundary information elevation information infrastructure information facilities information zoning information natural forms reference data tree points and transportation networks and or wireless coverage . In some embodiments one or more of the variables and can be used by the system and method to render at least one building or structure including comprising three dimensional augmented virtual reality. In some embodiments the three dimensional building geometry produced by the system and method can include at least one conventional street lamp and or at least one conventional street lighting fixture e.g. such as lamp posts depicted in . In some other embodiments the street furniture can include at least one rendered plant such as a grass one or more shrubs one or more bushes and or one or more trees as well as sidewalks e.g. such as the sidewalk . Some embodiments include at least one control to enable a user to control the rendering of at least one item of street furniture. For example in the example illustration of at least one control window can be displayed to enable a user to control the rendering of at least one item of street furniture show in this example as a control window to control a plurality of parameters related to trees .

In some further embodiments the street furniture can include street culture. For example in some embodiments one or more paths roadways wall or signs can comprise a conventional cultural symbol. In some further embodiments the street culture can include conventional graffiti or a mural applied across at least one surface of one or more of the paths roadways wall or signs. In other embodiments the street furniture can include one or more parking meters or at least one side walk railing. Some embodiments include street furniture related to public safety service. For example in some embodiments the three dimensional building geometry produced by the system and method can include at least one conventional fire hydrant and or at least one conventional emergency call station.

In some further embodiments a road network plan can be implemented based on rules and extended to zone planning. For example illustrates one example of a three dimensional augmented reality rendering of buildings and a street scene including zone planning according to another embodiment of the computer implemented system and method . As shown in some embodiments zoning scenarios can be simulated and displayed showing at least one commercial zoning at least one office zoning and at least one recreational area zoning . In some embodiments one or more of the regions of the street scene can be rendered in one or more colors and or or color combinations to enable a user to distinguish one or more zones . For example in some embodiments at least one commercial zoning can be rendered within the street scene in a red color. At least one office zoning can be rendered within the street scene as a blue color and at least one recreational area zoning can be rendered within a street scene as a green color. In other embodiments any one of the zones can be rendered in one or more graphical patterns e.g. such as a dotted dashed or other patterned fill . In some embodiments any one of the zones can be made to appear opaque within the street scene so that a user can retain a view of the street scene regardless of the position and area of coverage of any one of the zones .

Some embodiments of the system and method can include one or more building object floor separation methods. As described earlier some embodiments of the computer implemented system and method can generate a three dimensional model of the buildings from rooftop to base. By applying these embodiments with building floor information e.g. building foot prints automated processes can be applied and building floors can be cut and separated to provide building floor profiles with attribute data. In some embodiments building floor plan information can be used to define one or more building floors and each floor can be represented as an individual data file capable of being used to calculate one or more parameters of the building volume defined by the one or more floors. For example illustrates one example of a building object with vertical measured floor separation showing floors rendered within the building object according to another embodiment of the invention. Further illustrates an example of a GUI rendering including a building object with all building floors rendered within the building object calculated and defined by the system and method using the vertical measured floor separation according to another embodiment of the invention. Further each individual floor shown in can be defined as an individual data file suitable for use in calculating one or more parameters of the building based on the volume defined by the specific floor derived from the building footprint calculation and a building floor plan.

Some embodiments of the invention can be configured to transfer three dimensional rendering information and scene information such as building information using open source graphic files. For example some embodiments of the system and method can provide a computer implemented system and method for generating at least one three dimensional model of one or more buildings or structures using a Collada based file format an interchange file format for interactive three dimensional graphics applications. Collada is a registered trademark of the Khronos Group. illustrates one example of a comma separated values file portion of a Collada file according to at least one embodiment of the invention. As shown the Collada based file can include information used for generating one or more three dimensional polygons generated by the system and method . The representation of the comma separated values file can form part of a Collada file format and can include further Collada file information. In some embodiments the file can include polygon texture data that can be used to map specific images to polygon surfaces.

Some embodiments of the invention can be configured to transfer three dimensional texturing information such as building surface map information. For example illustrates one example of a GUI depicting a texture file with building texture file data for texturing polygons according to at least one embodiment of the invention. As shown the text file can include data with various objects each of which can include parts onto which one or more texture images can be mapped to a rendered three dimensional building or structure .

In some embodiments roof measurement information can be calculated by the system and method using one or more application programming interface hereinafter API calls based on one or more user requests. For example in some embodiments the system and method can access a three dimensional model database and or or a roof plane database and or a complete roof database based on one or more requests from at least one user . For example illustrates a schematic showing the inter relationship of API calls of the system and method following at least one user request. In some embodiments the system and method can access one or more databases including a three dimensional model database a roof planes database and a complete roof database using API calls following a user selection of at least one building or structure and or a location or address provided by the user . For example in some embodiments a user can provide an address of a building or structure and the system and method can access data from one or more databases through API calls and calculate and render a three dimensional model of the building or structure defined by the address information including calculated roof measurement data e.g. such as a solar energy potential or a stormwater runoff potential . In some embodiments the system and method can calculate and deliver information related to one or more roof portions that face south. Further in some embodiments the system and method can re assemble and render a complete roof structure based on the address or location identified by the user .

Any of the operations described herein that form part of the invention are useful machine operations. The systems and methods cannot be performed in the human mind or derived by a human using pen and paper and require machine operations to process input data to useful output data. The embodiments of the present invention can also be defined as a machine that transforms data from one state to another state. The data can represent an article that can be represented as an electronic signal and electronically manipulate data. The transformed data can in some cases be visually depicted on a display representing the physical object that results from the transformation of data. The transformed data can be saved to storage generally or in particular formats that enable the construction or depiction of a physical and tangible object. In some embodiments the manipulation can be performed by a processor . In such an example the processor thus transforms the data from one thing to another. Still further the methods can be processed by one or more machines or processors that can be connected over a network. Each machine can transform data from one state or thing to another and can also process data save data to storage transmit data over a network display the result or communicate the result to another machine. Computer readable storage media as used herein refers to physical or tangible storage as opposed to signals and includes without limitation volatile and non volatile removable and non removable storage media implemented in any method or technology for the tangible storage of information such as computer readable instructions data structures program modules or other data.

Although method operations can be described in a specific order it should be understood that other housekeeping operations can be performed in between operations or operations can be adjusted so that they occur at slightly different times or can be distributed in a system which allows the occurrence of the processing operations at various intervals associated with the processing as long as the processing of the overlay operations are performed in the desired way.

It will be appreciated by those skilled in the art that while the invention has been described above in connection with particular embodiments and examples the invention is not necessarily so limited and that numerous other embodiments examples uses modifications and departures from the embodiments examples and uses are intended to be encompassed by the invention.

