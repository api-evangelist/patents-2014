---

title: Relaying device, relaying method, image processing apparatus, and image processing system
abstract: A relaying device is configured to obtain first data received from one of an image processing apparatus and a server apparatus via a communication unit, convert the first data having a first format to second data having a second format, transmit the second data to the other of the image processing apparatus and the server apparatus. When the transmission process is abnormally terminated, process identification information is transmitted to the image processing apparatus, and the process identification information and the second data are stored in associated manner, and a re-start instruction including the process identification information identifying the transmission process to be re-started is received from the image processing apparatus. When the transmission process is abnormally terminated and the re-start instruction is received, second data associated with the process identification information is obtained, which is transmitted to the other of the image processing apparatus and the server apparatus.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09207886&OS=09207886&RS=09207886
owner: BROTHER KOGYO KABUSHIKI KAISHA
number: 09207886
owner_city: Nagoya-Shi, Aichi-Ken
owner_country: JP
publication_date: 20140807
---
This application claims priority under 35 U.S.C. 119 from Japanese Patent Applications No. 2013 166089 filed on Aug. 9 2013. The entire subject matter of the application is incorporated herein by reference.

The present disclosure relates to a relaying device configured to relay data from one of an image processing apparatus and a server apparatus connected via a communication network to the other. The present disclosure also relates to a relaying method for the relaying device an image processing system having such an image processing apparatus the server and the relaying device.

A data storage service in which data is stored in a storage server on a communication network has been known. Further there has also been known a commercial service in which an image processing apparatus having a printer a scanner or the both is connected to the storage server via a relaying device and transmits data between the image processing apparatus and the storage server.

An example of such a commercial service is to convert image data generated by the scanner of the image processing apparatus into document data by the relaying device and the document data is uploaded to the storage server of an data storage service. Another example is to convert the document data stored in the storage server of the data storage service into image data by the relaying device and download into the image processing device then the image represented by the image data is printed by the printer of the image processing apparatus.

With use of such a service the image processing apparatus can transmit or receive data which has a data format the image processing apparatus does not support e.g. document data to or from the storage server. Further the image processing apparatus is not required to have a function of directly upload the document data to the storage server or directly download the image data from the storage server.

In the above described conventional service if the upload download process is aborted i.e. abnormally terminated due to some trouble in communication between the relaying device and the storage server the image processing apparatus cannot determine that the upload download process has been aborted and therefore cannot control the system to re execute the upload download process. Further if such abortion is due to a malfunction of the image processing apparatus e.g. running short of sheets inks toner and the like it is not appropriate that the relaying device automatically re executes the upload download process unless the relaying device determines that the malfunction disappears.

In consideration of above problems according to aspects of the disclosure there is provided a relaying device enabling a re execution of transmission reception of data between an image processing apparatus and a server apparatus at a timing designated by the image processing apparatus.

According to aspects of the invention there is provided a relaying device configured to transmit data from one of an image processing apparatus and a server apparatus interconnected through a communication network to the other. The relaying device has a communication unit a storage unit and a controller. The controller is configured to receive first data received from one of the image processing apparatus and the server apparatus via the communication unit execute a conversion process of converting the first data having a first format to second data having a second format which is different from the first format and execute a transmission process of causing the communication unit to transmit the second data to the other of the image processing apparatus and the server apparatus. On condition that the transmission process is abnormally terminated the controller causes the communication unit to transmit process identification information identifying the transmission process which is abnormally terminated to the image processing apparatus cause the storage unit to store the process identification information and the second data in associated manner receive a re start instruction which is received from the image processing apparatus via the communication unit the re start instruction including the process identification information identifying the transmission process to be re started. Further on condition that the transmission process is abnormally terminated and the re start instruction is received the controller executes a re start process which obtains converted second data associated with the process identification information from the storage unit and cause the communication unit to transmit the obtained second data to the other of the image processing apparatus and the server apparatus.

According to further aspects of the invention there is provided a relaying device connected to an image processing apparatus through a communication network. The relaying device has a communication unit a storage unit and a controller. The controller is configured to receive first data from the image processing apparatus via the communication unit execute a conversion process of converting the first data having a first format to second data having a second format which is different from the first format execute a transmission process of causing communication unit to transmit the second data to the image processing apparatus. On condition that the transmission process is abnormally terminated the controller causes the communication unit to transmit process identification information identifying the transmission process which is abnormally terminated to the image processing apparatus cause the storage unit to store the process identification information and the second data in associated manner and receive a re start instruction which is received from the image processing apparatus via the communication unit the re start instruction including the process identification information identifying the transmission process to be re started. On condition that the transmission process is abnormally terminated and the re start instruction is received the controller executes a re start process which obtains second data associated with the process identification information from the storage unit and cause the communication unit to transmit the obtained second data to the image processing apparatus and the server apparatus.

According to furthermore aspects of the invention there is provided an image processing apparatus configured to be connected to a server apparatus and a relaying device through a communication network the relaying device being configured to relay data from one of the image processing apparatus and the server apparatus to the other through the network the relaying device having a first communication unit a first storage unit and a first controller. The first controller is configured to receive first data from one of the image processing apparatus and the server apparatus via the communication unit execute a conversion process of converting the first data having a first format to second data having a second format which is different from the first format execute a transmission process of causing the communication unit to transmit the second data to the other of the image processing apparatus and the server apparatus. On condition that the transmission process is abnormally terminated the controller may further cause the communication unit to transmit process identification information identifying the transmission process which is abnormally terminated to the image processing apparatus cause the storage unit to store the process identification information and the second data in associated manner receive a re start instruction which is received from the image processing apparatus via the communication unit the re start instruction including the process identification information identifying the transmission process to be re started. On condition that the transmission process is abnormally terminated and the re start instruction is received the controller may further execute a re start process which obtains second data associated with the process identification information from the storage unit and cause the communication unit to transmit the obtained second data to the other of the image processing apparatus and the server apparatus. Further the image processing apparatus has a second communication unit an operation unit configured to detect an operation to select an object displayed on a display screen a second storage unit and a second controller. The second controller is configured to cause the second communication unit to transmit the first data to the relaying device or cause the second communication unit to receive the second data from the relaying device receive the process identification information received from the relaying device via the second communication unit and cause the second storage unit to store the process identification information. On condition that a selection of a re start instruction object displayed on the display screen is detected by the operation unit the second controller may cause the second communication unit to transmit the re start instruction including the process identification information stored in the second storage unit to the relaying device.

According to further aspects of the invention there is provided a relaying method of relaying data from one of an image processing apparatus and a server apparatus interconnected through a communication network to the other. The relaying method includes receiving first data from one of the image processing apparatus and the server apparatus via the communication unit converting the first data having a first format to second data having a second format which is different from the first format executing a transmission process of causing communication unit to transmit the second data to the other of the image processing apparatus and the server apparatus. On condition that the transmission process is abnormally terminated the method may further include transmitting process identification information identifying the transmission process which is abnormally terminated to the image processing apparatus storing the process identification information and the second data in associated manner and receiving a re start instruction which is received from the image processing apparatus the re start instruction including the process identification information identifying the transmission process to be re started. On condition that the transmission process is abnormally terminated and the re start instruction is received the method further include executing a re start process which obtains second data associated with the process identification information and transmit the second data to the other of the image processing apparatus and the server apparatus.

According to further aspects of the invention there is provided an image processing system having an image processing apparatus a server apparatus and a relaying device interconnected through a communication network the relaying device being configured to relay data from one of the image processing apparatus and the server apparatus to the other through the network. The relaying device has a first communication unit a first storage unit and a first controller. The first controller is configured to receive first data from one of the image processing apparatus and the server apparatus via the communication unit execute a conversion process of converting the first data having a first format to second data having a second format which is different from the first format execute a transmission process of causing the communication unit to transmit the second data to the other of the image processing apparatus and the server apparatus on condition that the transmission process is abnormally terminated cause the communication unit to transmit process identification information identifying the transmission process which is abnormally terminated to the image processing apparatus cause the storage unit to store the process identification information and the second data in associated manner receive a re start instruction which is received from the image processing apparatus via the communication unit the re start instruction including the process identification information identifying the transmission process to be re started and on condition that the transmission process is abnormally terminated and the re start instruction is received execute a re start process which obtains second data associated with the process identification information from the storage unit and cause the communication unit to transmit the obtained second data to the other of the image processing apparatus and the server apparatus. Further the image processing apparatus has a second communication unit an operation unit configured to detect an operation to select an object displayed on a display screen a second storage unit and a second controller. The second controller is configured to cause the second communication unit to transmit the first data to the relaying device or cause the second communication unit to receive the second data from the relaying device receive the process identification information received from the relaying device via the second communication unit cause the second storage unit to store the process identification information and on condition that a selection of a re start instruction object displayed on the display screen is detected by the operation unit cause the second communication unit to transmit the re start instruction including the process identification information stored in the second storage unit to the relaying device.

Hereinafter illustrative embodiments according to the invention will be described with reference to the drawings. It is noted that the illustrative embodiments describe below are merely examples and can be modified in various ways without departing from the scope of the invention.

It is noted that various connections are set forth between elements in the following description. It is noted that these connections in general and unless specified otherwise may be direct or indirect and that this specification is not intended to be limiting in this respect. Aspects of the present disclosure may be implemented on circuits such as application specific integrated circuits or in computer software as programs storable on computer readable media including but not limited to RAMs RAM is an abbreviation for random access memory ROMs ROM is an abbreviation for read only memory flash memories EEPROMs EEPROM is an abbreviation for electrically erasable programmable read only memory CD media CD is an abbreviation for compact disc DVD media DVD is an abbreviation for digital versatile disc temporary storages hard disk drives floppy drives permanent storages and the like.

The MFP the relaying device and the serving providing apparatus are configured to communicate with each other using for example the HTTP HTTP is an abbreviation for hypertext transfer protocol or the HTTPS HTTPS is an abbreviation for hypertext transfer protocol secure . Specifically the MFP serves as an HTTP client and the service providing apparatus serves as an HTTP server. The relaying device operates as the HTTP server when communicating with the MFP and operates as the HTTP server when communicating with the service providing apparatus . With such a configuration the relaying device can communicate with the MFP and the service providing apparatus without being blocked by a firewall or the like implemented to the MFP .

The service providing apparatus is provided on the Internet by a service provider providing a data storage service. The data storage service is a service to store any data a user of the service hereinafter referred to as a service user has in the service providing apparatus . Well known examples of such a data storage service are Evernote registered trademark of EVERNOTE CORPORATION Google registered trademark of Google Inc. Docs PICASA registered trademark of Google Inc. Facebook registered trademark of Facebook Inc. . The service user is allowed to upload or download data to from an assigned storage area through the Internet . The service providing apparatus stores the data on a file basis.

The MFP has a printer unit a scanner unit a display unit an operation unit a media slot a communication unit a CPU CPU is an abbreviation for central processing unit and a storage unit as shown in . Such components of the MFP are interconnected through a communication bus . The printer unit is configured to execute a print process in which images represented by image data are printed on printing sheets in accordance with a well know image forming method such as inkjet printing method or an electrophotographic image forming method. The scanner unit is configured to execute a scanning process in which the scanner unit scans images formed on original sheets and generate image data representing the images. The MFP may further has a printer function of printing images represented by image data which is generated by the scanner unit on the printing sheets by the printer unit . The MFP may also has a facsimile function of transmitting receiving facsimile messages.

The display unit has a displaying screen which can display various pieces of information. According to the illustrative embodiment it is not necessary to limit the configuration of the display unit to specific ones and LCD LCD is an abbreviation for liquid crystal display an organic EL EL is an abbreviation for electro luminescence display and the like can be employed as the display unit .

The operation unit is configured to detect a user operation to select an object displayed on the displaying screen of the display unit . Specifically the operation unit has for example a plurality of depression buttons and the operation unit transmits operation signals respectively corresponding to the plurality of buttons to the CPU upon operation of one of the buttons. Alternatively or optionally the display unit may be configured as a touch panel display that is the operation unit may have a touch panel overlaid on the displaying screen of the display unit . As a touch sensor a well known type of touch sensor i.e. a capacitance type touch sensor or a resistive type touch sensor can be employed. It is noted that when the touch sensor is employed the depression buttons may be omitted and the touch sensor also serves as such buttons.

The media slot is configured such that a memory medium can be detachably attached thereto. The CPU of the MFP can retrieve data stored in the memory medium attached to i.e. inserted in the media slot and or store data in the memory medium attached to the media slot . According to the illustrative embodiment a type of the memory medium may not be limited to specific ones and examples of such a memory medium are a flash memory card a CD ROM and a DVD ROM.

The communication unit is an interface enabling a communication with external devices via the Internet . For example the MFP receives data from the relaying device through the communication unit or transmits data to the relaying device through the communication unit . According to the illustrative embodiment the communication method of connecting the communication unit to the Internet is either wireless communication method or wired communication method.

The CPU controls the entire operation of the MFP . Specifically the CPU retrieves various programs from the storage and executes the same based on the operation signal output by the operation unit and or various instructions information received from the relaying device through the communication unit .

The storage has a program storage area A and a data storage area B. The program storage area A stores an OS OS is an abbreviation for operating system and an image processing program . The image processing program may be a single program or a collective of a plurality of programs. So are a mediating program and a conversion program which will be described later. The data storage area B stores data necessary for executing the image processing program .

The storage may include a RAM random access memory a ROM read only memory an EEPROM electrically erasable programmable read only memory an HDD hard disk drive and a buffer provided to the CPU and or combination thereof. Alternatively or optionally the storage may be a computer readable storage medium i.e. a non transitory storage medium which may include storage devices such as the CD ROM the DVD ROM and the like in addition to the above described devices. It is noted that electrical signals carrying programs downloaded from a server on the Internet are not included in the non transitory storage medium.

The programs stored in the program storage area A are executed by the CPU . In the following description operation of each program may be described without mentioning the CPU . That is instead of stating that the CPU executes a process A described in a program A it will be stated that Program A executes process A for brevity.

The OS is a basic program which provides an API application programming interface to control the printer unit the scanner unit the display unit the operation unit the media insertion unit and the communication unit which are hardware components constituting the MFP . In other words the programs mentioned above calls the API provided by the OS and controls the hardware components. In the following description each program will be described with omitting the description regarding the OS for brevity. For example instead of stating that a program B controls hardware C through the API of the OS it will be simply stated that the program B controls the hardware C .

In the following description instead of stating that a program C causes the communication unit to transmit data information or instruction it will be simply stated that the program C transmits the data information or instruction for brevity. Similarly instead of stating that a program D obtains data information or instruction received by the communication unit it will be simply stated that the program causes the communication unit to received the data information or instruction for brevity.

The relaying device includes the mediating device and the conversion device connected through a LAN LAN is an abbreviation for local area network as shown in . The mediating device and the conversion device are communicatable with each other through the LAN and further connected to the Internet through the LAN . The mediating device operates as the HTTP server when communicating with the MFP and operates as the HTTP client when communicating with the conversion device and the service providing apparatus . The conversion device operates as the HTTP server when communicating with the MFP and the mediating device . The LAN is an example of a communication network. According to the illustrative embodiments the relaying device includes physically separated two devices i.e. the mediating device and the conversion device . However such a configuration is only an example and the relaying device may be configured with a single computer.

The mediating device is a computer having a communication unit a CPU and a storage which are interconnected through a communication bus . Since functions of the communication unit the CPU the storage and the communication bus are similar to the communication unit the CPU the storage and the communication bus of the MFP detailed description thereof will not be repeated for brevity. It is noted that in a program storage area A of the storage an OS and a mediating program are stored.

The conversion device is a computer having a communication unit a CPU and a storage which are interconnected through a communication bus . Since functions of the communication unit the CPU the storage and the communication bus are similar to the communication unit the CPU the storage and the communication bus of the MFP detailed description thereof will not be repeated for brevity. It is noted that in a program storage area A of the storage an OS and a conversion program are stored.

According to the first illustrative embodiment pre convert data is transmitted from the MFP to the relaying device which converts the pre convert data to post convert data. The post convert data is then transmitted from the relaying device to the service providing apparatus . This process will be referred to as an Office Doc Creator process.

The image processing program running on the MFP displays a waiting screen on the display unit S on condition that the MFP is powered on or the MFP is restored from a sleep state to an active state. Specifically the image processing program determines whether a re start instruction information is stored in the data storage area B see SA . When the re start instruction information is not stored SA NO the image processing program displays a waiting screen as shown in on the display unit SC . When the re start instruction information is stored in the data storage area A SA YES SB is executed which will be described later.

In the waiting screen shown in a plurality of objects i.e. Internet FAX Print and Scan representing functions of the MFP are included. An object Internet is for causing the MFP to execute data transmission reception process between the MFP and the service providing apparatus via the relaying device . An object FAX is for causing the MFP to execute facsimile transmission. An object Print is for causing the printer unit of the MFP to execute a print process. An object Scan is for causing the scanner unit of the MFP to execute a scan process.

In the description a term object represents an image which a user can select by operation the operation unit . For example objects may be a plurality of character strings displayed on the display unit . As the user operates direction keys of the operation panel one of the objects i.e. character strings may be highlighted on the display unit . Further when the user depresses an enter button of the operation unit the highlighted character string may be selected. For another example when the operation unit is a touch panel and a plurality of objects may include icons buttons links and the like displayed on the display unit i.e. touch panel and the user may directly select one of the objects by directly touch one of the displayed icons buttons links and the like.

Next the image processing program generates an Internet identification information S on condition that the operation unit detects an operation to select the object Internet displayed on the display unit . Then the image processing program transmits the generated Internet identification information to the mediating device S . The Internet identification information is information used to notify the relaying device of selection of the Internet object. It is noted that the Internet identification information is an example of a start instruction which causes the data transmission reception process between the MFP and the service provided apparatus via the relaying device . It is also noted that the process shown in is a process when the re start instruction information is stored in the data storage area which will be described later. When the FAX object Print object or Scan object is selected the similar operation is executed. Because of the similarity description thereof is omitted for brevity.

Next the mediating program of the mediating device generates a service selection screen data S on condition that the mediating device acquires the Internet identification information. Then the mediating program transmits the generated service selection screen data to the MFP S .

Next the image processing program of the MFP displays the service selection screen represented by the service selection screen data on the display unit S on condition that the service selection screen data is received. For example on the display unit the service selection screen as shown in is displayed. In this example shown in three objects i.e. Service Providing Apparatus Service Providing Apparatus xxx and Online Copy are included in the service selection screen. The following description on the first illustrative embodiment is made assuming that the Service Providing Apparatus has been selected.

Next on condition that the operation unit detects an operation to select Service Providing Apparatus displayed on the display unit S NO the image processing program of the MFP transmits the service identification information which indicates that the Service Providing Apparatus is selected to the mediating device S . The mediating program of the mediating device determines whether the selected service is Online Copy S on condition that the service identification information is received S . A processing when the Online Copy is selected S YES will be described when the third illustrative embodiment is described. When a service other than the Online Copy has been selected S NO the mediating program transmits account selection screen data to the MFP S .

On condition that the account selection screen data is received the image processing program of the MFP causes the display unit to display the account selection screen represented by the received account selection screen data S . Although not shown the account selection screen allows the user to select a user account to be used to access the service providing apparatus identified by the service identification information which is transmitted by the MFP and thus the account selection screen includes selectable objects.

Next on condition that the operation unit detects an operation to select one of the objects displayed on the display unit the image processing program transmits account identification information which indicates selection of the selected account to the mediating device S . The mediation program of the mediating device transmit token transmission instruction to the MFP S on condition that the account identification information is received. The token transmission instruction is an instruction to cause the MFP to send the token corresponding to the account selected on the account selection screen. It is noted that the token is an example of the account information which is necessary to obtain authentication to store data in the service providing apparatus and or to retrieve data stored in the service providing apparatus .

In S the image processing program transmits the token corresponding to the selected account to the mediating device on condition that the token transmission instruction is received by the CPU of the MFP . The mediating program of the mediating device transmits UL DL selection screen data to the MFP on condition that the token is received S . Then on condition that the UL LD selection screen data is received the image processing program causes the display unit to display a UL DL selection screen which is represented by the UL DL selection screen data S .

Although not shown the UL DL selection screen causes the user to select a direction in which data is transmitted between the MFP and the service providing apparatus via the mediating device . For example in the UL DL selection screen two objects i.e. upload and download may be included. When the upload object is selected data is transmitted from the MFP to the service providing apparatus while when the download object is selected data is transmitted from the service providing apparatus to the MFP . In the following description regarding the first illustrative embodiment it is assumed that the upload object is selected.

Next on condition that an operation to select the upload object is detected by the operation unit the image processing program transmits UL DL identification information representing that the selected object is selected to the mediating device S . Further on condition that the UL DL identification information is received the mediating program determines whether the direction of the data represented by the UL DL identification information is upload S . A process when the download is selected S NO will be described when the second illustrative embodiment is described.

Next on condition that the direction represented by the UL DL identification information is upload the mediating program transmits scan medium selection screen data to the MFP S . Then on condition that the scan medium selection screen data is received S YES the image processing program of the MFP causes the display unit to display a scan media selection screen represented by the scan medium selection screen data on the display unit S . It is noted that the scan medium selection screen is a screen causing the user to select a place device way from which pre convert data is obtained and for example two objects of scan and medium may be included.

When the scan object is selected the data generated by the scanner unit is used as the pre convert data. Alternatively when the medium object is selected data stored in the recording medium inserted in the medium insertion unit is used as the pre convert data. In the following description on the first illustrative embodiment it is assumed that the scan object is selected. That is in the first illustrative embodiment the image format is the first format. If the medium object is selected steps S in is executed instead of steps S S.

Next on condition that an operation to select the scan object displayed on the display unit is detected by the operation unit the image processing program transmits the scan identification information indicating that the selected object is selected to the mediating device S . Further on condition that the scan identification information is received the mediating program transmits format selection screen data to the MFP S .

In S on condition that the format selection screen data is received the image processing program causes the display to display a format selection screen represented by the format selection screen data. Although not shown the format selection screen is for causing the user to select a format of data after conversion and may includes for example five objects of Office text image PDF and CSV . It is noted that the five formats are merely examples and the number and type of formats should not be limited to the described ones. In the following description on the first illustrative embodiment it is assumed that the format of Office is selected. It is noted that the Office format in the first illustrative embodiment means that the post convert data has a format which is normally generated by Office software provided by Microsoft Corporation.

In S on condition that an operation to select the Office object from among the objects displayed on the display unit is detected by the operation unit the image processing program transmits format identification information representing that the selected object is selected to the mediating device . Further on condition that the format identification information is received the mediating program transmits scan setting screen data to the MFP S . Then on condition that the scan setting screen data is received the image processing program causes the display unit to display a scan setting screen represented by the scan setting screen data S . Although not shown the scan setting screen is for causing the user to select execution conditions for a scanning process by the scanner unit and may include objects for allowing the user to select set an original size resolution selection of monochromatic color image and the like.

In S on condition that an operation to select one of the objects displayed on the display unit is detected by the operation unit the image processing program transmits scan setting identification information indicating that the selected object is selected to the mediating device . Further on condition that the scan setting identification information is received the mediating program transmits a scan instruction to the MFP S . The scan instruction is an instruction to cause the scanner unit of the MFP to execute scanning operation in accordance with an execution condition represented by the scan setting identification information. Further on condition that the scan instruction is received the image processing program causes the scanner unit to execute the scanning operation S . The data generated in the scanning operation is referred to as the pre convert data in the first illustrative embodiment. The thus generated pre convert data is stored in the data storage area B.

In S the image processing program transmits template information transmission instruction to the mediating device . The template information transmission instruction is an instruction causing the mediating device to transmit template information including stored position information representing a stored position of the pre convert data in the converting device and data structure to be transmitted to the converting device including the pre convert data. Incidentally the stored position information may be URL uniform resource locator information.

Next on condition that the template information transmission instruction is received the mediating program issues a job ID S . The job ID is an identifier with which steps S S shown in can be identified uniquely. The mediating program transmits the template information to the MFP S . Further the job ID and the template information are stored in the data storage area B.

On condition that the template information is received the image processing program generates upload data by incorporating pre convert data into the data structure indicated by the template information S and transmits the upload data including the pre convert data to the storage position indicated by the storage position information S . For example the image processing program may transmit the pre convert data to the converting device with use of a POST method of the HTTP. In other words the pre convert data is transmitted to the converting device as an HTTP request.

Next the conversion program stores the pre convert data received from the MFP to the data storage area B and transmits transmission result information to the MFP S . The transmission result information is for informing the MFP whether the pre convert data has been received successfully. According to the illustrative embodiment the transmission result information is transmitted to the MFP as an HTTP response.

In S the image processing program transmits transmission result decipher instruction to the mediating device S on condition that the transmission result is received. The transmission result decipher instruction is for causing the mediating device to decipher the transmission result information and the transmission result information received in S is added. Further on condition that the transmission result decipher instruction is received the mediating program deciphers the transmission result information added to the transmission result decipher instruction S .

Next a conversion process shown in is executed S . The conversion process is a process of converting pre convert data having a first format to post convert data having a second format and mainly executed by a conversion program of the converting device . It is noted that the conversion process is executed only when the format of the pre convert data and the format of the post convert data are different. When the format of the pre convert data and the format of the post convert data are the same the conversion process is skipped. Further when conversion is executed the MFP the mediating device and the converting device operate in association with each other under control of the mediating device .

Next the conversion process S will be describe in detail with reference to . The mediating program transmits conversion ID transmission instruction which is for causing the conversion device to transmit data conversion instruction S . The conversion ID is an identifier used to uniquely identify a conversion process executed by the converting device . The conversion ID is issued by the converting device and transmitted to the mediating device S . The mediating program transmits data conversion instruction to the converting device . The conversing instruction is an instruction to cause the converting device to execute a process of converting the pre convert data the converting device received in S to the post convert data having a format which is identified by the data format identification information which the mediating device . To the data conversion instruction the format indentification information received in S and the conversion ID received in S are added.

Next on condition that the data conversion instruction is received from the mediating device the conversion program transmits the conversion process information to the mediating device S and starts executing the conversion process S . Specifically the converting program converts the pre convert data received in S in accordance with the format identification information added to the data conversion instruction received in S and stores the thus generated post convert data in the data storage area B. According to the first illustrative embodiment the pre convert data having the image format is converted to the post convert data having the Office format.

In S the mediating program transmits progress information transmission instruction to the converting device after a predetermined standby period has passed. The progress information transmission instruction is an instruction causing the converting device to transmit progress information representing progression status of the converting process and includes a completion flag indicative of whether the converted amount has reached a threshold converted amount. The converted amount is for example the data amount of the converted portion of the pre convert data or the amount of the data having been generated by the converting process. The threshold converted amount corresponds to sufficient data amount of the post convert data to execute steps S onwards of .

In S on condition that the progress information transmission instruction is received the conversion program compares the current converted amount with the threshold converted amount. Then on condition that the converted amount has reached the threshold converted amount S YES the conversion program transmits the progress information of which the completion flag is set to ON S S . On condition the converted amount has not reached the threshold converted amount S NO the conversion program transmits the progress information of which the completion flag is set to OFF S .

Next when the progress information is received the mediating program determines whether the completion flag contained in the progress information is ON S . On condition that the progress flag is OFF S NO the mediating program transmits a wait instruction to the MFP S . The wait instruction causes the MFP to stop or reset a response wait timer in order to prevent time out of the response wait timer which measures a time period after the MFP transmitted the transmission result decipher instruction in S.

In S on condition that the wait instruction is received the image processing program executes waiting that is stops progression of the response wait timer which measures a time period since the transmission result decipher instruction was sent S . A stop period may be a predetermined period or may be included in the wait instruction. Then after the waiting is executed the image processing program transmits a wait completion information to the mediating device S . For another example the image processing program may cancel the reply wait time on condition that the wait instruction is received. Then the image processing program may executes the wait for a predetermined period S and thereafter transmit the wait completion information to the mediating device S and re set the response wait timer for the response to the wait completion information.

The MFP the mediating device and the converting device repeatedly execute steps S S until the completion flag is ON S YES . The conversion process shown in is terminated on condition that the completion flag is ON that is the converted amount has reached the threshold converted amount S YES . It is noted that the conversion program of the converting device keeps executing the conversion process on the background until the pre convert data is converted into the post convert data.

Next on condition that the conversion process S is terminated that is on condition that the converted amount has reached the threshold converted amount the mediating program transmits post convert data transmission instruction to the converting device S . The post convert data transmission instruction is for causing the converting device to transmit the post convert data. The post convert data transmission request is received the conversion program of the converting device retrieves the post convert data from the data storage area B and transmits the retrieved data i.e. post convert data to the mediating device S . The mediating program stores the post convert data received from the converting device to the data storage area B. Until the mediating device completes obtaining the post convert data the converting program executes the converting process and transmission of the post convert data to the mediating device in parallel.

Next the mediating program executes a transmission process to transmit the post convert data obtained from the converting device to the service providing apparatus S S . Specifically the mediating program generates signature information using the token obtained from the MFP in S and key information stored in advance in the data storage area B. Then the mediating program obtains an upload URL to which the post convert data is to be uploaded from the service providing apparatus using the thus generated signature information transmits the post convert data to the upload URL S and receives transmission result information indicating whether the service providing apparatus has normally received the post convert data from the service providing apparatus S .

In S the mediating program deciphers the transmission result information received from the service providing apparatus . When transmission of the post convert data has normally completed S YES the mediating program transmits process completion information to the MFP S . The process completion information is for causing the MFP to recognize that the transmission of the post convert data to the service providing apparatus has normally completed. Then on condition that the process completion information is received the image processing program causing the display unit to display completion screen S . The completion screen is for notifying the user that the post convert data has been uploaded to the service providing apparatus . Further on condition that the process completion information has been transmitted the mediating program deletes data information e.g. post convert data account information and type identification information stored in the data storage area B S .

When the transmission of the post convert data abnormally terminated S NO the mediating program determines whether a threshold time period has elapsed S . It is noted that a case where the transmission of the post convert data terminates abnormally is a case where the transmission process is terminated without execution of predetermined procedures and includes a case where information indicating the abnormal termination is included in the transmission result information or a case where the transmission result information cannot be obtained within a predetermined period. Further the threshold time period is a time period within which transmission of the post convert data can be retried examples of which may be ten minutes after the last communication between the MFP and the mediating device and twenty minutes after the service selection screen data is transmitted S .

When the threshold time period has not elapsed S NO the mediating program returns to S and re executes the transmission process. As execution of S and S is repeated and the transmission process has not been completed normally until the threshold time period has elapsed S NO and S YES the mediating program stores the job ID obtained in S the account information obtained in S and the post convert data obtained in S in the data storage area B such that they are associated with each other S . Further the mediating program transmits re start instruction information to the MFP S . The re start instruction information is information to re execute the transmission process abnormally terminated and includes the job ID identifying the abnormally terminated transmission process. The re start instruction information may be of URL format information.

It is noted that in S the job ID the account information and the post convert data are stored in a database or the like such that they are associated with each other. This step however should be distinguished from a case where such data is temporarily stored in a buffer or the like. Further in S the job ID the account information and the post convert data are stored in a database or the like such that they are associated with each other. But the invention need not be limited to such a configuration and for example each of the job ID the account information and the post convert data are stored at a timing when each piece of data is obtained.

On condition that the re start instruction information is received the image processing program stores the received re instruction instruction information in the data storage area B. Then the image processing program causes the display unit to display a standby screen S . With this control the MFP becomes in a state where another process can be executed with remaining upload of the post convert data to the service providing apparatus uncompleted.

It is noted however that the image processing program adds icon data notifying an interruption process to the standby screen data SB on condition that the re start instruction information is stored in the data storage area B as shown in SB and causes the display unit to display a standby screen represented by the standby screen data SC . For example on the display unit a standby screen shown in may be displayed. It is noted that the standby screen shown in is different from that shown in in that an exclamation mark is added in the Internet object. According to the first illustrative embodiment the exclamation mark is an example of an icon notifying that there is a data transmission procedure of the post convert data to be re started.

When the operation unit detects an operation to select the Internet objects shown in the image processing program adds the re start instruction information to the Internet identification information S and transmits the Internet identification information to the mediating device S on condition that the re start instruction information is stored in the data storage area B SA YES .

Next on condition that the re start instruction information in added to the received Internet identification information as shown in SA YES the mediating program adds re starting object data to the service selection screen data SB and transmits the service selection screen data to the MFP S . Then the image processing program causes the display unit to display the service selection screen shown e.g. on condition that the service selection screen data to which the re start instruction object data has been added is received.

In the service selection screen shown in in addition to objects shown in a re start of interrupted process is included. Then on condition that operation of the re start of interrupted process object is detected by the operation unit the image processing program transmits the re start instruction S . The re start instruction is for causing the mediating device to re start the abnormally terminated transmission process and the job ID identifying the abnormally terminated transmission process.

In S on condition that the re start instruction is received the mediating program obtains the account information and the post convert data associated with the job ID which has been added to the re start instruction from the data storage area B. Then the mediating program executes a re execution process for re transmitting post convert data to the service providing apparatus based on the account information and the post convert data obtained from the data storage area B.

According to the first illustrative embodiment at the timing when the re start instruction is received from the MFP S the abnormally terminated transmission process is re executed. With this configuration for example when the transmission process is abnormally terminated due to a trouble in the service providing apparatus in response to the user operation of a user who has recognized the trouble the abnormally terminated transmission process can be re executed. That is according to the above configuration load to the communication network which may occur since the transmission process is repeatedly executed during the trouble of the service providing apparatus can be suppressed.

On the other hand the relaying device repeatedly executes the transmission process S S until the threshold time period has elapsed S . With this configuration when the transmission process is abnormally terminated due to an instantaneous delay of the communication network such a transmission process can be completed without requesting the user for an operation. It is noted that in S instead of controlling the process based on the threshold time period the transmission process S S may be repeatedly executed until the number of executions of the transmission process S S reaches a predetermined threshold number.

Further according to the first illustrative embodiment the account information and the post convert data which are necessary for re executing the transmission process are stored in the mediating device and only the re start instruction is stored in the MFP . With this configuration when the retransmission process is re executed it is unnecessary to re execute the series of processes shown in from the beginning. Further such a configuration may not apply excessive load to the storage unit of the MFP which normally has a relatively small capacity. Incidentally in the illustrative embodiment an example of using the token is described as the account information. The invention needs not be limited to such a configuration an a combination of the user ID and password may be used as the account information. In such a case before the transmission process S S it is necessary to receive authentication from the service providing apparatus using the user ID and the password such a process may be referred to the LOG IN .

The account information and the post convert data stored in the data storage area B of the mediating device may be deleted after a predetermined retention duration has elapsed. The retention duration may be for example one day. The mediating device may transmit screen data of an error screen notifying that the re start process cannot be executed when the re start instruction is received after the account information and the post convert data have been deleted. The image processing program returns to the waiting screen after displaying the error screen on the display unit .

It is noted that the order of the screens displayed on the display unit in S S S S S and S needs not be limited to that of the first illustrative embodiment. Further in the illustrative embodiment among the plurality of display screens displayed on the display unit the screen firstly displayed after the Internet identification information has been transmitted includes the re start of interrupted process object. The invention needs not be limited to the above configuration. For example the UL DL selection screen may include the re start of interrupted process job. Further in the first illustrative embodiment the exclamation mark icon is displayed in the Internet object of the waiting screen and on the screen which is displayed after the Internet object is selected the re start of interrupted process object is displayed. The invention needs not be limited to such a configuration and the re start of interrupted process object may be included in the waiting screen.

In the second illustrative embodiment an Online Print process in which the pre convert data is transmitted from the service providing apparatus to the relaying device the pre convert data is converted to the post convert data in the relaying device and the post convert data is transmitted from the relaying device to the MFP will be described. In the description on the second illustrative embodiment processes similar to those of the first illustrative embodiment will be omitted for brevity and processes different from the first illustrative embodiment will be mainly described.

Firstly the second illustrative embodiment is different from the second illustrative embodiment in that in S the download object is selected in the second illustrative embodiment. That is the mediating program receives the UL DL identification information indicating that the download object is selected in S. Further on condition that the direction of data transmission indicated by the UL DL identification information is download S NO the mediating program transmits the print medium selection screen data to the MFP S . Further on condition that the print medium selection screen data is received the image processing program causes the display unit to display the print medium selection screen represented by the print medium selection screen data S .

Although not shown the print medium selection screen is for causing the user to select processing of the post convert data and includes for example the print object and the medium object. When the print object is selected the image represented by the post convert data is printed on the printing sheet by the printer unit . When the medium object is selected the post convert data is stored in the recoding medium inserted in the medium insertion unit . In the following description on the second illustrative embodiment it is assumed that the print object has been selected. It is noted that when the medium object is selected the format selection process shown in S S is executed and a process of storing the post convert data in the recoding medium inserted in the medium insertion unit is executed in S.

Next on condition that an operation to select the print object displayed on the display unit is detected by the operation unit the image processing program transmits print identification information indicating that the selected object is selected to the mediating device S . Since the data format the printer unit employs is the image format the print identification information includes information indicating the format of the post convert data is the image format.

In S on condition that the print identification information is received the mediating program transmits file information transmission instruction to the service providing apparatus using the account information obtained from the MFP in S. The file information transmission instruction is for causing the service providing apparatus to transmit the file information including a file list showing files to which the user corresponding to the account information can access. Then on condition that the file information is received the mediating program generates file selection screen data S and transmits the file selection screen data to the MFP S .

Next on condition that the file selection data is received the image processing program causes the display unit to display the file selection screen represented by the received file selection screen data S . Although not shown the file selection screen is a screen on which the file list included in the file information received in S is displayed as a list of objects. That is the files displayed on the file selection screen are files which could be candidates of the pre convert data. Then the selected file which is selected on the file selection screen is the pre convert data according to the second embodiment.

On condition that an operation to select one of the objects displayed on the display unit is detected by the operation unit the image processing program transmits selection file list information which is a list of files corresponding to the selected object to the mediating device S . The selection file list includes information identifying one or more files selected on the file selection screen. Further on condition that the selection file list information is received the mediating program stores the selected file list information in the data storage area B S . Further the mediating program transmits the print setting screen data to the MFP S .

Next on condition that the print setting screen data is received the image processing program causes the display unit to display a print setting screen represented by the print setting screen data S . Although not shown the print setting screen is for causing the user to select execution condition of the print process executed by the printer unit . For example the print setting condition may include objects for selecting setting the size of the printing sheet resolution monochromatic color images. Then on condition that an operation of selecting one of the objects displayed on the display unit is detected by the operation unit the image processing program transmits the print setting identification information indicating that the selected object is selected to the mediating device S .

On condition that the print setting identification information is received the mediating program issues the job ID S and initialize the variable S . Then the mediating program obtains the pre convert data URL of a file i from the service providing apparatus and transmits the pre convert data transmission instruction of the file i indicated by the pre convert data URL to the service providing apparatus S . Then the mediating program obtains the pre convert data of the file i from the service providing apparatus S .

Next the mediating program transmits the obtained pre convert data to the converting device S and receives transmission result information from the converting device S . Thereafter the conversion process shown in is executed S . For example if the format of the pre convert data is the Office format the pre convert data is converted such that the post convert data has the image format according to the second illustrative embodiment. Since the converting process has been described in detail it will not be repeated for brevity.

In S on condition that the converting process S is completed that is on condition that the converted amount has reached the threshold converted amount the mediating program transmits the post convert data information transmission instruction to the converting device S . The post convert data information transmission instruction is for causing the converting device to transmit post convert data information which indicates a location of the post convert data in the converting device . The post convert data information may be URL format information. The mediating program receives the post convert data information from the converting device S . Further the mediating program transmits the post convert data information obtained in S and interruption notification information to the MFP S . The interruption notification information is for indicating a destination to which interruption of reception of the post convert data in the MFP is notified. The interruption notification information may be URL format information.

In S on condition that the post convert data information and the interruption notification information are received the image processing program transmits the post convert data transmission instruction to the converting device . The post convert data transmission instruction is for causing the converting device to transmit the post convert data identified by the post convert data information obtained in S. Further on condition that the post convert data transmission instruction is received the converting program transmits the post convert data to the MFP S .

Next in S the image processing program causes the printer unit to execute the printing process to print the image represented by the received post convert data in accordance with the print setting identification information set in S. It is noted that the print process S is started before completion of reception of the post convert data. For example when the post convert data includes a plurality of pages of data the printer unit may start the print process S on condition that the printer unit has received one page of post convert data. That is the image processing program executes reception of the post convert data and execution of print process in parallel.

When the print process has been completed normally S YES the image processing program transmits print completion information to the mediating device S . The print completion information is for causing the mediating device to recognize that the print process using the post convert data obtained in S has completed normally. A case where the print process has completed normally is a case where all the images represented by the post convert data obtained in S have been printed on the printing sheets.

Next on condition that the print completion information is received the mediating program updates a print state of the file i from non completed to completed S and determines whether the print states of all the files included in the selection file list has been updated to completed S . When there remains a file of which print state is non completed S NO the mediating program increments a variable i S and re executes steps S S.

When the print states of all the files are completed S YES the mediating program transmits process completion information to the MFP S . On condition that the process completion information is received the image processing program causes the display unit to display a completion screen S . Further on condition that the process completion information is transmitted the mediating program deletes the data and information stored in the data storage area B S .

Further the mediating device may cause the converting device to delete the post convert data stored in the data storage area B by transmitting the process completion notification to the converting device . Alternatively the converging device may be configured to delete the post convert data when a predetermined period has elapsed after the converting process is executed. In the latter case transmission of the process completion notification between the mediating device and the converting device can be omitted.

When the print process has not completed normally S NO the image processing program determines whether a threshold time period has elapsed S . It is noted that a case where the print process has not completed normally is a case for example where the printer unit runs short of the printing sheets ink and or toner. If the threshold time period has not elapsed S NO the print unit returns to S and re executes the print process. That is the printer unit re execute the print process as the above problems have been resolved by the user.

When the print process has not completed before the threshold time period has passed S NO S YES the image processing program transmits an interruption instruction to the mediating device S . The interruption instruction is for causing the mediating device to recognize that the print process using the post convert data obtained in S has not completed normally and includes a re start page position. The re start page position is information identifying the page subjected to the next print process in the post convert data having a plurality of pages. A method of identifying the re start page position is not limited to a particular method. In one example the page subjected to the next print process may be identified by the page number. In another example the page subjected to the next print page may be designated by identifying the last page of the previous print process.

Next on condition that the interruption instruction is received the mediating program determines that the transmission process in S is abnormally terminated. Then on condition that the interruption instruction is received the mediating program stores the job ID issued in S the conversion ID obtained in S and the re start page position included in the interruption instruction in the data storage area B in a mutually associated manner. Further the mediating program transmits the re start instruction information to the MFP S .

The transmission process S according to the second illustrative embodiment is considered to be completed normally on condition that the all the images represented by the post convert data have been printed by the printer unit . In other words according to the second illustrative embodiment even when the post convert data has already been received by the MFP the transmission process S may be determined to complete abnormally on condition that the print process S using the post convert data has not completed normally.

Next on condition that the re start instruction information is received the image processing program stores the re start instruction information in the data storage area B. Then the image processing program causes the display unit to display the waiting screen S . With the above control the MFP is in a condition of executing other processes with the print process of the post convert data not being completed. Then similar to the first illustrative embodiment on condition that the re start instruction object is selected S YES the image processing program transmit the re start instruction S .

In S on condition that the re start instruction is received the mediating program obtains the converted ID associated with the job ID included in the re start instruction and the re start page position from the data storage area B. Further the mediating program transmits the post convert data information transmission instruction to the converting device S and receives the post convert data information from the converted device S . Then the mediating program transmit the post convert data information obtained in S and the interruption notification information to the MFP S . It is noted that to the post convert data information transmitted in S the re start page position is added which is obtained in S.

Next on condition that the post convert data information and the interruption notification information are received the image processing program re transmits the post convert data transmission instruction to the converting device S . Further on condition that the post convert data information is received the converting program executes the re start process of re transmitting the post convert data to the MFP S .

The printer unit executed the print process using the post convert data received in S based on the re start page position obtained from the mediating device in S S . Specifically the printer unit prints only a page identified by the re start page position and subsequent pages of the post convert data without printing pages before the page identified by the re start page position.

According to the second illustrative embodiment the transmission process abnormally terminated is re executed at a timing of receiving the re start instruction from the MFP S . According to this configuration when the transmission process is abnormally terminated due to the causes on the MFP side e.g. running short of sheets ink toner or the like the abnormally terminated transmission process can be re executed in response to the user s recognition that the causes of the abnormal termination has been eliminated.

It is noted that the mediating device according to the second illustrative embodiment is configured to transmit the re start page position to the MFP prior to the re start process. Further the converting device transmits the post convert data to the MFP from the top thereof. The MFP prints only the page identified by the re start page position and subsequent pages of the post convert data obtained from the converting device .

However the invention needs not be limited to the above configuration. For example the mediating device may cause the converting device to transmit post convert data information to transmit a part of the post convert data corresponding to the page identified by the re start page position and the subsequent pages in the post convert data information transmission instruction in S. Then the converting program may be configured to obtain the post convert data transmission instruction based on such post convert data information S and transmit only the part of the post convert data corresponding to the page identified by the re start page position and the subsequent pages S . Such a process is particularly advantageous for example when the post convert data information is assigned to each page of the post convert data.

Referring to and the data management system according to the third illustrative embodiment will be described. According to the third illustrative embodiment an Online Copy in which the pre convert data is transmitted from the MFP to the relaying device the pre convert data is converted to the post convert data by the relaying device and the post convert data is transmitted from the relaying device to the MFP will be described. In the following description operations similar to those in the first and or second illustrative embodiments will be omitted for brevity and different operations with respect to the first second illustrative embodiments will be mainly described.

According to the third illustrative embodiment the Online Copy is selected at S of which is different from the first second illustrative embodiment. The mediating program receives the service identification information indicating that the Online Copy is selected S . The service identification information includes information indicating that the format of the post convert data is the image format.

When the Online Copy object is selected S YES the mediating program transmits the scan medium selection screen data to the MFP S . Further on condition that the scan medium selection screen data is received the scan medium image processing program causes the display unit to display a scan medium selection screen S . In the following description on the third illustrative embodiment it is assumed that the medium object is selected.

The image processing program causes the display unit to display the file selection screen S . The file selection screen is a screen showing files stored in the recording medium inserted in the medium insertion unit are displayed as a list of flies which are selectable objects. That is the files displayed in the file selection screen are candidates of the pre convert data in the third illustrative embodiment. A selected file on the file selection screen is used as the pre convert data according to the third illustrative embodiment. In the following description it is assumed that an Office file is selected as the pre convert data.

The converting program obtains the pre convert data from the MFP and executes the conversion process to convert the pre convert data S S . This converting steps are similar to those of the first illustrative embodiment description thereof will not be repeated. Next the conversion program transmits the post convert data to the MFP and stores the image represented by the post convert data in the recording medium S S . These steps are similar to those in the second illustrative embodiment and description thereof will be omitted. It is noted that according to the third illustrative embodiment only one file is selected on the file selection screen. Therefore S S S of are omitted in the third illustrative embodiment. Of course the above steps may be incorporated in the configuration of the third illustrative embodiment.

According to the third illustrative embodiment the transmission process abnormally terminated is re executed at a timing of receiving the re start instruction from the MFP S . According to this configuration when the transmission process is abnormally terminated due to the causes on the MFP side e.g. running short of sheets ink toner or the like the abnormally terminated transmission process can be re executed in response to the user s recognition that the causes of the abnormal termination has been eliminated.

In the first third illustrative embodiments one of the processes of Office Doc Creator Online Print and Online Copy is selected to be executed in accordance with a combination of the object selected in the service selection screen S and the object selected in the UL DL selection screen S . However the invention needs not be limited to such a configuration and can be modified in various ways.

For example the processes of Office Doc Creator Online Print and Online Copy which is determined based on a combination of selected objects may be displayed on the display unit as selectable objects respectively. In such a case the Online Copy object can be eliminated from the service selection screen and further steps S S can be skipped.

In the MFP of each of the above described illustrative embodiments each process can be executed as the CPU executes various programs stored in the program storage area A. It is noted however the configuration needs not be limited to the above described illustrative embodiments. For example at least a part of the controller unit may be realized by hardware such as an IC integrated circuit or the like. So is the mediating device or the converting device .

The above described configurations can be realized as an image processing apparatus or one or more programs causing the image processing apparatus to execute the processes described above. Such programs may be stored in a non transitory recording medium and distributed. Alternatively information or signals representing the programs may be transmitted via a communication network such as the Internet. So is the mediating device or the converting device .

It is noted that in the specification a term abortion of a transmission process or abnormal termination of a transmission process is used to mean that the transmission process is terminated without a predetermined procedure is executed. For example a case where one of a data transmission device and a data receiving device detects an error and notifies an occurrence of the error to the other of the data transmission device and the data receiving device and a data transmission process therebetween is terminated the transmission process is considered to be abnormally terminated according to the above definition. For another example a case where a communication between a data transmission device and a data receiving device is terminated due to timeout is also considered to be abnormally terminated.

It is noted that in the specification a term conversion or convert all the processes of applying processing editing extracting and the like to a pre convert data having a first format and generating post convert data having a second format which is different from the first format. For example a process of generating image data from Office format data is considered to be a conversion according to the above definition. In this example the Office format is the first format and the image format is the second format. For another example a process of extracting predetermined information from image data and generating CSV CSV is an abbreviation for comma separated values data having a CSV format. In this example the image format is the first format and the CSV format is the second format according to the above definition. It is noted that the Office format is a format which is normally generated by Office software provided by Microsoft Corporation.

It is noted that throughout the specification a term data and a term information are basically used to represent different meanings. Specifically both the data and the information represent bits or bit sequence handled by a computer. When the computer handles the data it is unnecessary for the computer to recognize a meaning each bit represents while when the computer handles the information an operation of the computer is diverged based on a meaning each bit of the information represents. Additionally a term instruction represents a control signal encouraging a device at a destination to encourage a next operation and may include the information therein or the instruction may have a characteristic of the information. 

It is noted that the data and the information are treated as the same data and information even if the format thereof is changed for respective computers handling the data and information as far as what is meant thereby or represent thereby is the same. That is the same data or information may be retained in the text format in one computer and may be retained in the binary format in another computer.

It is further noted that the above defined distinction between the data and information should not be considered too strictly and an exceptional treatment should also be allowed. For example data may be treated as information temporarily or the information may be treated as data temporarily. For another example data in one device may be treated as information in another device. Further information may be extracted from data or data may be extracted from information. 

