---

title: Information providing system, information providing apparatus and information providing method
abstract: The information providing system according to the embodiment includes a wireless LAN access point and an information providing apparatus. The wireless LAN access point detects a wireless terminal existing in a wireless LAN communication area to transmit the detection information to the information providing apparatus. The information providing apparatus determines either the wireless LAN access point or a wireless WAN base station, on the basis of information on a user of a wireless terminal specified according to the detection information and/or the information on an installation location of the wireless LAN access point, as a communication medium that notifies the notification information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09386508&OS=09386508&RS=09386508
owner: YAHOO JAPAN CORPORATION
number: 09386508
owner_city: Tokyo
owner_country: JP
publication_date: 20140114
---
The present application claims priority to and incorporates by reference the entire contents of Japanese Patent Application No. 2013 010637 filed in Japan on Jan. 23 2013.

The present invention relates to an information providing system an information providing apparatus and an information providing method.

In recent years there has been a rapid proliferation of local area network LAN communications. Wireless LAN access points are installed at various locations such as a station an airport and a store. A wireless LAN communication function has become standard equipment on various mobile devices such as a personal computer a mobile phone and a portable game console. Proliferation of such public wireless LAN communications is forecast to further increase. The user of a mobile device that is a wireless terminal is forecast to be able to use a high speed Internet connection at more various locations.

For example Japanese Patent Application Laid open No. 2005 107897 describes a technique to notify the contents corresponding to an access point from an information distribution control apparatus to a wireless terminal by e mail in a communication environment when it is detected that the wireless terminal exists in the access point.

However in the technique of Japanese Patent Application Laid open No. 2005 107897 the information is not appropriately notified to the user of the wireless terminal sometimes because for example the state of the user of the wireless terminal or the state of the installation location of the wireless LAN access point is not considered.

According to an exemplary embodiment an information providing system includes a wireless LAN access point and an information providing apparatus. The information providing apparatus manages information corresponding to the wireless LAN access point. The wireless LAN access point includes a detection unit and a detection information transmission unit. The detection unit detects a wireless terminal existing in a communication area of the wireless LAN access point. The detection information transmission unit transmits detection information including information on the wireless terminal detected by the detection unit to the information providing apparatus. The information providing apparatus includes an information storage unit a reception unit an obtaining unit a determination unit and a notification unit. The information storage unit stores notification information corresponding to the wireless LAN access point. The reception unit receives the detection information transmitted from the wireless LAN access point. The obtaining unit obtains information on a user of a wireless terminal specified according to the detection information and or information on the installation location of the wireless LAN access point. The determination unit determines either the wireless LAN access point or a wireless WAN base station on the basis of the information obtained by the obtaining unit as a communication medium to notify the notification information. The notification unit notifies the notification information stored in the information storage unit via the communication medium determined by the determination unit to the wireless terminal specified according to the detection information.

The above and other objects features advantages and technical and industrial significance of this invention will be better understood by reading the following detailed description of presently preferred embodiments of the invention when considered in connection with the accompanying drawings.

Hereinafter an embodiment of an information providing system an information providing apparatus and an information providing method according to the present application will be described in detail with reference to the appended drawings. Note that the information providing system information providing apparatus method for providing information according to the present application is not limited to the embodiment.

First the information providing system according to the embodiment will be described. FIG. IA is a diagram of the configuration of the information providing system according to the embodiment.

As illustrated in the information providing system according to the embodiment includes a plurality of wireless local area network LAN access points and an information providing apparatus. The information providing apparatus can communicate with the wireless LAN access points via a communication network. Further the information providing apparatus can communicate with a wireless terminal that is a mobile phone via a wireless LAN access point or a mobile phone communication network. The communication network is an Internet protocol IP network for example an Internet.

The mobile phone communication network is a wide area network WAN and is connected to the communication network via a gateway server not illustrated in the drawings . The wireless terminal can access a server for example a website connected to the communication network via a mobile phone base station corresponding to an exemplary wireless WAN base station . The wireless terminal is a mobile phone on which a wireless LAN communication function is stalled and can also access a server via a wireless LAN access point in the communication area of the wireless LAN access point.

Each of the wireless LAN access points includes a wireless LAN communication unit so as to perform a wireless communication with a wireless terminal using the wireless LAN communication unit. The wireless LAN access point covers a commercial space as the communication area for example a store a restaurant a hair salon a barber shop a hospital a hotel a theater or a leisure complex in addition to a station a mall or an event site where a concert or a sports activity is held.

The information providing apparatus includes a database hereinafter referred to as DB that stores notification information so as to select and obtain the notification information corresponding to the wireless LAN access point in which the wireless terminal exists from the notification information stored in the DB and transmit the notification information to the wireless terminal.

Thus the wireless terminal can obtain the notification information corresponding to each of the wireless LAN access points. On the assumption that a wireless LAN access point is installed at a restaurant the user of the wireless terminal can obtain for example the information on the restaurant by entering the communication area of the wireless LAN access point.

The information providing apparatus selects one of a wireless LAN access point or a mobile phone base station as the communication medium on the basis of the information on the user of the wireless terminal or the information on the installation location of the wireless LAN access point so as to transmit the notification information to the wireless terminal from the selected communication medium. Thus the user of the wireless terminal can receive the notification information via an appropriate communication route.

The information on the user of the wireless terminal hereinafter sometimes referred to as a terminal user is for example the moving state of the terminal user or the attribute of the terminal user. For example when the terminal user stops the information providing apparatus transmits the notification information from the wireless LAN access point. When the terminal user moves between the wireless LAN access points the information providing apparatus transmits the notification information from the mobile phone base station.

The information providing apparatus determines whether the terminal user stops or moves for example according to the radio field intensity of the wireless terminal detected with the wireless LAN access point. Such a determination is performed on a criterion according to the installation location of the wireless LAN access point hereinafter sometimes referred to as an AP installation location .

Next an exemplary method for providing information with the information providing system will be described. is an explanatory diagram of an information providing method according to the embodiment.

As illustrated in a wireless terminal existing in an AP communication area transmits a wireless signal to the wireless LAN access point step S . The wireless LAN access point detects the terminal ID or radio field intensity information of the wireless terminal as the terminal information on the basis of the wireless signal transmitted from the wireless terminal step S .

The terminal ID is for example the media access control MAC address of the wireless LAN communication unit in a wireless terminal. The radio field intensity information is for example the information on the radio field intensity of the wireless signal transmitted from the wireless terminal and received at the wireless LAN access point. The wireless LAN access point transmits the information including the terminal information and the AP ID as the detection information to the information providing apparatus step S . The AP ID is the identification data of the wireless LAN access point.

The information providing apparatus determines the location attribute of the wireless LAN access point on the basis of the detection information transmitted from the wireless LAN access point step . The information providing apparatus stores the location information table that links the AP ID and the location attribute so as to obtain the location attribute corresponding to the AP ID included in the detection information from the location information table. The information providing apparatus obtains for example the location attribute station corresponding to the AP ID A1 from the location information table illustrated in and then determines that the wireless LAN access point includes a station as the location attribute.

Next the information providing apparatus determines the moving state of the wireless terminal on the basis of the detection information transmitted from the wireless LAN access point and the location attribute of the wireless LAN access point step S . For example when the wireless LAN access point includes a station as the location attribute the information providing apparatus determines the moving state of the wireless terminal on the basis of the determination criterion value and determination criterion time corresponding to the station .

When the variation of the radio field intensity of the wireless terminal is equal to or higher than the criterion value the information providing apparatus determines that the wireless terminal moves. When the variation of the radio field intensity of the wireless terminal is lower than the criterion value the information providing apparatus determines that the wireless terminal stops. The information providing apparatus also determines whether the wireless terminal has been in the same wireless LAN access point since before the criterion time or has moved among a plurality of wireless LAN access points since before the criterion time.

Next the information providing apparatus selects one of the wireless LAN access point and the mobile phone base station as the communication medium on the basis of the moving state of the wireless terminal step S . For example when the moving state of the wireless terminal is in a rest or is in a moving in a wireless LAN access point the information providing apparatus selects the wireless LAN access point as the communication medium. For example when the moving state of the wireless terminal is a moving among a plurality of wireless LAN access points the information providing apparatus selects the mobile phone base station as the communication medium.

After selecting the wireless LAN access point as the communication medium the information providing apparatus transmits the notification information to the communication network step S so as to cause the wireless LAN access point to notify the notification information to the wireless terminal step S . On the other hand when selecting the mobile phone base station as the communication medium the information providing apparatus transmits the notification information intended for the wireless terminal from the communication network to the mobile phone communication network step S so as to cause the mobile phone base station to notify the notification information to the wireless terminal step S .

When receiving the notification information from the wireless LAN access point or the mobile phone base station the wireless terminal displays the notification information on the display unit step S . The notification information displayed as described above corresponds to the wireless LAN access point that has detected the wireless terminal. In the example illustrated in the information on the station from the wireless LAN access point installed at the station is displayed as the notification information on the display unit of the wireless terminal.

As described above when a wireless terminal enters the communication area of a wireless LAN access point the notification information corresponding to the wireless LAN access point is notified to the wireless terminal in the information providing system according to the embodiment.

Accordingly when the wireless LAN access point is installed for example at a store the information on the store can be notified to the user who has entered the store. This enables an efficient notification of the information on the store to the user. This also prevents a notification of the information having nothing to do with the store that the user has entered to the user and thus does not bring a feeling of discomfort to the user.

Further the information providing system according to the embodiment can notify appropriate notification information via a different communication route to the wireless terminal on the basis of the information on the user of the wireless terminal or the information on the installation location of the wireless LAN access point.

For example when staying an AP installation location for a given length of time or more the terminal user is often interested in the AP installation location. Thus the information providing apparatus notifies the detailed information to the wireless terminal. The detailed information includes for example the digital contents about the AP installation location or the information on the product sold at the AP installation location. The detailed information relatively has a large amount of information. Using a wireless LAN access point having a relatively high communication rate can transmit the notification information to the wireless terminal at high speed. This can notify the notification information to the wireless terminal at the right time.

On the other hand when merely passing through an AP installation location the terminal user is often not interested in the AP installation location so much. Thus the information providing apparatus notifies brief information to the wireless terminal. The brief information includes for example the information on the stores around the AP installation location and how crowded the stores are. The brief information relatively has a small amount of information. Even a mobile phone base station having a relatively low communication rate can transmit the notification information to the wireless terminal at high speed. This can notify the notification information to the wireless terminal at the right time. After the terminal user has passed through the AP installation location the notification information can be notified to the wireless terminal.

Note that the communication route can be selected on the basis of only the information on the terminal user or the communication route can be selected on the basis of only the AP installation location. Hereinafter the specific configuration and specific process in the information providing system will be described with reference to the drawings.

The specific configuration of the information providing system according to the embodiment will be described using . is a diagram of an exemplary specific configuration of the information providing system according to the embodiment.

As illustrated in an information providing system includes a plurality of wireless LAN access points to and an information providing apparatus so as to provide various types of information to wireless terminals to . Each of the wireless terminals to is a mobile phone having a wireless LAN communication function for example a smartphone and is owned by each user. Note that when it is not necessary to distinguish the wireless terminals to the wireless terminals to are generically called a wireless terminal .

The wireless LAN access points to and the information providing apparatus are managed for example by an information provider. Note that when it is not necessary to distinguish the wireless LAN access points to the wireless LAN access points to are generically called a wireless LAN access point .

The wireless LAN access point is connected to the information providing apparatus via a communication network such that the information providing apparatus can provide various types of information from the wireless LAN access point to the wireless terminal via the communication network . Although the communication network will be described as the Internet in the present embodiment the communication network is not limited to the Internet. For example the communication network can be a dedicated network for an information provider.

A mobile phone communication network is connected to the communication network through gateway servers and such that the information providing apparatus can also transmits the information from mobile phone base stations to connected to the mobile phone communication network via the communication network to the wireless terminal . Note that when it is not necessary to distinguish the mobile phone base stations to the mobile phone base stations to are generically called a mobile phone base station .

Although the mobile phone communication network has been described above as an exemplary communication network to which a wireless WAN base station is connected the communication network to which a wireless WAN base station is connected is not limited to the mobile phone communication network . For example the communication network to which the wireless WAN base station is connected can be a private data communication network. In that case the wireless WAN base station is a wireless base station in a private data communication network so that the information is transmitted from the wireless base station to the wireless terminal .

The wireless terminal has a function for displaying notification information on the display unit so as to obtain and display the notification information provided from the information providing system via the communication network . Note that the function for displaying notification information is included for example in the Operating System OS or application of the wireless terminal .

The wireless terminal includes a browser so as to display the information on the page provided from the information providing system or a website not illustrated in the drawings . For example when the communication network is the Internet the page provided from the information providing system is a web page specified with a markup language for example the HyperText Markup Language HTML .

Hereinafter the specific configurations of the wireless LAN access point and the information providing apparatus will be described in sequence.

First the configuration of the wireless LAN access point will specifically be described. As illustrated in the wireless LAN access point includes a wireless LAN communication unit a communication unit and a control unit .

The wireless LAN communication unit is installed such that a region including a location to be notified is the communication area. The wireless LAN communication unit is a communication interface that performs a wireless LAN communication. The wireless LAN communication unit transmits and receives the information with the wireless terminal including a wireless LAN communication function using a wireless signal. Note that examples of the wireless LAN include a wireless LAN specified in IEEE 802.11 but are not limited to the wireless LAN based on such a standard.

The communication unit is connected to the communication network so as to transmit and receive the information with a device on the communication network side via the communication network . The communication unit has a wired or wireless connection to the communication network . The device on the communication network side is for example the information providing apparatus and a Web server not illustrated in the drawings .

The control unit includes a relay unit configured to perform a data relay process and a detector configured to perform a process for detecting the wireless terminal so as to implement or perform a function or behavior of the information process to be described below. Note that the internal configuration of the control unit is not limited to the configuration described above and can be another configuration that performs the information process to be described below.

The relay unit transmits for example the information obtained from the wireless terminal through the wireless LAN communication unit from the communication unit to the device on the communication network side and transmits the information obtained from the device on the communication network side through the communication unit from the wireless LAN communication unit to the wireless terminal .

Note that the information transmission from the wireless LAN access point to the device on the communication network side is performed for example in a packet communication in which the address of the communication network allocated to the wireless LAN access point is the source address and the address of the communication network allocated to the device on the communication network side is the destination address. The address of the communication network is for example the address allocated to the communication unit that is for example an IP address.

The detector detects the existence of the wireless terminal by obtaining the wireless packets transmitted from the wireless terminal through the wireless IAN communication unit . illustrate the session establishment between the wireless LAN access point and the wireless terminal .

In the example illustrated in a wireless packet referred to as a probe request is periodically transmitted from the wireless terminal for example by broadcasting. The detector detects the existence of the wireless terminal by obtaining the wireless packet through the wireless LAN communication unit .

The probe request includes a basic service set identifier BSSID such that the detector transmits the probe response to the wireless terminal when the BSSID corresponds to the BSSID of the wireless LAN communication unit . The wireless terminal that has received the probe response is shifted to a during communication state when being set to an automatic communication.

As illustrated in an association request and association response establishes a session. This shifts the wireless terminal to the during communication state. After that a data frame and a control frame is transmitted and received between the wireless terminal and the wireless LAN communication unit . Thus the wireless terminal and the wireless LAN communication unit are brought into a state in which the wireless terminal is communicated with the wireless LAN communication unit .

The detector detects the existence of the wireless terminal that does not periodically transmit a wireless packet for example by broadcasting a wireless packet referred to as a beacon to the wireless terminal through the wireless LAN communication unit and receiving an association request in response to the beacon as illustrated in . The detector that has received the association request establishes a session by transmitting an association response to the wireless terminal . This implements the during communication state between the wireless terminal and the wireless LAN communication unit .

After bringing the wireless terminal and the wireless LAN communication unit into the during communication state the detector repeatedly receives the wireless packets and detects the existence of the wireless terminal until the communication state is lifted. Note that the during communication state is lifted when the wireless terminal transmits a disconnect request or when the wireless packets is not transmitted and received between the wireless terminal and the wireless LAN communication unit .

For example when the detector determines that the detector has detected a wireless terminal the detector transmits the detection information including the terminal information of the wireless terminal from the communication unit to the information providing apparatus . Specifically the detector extracts the terminal ID from the wireless packet transmitted from the wireless terminal and then detects the radio field intensity.

The terminal ID is for example the MAC address of the wireless LAN communication unit of the wireless terminal and is transmitted from the wireless terminal while being added to the wireless packet. The radio field intensity is the radio field intensity of the wireless signal received at the wireless LAN access point . Note that the radio field intensity can also be a radio field intensity received at the wireless terminal Received Signal Strength Indication RSSI . In that case a wireless signal including the information on the radio field intensity is transmitted from the wireless terminal to the wireless LAN access point .

The detector transmits to the information providing apparatus the AP ID and the information indicating whether the wireless terminal is in the during communication state in addition to the terminal ID of the wireless terminal and the information on the radio field intensity. For example the network address of the communication network allocated to the communication unit can be used as the AP ID.

The detector can also count the period while the wireless terminal stays in the AP communication area. In that case the period while the wireless terminal stays can be transmitted to the information providing apparatus while being included in the detection information.

Next the specific configuration of the information providing apparatus according to the embodiment will be described. As illustrated in the information providing apparatus includes a communication unit a storage unit and a control unit . The storage unit includes a user information DB and a location information DB . The control unit includes a reception unit an obtaining unit a determination unit a transmission unit and an information provision unit .

The communication unit is an interface for example a network interface card NIC . The control unit transmits and receives various types of information with the wireless LAN access point through the communication unit and the communication network or with the wireless terminal through the wireless LAN access point .

The user information DB and the location information DB are each for example a storage device such as a hard disk a semiconductor memory device such as a random access memory RAM or a flash memory or an optical disk. Note that the user information DB and the location information DB can be as a DB. Note that each ID stored in the user information DB and the location information DB will be described with a reference sign A1 U1 or the like. The reference signs are put in order to distinguish the IDs for convenience of description. However the IDs are not limited to the reference signs.

The control unit is implemented for example with an integrated circuit such as an application specific integrated circuit ASIC or a field programmable gate array FPGA . A central processing unit CPU or a micro processing unit MPU executes the programs stored in the internal storage device using the RAM as the work area. This causes the control unit to function as the reception unit the obtaining unit the determination unit the transmission unit and the information provision unit . Note that the configuration of the control unit is not limited to the above mentioned configuration. Another configuration that performs the information process to be described below can be used.

The reception unit receives the detection information transmitted from the wireless LAN access point and various requests transmitted from the wireless terminal through the wireless LAN access point .

After receiving the detection information transmitted from the wireless LAN access point the reception unit updates the terminal existence data in the location information DB on the basis of the terminal information included in the detection information the AP ID and the information indicating whether the terminal is in the during communication state.

The AP ID is the identification data of the wireless LAN access point and is allocated to each wireless LAN access point .

The terminal ID is the terminal ID of the wireless terminal existing in the communication area of the linked wireless LAN access point . In the example illustrated in there are for example the wireless terminals to having the terminal IDs T1 to T4 in the communication area of the wireless LAN access point having the AP ID A1 .

The radio field intensity is the information on the radio field intensity of the wireless terminal in the AP communication area. The example in conveniently illustrates the information on the latest radio field intensity corresponding to each terminal ID. However the terminal existence data includes the information on the radio field intensities since the wireless terminal has entered the AP communication area and the average value of the radio field intensities. The example in illustrates the radio field intensity as intensity levels from 0 to 10 in which a higher intensity has a larger value. However the radio field intensity can also be set with another unit for example dBm .

When receiving the terminal information including the information indicating that the terminal is in the during communication state from the wireless LAN access point the reception unit sets the terminal ID and information on the radio field intensity included in the terminal information in the terminal existence data with linking the terminal ID and the information on the radio field intensity to the AP ID included in the terminal information. The reception unit sets the time when the wireless terminal is brought into the during communication state as a check in time in the terminal existence data.

Comparing the check in time with the current time can detect the period while the wireless terminal has stayed in the AP communication area. Note that the reception unit can set the time when the reception of the terminal information has started as the entrance time in the terminal existence data independently of whether the terminal is in the during communication state.

When the wireless terminal of which information has been set in the terminal existence data exits the AP communication area the reception unit sets the time when the wireless terminal has exited as the check out time in the terminal existence data and than delete the information on the wireless terminal that has left from the terminal existence data. After that the reception unit manages the information on the wireless terminal that has exited as the history information.

The obtaining unit obtains the information on the installation location of the wireless LAN access point hereinafter also referred to as AP installation location information and the information on the user of the wireless terminal specified according to the detection information hereinafter also referred to as terminal user information from the storage unit . The terminal user information that the obtaining unit obtains is the information on the user of the wireless terminal that has newly entered the AP communication area. The obtaining unit can further obtain the information on the user of the wireless terminal that stays the AP communication area for a given length of time or more as the terminal user information.

Obtaining AP installation location information will be described first. The obtaining unit obtains the AP installation location information from a location information table and location attribute information table stored in the location information DB . The AP installation location information includes for example a location attribute to be described below.

The location ID is the identification data of the AP installation location information and is set at each wireless LAN access point or at every group of two or more wireless LAN access points .

The AP ID is the identification data of the wireless LAN access point installed at a location corresponding to the liked location ID and for example is the network address of the communication network allocated to the communication unit of the wireless LAN access point . The location information table illustrated in indicates that the wireless LAN access point having the AP ID A1 is installed at a location having the location ID G1 .

The location name is the name of an installation location of a wireless LAN access point . For example the ID G1 is linked to the location name of a xx railway Roppongi station . The notification information via a LAN indicates the file name of the notification information to be notified to the wireless terminal via the wireless LAN access point and is stored in the location information DB . The notification information via a WAN indicates the file name of the notification information to be notified to the wireless terminal via the mobile phone base station and is stored in the location information DB .

In the location information table illustrated in the notification information via a LAN of the location ID G1 has a file name noticeA11.data and the notification information via a WAN has a file name noticeA21.data .

The location attribute ID is the information indicating the attribute of the location of a linked location ID . For example in the location information table illustrated in a location attribute ID Z1 is linked to the location ID G . The obtaining unit obtains the information on the location attribute from the location attribute information table stored in the location information DB as the AP installation location information on the basis of the location attribute XD set in the location information table.

The location attribute name is the name of a location attribute. For example the location attribute ID Z1 is linked to the location attribute name of a public transportation station . The communication medium selecting condition is a condition for selecting a communication medium to notify notification information and is set at each location attribute ID. For example the location attribute ID Z1 is linked to the communication medium selecting condition of a first communication medium selection table terminal moving attribute condition 5 and 20 AP moving attribute condition 30 .

Next obtaining terminal user information will be described. The terminal user information includes the information on the moving state of the user of the wireless terminal hereinafter sometimes referred to as user moving state information and the attribute information of the user of the wireless terminal hereinafter sometimes referred to as user attribute information .

First obtaining user moving state information will be described. The obtaining unit obtains the user moving state information on the basis of the communication medium selecting condition obtained from the location attribute information table and the terminal information set in the terminal existence data.

As illustrated in the communication medium selecting condition includes the information on the class of the communication medium selection tables classifying the tables into a first communication medium selection table and a second communication medium selection table and also includes a terminal moving attribute condition and an AP moving attribute condition corresponding to the first communication medium selection table. The obtaining unit determines on the basis of the terminal moving attribute condition whether the wireless terminal is in a moving state and determines on the basis of the AP moving attribute condition whether the wireless terminal stays in the same wireless LAN access point .

It is determined whether the wireless terminal is in a moving state on the basis of the terminal existence data. see . For example a threshold of variation rate of the radio field intensity of the wireless terminal hereinafter referred to as an intensity variation rate threshold and a period of stay hereinafter referred to as a first period are set in the terminal moving attribute condition . The intensity variation rate threshold is for example a threshold of the radio field intensity variation rate per the first period. For example when an intensity level has changed from 9 to 4 per predetermined period the intensity variation rate is 5 .

In the example illustrated in the intensity variation rate threshold is set at 5 and the first period is set at 30 seconds in the communication medium selecting condition of the location ID Z1 . Meanwhile the intensity variation rate threshold is set at 4 and the first period is set at 10 seconds in the communication medium selecting condition of the location ID Z2 .

The obtaining unit obtains the radio field intensity and check in time of the wireless terminal existing in each of the wireless LAN access points from the terminal existence data. When the radio field intensity variation rate of the wireless terminal is less than the intensity variation rate threshold the obtaining unit determines that the terminal moving attribute is a stop . On the other hand when the radio field intensity variation rate is equal to or mote than the intensity variation rate threshold the obtaining unit determines that the terminal moving attribute is a moving .

Note that instead of the above mentioned determination the obtaining unit can determine that the terminal moving attribute is a stop when the radio field intensity variation rate per predetermined period of the wireless terminal is less than the intensity variation rate threshold and the period of stay of the wireless terminal is longer than the first period and can determine that the terminal moving attribute is a moving in other cases.

The threshold of the elapsed time since the wireless terminal has transferred from the communication area of the wireless LAN access point to the communication area of the current wireless LAN access point hereinafter referred to as a second period threshold is set in the AP moving attribute condition . In the example illustrated in the second period threshold is set at 30 seconds in the communication medium selecting condition of the location ID Z1 while the second period threshold is set at 10 seconds in the communication medium selecting condition of the location ID Z2 .

The obtaining unit obtains the radio field intensity and check in time of the wireless terminal existing in the communication area of each of the wireless LAN access points from the terminal existence data. When the elapsed time since the wireless terminal has transferred to the communication area of the current wireless LAN access point is equal to or longer than the second period threshold the obtaining unit determines that the AP moving attribute is an identification . On the other hand when the elapsed time since the wireless terminal has transferred to the communication area of the current wireless LAN access point is less than the second period threshold the obtaining unit determines that the AP moving attribute is a moving .

When obtaining user moving state information the obtaining unit sets the user moving state information in the terminal state information table stored in the location information DB . is a diagram of an exemplary terminal state information table. As illustrated in the terminal state information table includes the information in which a terminal moving attribute an AP moving attribute and the like are linked to each terminal ID .

In the terminal state information table in illustrated in for example the wireless terminal having the terminal ID T1 is linked to the terminal moving attribute of a moving and the AP moving attribute of an identification and the wireless terminal having the terminal ID T2 is linked to the terminal moving attribute of a stop and the AP moving attribute of an identification . Further the wireless terminal having the terminal ID T3 is linked to the terminal moving attribute of a moving and the AP moving attribute of a moving and the wireless terminal having the terminal ID T4 is linked to the terminal moving attribute of a stop and the AP moving attribute of a moving .

Note that the AP installation location of the location attribute ID Z1 is a public transportation station and the AP installation location of the location attribute ID Z2 is a public transportation train in the location attribute information table illustrated in . When the user of the wireless terminal gets on the train corresponding to the location attribute ID Z2 from the platform of the station corresponding to the location attribute ID Z1 the AP moving attribute of the wireless terminal becomes a moving . However the terminal moving attribute of the wireless terminal sometimes becomes stop because the amount of movement of the user of the wireless terminal is small.

As described above the obtaining unit can obtain the user moving state information on the basis of the communication medium selecting condition obtained from the location attribute information table and the terminal information set in the terminal existence data. Further each location attribute ID can include different values as the intensity threshold and the first period threshold. This can obtain the user moving state information according to the installation location of a wireless LAN access point .

Next obtaining user attribute information will be described. The obtaining unit obtains user attribute information on the basis of the terminal information set in the terminal existence data and the information set in the user information table.

For example the wireless terminal can be registered as a user in the information providing apparatus via the mobile phone communication network . In that case the reception unit of the information providing apparatus allocates a user ID to a request for the user registration transmitted from the wireless terminal . The information including the terminal ID the WAN ID and the user attribute and included in the request of the user registration is set in the user information table.

The user ID is allocated to each of the users of the wireless terminals . For example when the wireless terminal is registered as a user in the information providing apparatus the reception unit sets the user ID in the user information table.

The terminal ID is the identification data of the wireless terminal on the wireless LAN communication unit side and for example a media access control MAC address allocated to the wireless LAN communication unit of the wireless terminal . In that case the wireless terminal communicates with the wireless LAN access point by transmitting and receiving a wireless packet including the terminal ID. Note that any terminal ID that can identify the wireless terminal can be used. The terminal ID is not necessarily limited to a MAC address.

The WAN ID is the identification data of the wireless terminal on the mobile phone communication unit side. For example when the wireless terminal is a third generation mobile telecommunication system the WAN ID is a specific number of the subscriber identity module SIM card included in the wireless terminal . The specific number is also referred to as an international mobile subscriber identity IMSI . The wireless terminal communicates with the mobile phone base station by transmitting and receiving a wireless packet including the WAN ID.

The user attribute is the user attribute information of the user of the wireless terminal . The user attribute includes a demographic attribute and a psychographic attribute. The demographic attribute includes for example attributes of the sex age occupation and car of the user. The psychographic attribute includes for example attributes of the values lifestyle character and taste of the user. In the user information table illustrated in a personal computer cake and the like are set as the attributes and the attribute in which the user is interested is set at 1 and the others are set at 0 .

For example when the wireless terminal is registered as a user in the information providing apparatus the reception unit sets the user attribute in the user information table. Note that the user attribute illustrated in is an example. Various attributes can be set in the user information table.

The obtaining unit obtains from the user information table the user attribute information of the terminal user linked to the terminal ID of the wireless terminal of which the terminal information is included in the terminal existence data. For example when the user information table is in the state illustrated in the obtaining unit obtains the user attribute information of the terminal user having the terminal ID T1 that includes that the sex is male the age is 25 years old the occupation is a student of xx school the car is none the personal computer is 1 and the like as the user information.

The determination unit determines either the wireless LAN access point or the mobile phone base station on the basis of the information obtained in the obtaining unit as communication medium that notifies the notification information.

Specifically the determination unit selects the communication medium to notify the notification information on the basis of the communication medium selecting condition set for each location attribute ID linked to the AP ID. The communication medium selecting condition includes the information on the class of the communication medium selection table such that the determination unit selects the communication medium to notify the notification information in a selection method according to the class information.

When the class information of the communication medium selection table is the first communication medium selection table the determination unit selects the communication medium to notify the notification information on the basis of the first communication medium selection table and the user moving state information obtained in the obtaining unit .

In the example illustrated in when the wireless terminal has the terminal moving attribute that is a moving and the AP moving attribute that is a moving the determination unit selects the RAN as the communication medium. When the wireless terminal has the AP moving attribute that is an identification the determination unit selects the LAN as the communication medium regardless of the terminal moving attribute .

When the wireless terminal has the terminal moving attribute that is a stop and the AP moving attribute that is a moving and when the wireless LAN access point is set in the same group before and after the movement the determination unit selects the LAN as the communication medium and selects the WAN as the communication medium in the other cases.

Note that when the AP IDs are held by the same company when the AP IDs A1 and A2 are held by the same xx railway in the example illustrated in the determination unit determines that the wireless LAN access point is in the same group. Whether the wireless LAN access point is in the same group is determined not only depending on whether the same company holds the AP IDs. Whether the wireless LAN access point is in the same group can also be set for example in a group table not illustrated in the drawings of the location information DB in advance.

At that time it is assumed that the terminal existence data the location information table the location attribute information table and the terminal state information table are in the states illustrated in respectively. In that case the wireless terminals having the terminal IDs T1 to T4 exist in the communication area of the wireless LAN access point having the AP ID A1 . The wireless terminals have the terminal moving attributes that are a moving a stop a moving and a stop respectively and have the AP moving attributes that are an identification an identification a moving and a moving respectively.

The xx railway Roppongi station is the installation location of the wireless LAN access point having the AP ID A1 in which the wireless terminals having the terminal IDs T1 to T4 exist. The location attribute ID Z1 of the xx railway Roppongi station is linked to the class information of the communication medium selection table that is the first communication medium selection table .

When the first communication medium selection table is in the state illustrated in the determination unit determines the wireless LAN access point having the AP ID A1 as the communication medium to notify the notification information to the wireless terminals having the terminal IDs T1 and T2 and determines the mobile phone base station as the communication medium to notify the notification information to the wireless terminal having the terminal ID T3 .

When the wireless terminal having the terminal ID T4 moves for example from the wireless LAN access point having the AP ID A2 to the wireless LAN access point having the AP ID A1 in the same group the determination unit determines the mobile phone base station as the communication medium to notify the notification information to the wireless terminal having the terminal ID T4 .

On the other hand when the wireless terminal having the terminal ID T4 moves from a wireless LAN access point to the wireless LAN access point having the AP ID A1 and the wireless LAN access points are not in the same group the determination unit determines the wireless LAN access point having the AP ID A1 as the communication medium to notify the notification information to the wireless terminal having the terminal ID T4 .

As described above on the basis of the moving state of the wireless terminal the determination unit can determine either the wireless LAN access point or the mobile phone base station as communication medium that notifies the notification information. This can appropriately notify the notification information to the wireless terminal .

For example when the notification information is notified from the wireless LAN access point just before the wireless terminal exits an AP communication area the wireless terminal sometimes leaves out of the AP communication area. When the wireless terminal moves as described above the notification information can be notified from the mobile phone base station . This can surely notify the notification information.

For example the terminal user moves and stays in the AP communication area that is a meeting spot in a different way from the AP communication area that is a public transportation station. However setting the determination of the moving state of the terminal user in the AP communication area at each AP installation location can appropriately detect the moving state of the terminal user.

Further the moving state of the terminal user can be determined on the basis of the terminal information detected at the wireless LAN access point . Thus the moving information of the wireless terminal can appropriately be determined for example even when the wireless terminal does not include a GPS.

When the class information of the communication medium selection table is the second communication medium selection table the determination unit selects the communication medium to notify the notification information on the basis of the second communication medium selection table and the user attribute information obtained in the obtaining unit .

In the example illustrated in for example the determination unit selects the WAN as the communication medium for the wireless terminal having the terminal ID linked to the demographic attribute car of which information is a driver in the user information table and selects the LAN as the communication medium for the wireless terminal having the terminal ID having the other types of information.

When the location information table and the location attribute information table are in the states illustrated in the type of the communication medium selecting condition of the location attribute ID 26 linked to the AP ID A6 is the second communication medium selection table. The user attribute of the wireless terminal having the terminal ID T1 illustrated in includes the student of xx school . Thus the determination unit selects the LAN as the communication medium for the wireless terminal having the terminal ID T1 on the basis of the second communication medium selection table illustrated in .

The xx is the car s unique identification data and for example is regional name school name. The determination unit selects the communication medium for the wireless terminal of the terminal user having the user attribute linked to the regional name school name set in the location information table.

Thus in the communication area of the wireless LAN access point installed in a school hereinafter sometimes referred to as a school AP the LAN is selected as the communication medium for the user of the wireless terminal set as a party linked to the school AP for example a student or a teacher . On the other hand the WAN is selected as the communication medium for the user of the wireless terminal who is not set as a party linked to the school AP.

When the location information table and the location attribute information table are in the states illustrated in the type of the communication medium selecting condition of the location attribute ID Z5 linked to the AP ID A5 is the second communication medium selection table. The user attribute of the wireless terminal having the terminal ID T2 includes a driver of xx s car . Thus the determination unit selects the WAN as the communication medium for the wireless terminal having the terminal ID T2 on the basis of the second communication medium selection table illustrated in .

The xx is the car s unique identification data and for example a license plate number or the ID of the car owner. The determination unit selects a communication medium for the wireless terminal of the terminal user having the user attribute linked to the car name set in the location information table.

Thus in the communication area of the wireless LAN access point mounted on a car hereinafter sometimes referred to as a car mounted AP the WAN is selected as the communication medium for the user of the wireless terminal set as a driver linked to the car mounted AP. On the other hand the LAN is selected as the communication medium for the user of the wireless terminal who is not set as a driver linked to the car mounted AP.

The determination unit can also select the LAN as the communication medium for the user of the wireless terminal who has a predetermined relationship with the driver for example a family member friend partner of the driver among the wireless terminals that are not set as the driver linked to the car mounted AP and does not select a communication medium for the wireless terminals of other users. In that case a communication medium is set for the wireless terminal having for example an attribute a friend of the driver of xx s car in the attribute car of the user information table.

As described above selecting a communication medium using the second communication selection table can select the communication medium to notify the notification information according to whether the attribute indicates a party to the AP installation location for example a driver or a school official . This can select an appropriate communication medium for an AP installation location.

The determination unit selects the communication medium to notify the notification information on the basis of the communication medium selecting condition set in each location attribute ID. However when the WAN is selected as the communication medium the determination unit sometimes changes the communication medium to the LAN on the basis of the communication subscription table stored in the user information DB .

The types of communication plan that the user of the wireless terminal subscribes to the telecom company are set in the communication subscription condition . In the exemplary communication subscription table illustrated in the wireless terminal having the terminal ID T1 subscribes a communication plan in which the upper limit of packet usage amount is 400 000 packets per month and the wireless terminal having the terminal ID T2 subscribes a communication plan in which the upper limit of packet usage amount is one million packets per month .

The used packet amount is the amount of packets that the wireless terminal has used in the latest period determined by the communication subscription condition for example on a monthly basis . In the exemplary communication subscription table illustrated in the wireless terminal having the terminal ID T1 has the upper limit of used packet amount is 400 000 packets and the wireless terminal having the terminal ID T2 has the upper limit of used packet amount is 550 000 packets .

The conditions for notifying notification information from the mobile phone base station are set in the WAN notification upper limit . In the exemplary communication subscription table illustrated in the wireless terminal having the terminal ID T1 includes the WAN notification upper limit that is 300 000 packets per month and the wireless terminal having the terminal ID T2 includes the WAN notification upper limit that is 800 000 packets per month .

When the used packet amount of the wireless terminal satisfies the WAN notification upper limit the determination unit maintains the WAN as the selected communication medium. On the other hand when the used packet amount of the wireless terminal does not satisfy the WAN notification upper limit the determination unit changes the selected communication medium to the LAN .

For example when the communication subscription table is in the state illustrated in the used packet amount of the wireless terminal having the terminal ID T1 does not satisfy the WAN notification upper limit. Thus the determination unit changes the communication medium for the wireless terminal having the terminal ID T1 to the LAN . On the other hand the used packet amount of the wireless terminal having the terminal ID T2 satisfies the WAN notification upper limit. Thus the determination unit maintains the WAN as the communication medium for the wireless terminal having the terminal ID T2 .

As described above when the used packet amount is equal to or higher than a threshold set in the communication subscription condition specified in the communication subscription condition selecting the WAN as the communication medium to notify the notification information is prevented.

This can prevent notification of notification information from causing the used packet amount to exceed the threshold specified in the communication subscription condition. Some telecom companies specify the upper limit of usage on heavy users. When the usage exceeds the upper limit of usage the company takes measures including the limitation on the communication rate. Even in such a case the communication medium to notify the notification information can appropriately be selected. Note that it is also possible that the determination unit does not change the communication medium to the LAN on the basis of the communication subscription table stored in the location information DB .

It is also possible that the determination unit selects the LAN or the WAN as the communication medium on the basis of the communication subscription table without using the first and the second communication medium selection table to select the communication medium. In such a case the determination unit selects the WAN as the communication medium for example when the communication amount between the wireless LAN access point and the communication network is equal to or higher than a predetermined threshold. Even in that case when determining on the basis of the communication subscription table that the notification of the notification information causes the used packet amount to exceed the threshold specified in the communication subscription condition or the WAN notification upper limit the determination unit selects the LAN as the communication medium.

Note that the communication plans include an all you can eat subscription plan that does not have the upper limit of packet usage amount or a pay as you go plan. In the all you can eat subscription plan it is also possible that the determination unit does not perform a process on the basis of the communication subscription table. In the pay as you go plan it is possible that the determination unit constantly sets the communication medium at the LAN .

The transmission unit causes the communication medium determined by the determination unit to notify the notification information in the location information table stored in the location information DB to the wireless terminal specified according to the detection information.

As illustrated in the location information table includes the notification information via the LAN and the notification information via the WAN . The transmission unit obtains the notification information according to the communication medium determined by the determination unit based the location information table.

When the determination unit selects the WAN the transmission unit obtains from the location information table the notification information set in the notification information via the WAN linked to the AP ID of the wireless LAN access point that has detected the wireless terminal specified according to the detection information in order to transmit the notification information intended for the wireless terminal from the communication unit to the mobile phone communication network . The address of the wireless terminal is selected from the user information table in the mobile phone communication network .

For example when the user information table is in the state illustrated in and when the destination of the notification information is the wireless terminal having the terminal ID T1 the transmission unit reads a WAN ID W1 from the user information table in order to transmit the notification information intended for the WAN ID W1 from the communication unit to the mobile phone communication network . This can notify the notification information from the mobile phone base station to the wireless terminal having the WAN ID W1 .

On the other hand when the determination unit selects the LAN the transmission unit obtains from the location information table the notification information set in the notification information via the LAN linked to the AP ID of the wireless LAN access point that has detected the wireless terminal specified according to the detection information in order to transmit the notification information intended for the wireless terminal from the communication unit to the wireless LAN access point . The address of the wireless terminal in the wireless LAN access point is selected from the user information table.

For example when the user information table is in the state illustrated in and when the destination of the notification information is the wireless terminal having the terminal ID T2 the transmission unit reads the terminal ID T2 from the user information table in order to transmit the notification information including the terminal ID T2 from the communication unit to the wireless LAN access point . When receiving the notification information from the information providing apparatus the wireless LAN access point transfers the notification information to the wireless terminal having the terminal ID T2 . This can notify the notification information from the wireless LAN access point to the wireless terminal having the terminal ID T2 .

The notification information via the LAN is for example the digital contents about the AP installation location or the contents of a shopping website and relatively has a large information amount. is a diagram of an exemplary screen of the notification information via the wireless LAN access point is displayed on the display unit of the wireless terminal . In the example illustrated in the information video and the like about the product sold at XX electric store located around the Roppongi station are displayed as the notification information on the display unit of the wireless terminal .

The communication via the wireless LAN access point is often performed at a relatively fast communication rate. Thus even when the notification information has a relatively large information amount the wireless terminal can obtain the notification information at a high communication rate. Accordingly the notification information can be notified to the wireless terminal at the right time. Further the communication via the wireless LAN access point often keeps the communication fees at a low or zero cost. This reduces the cost burden on the user of the wireless terminal .

The terminal user stopping staying at an AP communication area is often interested in the state in the AP communication area. Thus notifying the detailed information from the wireless LAN access point at a relatively high communication rate can appropriately provide the information to the terminal user.

On the other hand the notification information via the WAN is for example brief information on the AP installation location and has a relatively small information amount. is a diagram of an exemplary screen of the notification information via the mobile phone base station displayed on the display unit of the wireless terminal . In the example illustrated in the information indicating that a microwave oven is sold at a special limited offer price at XX electric store located around the Roppongi station is displayed as the notification information on the display unit of the wireless terminal .

The communication via the mobile phone base station is often performed at a relatively slow communication rate. Thus using information having a relatively small information amount as the notification information provides the notification information to the wireless terminal at a high communication rate. Accordingly the notification information can be notified to the wireless terminal at the right time. The communication via the mobile phone base station is often relatively expensive and the upper limit of usage is often put thereon. This can reduce the cost burden on the user of the wireless terminal .

The user moving among the AP communication areas is often not interested in the state of the AP communication areas so much. Thus notifying the notification information having a relatively small information amount can prevent the terminal user from being bothered by the information.

When the wireless terminal sends an information provision request via the wireless LAN access point the information provision unit transmits the information corresponding to the information provision request to the wireless terminal that is the source of the request via the wireless LAN access point .

The information corresponding to the information provision request is stored for each location ID in the location information DB . On the basis of the location ID linked to the AP ID of the wireless LAN access point that has transferred the information provision request the information provision unit obtains the information from the location information DB in order to transmit the information to the wireless terminal .

For example when the display unit of the wireless terminal is a touch panel display the user of the wireless terminal transmits an information provision request from the wireless terminal by selecting the notification information displayed on the display unit of the wireless terminal illustrated in .

Next the procedures of the information provision process with the information providing system according to the embodiment will be described. are diagrams for describing the flow of the information provision process with the information providing system .

Hereinafter the process in the wireless LAN access point will be described with reference to and the process in the information providing apparatus will be described with reference to .

First the information process in the wireless LAN access point according to the embodiment will be described with reference to . is a flowchart of an information process in the wireless LAN access point . The process is repeated with the control unit in the wireless LAN access point .

As illustrated in the control unit in the wireless LAN access point determines whether the wireless LAN access point has detected a wireless terminal through the wireless LAN communication unit step S . When determining in the process that the wireless LAN access point has detected a wireless terminal Yes in step S the control unit transmits the detection information including the terminal information the AP ID and the information indicating whether the wireless terminal is the during communication state to the information providing apparatus through the communication unit step S .

When the control unit determines in the procedure of step S that the wireless LAN access point has not detected a wireless terminal No in step S or when the procedure of step S is terminated the control unit determines whether the wireless LAN access point has received the information from a device connected to the communication network hereinafter referred to as a communication network side device through the communication unit step S . When determining that the wireless LAN access point has received the information from a communication network side device Yes in step S the control unit transfers the received information to the wireless terminal that is the destination of the information step S .

When the control unit determines in step S that the wireless LAN access point has not received the information No in step S or when the procedure in step S is terminated the control unit determines whether there is a request from the wireless terminal to the communication network side device step S . When determining that there is a request from the wireless terminal to the communication network side device Yes in step S the control unit transfers the request from the wireless terminal to the communication network side device via the communication unit to the communication network side device step S .

When the procedure in step S is terminated or when it is determined in step S that there is not a request from the wireless terminal to the communication network side device No in step S the control unit terminates the process. The control unit can perform for example the procedures in steps S and S the procedures in steps S and S and the procedures in steps S and S using multitasking.

Next the process in the information providing apparatus will be described. is a flowchart of an information process in the information providing apparatus . The process is repeated with the control unit in the information providing apparatus .

As illustrated in the control unit determines whether the information providing apparatus has received the detection information from the wireless LAN access point through the communication unit step . When determining that the information providing apparatus has received the detection information Yes in step S the control unit performs a notification process step S . The notification process is performed in steps S to S illustrated in and is to be described below.

When the information providing apparatus has not received the detection information in step S No in step S or when the procedure in step S is terminated the control unit determines whether the information providing apparatus has received an information provision request from the wireless terminal through the communication unit step S . When the information providing apparatus has received an information provision request Yes in step S the control unit performs an information provision process in response to the information provision request step S .

When the procedure in step is terminated or when the information providing apparatus has not received an information provision request in step S No in step S the control unit terminates the process.

Next the notification process in step S illustrated in will be described. is a flowchart of the notification process in the control unit of the information providing apparatus .

As illustrated in the control unit updates the terminal existence data in the notification process on the basis of the received detection information step S .

Next the control unit determines on the basis of the updated terminal existence data whether there is a wireless terminal that has newly entered the AP communication area step S . When determining that there is a wireless terminal that has newly entered the AP communication area Yes in step S the control unit obtains the information on the communication medium selecting condition of the location ID of the AP communication area from the location attribute information table step S .

Next the control unit selects on the basis of the communication medium selecting condition obtained form the location attribute information table the communication medium to transmit the notification information step S . Then the control unit transmits the notification information intended for the wireless terminal to the selected communication medium such that the selected communication medium notifies the notification information to the wireless terminal step S .

When the process in step S is terminated or when it is determined in step S that there is not a wireless terminal that has newly entered the AP communication area No in step S the control unit terminates the process.

In the above mentioned embodiment the obtaining unit obtains the user moving state on the basis of the period of stay and radio wave intensity of the wireless terminal such that a communication medium to notify the notification information is selected on the basis of the user moving state. However the obtaining unit can also obtain the user moving state on the basis of one of the period of stay and radio wave intensity of the wireless terminal .

In the above mentioned embodiment the determination unit selects the communication medium to notify the notification information on the basis of the first communication medium selection table or the second communication medium selection table. However the determination unit can also select the communication medium to the notify notification information for example using another selection table.

For example the determination unit can also be provided with a selection table having thresholds on the period of stay and radio wave intensity at each AP installation location so as to select a communication medium to notify the notification information on the basis of the selection table. In such a manner the determination unit can also determine the communication medium to notify the notification information on the basis of one of the period of stay and radio wave intensity of the wireless terminal and can appropriately detect the state of the terminal user at each AP installation location.

In the above mentioned embodiment the determination unit determines the communication medium to notify the notification information using the user moving state or user attribute information at each AP installation location. The determination unit can also determine the WAN or the LAN as the communication medium to notify the notification information at each AP installation location. In such a case for example the condition to determine the WAN or the LAN as a communication medium to notify the notification information every period can be set at each AP installation location.

Further different devices can be used as a wireless LAN access point for detection and a wireless LAN access point for notification. In such a case a wireless LAN access point for detection and a wireless LAN access point for notification are installed at an AP installation location. The wireless LAN access point for detection and the wireless LAN access point for notification preferably have almost the same communication area. However the wireless LAN access point for detection and the wireless LAN access point for notification do not have to have the identical communication area.

The control unit in the information providing apparatus obtains the detection information transmitted from the wireless LAN access point for detection in order to select the communication medium to transmit the notification information. When selecting a wireless LAN access point as the communication medium the control unit transmits the notification information intended for the wireless terminal to the wireless LAN access point for notification. This notifies the notification information intended for the wireless terminal from the wireless LAN access point for notification to the wireless terminal .

As described above using different devices as a wireless LAN access point for detection and a wireless LAN access point for notification in other words installing a wireless LAN access point for detection at a location at which a wireless LAN access point has already been installed can provide the above mentioned information provision service. The wireless LAN access point for detection is used for detecting a wireless terminal and is not used for relaying information. Thus a wireless LAN access point having a few functions can be installed. This can readily provide the information provision service.

In the above description the user attribute information set in the user information table is cited as an example of the user attribute information of the wireless terminal . However the user attribute information is not limited to the example. For example the obtaining unit can also obtains the behavior history of the user of the wireless terminal at the installation location of the wireless LAN access point as the user attribute information.

The behavior history of the user includes for example the frequencies in purchase of the products and in visit to the store at the AP installation location and is transmitted from the device installed at the AP installation location to the information providing apparatus . The determination unit determines on the basis of the behavior history of the user of the wireless terminal specified according to the detection information the communication medium to notify the notification information.

As a result for example when the action points based on the behavior history of the user is equal to or higher than a predetermined threshold the LAN is selected as the communication medium to notify the notification information. When the action points based on the behavior history of the user is less than a predetermined threshold the WAN is selected as the communication medium to notify the notification information. Thus only when the user has high action points the detailed information can be provided via the LAN . Note that the action point is according to the purchase amount of the products at the AP installation location or according to the number of visits to the store.

In the above mentioned embodiment the communication subscription table includes the information in which the communication subscription condition the used packet amount and the WAN communication upper limit are linked to each other. However another communication subscription table can be used. For example the communication subscription table including parental control and a kids attribute can be used. In such a case the determination unit selects the LAN as the communication medium for the wireless terminal having the terminal ID of which communication subscription table includes parental control and a kids attribute. This can select a communication medium appropriate for the user attribute.

In such a case the control unit in the information providing apparatus sends a request to the wireless LAN access point in order to limit the contents for the wireless terminal having the terminal ID for which parental control and a kids attribute are set. The wireless LAN access point blocks on the basis of the request from the information providing apparatus predetermined contents among the contents intended for the wireless terminal from the communication network side device.

As described above at the wireless LAN access point in the information providing system according to the embodiment the detector an example of a detection unit detects a wireless terminal existing in the communication area of the wireless LAN access point and the detector an example of a detection information transmission unit transmits the detection information including the information on the detected wireless terminal to the information providing apparatus . At the information providing apparatus the location information DB an example of an information storage unit stores the notification information corresponding to the wireless LAN access point the reception unit an example of a reception unit receives the detection information transmitted from the wireless. LAN access point the obtaining unit an example of an obtaining unit obtains the information on the user of the wireless terminal specified according to the detection information and or the information on the installation location of the wireless LAN access point the determination unit an example of a determination unit determines either the wireless LAN access point or the mobile phone base station an example of a wireless WAN base station on the basis of information obtained by the obtaining unit as a communication medium that notifies the notification information and the transmission unit an example of a notification unit notifies the notification information stored in the location information DB an example of an information storage unit via the communication medium determined by the determination unit to the wireless terminal specified according to the detection information.

Such a configuration can notify notification information through the communication medium corresponding to the information on the user of the wireless terminal and or the information on the installation location of the wireless LAN access point and thus can appropriately notify the information to the user.

Further the obtaining unit obtains the information indicating the moving state of the user of the wireless terminal specified according to the detection information. The determination unit determines the communication medium to notify the notification information on the basis of the moving state of the user obtained by the obtaining unit .

Such a configuration can determine either the wireless LAN access point or the mobile phone base station on the basis of the moving state of the wireless terminal as the communication medium that notifies the notification information. This can appropriately notify the notification information to the wireless terminal . For example when the notification information is notified from the wireless LAN access point to a wireless terminal just before the wireless terminal exits an AP communication area the wireless terminal sometimes leaves out of the AP communication area. When the wireless terminal moves as described above notifying the notification information from the mobile phone base station can surely notify the notification information.

Further the reception unit an example of a terminal state detection unit detects the period of stay and the radio wave intensity of the wireless terminal at the wireless LAN access point . The obtaining unit obtains the information indicating the moving state of the user of the wireless terminal on the basis of the period of stay and the radio wave intensity detected with the reception unit .

Such a configuration can detect the moving state of the terminal user on the basis of the terminal information detected in the wireless LAN access point . This can appropriately determine the information on the movement of the wireless terminal even when the wireless terminal does not include a GPS.

Further the obtaining unit obtains the information indicating the attribute of the user of the wireless terminal specified according to the detection information. The determination unit determines on the basis of the information indicating the attribute of the user obtained in the obtaining unit the communication medium to notify the notification information.

Such configuration can determine either the wireless LAN access point or the mobile phone base station on the basis of the attribute of the user of the wireless terminal as the communication medium that notifies the notification information. This can appropriately notify the notification information to the wireless terminal .

The obtaining unit obtains the communication subscription condition of the wireless WAN communication set to the wireless terminal and the used packet amount of the wireless terminal as the information indicating the attribute of the user of the wireless terminal specified according to the detection information. The determination unit selects the wireless LAN access point as the communication medium to notify the notification information when the used packet amount for the wireless WA communication by the wireless terminal specified according to the detection information exceeds the threshold according to the communication subscription condition of the wireless LAN communication set to the wireless terminal .

Such configuration can avoid a situation for example in which a notification of the notification information causes the used packet amount to exceed the threshold specified in the communication subscription condition.

The determination unit selects the wireless LAN access point as the communication medium to notify the notification information in a case when the attribute of the user of the wireless terminal specified according to the detection information includes the attribute indicating a party to the installation location of the wireless LAN access point and selects the mobile phone base station as the communication medium to notify the notification information in other cases.

Such a configuration can select the communication medium to notify the notification information according to whether the attribute indicates a party to the AP installation location for example the driver or the school official . This can select an appropriate communication medium for the AP installation location.

In a case when the wireless LAN access point is installed in the car and the attribute of the user of the wireless terminal specified according to the detection information includes the attribute indicating the driver of the car that is the installation location of the wireless LAN access point the determination unit selects the mobile phone base station as the communication medium to notify the notification information and selects the wireless LAN access point as the communication medium to notify the notification information in other cases.

Such a configuration selects the mobile phone base station as the communication medium for the user of the wireless terminal who is set as the driver in the communication area of the car mounted wireless LAN access point . Thus for example notifying the notification information having a small information amount to the user can curb the influence on the user.

The obtaining unit further obtains the information on the installation location of the wireless LAN access point . The determination unit determines the notification information from the communication medium to notify the notification information on the basis of the information on the installation location of the wireless LAN access point in addition to the information on the user of the wireless terminal specified according to the detection information.

Such a configuration determines the notification information from the communication medium to notify the notification information on the basis of the information on the installation location of the wireless LAN access point in addition to the information on the user of the wireless terminal . This can select an appropriate communication medium for the AP installation location.

The obtaining unit obtains the information on the installation location of the wireless LAN access point . The determination unit determines the notification information from the communication medium to notify the notification information on the basis of the information on the installation location of the wireless LAN access point .

Such configuration can determine either the wireless LAN access point or the mobile phone base station on the basis of the installation location of the wireless LAN access point as the communication medium that notifies the notification information. This can appropriately notify the notification information to the wireless terminal .

In a case when the obtaining unit further obtains the information indicating the attribute of the user of the wireless terminal specified according to the detection information the wireless LAN access point is installed a specific location and the information on the user of the wireless terminal specified according to the detection information is specific information the determination unit selects the wireless LAN access point as the communication medium to notify the notification information and selects the mobile phone base station in other cases.

Such configuration can determine either the wireless LAN access point or the mobile phone base station on the basis of the information indicating the attribute of the user of the wireless terminal and the installation location of the wireless LAN access point as the communication medium that notifies the notification information. This can appropriately notify the notification information to the wireless terminal .

The information providing apparatus can be implemented with a plurality of server computers. Some of the functions can be implemented by calling an external platform or the like for example using an application programming interface API or network computing. As described above the configuration can flexibly be changed. Alternatively a part of the functions of the information providing apparatus can also be implemented in the wireless LAN access point .

The information providing system information providing apparatus and information providing method according to the present application exert an effect to appropriately notify information to the user.

Although the invention has been described with respect to specific embodiments for a complete and clear disclosure the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the art that fairly fall within the basic teaching herein set forth.

