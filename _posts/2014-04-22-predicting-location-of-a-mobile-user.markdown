---

title: Predicting location of a mobile user
abstract: Disclosed are various embodiments for predicting a future location of a mobile user. A recent location of a mobile user is received. Past location data for the mobile user is retrieved from storage. A future location of the mobile user is predicted based at least in part on the recent location and on the past location data. The prediction is provided in response to a query or by subscription.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09123014&OS=09123014&RS=09123014
owner: Amazon Technologies, Inc.
number: 09123014
owner_city: Seattle
owner_country: US
publication_date: 20140422
---
This application is a continuation of and claims the benefit of both co pending U.S. patent application Ser. No. 13 952 979 filed Jul. 29 2013 entitled PREDICTING LOCATION OF A MOBILE USER as well as U.S. patent application Ser. No. 12 884 726 filed Sep. 17 2010 now U.S. Pat. No. 8 498 817 entitled PREDICTING LOCATION OF A MOBILE USER both of which are incorporated herein by reference in their entireties.

At the present time various package delivery services provide different options for delivering a package to a user. The options include for example next day or overnight delivery and may even include delivery within a few hours if the shipper and recipient are located in the same geographic area. Existing delivery services rely on delivery to a particular location rather than to a particular person. That is existing delivery services use a location such as home or office as a proxy for the actual location of the delivery target. However a significant delay in getting the package to the recipient can occur when the package is delivered to one location e.g. recipient s home but the recipient is not at that location and does not return for several hours or even days.

The present disclosure relates to tracking a recent location of a mobile user and predicting the mobile user s future location based on the recent location and contextual location data for this user. The contextual location data may include various types of information about the mobile user such as a calendar a trip itinerary and or location information about other users who act as a proxy for the mobile user. The mobile user s predicted location may be used to provide convenient delivery of a package to the mobile user as he moves from one location to another. The package shipper and or mobile user may be charged different prices for various delivery modes levels of convenience etc.

With reference to shown is a networked environment according to various embodiments. The networked environment includes one or more computing devices and one or more computing devices in data communication with one or more client devices by way of a network . The computing devices and are also in data communication with one or more client devices by way of a network . The networks and include for example the Internet intranets extranets wide area networks WANs local area networks LANs wired networks wireless networks or other suitable networks etc. or any combination of two or more such networks.

The computing device or may comprise for example a server computer or any other system providing computing capability. Alternatively a plurality of computing devices or may be employed that are arranged for example in one or more server banks or computer banks or other arrangements. A plurality of computing devices or together may comprise for example a cloud computing resource a grid computing resource and or any other distributed computing arrangement. Such computing devices or may be located in a single installation or may be distributed among many different geographical locations. For purposes of convenience the computing device or is referred to herein in the singular. Even though the computing device or is referred to in the singular it is understood that a plurality of computing devices or may be employed in the various arrangements as described above.

Various applications and or other functionality may be executed in the computing device according to various embodiments. Also various data is stored in a data store that is accessible to the computing device . The data store may be representative of a plurality of data stores as can be appreciated. The data stored in the data store for example is associated with the operation of the various applications and or functional entities described below.

The components executed on the computing device for example include a location predictor . The location predictor is executed to predict the location of mobile users of client devices and provide this predicted location to applications executing on a computing device . The components executed on the computing device may also include other applications services processes systems engines or functionality not discussed in detail herein. The data stored in the data store includes data accessed by the location predictor for example recent location data contextual location data and mobile user profiles as well as potentially other data.

The components executed on the computing device for example include a prediction consumer and a package delivery service . The prediction consumer is executed to receive predicted locations of mobile users from the location predictor . The package delivery service is executed to arrange package deliveries to mobile users in cooperation with the location predictor and the prediction consumer .

In various embodiments the location predictor and the prediction consumer may utilize any type of middleware framework to communicate with each other or with an application executing on a client device or . Examples of such frameworks include remote procedure calls service oriented architecture protocol SOAP representational state transfer REST Windows Communication Foundation and other frameworks.

The client device or is representative of a plurality of client devices that may be coupled to the network . The client device or may comprise for example a processor based system such as a computer system. Such a computer system may be embodied in the form of a desktop computer a laptop computer a personal digital assistant a cellular telephone a portable navigation system a set top box a music player a video player a media player a web pad a tablet computer system a game console or other devices with like capability.

The client device may be configured to execute various applications such as a location information publisher and or other applications. The location information publisher may be executed in the client device to provide recent location information and planned future location information to a location predictor executing on the computing device . The client device may be configured to execute other applications such as for example browsers email applications instant message applications navigation applications and or other applications.

The client device may be configured to execute various applications such as a package delivery client application and or other applications. The package delivery client application may be executed in the client device to initiate a package delivery to a mobile user where the mobile user who is the delivery target provides location updates through another client device . The client device may be configured to execute other applications such as for example browsers email applications instant message applications navigation applications and or other applications.

Next a general description of the operation of the various components of the networked environment is provided. To begin a user interacts with the location information publisher to register himself with the location predictor executing on the computing device . A registered user can elect to receive package delivery from one or more package delivery agents where the agent utilizes the package delivery service executing on the computing device .

At some time after registration the location information publisher sends a recent location of the client device to the location predictor . The recent location may be provided automatically on a periodic basis or the location predictor may query the location information publisher . The location predictor stores at least a portion of the received data as recent location data .

Another user interacts with the package delivery client application executing on the client device to initiate delivery of a package to the registered mobile user. The package delivery client application provides the package delivery service with the identity of the mobile user who is the delivery target and provides details about the package about delivery options and about the identity of the user who is acting in the role of shipper.

The location predictor uses recent location data for the particular user in conjunction with past location information to predict probable locations of the mobile user of the client device at one or more future times. In predicting the probable future location s the location predictor may use various other forms of contextual location information such as planned future locations according to the user s calendar appointments. This contextual location information may be used instead of or in addition to the recent location data .

The location predictor provides the predicted location s to a prediction consumer . The prediction consumer in turn provides the predicted location s to the package delivery service executing on the computing device . The package delivery service then determines a vehicle and a route for that vehicle and dispatches the vehicle to deliver the package to the registered target user at the predicted location.

Referring next to shown is a flowchart that provides one example of the operation of a portion of the location predictor according to various embodiments. It is understood that the flowchart of provides merely an example of the many different types of functional arrangements that may be employed to implement the operation of the portion of the location predictor as described herein. As an alternative the flowchart of may be viewed as depicting an example of steps of a method implemented in the client device according to one or more embodiments.

Beginning at box the location predictor receives the recent location of the user from the client device associated with the user. This recent location is provided by the location information publisher which is executing on the client device . The location information may take the form of global positioning system GPS coordinates a street address e.g. number street and zip code or any other suitable format. A series of updates as to the recent location allows the location predictor to track or monitor the user s location over time. As updates are received old information is stored as past location data in contextual location data and the more recent location is stored as recent location data .

Next at box the location predictor receives a request to provide a prediction of the user s location at a future time. At box the location predictor retrieves past location data as a form of contextual location data . At box the location predictor uses the past location data in conjunction with the most recent location to predict the user s location at the requested future time. The prediction in box uses statistical techniques such as regression analysis or other appropriate techniques. Next at the location predictor satisfies the request received in box by providing the prediction to the requester. The process of is then complete. Under some conditions the prediction logic in box may determine that a prediction cannot be made with a predefined level of confidence and in such cases the location predictor returns an indication to the requester that no prediction was made.

With reference now to shown is a flowchart that provides another example of the operation of a portion of the location predictor according to various embodiments. It is understood that the flowchart of provides merely an example of the many different types of functional arrangements that may be employed to implement the operation of the portion of the location predictor as described herein. As an alternative the flowchart of may be viewed as depicting an example of steps of a method implemented in the client device according to one or more embodiments.

The embodiments described by the flowchart of utilize both recent location data and past location data which is a specific form of contextual location data . The embodiments described by the flowchart of determine which type of data is available and use one or both types as appropriate. Before discussing the flow of these embodiments various forms contextual data will be discussed.

One example of contextual location data is information about planned future locations for the user. Planned future locations may include for example appointments or scheduled events obtained from the user s calendar trip itineraries obtained from an online trip planning or travel service and other types of information about planned future locations. Another example of information used in making a prediction is a particular mode of transportation e.g. car bus rail walking etc. that is being used or is likely to be used by the mobile user. Current traffic and congestion patterns are examples of other information that can be used by the location predictor to make a prediction about a mobile user s future location.

Another form of contextual data is the type or category of the recent location to predict how long the user will stay at a particular location. For example if the recent location corresponds to a restaurant the location predictor may predict that the user will stay at that location for one to two hours and if the recent location corresponds to a movie theater the location predictor may predict that the user will stay for two to three hours. The location predictor may use a geographic information service such as Google Maps to obtain category information about the recent location.

Another type of contextual location data is the particular time of day which can be used in predicting the duration of the mobile user s stay at a particular location. For example if the recent location is the user s office building the location predictor may predict that the user will be present at that location during work hours that are associated with the particular user. The user profile may be used to store the user s home location office location work hours etc.

Other types of contextual location data are the recent location and past location of a proxy user. For example the user profile may list one or more proxy users who are associated with the user for example a spouse a co worker etc. The location predictor may use location information for the proxy user when for example not enough information is available for the actual user to make a confident prediction. The proxy user s location data may be collected and stored in recent location data and past location data after the proxy user registers with the location predictor . A user may specifically identify proxy users. A list of potential proxies may also be identified automatically for example by scanning social network websites that the user has an account with where these social networks are stored as part of the user profile .

Having discussed various examples of contextual location data the overall flow of will now be described. Beginning at box the location predictor determines whether recent location data and or contextual location data is available. If neither type of data is available the processing for location predictor is complete. If however it is determined in box that one or both of these types of data is available processing continues at box . At box the location predictor determines whether both types of data recent location data and contextual location data are available. If it is determined at box that both types of data are available processing continues at box . At box the location predictor makes a prediction of the mobile user s future location based on both the recent location data and the contextual location data . The prediction is made using statistical techniques such as regression analysis or other appropriate techniques. Processing continues next at box which is discussed below.

Returning to box if it is determined at box that one but not both types of data are available processing continues at box . At box the location predictor determines whether the type of data that is available is recent location data . If at box it is determined that recent location data rather than contextual data is available processing continues at box . At box the location predictor makes a prediction of the mobile user s future location based on the recent location data . The prediction is made using statistical techniques such as regression analysis or other appropriate techniques. Processing continues next at box which is discussed below.

Returning to box if it is determined at box that the type of location data that is available is contextual location data processing continues at block . At box the location predictor makes a prediction of the mobile user s future location based on the contextual location data . The prediction is made using statistical techniques such as regression analysis or other appropriate techniques. Processing continues next at box which is discussed below.

The location predictor moves to box after making a prediction of future location in box or . At box the location predictor provides the prediction to a requester or subscriber. Processing for the location predictor is then complete.

Turning now to shown is a messaging diagram that provides one example of how the location predictor interacts with various other components of . It is understood that the diagram of provides merely an example of the many different types of functional arrangements that may be employed to implement the operation of the portion of the location predictor as described herein. As an alternative the diagram of may be viewed as depicting an example of steps of a method implemented in the computing device according to one or more embodiments.

The components shown in include the location information publisher the location predictor the prediction consumer and the package delivery service . The scenario shown in begins when the location information publisher registers a mobile user with the location predictor at step . The registration enables the location information publisher to provide location updates for the mobile user to the location predictor . The registration process may provide the mobile user with various options to control sharing of location updates such that a mobile user shares the updates with any interested subscriber with a subset of subscribers etc.

At step the mobile user interacts with the package delivery service to allow future delivery of packages from one or more package delivery agents. Next at step the package delivery client application communicates with the package delivery service to initiate a package delivery to a registered mobile user on behalf of a package sender. The package sender identifies the mobile user who is the delivery target and provides information about the package to be delivered. The package sender may also select from various delivery times which may differ in price.

Responsive to the initiation of a package delivery to a mobile user at step the package delivery service notifies the mobile user that a package delivery has been initiated at step . At this time the mobile user may notify the package delivery client application that delivery is permitted during specific windows of time or is permitted any time. In response to the package delivery initiation at step the prediction consumer subscribes to updates of the mobile user s predicted location at step .

At step the location information publisher receives one or more updates to the mobile user s recent location. The recent location coordinates may be obtained from a geographic positioning system GPS within the mobile user s client device . Alternatively the recent location coordinates may be provided by a GPS system located in a vehicle in which the mobile user is traveling. As another option the client device may provide a street address and a mapping service such as Google Maps to translate the street address to GPS coordinates.

At step the location information publisher determines a predicted location of the registered mobile user at a future time and publishes this information to subscribers such as the prediction consumer . The prediction consumer forwards this information to the package delivery service . At step the package delivery service decides that delivery at a particular predicted location and time is appropriate and dispatches a vehicle with the package. The package delivery service may use a number of different algorithms to make this determination and to dispatch an appropriate vehicle. At step the package delivery service notifies the mobile user and or the shipper that delivery is being attempted at a particular time and location. In response to the notification of step the mobile user may provide a more specific update of his predicted location which is received by the location predictor and forwarded to the package delivery service .

At step the package delivery service notifies the shipper that delivery was or was not successful. If the delivery was not successful the package delivery service may attempt another delivery using additional predicted locations provided by the location information publisher as the publisher in turn receives recent location updates from the mobile user.

Although the scenario shown in involves delivery of a single package the package delivery service may coordinate delivery of different items. In this manner items can be delivered at the same time within a certain time period in a particular order etc.

Although the scenario shown in involves a single package delivery service multiple delivery services may be supported. In such cases another service or system may coordinate the various delivery services including keeping track of delivery vehicles from different services. A coordinating service may provide a mechanism to export delivery data such that delivery of a particular package may be passed from one delivery service to another. A pricing system may utilize configurable pricing rules for each delivery service and may keep track of costs and billing for each service. The pricing system may provide updated cost estimates during the delivery process.

Moving on to shown is a schematic block diagram of the computing device according to an embodiment of the present disclosure. The computing device includes at least one processor circuit for example having a processor and a memory both of which are coupled to a local interface . To this end the computing device may comprise for example at least one server computer or like device. The local interface may comprise for example a data bus with an accompanying address control bus or other bus structure as can be appreciated.

Stored in the memory are both data and several components that are executable by the processor . In particular stored in the memory and executable by the processor are the location predictor and potentially other applications. Also stored in the memory may be a data store and other data. In addition an operating system may be stored in the memory and executable by the processor . While not illustrated the computing device also includes components like those shown in whereby the prediction consumer and the package delivery service are stored in a memory and executable by a processor. Similarly although not illustrated the client device and the client device also include components like those shown in where by the package delivery client application and the location information publisher are stored in a memory and executable by a processor.

It is understood that there may be other applications that are stored in the memory and are executable by the processors as can be appreciated. Where any component discussed herein is implemented in the form of software any one of a number of programming languages may be employed such as for example C C C Objective C Java Javascript Perl PHP Visual Basic Python Ruby Delphi Flash or other programming languages.

A number of software components are stored in the memory and are executable by the processor . In this respect the term executable means a program file that is in a form that can ultimately be run by the processor . Examples of executable programs may be for example a compiled program that can be translated into machine code in a format that can be loaded into a random access portion of the memory and run by the processor source code that may be expressed in proper format such as object code that is capable of being loaded into a random access portion of the memory and executed by the processor or source code that may be interpreted by another executable program to generate instructions in a random access portion of the memory to be executed by the processor etc. An executable program may be stored in any portion or component of the memory including for example random access memory RAM read only memory ROM hard drive solid state drive USB flash drive memory card optical disc such as compact disc CD or digital versatile disc DVD floppy disk magnetic tape or other memory components.

The memory is defined herein as including both volatile and nonvolatile memory and data storage components. Volatile components are those that do not retain data values upon loss of power. Nonvolatile components are those that retain data upon a loss of power. Thus the memory may comprise for example random access memory RAM read only memory ROM hard disk drives solid state drives USB flash drives memory cards accessed via a memory card reader floppy disks accessed via an associated floppy disk drive optical discs accessed via an optical disc drive magnetic tapes accessed via an appropriate tape drive and or other memory components or a combination of any two or more of these memory components. In addition the RAM may comprise for example static random access memory SRAM dynamic random access memory DRAM or magnetic random access memory MRAM and other such devices. The ROM may comprise for example a programmable read only memory PROM an erasable programmable read only memory EPROM an electrically erasable programmable read only memory EEPROM or other like memory device.

Also the processor may represent multiple processors and the memory may represent multiple memories that operate in parallel processing circuits respectively. In such a case the local interface may be an appropriate network that facilitates communication between any two of the multiple processors between any processor and any of the memories or between any two of the memories etc. The local interface may comprise additional systems designed to coordinate this communication including for example performing load balancing. The processor may be of electrical or of some other available construction.

Although the location information publisher the location predictor the package delivery service the package delivery client application and other various systems described herein may be embodied in software or code executed by general purpose hardware as discussed above as an alternative the same may also be embodied in dedicated hardware or a combination of software general purpose hardware and dedicated hardware. If embodied in dedicated hardware each can be implemented as a circuit or state machine that employs any one of or a combination of a number of technologies. These technologies may include but are not limited to discrete logic circuits having logic gates for implementing various logic functions upon an application of one or more data signals application specific integrated circuits having appropriate logic gates or other components etc. Such technologies are generally well known by those skilled in the art and consequently are not described in detail herein.

The diagrams of and show the functionality and operation of an implementation of portions of the location information publisher the location predictor the package delivery service and the package delivery client application . If embodied in software each block may represent a module segment or portion of code that comprises program instructions to implement the specified logical function s . The program instructions may be embodied in the form of source code that comprises human readable statements written in a programming language or machine code that comprises numerical instructions recognizable by a suitable execution system such as a processor in a computer system or other system. The machine code may be converted from the source code etc. If embodied in hardware each block may represent a circuit or a number of interconnected circuits to implement the specified logical function s .

Although the diagrams of and show a specific order of execution it is understood that the order of execution may differ from that which is depicted. For example the order of execution of two or more blocks may be scrambled relative to the order shown. Also two or more blocks shown in succession in and may be executed concurrently or with partial concurrence. Further in some embodiments one or more of the blocks shown in and may be skipped or omitted. In addition any number of counters state variables warning semaphores or messages might be added to the logical flow described herein for purposes of enhanced utility accounting performance measurement or providing troubleshooting aids etc. It is understood that all such variations are within the scope of the present disclosure.

Also any logic or application described herein including location information publisher the location predictor the package delivery service and the package delivery client application that comprises software or code can be embodied in any non transitory computer readable medium for use by or in connection with an instruction execution system such as for example a processor in a computer system or other system. In this sense the logic may comprise for example statements including instructions and declarations that can be fetched from the computer readable medium and executed by the instruction execution system. In the context of the present disclosure a computer readable medium can be any medium that can contain store or maintain the logic or application described herein for use by or in connection with the instruction execution system. The computer readable medium can comprise any one of many physical media such as for example magnetic optical or semiconductor media. More specific examples of a suitable computer readable medium would include but are not limited to magnetic tapes magnetic floppy diskettes magnetic hard drives memory cards solid state drives USB flash drives or optical discs. Also the computer readable medium may be a random access memory RAM including for example static random access memory SRAM and dynamic random access memory DRAM or magnetic random access memory MRAM . In addition the computer readable medium may be a read only memory ROM a programmable read only memory PROM an erasable programmable read only memory EPROM an electrically erasable programmable read only memory EEPROM or other type of memory device.

It should be emphasized that the above described embodiments of the present disclosure are merely possible examples of implementations set forth for a clear understanding of the principles of the disclosure. Many variations and modifications may be made to the above described embodiment s without departing substantially from the spirit and principles of the disclosure. All such modifications and variations are intended to be included herein within the scope of this disclosure and protected by the following claims.

For the Examiner s convenience Applicants note that this application is a continuation of U.S. application Ser. No. 13 952 979 and U.S. application Ser. No. 12 884 726. The claims of the present application are different and possibly at least in some aspects broader in scope than the claims pursued in the parent applications. To the extent any prior amendments or characterizations of the scope of any claim or cited document made during prosecution of the parent applications could be construed as a disclaimer of any subject matter supported by the present disclosure Applicants hereby rescind and retract such disclaimer. Accordingly the references previously presented in the parent applications may need to be revisited.

