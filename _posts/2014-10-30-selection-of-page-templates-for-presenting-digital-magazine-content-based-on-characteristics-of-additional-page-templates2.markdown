---

title: Selection of page templates for presenting digital magazine content based on characteristics of additional page templates
abstract: A digital magazine server displays content to a user based on a page template specifying sizing and positioning of content items. The page template is selected from a set of candidate page templates, which is determined based on characteristics of page templates and characteristics of other page templates used to present content to the user. Different characteristics of a page template are weighted based on the page template's position in a series of additional page templates used to present content and characteristics of the additional page templates. Weights associated with different characteristics of a page template are combined to determine a template score for the page template, and the template score is used to determine if the page template is a candidate page template.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09648080&OS=09648080&RS=09648080
owner: Flipboard, Inc.
number: 09648080
owner_city: Palo Alto
owner_country: US
publication_date: 20141030
---
This disclosure relates generally digital magazines and more particularly to determining a layout for presentation of content items in a digital magazine on a client device.

Publishers of digital content struggle to optimize presentation of content on different devices with different display areas different display resolutions or differences in other display characteristics. Determining techniques for selecting content for a user and adapting the selected content for presentation to the user on a particular device create resource and performance challenges for a publisher. Additionally the rapidly increasing number and variety of devices used to present content makes it impractical for publishers to continue to create content layouts customized to individual devices. Moreover to maintain user engagement with content publishers must efficiently use computing resources to prevent optimization of content presentation from negatively impacting a user s viewing experience.

A digital magazine server creates a digital magazine for a user including content items for presentation to a user. The digital magazine server organizes content items having at least one common characteristic into various sections and presents content items to the user according to the sections. To improve user interaction with content items the digital magazine server maintains various page templates describing a spatial arrangement of content items relative to each other in a section layout for presentation to a user. A page template includes one or more display regions that are each configured to present one or more content items. The position of display regions relative to each other in a page template specify the position of content items relative to each other in a section generated from the page template.

One or more display regions in a page template may specify the size of content items displayed in a page of the digital magazine also referred to as a section using a percentage of a display area or a range of dimensions of a portion of the display area to specify the size of the content items displayed in a page. For example various display regions in a page template are associated with one or more dimensions specified as a percentage of a reference dimension such as a height or width specified as a percentage of a height or width of a display area in which a section is displayed. As another example a display region is associated with an aspect ratio specified as a percentage of a display area in which content presented via the page template is displayed.

One or more candidate page templates for presenting content associated with the digital magazine are selected from the page templates. Information associated with other page templates associated with the digital magazine may be used to select the candidate page templates. To increase user interaction with content in the digital magazine characteristics of additional page templates previously used to present content associated with the digital magazine or identified for presentation of subsequent content associated with the digital magazine are identified and used to select one or more candidate page templates. Various characteristics of page templates are used to select the one or more candidate page templates and characteristics may be differently weighted based on characteristics of other page templates used for presenting content associated with the digital magazine. For example weights are associated with characteristics of a page template based on a number of times the characteristic or a similar characteristic is associated with additional page templates associated with the digital magazine. Based on the weights associated with characteristics of a page template a template score is determined for the page template. One or more candidate page templates are selected based on their associated page templates. For example page templates having at least a threshold template score are selected as candidate page templates.

A weight associated with a characteristic associated with a page template may be inversely proportional to a number of times the characteristic or a similar characteristic is associated with additional page templates associated with the digital magazine increasing a contribution of the characteristic to the template score associated with the page template if the characteristic is infrequently associated with other page templates associated with the digital magazine. Similarly a weight associated with a characteristic that is associated with more than a threshold number of page templates associated with the digital magazine is lower to decrease the contribution of the characteristic to the page template s template score. Additional information may be used to select the one or more candidate page templates such as interaction between one or more users with various content items associated with the digital magazine characteristics associated with content items associated with the digital magazine or a location associated with a client device used to present content items associated with the section of the digital magazine.

The candidate page templates may be scored based on the display area of the client device for presenting the section and ranked based on their associated scores. For example scores are based on characteristics of the content items to be presented characteristics of the display regions in various candidate page templates the display area in which the content items are to be presented as well as any other suitable data. For example the amount of modification of content items to present the content item in display regions of a candidate page template is reflected in a score for the candidate page template. Types of content items and associations between display regions in a candidate page template may also affect the scores of candidate page templates. Based at least in part on the ranking a page template is selected and used to present content items in the section.

Additionally page template selection may account for other factors to present the user with content items presented using various page templates. In one embodiment scores associated with page templates are modified based on previous selection of page templates. For example a score associated with a page template is reduced if the page template was previously selected within a threshold time interval of the current time similarly a score associated with a page template is reduced if the page template was previously selected greater than the threshold time interval of the current time. Characteristics of the content items to be presented and various page templates may also be used to modify a score associated with a page template. For example if the content items to be presented include at least one content item having a specified type a score associated with a page template including a single display region associated with the specified type of content item is increased. The ranking of page templates may be modified based on modified scores associated with page templates and a page template is selected from the modified ranking.

If the selected page template includes display regions having dimensions determined by the width of the display area of the client device the width of each region in the selected page template is specified as the width of the display area of the client device. Additionally heights of each region in the selected page template are determined based on the width of the display area of the client device. For example values are determined for each display region and a height of a display region is determined as a product of the value for the display region and a percentage of the width of the display area of the client device. Various criteria may be used to determine the value for the display region such as a type of content item associated with the display regions values associated with other display regions in the selected page template. Example criteria for determining a value for a display region include a type of content item to be presented in the display region values associated with other display regions and values associated with display regions within a specified time interval. Different values may be associated with different display regions so the selected page template presents content items using display regions with different heights.

The figures depict various embodiments of the present invention for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.

A digital magazine server retrieves content from one or more sources and generates a personalized customizable digital magazine for a user based on the retrieved content. The generated digital magazine is retrieved by a digital magazine application executing on a computing device such as a mobile communication device tablet computer or any other suitable computing system and presented to the user. For example based on selections made by the user and or on behalf of the user the digital server application generates a digital magazine including one or more sections including content items retrieved from a number of sources and personalized for the user. The generated digital magazine allows the user to more easily consume content that interests and inspires the user by presenting content items in an easily navigable interface via a computing device.

The digital magazine may be organized into a number of sections that each include content having a common characteristic e.g. content obtained from a particular source . For example a section of the digital magazine includes articles from an online news source such as a website for a news organization another section includes articles from a third party curated collection of content associated with a particular topic e.g. a technology compilation and an additional section includes content obtained from one or more accounts associated with the user and maintained by one or more social networking systems. For purposes of illustration content included in a section is referred to herein as content items or articles which may include textual articles pictures videos products for sale user generated content e.g. content posted on a social networking system advertisements and any other types of content capable of display within the context of a digital magazine.

A source is a computing system capable of providing various types of content to a client device . Examples of content provided by a source include text images video or audio on web pages web feeds social networking information messages or other suitable data. Additional examples of content include user generated content such as blogs tweets shared images video or audio social networking posts and social networking status updates. Content provided by a source may be received from a publisher e.g. stories about news events product information entertainment or educational material and distributed by the source or a source may be a publisher of content it generates. For convenience content from a source regardless of its composition may be referred to herein as an article a content item or as content. A content item may include various types of content such as text images and video.

The sources communicate with the client device and the digital magazine server via the network which may comprise any combination of local area and or wide area networks using both wired and or wireless communication systems. In one embodiment the network uses standard communications technologies and or protocols. For example the network includes communication links using technologies such as Ethernet 802.11 worldwide interoperability for microwave access WiMAX 3G 4G code division multiple access CDMA digital subscriber line DSL etc. Examples of networking protocols used for communicating via the network include multiprotocol label switching MPLS transmission control protocol Internet protocol TCP IP hypertext transport protocol HTTP simple mail transfer protocol SMTP and file transfer protocol FTP . Data exchanged over the network may be represented using any suitable format such as hypertext markup language HTML or extensible markup language XML . In some embodiments all or some of the communication links of the network may be encrypted using any suitable technique or techniques.

The client device is one or more computing devices capable of receiving user input as well as transmitting and or receiving data via the network . In one embodiment the client device is a conventional computer system such as a desktop or a laptop computer. Alternatively the client device may be a device having computer functionality such as a personal digital assistant PDA a mobile telephone a smartphone or another suitable device. In one embodiment the client device executes an application allowing a user of the client device to interact with the digital magazine server . For example an application executing on the client device communicates instructions or requests for content items to the digital magazine server to modify content presented to a user of the client device . As another example the client device executes a browser that receives pages from the digital magazine server and presents the pages to a user of the client device . In another embodiment the client device interacts with the digital magazine server through an application programming interface API running on a native operating system of the client device such as IOS or ANDROID . While shows a single client device in various embodiments any number of client devices may communicate with the digital magazine server .

A display device included in the client device presents content items to a user of the client device . Examples of the display device include a liquid crystal display LCD an organic light emitting diode OLED display an active matrix liquid crystal display AMLCD or any other suitable device. Different client devices may have display devices with different characteristics. For example different client devices have display devices with different display areas different resolutions or differences in other characteristics.

One or more input devices included in the client device receive input from the user. Different input devices may be included in the client device . For example the client device includes a touch sensitive display for receiving input data commands or information from a user. Using a touch sensitive display allows the client device to combine the display device and an input device simplifying user interaction with presented content items. In other embodiments the client device may include a keyboard a trackpad a mouse or any other device capable of receiving input from a user. Additionally the client device may include multiple input devices in some embodiments. Inputs received via the input device may be processed by a digital magazine application associated with the digital magazine server and executing on the client device to allow a client device user to interact with content items presented by the digital magazine server .

The digital magazine server receives content items from one or more sources generates pages in a digital magazine by processing the received content and provides the pages to the client device . As further described below in conjunction with the digital magazine server generates one or more pages for presentation to a user based on content items obtained from one or more sources and information describing organization and presentation of content items. For example the digital magazine server determines a page layout specifying positioning of content items relative to each other based on information associated with a user and generates a page including the content items arranged according to the determined layout for presentation to the user via the client device . This allows the user to access content items via the client device in a format that enhances the user s interaction with and consumption of the content items. For example the digital magazine server provides a user with content items in a format similar to the format used by print magazines. By presenting content items in a format similar to a print magazine the digital magazine server allows a user to interact with content items from multiple sources via the client device with less inconvenience from horizontally or vertically scrolling to access various content items.

Each user of the digital magazine server is associated with a user profile which is stored in the user profile store . A user profile includes declarative information about the user that was explicitly shared by the user and may also include profile information inferred by the digital magazine server . In one embodiment a user profile includes multiple data fields each describing one or more attributes of the corresponding social networking system user. Examples of information stored in a user profile include biographic demographic and other types of descriptive information such as gender hobbies or preferences location or other suitable information. A user profile in the user profile store also includes data describing interactions by a corresponding user with content items presented by the digital magazine server . For example a user profile includes a content item identifier a description of an interaction with the content item corresponding to the content item identifier and a time when the interaction occurred.

While user profiles in the user profile store are frequently associated with individuals allowing individuals to provide and receive content items via the digital magazine server user profiles may also be stored for entities such as businesses or organizations. This allows an entity to provide or access content items via the digital magazine server . An entity may post information about itself about its products or provide other content items associated with the entity to users of the digital magazine server . For example users of the digital magazine server may receive a digital magazine or section including content items associated with an entity via the digital magazine server .

The template store includes page templates each describing a spatial arrangement layout of content items relative to each other on a page for presentation by a client device . A page template includes one or more display regions each configured to present one or more content items. In some embodiments display regions in a page template may be configured to present a particular type of content item or to present a content item having one or more specified characteristics. For example a display region in a page template is configured to present an image while another display region in the page template is configured to present text data. Each display region has a size e.g. small medium or large and an aspect ratio. One or more page templates may be associated with types of client devices allowing content items to be presented in different relative locations and with different sizes when the content items are viewed using different client devices . Additionally page templates may be associated with sources allowing a source to specify the format of pages presenting content items received from the source . For example an online retailer is associated with a page template to allow the online retailer to present content items via the digital magazine server with a specific organization. Examples of page templates are further described in U.S. patent application Ser. No. 13 187 840 filed on Jul. 21 2011 and U.S. patent application Ser. No. 13 938 227 filed on Jul. 9 2103 each of which is hereby incorporated by reference in its entirety.

In various embodiments page templates included in the template store may be defined with flexible dimensions allowing presentation of content items to account for various sizes or dimensions of a display area in which the content items are presented. For example a page template includes display regions specifying a percentage of a display area in which a content item is presented. Specifying a percentage of a display area for presentation of a content item allows a page template to present content items across a range of display areas and to provide consistent presentation of content items when a display area is resized. Page templates with display areas specified as percentages of a display area are further described below in conjunction with .

Additionally dimensions of a display region within a page template may be determined based on dimensions of a display area in which content is presented based on the display template. For example a width of a display region is specified as a width of a display area in which content is presented based on the page template and the height of the display region is determined based on the width of the display area. For example a height of the display region is determined as a product of a value and a percentage of the width of the display region. In various embodiments the value is an integer so the heights of various display regions are integer multiples of the percentage of the width of the display region. Different display regions in a page template may have different heights.

In some embodiments the template store includes one or more sub templates that specify positions of content items relative to each other. A sub template includes one or more display regions specifying sizing of content items and positioning of content items relative to each other. A display area in a page template may specify selection of a sub template for presentation of content items within the display area. For example a display region of a page template identifies a sub template allowing content items presented in the display region to be positioned relative to each other as specified by a sub template. To improve presentation of content items a sub template used to present content items in a display region is selected when a page template including the display region is presented. For example various sub templates in the template store are scored based on the display area in which content items are presented and characteristics of the content items to be presented. Based on the scores a display sub template is selected and used to present content items within the display region of the page template. This optimizes presentation of content items in the display region by selecting a sub template in which content items are displayed in a format that facilitates user interactions. Alternatively a source or a user of the digital magazine server associates a specific sub template with a display area of a template allowing the source or user to customize presentation of content items in a display area of the template. Use of sub templates to present content items is further described below in conjunction with .

The content store stores objects that each represent various types of content. For example the content store stores content items received from one or more sources within a threshold time of a current time. Examples of content items stored by the content store include a page post a status update a photograph a video a link an article video data audio data a check in event at a location or any other type of content. A user may specify a section including content items having a common characteristic and the common characteristic is stored in the content store along with an association with the user profile or the user specifying the section.

The layout engine retrieves content items from one or more sources or from the content store and generates a section including the content items based on a page template from the template store . Based on the retrieved content items the layout engine may identify candidate page templates from the template store score the candidate page templates based on characteristics of the display regions in different candidate page templates based on previously selected templates and based on characteristics of the content items. As further described below in conjunction with characteristics of additional page templates used to present content associated with a digital magazine may be used to select candidate page templates to diversify presentation of content associated with the digital magazine. Based on the scores associated with candidate page templates the layout engine selects a page template and associates the retrieved content items with one or more display regions to generate a section where the retrieved content items are presented relative to each other and sized based on their associated display regions.

In some embodiments the layout engine may use the display area of the client device on which content items are to be presented when selecting a page template from the candidate page templates. In some embodiments the layout engine enforces one or more diversification policies when selecting templates to provide the user with content items arranged based on different page templates. Use of diversification policies is further described below in conjunction with . When associating a content item with a display region the layout engine may associate the content item with a display region configured to present a specific type of content item or to present content items having one or more specified characteristics. Examples of using a page template to present content items are further described in U.S. patent application Ser. No. 13 187 840 filed on Jul. 21 2011 U.S. patent application Ser. No. 13 938 223 filed on Jul. 9 2013 and U.S. patent application Ser. No. 13 938 226 filed on Jul. 9 2013 each of which is hereby incorporated by reference in its entirety.

If a display region of the selected template specifies a sub template the layout engine retrieves a specified sub template from the template store. Alternatively the layout engine scores various sub templates retrieved from the template store based on characteristics of the content items positioning and sizing of display regions within the sub templates and the display area of the client device on which the content items are to be presented. Based on the scores associated with various sub templates the layout engine selects a sub template specifying sizing and relative positioning of content items presented within the display region identifying the sub template.

The connection generator monitors interactions between users and content items presented by the digital magazine server . Based on the interactions the connection generator determines connections between various content items connections between users and content items or connections between users of the digital magazine server . For example the connection generator identifies when users of the digital magazine server provide feedback about a content item access a content item share a content item with other users or perform other actions with content items. In some embodiments the connection generator retrieves data describing user interaction with content items from the user s user profile in the user profile store . Alternatively user interactions with content items are communicated to the connection generator when the interactions are received by the digital magazine server . The connection generator may account for temporal information associated with user interactions with content items. For example the connection generator identifies user interactions with a content item within a specified time interval or applies a decay factor to identified user interactions based on times associated with interactions. The connection generator generates a connection between a user and a content item if the user s interactions with the content item satisfy one or more criteria. In one embodiment the connection generator determines one or more weights specifying a strength of the connection between the user and the content item based on user interactions with the content item that satisfy one or more criteria. Generation of connections between a user and a content item is further described in U.S. patent application Ser. No. 13 905 016 filed on May 29 2013 which is hereby incorporated by reference in its entirety.

If multiple content items are connected to a user the connection generator establishes implicit connections between each of the content items connected to the user. In one embodiment the connection generator maintains a user content graph identifying the implicit connections between content items connected to a user. In one embodiment weights associated with connections between a user and content items are used to determine weights associated with various implicit connections between content items. User content graphs for multiple users of the digital magazine server are combined to generate a global content graph describing connections between various content items provided by the digital magazine server based on user interactions with various content items. For example the global content graph is generated by combining user content graphs based on mutual connections between various content items in user content graphs.

In one embodiment the connection generator generates an adjacency matrix from the global content graph or from multiple user content graphs and stores the adjacency matrix in the connection store . The adjacency matrix describes connections between content items. For example the adjacency matrix includes identifiers of content items and weights representing the strength or closeness of connections between content items based on the global content graph. As an example the weights indicate a degree of similarity in subject matter or similarity of other characteristics associated with various content items. In other embodiments the connection store includes various adjacency matrices determined from various user content graphs the adjacency matrices may be analyzed to generate an overall adjacency matrix for content items provided by the digital magazine server . Graph analysis techniques may be applied to the adjacency matrix to rank content items to recommend content items to a user or to otherwise analyze relationships between content items. An example of the adjacency matrix is further described in U.S. patent application Ser. No. 13 905 016 filed on May 29 2013 which is hereby incorporated by reference in its entirety.

In addition to identifying connections between content items the connection generator may also determine a social proximity between users of the digital magazine server based on interactions between users and content items. The digital magazine server determines social proximity or social distance between users using a variety of techniques. For example the digital magazine server analyzes additional users connected to each of two users of the digital magazine server within a social networking system to determine the social proximity of the two users. In another example the digital magazine server determines social proximity between a user and an additional user by analyzing the user s interactions with content items posted by the additional user whether the content items are presented using the digital magazine server or using another social networking system. Additional examples for determining social proximity between users of the digital magazine server are described in U.S. patent application Ser. No. 13 905 016 filed on May 29 2013 which is incorporated by reference in its entirety. In one embodiment the connection generator determines a connection confidence value between a user and an additional user of the digital magazine server based on the user s and the additional user s common interactions with particular content items. The connection confidence value may be a numerical score representing a measure of closeness between the user and the additional user. For example a larger connection confidence value indicates a greater similarity between the user and the additional user. In one embodiment if a user has at least a threshold connection confidence value with another user the digital magazine server stores a connection between the user and the additional user in the connection store .

Using data from the connection store the recommendation engine identifies content items from one or more sources for recommending to a digital magazine server user. Hence the recommendation engine identifies content items potentially relevant to a user. In one embodiment the recommendation engine retrieves data describing interactions between a user and content items from the user s user profile and data describing connections between content items and or connections between users from the connection store . In one embodiment the recommendation engine uses stored information describing content items e.g. topic sections subsections and interactions between users and various content items e.g. views shares saved links topics read or recent activities to identify content items that may be relevant to a digital magazine server user. For example content items having an implicit connection of at least a threshold weight to a content item with which the user interacted are recommended to the user. As another example the recommendation engine presents a user with content items having one or more attributes in common with a content item with which an additional user having a threshold connection confidence score with the user interacted. Recommendations for additional content items may be presented to a user when the user views a content item using the digital magazine may be presented as a notification to the user by the digital magazine server or may be presented to the user through any suitable communication channel.

In one embodiment the recommendation engine applies various filters to content items received from one or more sources or from the content store to efficiently provide a user with recommended content items. For example the recommendation engine analyzes attributes of content items in view of characteristics of a user retrieved from the user s user profile. Examples of attributes of content items include a type e.g. image story link video audio etc. a source from which a content item was received time when a content item was retrieved and subject matter of a content item. Examples of characteristics of a user include biographic information about the user users connected to the user and interactions between the user and content items. In one embodiment the recommendation engine analyzes attributes of content items in view of a user s characteristics for a specified time period to generate a set of recommended content items. The set of recommended content items may be presented to the user or may be further analyzed based on user characteristics and on content item attributes to generate more refined set of recommended content items. A setting included in a user s user profile may specify a length of time that content items are analyzed before identifying recommended content items to the user allowing a user to balance refinement of recommended content items with time used to identify recommended content items.

The search module receives a search query from a user and retrieves content items from one or more sources based on the search query. For example content items having at least a portion of an attribute matching at least a portion search query are retrieved from one or more sources . The user may specify sources from which content items are received through settings maintained by the user s user profile or by identifying one or more sources in the search query. In one embodiment the search module generates a section of the digital magazine including the content items identified based on the search query as the identified content items have a common attribute of their association with the search query. Presenting identified content items identified from a search query allows a user to more easily identify additional content items at least partially matching the search query when additional content items are provided by sources .

To more efficiently identify content items based on search queries the search module may index content items groups or sections of content items and user profile information. In one embodiment the index includes information about various content items such as author source topic creation data time user interaction information document title or other information capable of uniquely identifying the content item. Search queries are compared to information maintained in the index to identify content items for presentation to a user. The search module may present identified content items based on a ranking. One or more factors associated with the content items may be used to generate the ranking Examples of factors include global popularity of a content item among users of the digital magazine server connections between users interacting with a content item and the user providing the search query and information from a source . Additionally the search module may assign a weight to the index information associated with each content item selected based on similarity between the index information and a search query and rank the content items based on their weights. For example content items identified based on a search query are presented in a section of the digital magazine in an order based in part on the ranking of the content items.

To increase user interaction with the digital magazine the interface generator maintains instructions associating received input with actions performed by the digital magazine server or by a digital magazine application executing on a client device . For example instructions maintained by the interface generator associate types of inputs or specific inputs received via an input device of a client device with modifications to content presented by a digital magazine. As an example if the input device is a touch sensitive display the interface generator includes instructions associating different gestures with navigation through content items or presented via a digital magazine. Instructions from the interface generator are communicated to a digital magazine application or other application executing on a client device on which content from the digital magazine server is presented. Inputs received via an input device of the client device are processed based on the instructions when content items are presented via the digital magazine server is presented to simplify user interaction with content presented by the digital magazine server .

The web server links the digital magazine server via the network to the one or more client devices as well as to the one or more sources . The web server serves web pages as well as other content such as JAVA FLASH XML and so forth. The web server may retrieve content item from one or more sources . Additionally the web server communicates instructions for generating pages of content items from the layout engine and instructions for processing received input from the interface generator to a client device for presentation to a user. The web server also receives requests for content or other information from a client device and communicates the request or information to components of the digital magazine server to perform corresponding actions. Additionally the web server may provide application programming interface API functionality to send data directly to native client device operating systems such as IOS ANDROID WEBOS or BlackberryOS.

For purposes of illustration describes various functionalities provided by the digital magazine server . However in other embodiments the above described functionality may be provided by a digital magazine application executing on a client device or may be provided by a combination of the digital magazine server and a digital magazine application executing on a client device . For example the digital magazine server identifies content items for presentation to a user and communicates the content items to a client device which selects a page template used to present the content items to the user. In another example a digital magazine application executing on the client device receives a search query from the user selects content items based on the search query and also selects a page template for presenting the content items to the user. Alternatively the digital magazine server and the client device operate in conjunction with each other to generate a section of the digital magazine by identifying content items for inclusion in the section and determining a page template for presenting the identified content items. For example certain functionality e.g. identifying content items from sources is performed by the digital magazine server while other functionality e.g. selecting a template for presenting a section of the digital magazine is performed by a digital magazine application executing on the client device .

In the example of when a digital magazine server generates a page for presentation to a user the digital magazine server populates display regions in a page template with content items. Information identifying the page template and associations between content items and display regions in the page template is stored and used to generate the page. For example to present a page to a user the layout engine identifies the page template from the template store and retrieves content items from one or more sources or from the content store . The layout engine generates data or instructions associating content items with display regions within the page template . Hence the generated page includes various content regions presenting one or more content items associated with a display region in a location specified by the display region.

A content region may present image data text data a combination of image and text data or any other information retrieved from a corresponding content item. For example in the content region A represents a table of contents identifying sections of a digital magazine and content associated with the various sections are presented in content regions B H. For example content region A includes text or other data indicating that the presented data is a table of contents such the text Cover Stories Featuring followed by one or more identifiers associated with various sections of the digital magazine. In one embodiment an identifier associated with a section describes a characteristic common to at least a threshold number of content items in the section. For example an identifier refers to the name of a user of social network from which content items included in the section are received. As another example an identifier associated with a section specifies a topic an author a publisher e.g. a newspaper a magazine or other characteristics associated with at least a threshold number of content items in the section. Additionally an identifier associated with a section may further specify content items selected by a user of the digital magazine server and organized as a section. Content items included in a section may be related topically and include text and or images related to the topic.

Sections may be further organized into subsections with content items associated with one or more subsections presented in content regions. Information describing sections or subsections such as a characteristic common to content items in a section or subsection may be stored in the content store and associated with a user profile to simplify generation of a section or subsection for the user. A page template associated with a subsection may be identified and display regions in the page template associated with the subsection used to determine presentation of content items from the subsection relative to each other. Referring to the content region H includes a content item associated with a newspaper to indicate a section including content items retrieved from the newspaper. When a user interacts with the content region a page template associated with the section is retrieved as well as content items associated with the section. Based on the page template associated with the section and the content items the digital magazine server generates a page presenting the content items based on the layout described by the display regions of the page template. For example in the section page includes content regions presenting content items associated with the section. The content regions may include content items associated with various subsections including content items having one or more common characteristics e.g. topics authors etc. . Hence a subsection may include one or more subsections allowing hierarchical organization and presentation of content items by a digital magazine.

In one embodiment display regions in a page template are associated with a percentage of a display area to specify the size of the content items displayed in a section. For example various display regions are associated with one or more dimensions specified as a percentage of a reference dimension such as a height or width specified as a percentage of a height or width of a display area in which a section is displayed. As another example a display region is associated with an aspect ratio specified as a percentage of the display area in which a section is displayed. Specifying the size of display regions as a percentage of a display area allows the size of the content items displayed based on the display regions to be easily modified as the display area changes in size. Additionally one or more display regions in a page template may have fixed dimensions so the size of content items presented based on fixed dimension display regions remains unchanged as the display area presenting the section changes in size.

The digital magazine server or a digital magazine application executing on a client device receives a request to present content items from one or more sources to a user via a digital magazine. Information describing the display area of the client device is included in the request. For example physical dimensions of a display device of the client device are included in the request. In some embodiments information describing the resolution of the display device is included in the received request. The request may additionally include information identifying one or more characteristics of the content items for presentation. Example characteristics of the one or more content items include one or more source identifiers a keyword associated with the content items a user associated with the content items and a time interval associated with the content items.

Based at least in part on the display area of the client device one or more candidate page templates are selected from the stored page templates. For example using information in the received request to present content items physical dimensions for display regions in each of the stored page templates are determined page templates having at least one display region with one or more physical dimensions less than a threshold value are not identified as candidate page templates. Hence page templates that would present content items using dimensions that would make viewing or interacting with the content items difficult are not identified as candidate page templates. As another example various page templates partition a display area into one or more columns each of the various page templates is compared to information about the display area from the received requests. The columns may be specified using percentages of the display area or using specified physical dimensions. Page templates having a number of columns capable of being presented in the display area with at least a threshold physical size are selected as candidate page templates while page templates having one or more columns not capable of being presented in the display area with at least the threshold physical size are not selected as candidate page templates. For example a display area may be unable to present more than 5 columns that each have a threshold physical size so page templates including more than 5 columns are not selected as candidate page templates while page templates with 5 or fewer columns are selected as candidate page templates. In one embodiment a digital magazine application executing on the client device from which the request to present content items was received selects the candidate page templates after retrieving page templates from the digital magazine server or from a storage device local to the client device alternatively the digital magazine server selects the candidate page templates from the template store .

Additionally information associated with other page templates in the digital magazine may be used to select the candidate page templates. To increase user interaction with content in the digital magazine characteristics of additional page templates previously used to present content associated with the digital magazine or identified for presentation of subsequent content associated with the digital magazine are identified and used to select one or more candidate page templates. In various embodiments the digital magazine server uses various characteristics of page templates to select the one or more candidate page templates and differently weights various characteristics based on characteristics of other page templates used for presenting content associated with the digital magazine. For example weights are associated with characteristics of a page template based on a number of times the characteristic or a similar characteristic is associated with additional page templates associated with the digital magazine. Based on the weights associated with characteristics of a page template a template score is determined for the page template. One or more candidate page templates are selected based on their associated page templates. For example page templates having at least a threshold template score are selected as candidate page templates.

A weight associated with a characteristic associated with a page template may be inversely proportional to a number of times the characteristic or a similar characteristic is associated with additional page templates associated with the digital magazine increasing a contribution of the characteristic to the template score associated with the page template if the characteristic is infrequently associated with other page templates associated with the digital magazine similarly a weight associated with a characteristic that is associated with more than a threshold number of page templates associated with the digital magazine is lower to decrease the contribution of the characteristic to the page template s template score. Additional information may be used to select the one or more candidate page templates such as interaction between one or more users with various content items associated with the digital magazine characteristics associated with content items associated with the digital magazine or a location associated with a client device used to present content items associated with the section of the digital magazine. Selection of one or more candidate page templates is further described below in conjunction with .

From the candidate page templates a display page template is selected . As further described below in conjunction with scores are generated for each of the candidate page templates and a page template is selected based at least in part on the scores. In various embodiments the scores are based on characteristics of the content items to be presented characteristics of the display regions in various candidate page templates the display area of the display device on which the content items are to be presented as well as any other suitable data. For example the amount of modification of content items to present the content item in display regions of a candidate page template is reflected in a score for the candidate page template. Types of content items and associations between display regions in a candidate page template and content item types may also influence the score of the candidate page template. Diversity of page templates may be enforced when selecting a page template as further described below in conjunction with . For example scores of specific candidate page templates are increased or decreased based on how recently they were selected or based on characteristics of the candidate page templates or display regions within the candidate page templates.

Using the display page template the digital magazine server or a digital magazine application executing on the client device generates a section including the content items from one or more sources . The generated section includes content regions presenting one or more content items having locations relative to each other specified by the display regions in the selected page template. Additionally the sizes of various content regions are determined from the sizes of display regions in the selected page template from which a corresponding content region is generated. In one embodiment the digital magazine server or a digital magazine application executing on the client device dynamically arranges and sizes one or more content regions including one or more content items relative to each other based on the selected page template.

In one embodiment a size of a content region is modified based on the location of the content region within the display area if the content region presents a content item having a specified type. For example if a content region is displaying an image and is within a threshold distance of a boundary of the display area the content region is increased to a size where a border of the content region is within the threshold distance of the display area boundary. Increasing the size of certain content regions based on the type of presented content items allows users to more easily view or interact with certain content items increasing user interaction with content items presented via the digital magazine.

As further described in conjunction with after the section is generated and presented to a user via the client device the size of display area available for presenting the section may be modified. For example the section is displayed in a window of a laptop computer and a user or application modifies the size of the window displaying the section. Information including the modified size of the display area is communicated to a digital magazine application executing on the client device which selects candidate page templates as described above based on the modified size of the display area. A page template is selected and used to generate a modified section based on the modified size of the display area as described above. Hence the layout of a section may be dynamically modified as the display area available for presenting the section is modified increasing user engagement with the presented content items.

In one embodiment the presentation of a content item is modified based on the size of a content region of the selected page template for displaying the particular content item. For example if the text to be included in a content region is greater than a threshold area of a content region of a selected template the text is reduced to a size where the entire text can be displayed within the target content region of the selected template. Known techniques for modifying attributes of a content item may be employed to reduced text an image video or other content items such that the modified content item is suitable for presentation in a target content region. Using the selected page template the digital magazine server presents a section that includes the modified content item along with any selected unmodified content items. Modifying the size of certain content items based on the area of the target content region in a selected template allows the digital magazine server to make a rough selection of a page template and then modify the size of the content item based on the area of a target content region. In turn the digital magazine server can more easily select a page template and generate a section based on the selected template.

When selecting one or more candidate page templates from which a page template is selected for presentation to a user via a digital magazine the digital magazine server the digital magazine server or an application associated with the digital magazine server and executing on the client device retrieves information describing content items associated with the digital magazine. The retrieved information includes characteristics associated with the content items. Example characteristics of a content item include a source from which the content item was received a type of content presented by the content item e.g. image data video data text data an amount of content included in the content item and a location associated with the content item. The content items for which information is retrieved may be content items previously presented to the user content items included in the digital magazine and not presented to the user or any suitable content items included in the digital magazine.

In some embodiments the digital magazine server or an application associated with the digital magazine server and executing on the client device retrieves information describing interaction with content items associated with the digital magazine. The digital magazine server may retrieve information describing interactions by the user with content items associated with the digital magazine and previously presented to the user information describing interactions by various users of the digital magazine server with content items associated with the digital magazine or information describing both interactions by the user with previously presented content items associated with the digital magazine and information describing interactions by various users of the digital magazine server with content items associated with the digital magazine. Example information describing interactions with a content item associated with the digital magazine include an indication of a type of interaction with the content item a length of time a user interacted with the content item a time when an interaction with the content item occurred a type of client device from which an interaction with the content item was received and characteristics of a client device from which an interaction with the content item was received e.g. display device characteristics .

Additionally the digital magazine server or a digital magazine application associated with the digital magazine server and executing on a client device identifies one or more additional page templates associated with the digital magazine. The identified additional page templates include page templates used to previously present content items associated with the digital magazine and page templates associated with content items to be subsequently presented. When identifying the additional page templates the digital magazine server also identifies an order associated with the additional page templates based on times when the additional page templates were used to present content items. By identifying additional page templates used to present content associated with the digital magazine the digital magazine server may increase the variety of layouts used to present content items by accounting for characteristics of the additional page templates to select one or more candidate page templates having different characteristics for presenting content items then the additional page templates.

Based on characteristics of the identified additional page templates associated with the digital magazine the digital magazine server determines weights associated with characteristics of various page templates. Example characteristics of a page template include a number of content items associated with a page template types of content items associated with a page template a percentage of content items associated with a page template having a certain type and dimensions associated with display regions in a page template. In some embodiments weights associated with characteristics of a page template are inversely proportional to a number of times the characteristic or a similar characteristic is associated with additional page templates associated with the digital magazine so a weight associated with a characteristic that is associated with less than a threshold number of additional page templates associated with the digital magazine has a higher weight than a weight associated with an additional characteristic associated with greater than the threshold number of additional page templates associated with the digital magazine. In various embodiments a weight associated with a characteristic of a page template may be determined based on a number of additional page templates previously used to present content from the digital magazine to the user having the characteristic a number of additional page templates selected to subsequently present content from the digital magazine having the characteristic or a number of additional page templates previously selected and subsequently selected to present content from the digital magazine.

In some embodiments a position of a page template relative to the additional page template affects the weights associated with one or more characteristics of the page template. For example a position in the digital magazine is associated with each page template used to present content associated with the digital magazine with the positions indicating an order in which page templates were used to present content. For example if content associated with the digital magazine has previously been presented using three additional page templates each of the additional page templates is associated with a position the first additional page template used to present content is associated with a first position while the second and third additional page templates used to present content are associated with a second and a third position respectively. The position in which a page template is used to display content may affect determination of weights associated with characteristics of the page template. In some embodiments a weight associated with a characteristic may be based at least in part on a function dependent on a position in which the page template is used to display content. For example a weight associated with a number of content items included in a page template is inversely proportional to a position in which the page template is used to present content so the number of content items included in the page template is weighted higher if the page template presents content in an early position e.g. a first or a second position and is weighted lower if the page template presents content in a later position. The function used to determine a weight associated with a characteristic of a page template may be periodic with a period specified by a threshold number of positions. Different functions may be used to determine weights associated with different characteristics of a page template so different characteristics are differently weighted.

Based on the weights associated with various characteristics of different page templates a template score is determined for each of the different page templates. For example the template score for a page template is a sum of the weights associated with the page template. A template score for a page template may be modified based on additional information associated such as the retrieved information describing content items associated with the digital magazine or the retrieved information describing user interaction with content items associated with the digital magazine. For example prior interactions between the user and content items associated with the digital magazine previously presented to the user may be used to modify a template score for a page template associated with content items having one or more characteristics e.g. source author topic type of content size etc. matching or similar to characteristics of content items with which the user previously interacted. Additionally an amount of modification to a template score may be based on a position in which a page template is to present content. If the user has at least a threshold frequency or amount of interaction with a particular type of content item a template score for a page template including display regions associated with the particular type of content item may be increased. In some embodiments the length of time with which a user interacts with one or more previously presented content items is used to determine user interaction with content items having various characteristics. For example a user accessing a content item for more than a threshold amounts of time indicates the user viewed the content item which is identified as a type of interaction with a content item that may be used to modify a template score associated with a page template including one or more display regions associated with content items having characteristics matching or similar to those of the content item. Attributes of a client device may also be used when determining prior user interactions with content items. For example different threshold amounts of time for determining a user viewed a content item are associated with mobile devices tablet computers and laptop computers.

Additionally content included in the retrieved content items may be used to modify template scores for various page templates. For example a type of content item associated with one or more display regions in a page template may increase or decrease the template score associated with the page template. In some embodiments an amount of modification to a template score based on a type of content item is based in part on a position in which a page template is to present content. For example a page template s template score is increased if it is for presentation in a position less than a threshold position and includes one or more display regions associated with content items identified as time sensitive e.g. sports scores news stories . A location associated with the client device on which content items are to be presented as well as a location associated with one or more content items may modify the template score associated with a page template. For example if one or more content items associated with display regions in a page template are also associated with a location within a threshold distance of a location of the client device a template score for the page template is increased.

Based on the template scores for various page templates one or more candidate page templates are selected from the one or more page templates. In one embodiment page templates are ranked based on their template scores and page templates having at least a threshold position in the ranking or having highest positions in the ranking are selected as candidate page templates. Alternatively page templates having at least a threshold template score are selected as candidate page templates. A page template is then selected from the candidate page templates as described above in conjunction with and further described below in conjunction with .

For example as shown in presentation of content items as a display area dimension is modified is based on the page template selected for presentation of the content items. For example a selected page template redistributes content items from their initial display regions F G H and I to alternative display regions J K L and M when a display area dimension is modified. In another embodiment the selected page template hides content items within one or more display regions from view when a display area dimension is modified as shown in . Alternatively the digital magazine server or an application executing on the client device and associated with the digital magazine server selects an additional page template for presenting additional content items if a display area dimension is modified e.g. if a display area dimension is increased . This allows dynamic modification of a section s layout based on modifications to the display area available for presenting the section presenting content items in a layout best suited to increase user engagement with the content items.

The candidate page templates are ranked based on their associated score. For example candidate page templates having a higher score have a higher position in the ranking. The ranking of candidate page templates is modified based on one or more characteristics of the candidate page template to increase the likelihood of diverse page templates being used to present content items. For example the scores of one or more candidate page templates are modified based on characteristics of the candidate page templates and the modified scores are used to modify the position of various candidate page templates in the ranking. This allows the digital magazine to provide a diverse presentation of content items to increase the likelihood of users accessing or interacting with the digital magazine.

For example a score associated with a candidate page template is modified based on a time interval when the candidate page template was previously used to present content items. In one embodiment a candidate page template s score is reduced if the candidate page template was previously selected within a threshold time interval of a current time. The candidate page template s score may be reduced by an amount that is inversely proportional to the time interval between the current time and a prior selection of the candidate page template for content item presentation. For example scores of candidate page templates selected within a threshold time interval from the current time are reduced by a greater amount than scores of candidate page templates selected greater than the threshold time interval. Similarly scores of candidate page templates previously selected greater than a threshold time interval from the current time may be increased which places these candidate page templates in a higher position within the ranking and increases the likelihood of their selection.

Additional characteristics of a candidate page template may be used to modify a score associated with the candidate page template which modifies its position within the ranking. For example scores associated with candidate page templates having a specified number of display regions or less than a threshold number of content regions are increased and the ranking is modified accordingly. As another example if the content items to be presented include at least one content item having a specified type a score associated with a page template including a single display region associated with the specified type of content item is increased hence a page template including a single display region for presenting an image may have its score increased to modify its position in the ranking increasing the likelihood of its selection if content items to be presented include at least one image.

Additionally the ranking may be modified based on a sequence of page templates provided by a source or by the user being presented with the content items. For example the sequence of page templates identifies an order for selecting page templates for presentation so a score associated with the initial page template in the sequence is increased to raise its position in the ranking and to increase the likelihood of its selection. After the initial page template is selected an indication that the initial page template was selected is generated and a score associated subsequent page template in the sequence of page templates is increased when a subsequent request to present content items is received by the digital magazine server or by a digital magazine application executing on a client device . This allows a user or a source to customize presentation of content items to the user.

From the modified ranking a page template is selected from the candidate page template. As described above in conjunction with a section displaying the one or more content items is generated using the selected candidate page template. While various examples of modifying a ranking of candidate page templates are provided above in conjunction with any suitable method for modifying the ranking may be used. For example rather than modifying the scores associated with various candidate page templates the position of various page templates in the ranking may be modified while the scores associated with the page templates remain unchanged.

One or more page templates as described above in conjunction with are stored in the template store or in a local storage device included in a client device . As described above in conjunction with a page template includes one or more display regions each configured to present one or more content items and describing a spatial arrangement of content items relative to each other on a section layout for presentation by a client device . The position of display regions relative to each other in a page template specify the position of content items relative to each other in a section generated from the page template. Similarly the size of a display region in a page template indicates the size with which a content item is presented.

A page template may include a display region that identifies a sub template to present content items within the display region according to the relative positioning and sizing specified by the identified sub template. In one embodiment a display region of a page template identifies a specific sub template when a section is generated using the page template content items included in the display region are presented using relative positioning and sizing information in the specific sub template. Alternatively a display region of a page template identifies that content items in the display region are presented based on a sub template when the page template is selected a sub template is selected from the sub template and the selected sub template is used to present content items. In another embodiment a display region of a page template identifies a group of sub templates when the page template is selected a sub template from the identified group is selected and content items are presented in the display region based on positioning and sizing information included in the selected sub template.

The digital magazine server or a digital magazine application executing on a client device receives a request to present content items from one or more sources via a digital magazine. Information describing the display area of the client device is included in the request as described above in conjunction with . For example physical dimensions of a display device of the client device are included in the request.

Based at least in part on the display area of the client device a page template is selected from the stored page templates. Selection of page templates is further described above in conjunction with . For example candidate page templates are identified based at least in part on the display area of the client device and each candidate page template is scored based on characteristics of the candidate page templates characteristics of the one or more content items and the display area. Based on the scores a display page template is selected from the candidate page templates.

If the selected page template includes a display region identifying a sub template a display sub template is selected from the stored sub templates. If the display region in the selected page template identifies a specific sub template the specific sub template is selected . However if the display region in the selected page template indicates use of a sub template to present content items at least a subset of the stored sub templates are ranked based on the display area of the client device and characteristics of the one or more content items to be presented. For example each stored sub templates are scored based on the amount of modification to one or more content items to present the content items in display regions of a sub template and the sub templates are ranked based on their scores. A sub template is selected based on the ranking. In some embodiments the display region in the selected page template identifies a group of sub templates so a sub template is selected from the identified group of sub templates for example each sub template in the group is scored and a display sub template is selected from the group based on the scores. The methods for selecting a page template described above in conjunction with may similarly be used to select a display sub template.

Using the selected page template and display sub template the digital magazine server or a digital magazine application executing on the client device generates a section including the content items from one or more sources . As described above in conjunction with the generated section includes content regions presenting one or more content items having locations relative to each other specified by the display regions in the selected page template. Similarly a content region corresponding to the display region identifying use of a sub template for content item presentation includes sub content regions having relative positioning and sizing specified by display regions in the selected sub template. As described above in conjunction with if the display area in which the generated section is modified an alternative page template and display sub template may be selected using the above described method and the modified display area allowing presentation of content items to be dynamically modified as the display area changes.

The foregoing description of the embodiments of the invention has been presented for the purpose of illustration it is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure.

Some portions of this description describe the embodiments of the invention in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations while described functionally computationally or logically are understood to be implemented by computer programs or equivalent electrical circuits microcode or the like. Furthermore it has also proven convenient at times to refer to these arrangements of operations as modules without loss of generality. The described operations and their associated modules may be embodied in software firmware hardware or any combinations thereof.

Any of the steps operations or processes described herein may be performed or implemented with one or more hardware or software modules alone or in combination with other devices. In one embodiment a software module is implemented with a computer program product comprising a computer readable medium containing computer program code which can be executed by a computer processor for performing any or all of the steps operations or processes described.

Embodiments of the invention may also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes and or it may comprise a general purpose computing device selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a non transitory tangible computer readable storage medium or any type of media suitable for storing electronic instructions which may be coupled to a computer system bus. Furthermore any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.

Embodiments of the invention may also relate to a product that is produced by a computing process described herein. Such a product may comprise information resulting from a computing process where the information is stored on a non transitory tangible computer readable storage medium and may include any embodiment of a computer program product or other data combination described herein.

Finally the language used in the specification has been principally selected for readability and instructional purposes and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the invention be limited not by this detailed description but rather by any claims that issue on an application based hereon. Accordingly the disclosure of the embodiments of the invention is intended to be illustrative but not limiting of the scope of the invention which is set forth in the following claims.

