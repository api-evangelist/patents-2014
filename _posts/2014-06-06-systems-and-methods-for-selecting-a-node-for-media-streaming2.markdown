---

title: Systems and methods for selecting a node for media streaming
abstract: Media devices may stream content from content delivery networks. Described herein are systems, devices, and methods for selecting nodes to improve content streaming. A selection server may select a node based on destination metrics provided by the media device. The destination metrics may include a variety of information such as information about the latency associated with the video stream, the bandwidth between the media device and the streaming node, or the throughput associated with the video stream. The selection server may compare the destination metrics with source metrics to determine which node to select.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09544346&OS=09544346&RS=09544346
owner: Amazon Technologies, Inc.
number: 09544346
owner_city: Reno
owner_country: US
publication_date: 20140606
---
Media devices may stream content from content delivery networks. Streaming content consumes resources such as hardware resources and network bandwidth resources. As the demand for the performance of video streaming changes the resources needed to meet the demand changes. Because the demand for the performance of the data processing tasks changes providing an efficient amount of resources needed to meet the changing demand becomes challenging.

Certain implementations and embodiments will now be described more fully below with reference to the accompanying figures in which various aspects are shown. However various aspects may be implemented in many different forms and should not be construed as limited to the implementations set forth herein. Like numbers refer to like elements throughout.

Media devices may stream content from content delivery networks. A content delivery network CDN may include a system of nodes located in multiple data centers across the Internet. The nodes may store and deliver the content to the media devices. The nodes may comprise computing devices such as servers. The media devices may comprise computing devices such as set top boxes tablet computers televisions mobile devices and so forth. Different nodes may have different characteristics that result in different qualities of content streaming. For example a node may cause a media device to display a relatively high quality version of a video but the node may cause other features to not have such high quality. For example the period of time between a user requesting for a video to play and media device playing the video may be a relatively large period of time. The period of time between the user requesting for a video to play and media device playing the video may be referred to as the startup latency. A second node may be configured to communicate with a media device such that the media device displays a relatively low quality version of a video but has relatively low startup latency. Different users of the media devices may rank these qualities differently. For example a user may consider viewing a high resolution picture more important than the size of the startup latency. Because the nodes may provide for different streaming experiences selecting a particular node may improve the viewing experience for a particular user. This disclosure relates to systems and methods for selecting nodes to optimize content streaming.

The system includes a selection server configured to select a node for streaming content. The selection may be based on a variety of factors. In one example the selection server selects a node based on metrics received from the media device. The metrics received from the media device may be referred to as destination metrics. The destination metrics may represent metric values indicative of measurements of operation or performance of the media device. For example the destination metrics may include quantitative information about latency associated with the streaming experience. The latency information may include the startup latency discussed above. A relatively long startup latency may frustrate the user of the media device. The selection server may select a node based on a determination that the selected node will improve or eliminate startup latency issues.

In another example the latency information includes trick play latency information. Trick play relates to the functions of navigating within the content. For example the trick play functions may include fast forward fast rewind slow forward slow rewind jump to previous frame jump to future frame and so forth. The trick play latency information may indicate the period of time between the user selecting a trick play operation to the time that the trick play operation begins. A relatively large trick play latency may frustrate the user of the media device. The selection server may select a node based on a determination that the selected node will improve or eliminate the trick play latency issue.

The selection server may select a node based on source metrics received from one or more CDNs. The source metrics may represent measurements of operations or performances of the nodes of the CDN. In some implementations the source metrics include at least one of processor usage data memory usage data or disk usage data. The source metrics may be generated by at least one of the nodes of the CDN or the selection server.

In some implementations the source metrics comprise a collection of historical information about operation or performance between particular media devices and particular nodes of the CDN. For example the selection server may collect historical information indicating that a particular media device has historically streamed relatively high quality video data from a particular node during the last three months.

Based on the destination metrics and the source metrics the selection server may select a particular node for streaming content to a particular media device. When the selection server selects a particular node the selection server may generate node selection data corresponding to the selected node. Using the node selection data the selection server may generate service call data representing a request for the identified node to provide certain content to the media device.

In some implementations while a media device streams content the selection server changes which node provides the streamed content. While the media device streams the content from a first node the media device may provide the destination metrics to the selection server. The selection server may analyze the destination metrics and determine that certain metrics have values that are less than certain threshold values. Based on this determination the selection server may cause the first node to terminate providing the content and cause a second node to begin providing the content to the media device. The second node may or may not be included within the same CDN as the first node.

By determining which node to provide content to the media device the content streaming experience may improve. For example latencies associated with startup or trick play may be reduced or eliminated by selecting a particular node that is configured to reduce or eliminate the latencies. The quality of the streamed content may be improved by selecting a node configured to provide a relatively high quality version of content when compared to other nodes.

The media devices . . . M may include televisions tablet computers personal computers set top boxes gaming consoles in vehicle entertainment systems portable media players and so forth. As used in this disclosure a letter within parenthesis such as M represents an integer value greater than zero. The media device includes or is communicatively coupled to one or more display output devices suitable for presenting video. The content may include video frames audio frames thumbnails metadata and other information. The content may be compatible with at least a portion of the MPEG 2 standard promulgated by the Motion Pictures Experts Group MPEG or the H.264 standard developed by the Video Coding Experts Group and the MPEG.

The media device may be coupled to a remote control not shown using a communication link. The remote control may serve as an input device or input output device for the media device . For example the remote control may include one or more of a touch sensor button accelerometer gyroscope camera microphone speaker haptic output device and so forth. The communication link may be optical radio frequency acoustic and so forth. In one implementation the communication link may use a personal area network interface such as one compliant with the Bluetooth specification. In some implementations the remote control may comprise another device such as a smartphone tablet computer and so forth which is communicatively coupled to the media device .

The media device may be operatively connected to a selection server using one or more networks. The selection server may comprise one or more computing devices configured to select one or more of a plurality of content delivery networks CDNs . . . X for providing the content to the media device . The CDN may comprise one or more nodes . . . N . The selection server may select a particular CDN or a particular node included within a CDN . In some implementations the node comprises one or more computing devices such as one or more servers. The nodes may or may not be similar in construction components modules and so forth. The nodes may work in conjunction with one another making computational requests to one another and providing responses to one another. In one example the node comprises a cluster of servers not shown configured to work in conjunction with one another to provide the content . In another example the node may comprise a peer to peer network having a decentralized and distributed network architecture in which a plurality of nodes act as both suppliers and consumers of resources. Different servers may include different content . Different CDNs may be operated by different business entities. The nodes of a CDN may be located in different locations. For example the node may be located in a first state and the node may be located in a second state that is 3 000 miles away from the first state. While a single selection server is depicted in some implementations the selection server or the functions attributed to the selection server may be provided by a plurality of devices. For example the selection server may exist as a virtualized server executing across a plurality of physical servers. CDNs may be added or removed from the system and nodes may be added or removed from a CDN .

The one or more networks may include a variety of networks such as a local network a wide area network WAN broadcast network a personal area network PAN a wired and wireless local area network LAN and so forth. In some implementations the network includes at least one of Ethernet Wi Fi as promulgated by the Wi Fi Alliance 3G and 4G Bluetooth as promulgated by the Bluetooth Special Interest Group and so forth. In some implementations the devices and systems described herein are configured to directly connect to each other.

The media device may include a user interface module configured to provide a user interface to the user and accept inputs responsive to the user interface. The user interface may include one or more visual audible or haptic elements. For example the user interface may be configured to provide a graphical user interface using the display that includes a control to navigate within the content .

The media device may include a presentation module configured to present content on or in conjunction with the media device . The presentation module may be configured to receive streamed content from an external source device such as the CDN . The presentation module may support digital rights management presentation of encrypted content and so forth. The presentation module may be configured to work in conjunction with the user interface module to allow the user to control presentation of the content .

The media device may include a destination metric module configured to generate destination metrics . The destination metrics may comprise data representing one or more metric values indicative of one or more measurements of operation or performance of the media device . The destination metrics may be expressed as one or more quantitative numbers having values for example between 1 and 1000. The destination metrics are discussed in more detail with regard to .

The selection server may be operatively connected to one or more CDNs . The node may include a source metric module configured to generate source metrics . The source metrics may comprise data representing one or more metric values indicative of one or more measurements of operation or performance of the node . The source metrics may be expressed as one or more quantitative numbers having values for example between 1 and 1000. The source metrics are discussed in more detail with regard to .

The selection server may include a selection module used to select one of a plurality of nodes to provide the content to the media device . The selection module may generate a node selection identifying the selected node . Using the node selection as an input a service call module may generate a service call . The service call may comprise data indicating a request for the node to provide the content to the media device . The selection server may provide the service call to a particular node based on the particular node identified in the node selection . For example in the node selection identifies the node as the node to provide the content to the media device . Using the node selection as an input the service call module generates the service call requesting the node to provide the content to the media device . In some implementations the selection module is configured to select the CDN for providing the content . Once the CDN is selected the CDN may determine which node will provide the content to the media device .

In some implementations the selection module determines the node selection for the media device in response to receiving a content request from the media device . The content request may comprise data identifying content requested by the user or the media device .

The selection module may generate the node selection based on the destination metrics . In one example the selection module compares the destination metrics with a datastore not shown that stores information about the nodes of the different CDNs . The information about the nodes stored by the datastore may include historical performance information indicating how the nodes have performed in the past. Based on the comparison the selection module may identify a particular CDN that may be suitable to provide the content .

In addition to the destination metrics the selection module may generate the node selection based on the source metrics . For example the selection module may compare the destination metrics with first source metrics associated with a first node and the selection module may compare the destination metrics with second source metrics associated with a second node . The comparisons may indicate the first node is configured to provide content at a high level of quality and the second node is configured to provide content at a low level of quality.

Although in the selection server and the CDNs are illustrated as being separate from one another in some implementations the selection server and one or more CDNs comprise a single information processing system.

Business entities may charge users for the usage of the node selection service. In one example a business entity charges a first user a first fee for a first quality level of service and the business entity charges a second user a second fee for a second quality level of service.

The latency may comprise data indicative of a value that represents information about the time interval between certain computational tasks. The latency may comprise startup latency indicating how much time is taken to begin playing content after the media device requests for the content to be played. In one example the startup latency is measured as the time period between the user selecting the play button to the time at which the first frame of the content is displayed on the display device of the media device .

The latency may comprise trick play latency. Trick play relates to the functions of navigating within the content . For example the trick play functions may include fast forward fast rewind slow forward slow rewind jump to previous frame jump to future frame and so forth. The trick play latency may comprise a value representing the time period between when the user selects a trick play operation to the time that the trick play operation begins.

The bandwidth may comprise a value that represents the data transfer rate between the media device and the CDN . The bandwidth may change from time to time. These changes in bandwidth may result from changes in network routing congestion at one or more points along the network and so forth. For example the bandwidth may be 1.5 megabits per seconds Mbps at time 0 drop to 0.75 Mbps at time 1 and increase to 1.6 Mbps at time 2. Bit or bits as used in this disclosure are indicative of a quantity of data transferred stored or otherwise manipulated for ease of discussion and not as a limitation. For example the quantity of data may be expressed as bytes.

The value of the bandwidth may be described as an instantaneous value or an average value. The instantaneous value may represent the bandwidth of a particular request for a piece of content . The average value may represent the average bandwidth between the media device and the CDN determined over a period of time.

The throughput may comprise data indicating quantities of processed transactions occurring over a period of time. For example the throughput may indicate that a first number of transactions processed during a first period of time and a second number of transactions processed over a second period of time. The transaction may comprise a request for performance of a data processing task. For example the transaction may comprise a request to provide a portion of the content .

The quality may comprise data about the quality of the content being presented by the media device . Based on the bandwidth available the media device may present different versions of the content . Each of these different versions may provide content of different quality. For example the different versions of the content may include a low quality low bitrate stream a medium quality medium bitrate stream and a high quality high bitrate stream.

The content description may comprise data about the content requested by the media device . The content description may include identification information that identifies the content being requested. The content description may indicate the genre of the content . For example the content description may indicate that the requested content has been categorized as an action movie. When compared to other categories of movies action movies may need a relatively higher bandwidth for a satisfactory presentation.

The location may comprise data indicating the location of the media device . The location may include geolocation data such as latitude longitude and altitude of the media device a street address room designation and so forth. In some implementations the location includes data that identifies the CDN that is closest to the media device .

The other data Y may include other information about the media device such as information that identifies the media device e.g. a MAC address or information that identifies hardware components of the media device . The hardware components may include processor components memory components and so forth.

As discussed in more detail below the source metrics may include at least one of processor usage memory usage disk usage network usage or other data Z . The processor usage may comprise data indicating a value representing an amount of processor usage of the node . The value may be expressed as a number such as between 1 and 1000 or a percentage.

The memory usage may comprise data indicating a value representing an amount of memory usage of the node . The value may be expressed as a number such as between 1 and 1000 or a percentage. The disk usage comprises data indicating a value representing an amount of disk usage of the node . The value may be expressed as a number such as between 1 and 1000 or a percentage.

The network usage comprises data indicating a value about network statistics. The value may be expressed as a number such as between 1 and 1000 or a percentage. The other data Z may include information such as latency bytes sent on network per second number of TCP connections number of cache lookups and so forth.

The computing device includes at least one input output I O interface that enables portions of the computing device e.g. the hardware processor to communicate with other devices. The I O interface may be configured to implement various protocols such as inter integrated circuit I2C serial peripheral interface bus SPI Universal Serial Bus USB RS 232 HDMI TOSLINK Bluetooth and so forth. The at least one I O interface may be operatively connected to at least one I O device . In some implementations certain I O devices are physically incorporated with the computing device or externally placed.

The at least one I O interface may be operatively connected to one or more I O devices . The I O devices may include input devices such as one or more of a keyboard a touch sensor and so forth. The I O devices may also include output devices such as one or more of a display printer and so forth. In some embodiments the I O devices may be physically incorporated with the computing device or may be externally placed and communicatively coupled thereto.

The computing device may include at least one communication interface . The communication interface may be configured to provide communications between the computing device and other devices routers access points and so forth. The communication interface may include an Ethernet interface that connects to the network.

The computing device may also include one or more busses or other internal communications hardware or software that allow for the transfer of data between the various modules and components of the computing device .

As illustrated in the computing device may include at least one memory or memory device. The memory may include at least one non transitory computer readable storage media CRSM . The CRSM may include at least one of an electronic storage medium a magnetic storage medium an optical storage medium a quantum storage medium or a mechanical computer storage medium. The memory may include computer readable instructions data structures program modules and other data for the operation of the computing device .

The memory may include at least one operating system OS module . The OS module may be configured to manage hardware resources such as the I O interface the I O devices the communication interface and provide various services to applications or modules executing on the hardware processor . The memory may also store at least one of the following modules that may be executed as foreground applications background tasks daemons and so forth.

The memory may include a user interface module configured to provide a user interface to the user or to the computing device . In one implementation the user interface may be a web interface presented via the network and accessible to the user . In another implementation the user interface may comprise an application programming interface API that enables communication such as sending requests for items from the computing device to the selection server .

The memory may include a presentation module that is configured to present information using output devices of the computing device . The presentation may include displaying the information using a display device of the computing device or producing audio using speakers of the computing device .

The memory may include the destination metric module configured to generate the destination metrics . The destination metrics may be generated while streaming content or based on the execution of benchmark tests using sample content streams. The destination metrics may comprise data representing one or more metric values indicative of one or more measurements of operation or performance of the media device .

The memory may include the source metric module configured to generate the source metrics . The source metrics may comprise data representing one or more metric values indicative of one or more measurements of operation or performance of the node . At least one of the selection server or the node includes the destination metric module .

The memory may include the selection module configured to select one of a plurality of nodes to provide the content to the media device . The selection module may generate the node selection identifying the selected node .

Using the node selection as an input the service call module may generate the service call . The service call may comprise data indicating a request for the node to provide the content to the media device . The selection server may provide the service call to a particular node based on the particular node identified in the node selection .

In some implementations the memory includes a datastore for storing information. The datastore may use a flat file database linked list tree or other data structure to store the information. In some implementations the datastore or a portion thereof may be distributed across at least one other device such as a server a network storage device and so forth. As illustrated in the datastore may include at least one of the content the destination metrics the source metrics the node selection the service call the content request score data or formula data . The datastore may include other data not shown which may include information such as administrator preferences account information associated with the user and so forth.

The selection module may be configured to generate the score data . The score data may represent a value or score that is determined for the media device based on the destination metrics . The score data may represent a value or score determined for each of a plurality of node based on the source metrics . The score data is discussed in more detail with regard to .

The selection module may be configured to generate the score data based on the formula data . The formula data may be configurable. The selection module may enable an administrative user of the computing device to configure the formula data applied to the destination metrics and the source metrics to determine the score data . For a media device or node an administrative user may desire to manage which metrics are used to generate the score based on a historical analysis of which metrics correspond to a higher quality of streaming. In some implementations the formula data is hard coded. When compared to configurable formula data hard coded formula data may be described as being more difficult to change.

The selection server includes the source metric module configured to generate the source metrics . In some implementations the source metrics are generated by the selection server and not generated by the CDNs . The source metric module may generate the source metrics by analyzing the data transactions between the media devices and nodes . For example the source metric module may store the destination metrics for a particular media device and associate these destination metrics with the node that is communicating with the media device during content streaming. Accordingly the source metrics depicted in may include previously generated destination metrics that are associated with different nodes .

The source metrics may include a datastore that includes historical information about content streaming performance between the media devices and the nodes . The selection module may analyze the historical information to determine whether certain periods of time indicate differences or trends in performance. For example an analysis of the bandwidth over a period of time e.g. the previous six months may indicate that during the evenings a higher amount of bandwidth exists between the media device and a first node when compared to the amount of bandwidth that exists between the media device and a second node . Based on this information the selection server may select the second node because more bandwidth exists resulting in a better user experience.

The selection module generates the node selection using the destination metrics and the source metrics as inputs. To determine which node to select the selection module may compare the destination metrics for the media device with different source metrics associated with different nodes . In this implementation the media device streams first content from a first node of the CDN . The media device generates destination metrics that indicate the presentation of the content has a trick play latency of 9 seconds. This period of time may cause frustration for the user of the media device . In this example the selection module is configured to determine whether to change the source of the content when certain destination metrics are greater than or equal to a threshold. In for the trick play latency the threshold may include a value of 5 seconds. Because the trick play latency is greater than the threshold the selection module searches for a node that may reduce the trick play latency. The selection module analyzes the source metrics and determines that a second node has historically provided content such that the trick play latency is less than 3 seconds. Based on this determination the selection module may generate node selection comprising information identifying the second node . The service call module may generate the service call that causes the first node to terminate providing the first content to the media device and causes the second node to begin providing second content to the media device . The first and second content may comprise copies of one another.

Under the first scenario the media device provides a content request that specifies which content to stream to the media device . For example the content request may include a request to stream a movie having the title TITLE A . The selection server receives the content request and in turn selects which node to request to stream the content to the media device . The selection server selects the node of the CDN and provides the service call to the node . Once the node receives the service call the node provides the content to the media device .

Under the second scenario the media device provides the destination metrics to the selection server . The selection server analyzes the destination metrics and determines to select a different node to provide the content . The determination to select another node may be based on a variety of factors. For example an analysis of the destination metrics may indicate that the bandwidth between the media device and the node is at or below a threshold value. In another example an analysis of the destination metrics may indicate that the trick play latency is at or above a threshold value.

The selection server determines to request for the node of the CDN to provide the content rather than the node of the CDN . The selection server may have determined to select the node based on an analysis of the source metrics generated for the different nodes of the different CDNs . The selection server provides the service call to the node of the CDN which causes the node to provide the content to the media device .

Once a determination has been made to switch from the node to the node the media device may perform various processing to facilitate the switch. In one example the media device streams the content from the node using a first communication port. Before terminating the content stream from the node the media device may establish communication with the node using a second communication port. Once communication is established with the node the node may receive a request to terminate the streaming of the content .

In the CDN includes the node . That is the selected node is located within a different CDN when compared to the node that is located in the CDN . In other implementations the node that is selected to provide the content is located within the same CDN .

For the media device the factors include at least one of latency bandwidth or throughput . For the nodes the factors include at least one of processor usage memory usage or disk usage .

The latency may represent a value that indicates information about a time interval between certain computational tasks. For the media device the value of the latency indicates a value of 55.00 . The value may be generated based on predetermined formulas or algorithms that are applied to the destination metrics . For example the destination metric module may generate the value of 55.00 by assigning a value of 5 for each millisecond of latency . Accordingly the value of 55.00 may indicate a latency of 11 milliseconds.

The formula data may include weight factors or weights . The weight factors are configured to allow configuration of how the score data is generated. The selection module may be configured to enable an administrative user to select or change one or more of the weight factors using an input device e.g. a keyboard .

In the weight factor is illustrated as a factor to develop a weighted mean wherein the value is multiplied by the weight factor . For example the weight factor may be set to less than one to diminish the impact of a particular factor or greater than one to increase the impact of a particular factor on the score data . In other implementations functions other than or in addition to the weighted mean may be used.

Continuing the example the value for the latency is given a relatively high weight factor of 0.95 while the throughput has a weight factor of 0.50 . As a result the value of the score data may be more significantly impacted by the latency than the throughput . The weight factors may be adjusted allowing for the weights to be tailored to particular analytical tasks.

The weighted values may be summed or otherwise combined to generate the value of the score data . Continuing the example in this illustration the media device has a total score of 84.35 the node has a total score of 102.60 and the node has a total score of 55.42 . Using these techniques the selection module is thus able to generate the score data . The selection module may select a node based on an analysis of the score data generated for the media device and the nodes . In one example the score data for the media device corresponds to an amount of hardware resources of a node that would be needed to cause the media device to operate at a desirable level. The score data for the media device includes a score of 84.35 indicating the need for a node to have a score of at least 84.35 to satisfy an acceptable level of performance of streaming content . In the node has a score of 102.60 indicating that the node has enough hardware resources to be able to provide the content at an acceptable level of performance. The node has a score of 55.42 indicating that the node does not include enough hardware resources to be able to provide the content at an acceptable level of performance. Accordingly the selection module may select the node to provide the content to the media device .

Other factors not shown may be used by the selection module to determine the score data . For example the selection module may use the destination metrics and source metrics depicted in as inputs to determine the score data .

Although the example depicted in includes the application of weights and the summation of weighted values in some implementations the score data is generated without using the weights and the summation of weighted values . In these implementations the score data depicted in for the media device may be determined by adding the values . Such a summation would result in the score data being 112.00 for the media device .

At the media device provides the destination metrics to the selection server . The media device may provide the destination metrics to the selection server in response to receiving a request to provide the destination metrics . The destination metrics may be generated while streaming content or based on the execution of benchmark tests using sample content streams. The destination metrics may be representative of quantitative measurements of content streaming performance. For example the destination metrics may comprise one or more of the values for the media device depicted in .

At the CDN provides to the selection server first source metrics associated with a first node and second source metrics associated with a second node . The first and second source metrics may be representative of measurements of performance of the first and second nodes . For example the source metrics may comprise one or more of the values and for the node and depicted in . The first node and the second node may be included within a single CDN or a first CDN may include the first node and a second CDN may include the second node .

At the selection server compares the destination metrics with the first source metrics to determine whether to select the first node to provide the first content . In one example the selection server compares a first score generated for the media device with a second score generated for the first node . The selection server may select the first node if the second score is at least above a threshold value.

At the selection server compares the destination metrics with the second source metrics to determine whether to select the second node to provide the second content . Continuing with the example the selection server compares the first score generated for the media device with a third score generated for the second node . The selection server may select the second node if the third score is at least above the threshold value.

At the selection server selects the first node based on the comparison of the destination metrics with the first source metrics and the comparison of the destination metrics with the second source metrics . In one example the destination metrics include data representative of an elapsed time from a play content command to content presentation. This data may include the startup latency described with regard to . In this example the selection server may select the first node in response to a determination that the first node is associated with providing content such that the elapsed time from the play content command to the content presentation is decreased.

At the selection server provides a request for the selected first node to provide the first content to the media device . For example the selection server may generate and provide the service call to the node .

At the CDN receives the request. At the CDN using the selected node provides the content to the media device . At the media device presents the content .

At the selection server accesses the destination metrics representative of a quantitative measurement of performance of the media device . In some implementations the destination metrics includes information other than quantitative measurements of performance. For example the destination metrics may include information about a user selection. The user selection may indicate a particular node that the user prefers. The selection server may select one or more nodes using the user selection information as an input.

At the selection server accesses first source metrics representative of a quantitative measurement of performance of a first node . The first source metrics may be generated by the node as depicted in or the first source metrics may be generated by the selection server as depicted in .

At the selection server accesses second source metrics representative of a quantitative measurement of performance of a second node of the CDN . The second source metrics may be generated by the node as depicted in or the second source metrics may be generated by the selection server as depicted in .

At the selection server selects the first node to stream the first content to the media device . The selection server may select the first node based at least in part on the destination metrics the first source metrics and the second source metrics . The selection of the first node is based on a comparison of the destination metrics with the first source metrics .

In one example the destination metrics include data representative of an elapsed time from a trick play content command to execution of the trick play command. This data may include the trick play latency described above with regard to . In this example the selection server may select the first node in response to a determination that the first node is configured to decrease the elapsed time from the trick play content command to the execution of the tick play command.

In some implementations the selection server selects the first node in response to a determination that a likely elapsed time for the first node is less than a likely elapsed time for the second node . A likely elapsed time for a particular node may be determined based on an analysis of historical information about the operation or performance of content streaming between the particular node and a particular media device .

In another example the destination metrics include data representative of a bandwidth between the media device and a node that is streaming content to the media device . In this example the selection server may select a particular node in response to a determination that the particular node is configured to increase the bandwidth . As discussed above with regard to the bandwidth may comprise instantaneous or average bandwidth .

In some implementations the selection server selects the first node in response to a determination that the first node is likely to provide a higher bandwidth when compared to the bandwidth that is likely to be provided by the second node . A particular bandwidth that is likely to be provided by a particular node may be determined based on an analysis of historical bandwidth information provided when streaming content from the particular node .

In another example the destination metrics include data representative of a throughput between the media device and a node that is streaming content to the media device . In this example the selection server may select a particular node in response to a determination that the particular node is configured to increase the throughput .

In some implementations the selection server selects the first node in response to a determination that the first node is likely to provide the content at a higher throughput when compared to the throughput that is likely to be provided by the second node . A particular throughput that is likely to be provided by a particular node may be determined based on an analysis of historical throughput information provided when streaming content from the particular node .

In another example the destination metrics include data representative of a quality bitrate stream of content streamed by the media device . The quality bitrate stream may be associated with a level of quality. For example the level of quality may comprise one of high quality medium quality or low quality. In this example the selection server may select a particular node in response to a determination that the particular node is configured to increase the level of quality of the bitrate stream of the content .

In some implementations the selection server selects the first node in response to a determination that the first node is likely to provide a higher quality bitrate stream when compared with the quality bitrate stream that is likely to be provided by the second node . A particular quality of bitrate stream that is likely to be provided by a particular node may be determined based on an analysis of historical bitrate streams provided when streaming content from the particular node .

At the selection server generates the node selection representative of the selected first node . At the selection server causes the selected node to provide the content to the media device .

At the selection server receives the destination metrics from a media device receiving first content from a first node . The destination metrics are representative of at least one measurement of performance of the media device .

At the selection server determines that at least one of the measurements of performance of the media device is equal to or less than a threshold measurement. At the selection server accesses first source metrics representative of a measurement of performance of a second node configured to provide second content to the media device . At the selection server accesses second source metrics representative of a measurement of performance of a third node configured to provide third content to the media device .

At the selection server determines that the measurement of performance of the second node is greater than the threshold measurement. The selection server may determine that the measurement of performance of the first node is less than or equal to the threshold measurement.

At the selection server generates node selection data representative of a selected node based on the determination that the measurement of performance of the second node is greater than the threshold measurement. In this example the selected node comprises the second node . The selection server may begin the process of generating the node selection in response to a determination that the measurement of performance of the media device is equal to or less than the threshold measurement.

At the selection server causes the first node to terminate providing the first content to the media device . At the selection server causes the selected node to provide the second content to the media device .

Those having ordinary skill in the art will readily recognize that certain steps or operations illustrated in the figures above can be eliminated or taken in an alternate order. Moreover the methods described above may be implemented as one or more software programs for a computer system and are encoded in a computer readable storage medium as instructions executable on one or more processors.

Embodiments may be provided as a computer program product including a non transitory computer readable storage medium having stored thereon instructions in compressed or uncompressed form that may be used to program a computer or other electronic device to perform processes or methods described herein. The computer readable storage medium can be any one of an electronic storage medium a magnetic storage medium an optical storage medium a quantum storage medium and so forth. For example the computer readable storage media may include but is not limited to hard drives floppy diskettes optical disks read only memories ROMs random access memories RAMs EPROMs EEPROMs flash memory magnetic or optical cards solid state memory devices or other types of physical media suitable for storing electronic instructions. Further embodiments may also be provided as a computer program product including a transitory machine readable signal in compressed or uncompressed form . Examples of machine readable signals whether modulated using a carrier or not include but are not limited to signals that a computer system or machine hosting or running a computer program can be configured to access including signals transferred by one or more networks. For example the transitory machine readable signal may comprise transmission of software by the Internet.

Separate instances of these programs can be executed on or distributed across separate computer systems. Thus although certain steps have been described as being performed by certain devices software programs processes or entities this need not be the case and a variety of alternative implementations will be understood by those having ordinary skill in the art.

Additionally those having ordinary skill in the art readily recognize that the techniques described above can be utilized in a variety of devices environments and situations. Although the present disclosure is written with respect to specific embodiments and implementations various changes and modifications may be suggested to one skilled in the art and it is intended that the present disclosure encompass such changes and modifications that fall within the scope of the appended claims.

