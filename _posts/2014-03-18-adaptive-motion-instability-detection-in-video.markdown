---

title: Adaptive motion instability detection in video
abstract: One or more apparatus and method for adaptively detecting motion instability in video. In embodiments, video stabilization is predicated on adaptive detection of motion instability. Adaptive motion instability detection may entail determining an initial motion instability state associated with a plurality of video frames. Subsequent transitions of the instability state may be detected by comparing a first level of instability associated with a first plurality of the frames to a second level of instability associated with a second plurality of the frames. Image stabilization of received video frames may be toggled first based on the initial instability state, and thereafter based on detected changes in the instability state. Output video frames, which may be stabilized or non-stabilized, may then be stored to a memory. In certain embodiments, video motion instability is scored based on a probability distribution of video frame motion jitter values.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09336460&OS=09336460&RS=09336460
owner: Intel Corporation
number: 09336460
owner_city: Santa Clara
owner_country: US
publication_date: 20140318
---
This application claims the benefit of U.S. Provisional Application 61 829 417 filed on May 31 2013 and titled ADAPTIVE SHAKINESS DETECTION FOR VIDEO STABILIZATION. 

A graphics engine graphics processing unit GPU or visual processing unit VPU is a specialized electronic circuit designed to rapidly manipulate and alter memory to accelerate the creation of images in a frame buffer typically intended for output to a display. GPUs may be found in embedded systems mobile phones tablets notebook computers high performance computation HPC servers and game consoles. In addition to manipulating computer graphics a highly parallel architecture also enables a GPU to more generally perform processing of large blocks of video stream and image data in parallel.

Video cameras are now ubiquitous in mobile electronic media devices. Video cameras are available in wearable form factors e.g. video capture earpieces video capture headsets video capture eyeglasses etc. as well as embedded within smartphones tablet computers and notebook computers etc. In many circumstances these devices capture image sequences i.e. video under non ideal conditions and the acquisition equipment is highly constrained by the mobile form factor. For example in situations such as filming from a moving vehicle or using an unsteady hand many videos show a high degree of undesirable motion instability or motion jitter i.e. shakiness . Even videos acquired in less severe conditions often show undesirable shaking.

Video stabilization aims at removing undesired shaky motion from videos. Although some capture devices provide mechanical image stabilization image processing techniques are often employed in the alternative or in addition to mechanical stabilization. Such image processing techniques typically involve calculating image motion and performing some form of frame warping to counter the calculated image motion. Stabilization via image processing can however severely degrade the visual quality of an input video particularly where the input video does not suffer significant motion instability or where the stabilization algorithm relies on assumptions ill suited to the input video.

Image processing based motion stabilization might be advantageously enabled only as needed based on a motion sensor such as gyroscope and or accelerometer. However such a front end solution can be readily applied only by the capture device which often may not have the needed processing resources and or secondary sensor capability.

One or more embodiments are described with reference to the enclosed figures. While specific configurations and arrangements are depicted and discussed in detail it should be understood that this is done for illustrative purposes only. Persons skilled in the relevant art will recognize that other configurations and arrangements are possible without departing from the spirit and scope of the description. It will be apparent to those skilled in the relevant art that techniques and or arrangements described herein may be employed in a variety of other systems and applications beyond what is described in detail herein.

Reference is made in the following detailed description to the accompanying drawings which form a part hereof and illustrate exemplary embodiments. Further it is to be understood that other embodiments may be utilized and structural and or logical changes may be made without departing from the scope of claimed subject matter. Therefore the following detailed description is not to be taken in a limiting sense and the scope of claimed subject matter is defined solely by the appended claims and their equivalents.

In the following description numerous details are set forth however it will be apparent to one skilled in the art that embodiments may be practiced without these specific details. Well known methods and devices are shown in block diagram form rather than in detail to avoid obscuring more significant aspects. References throughout this specification to an embodiment or one embodiment mean that a particular feature structure function or characteristic described in connection with the embodiment is included in at least one embodiment. Thus the appearances of the phrase in an embodiment or in one embodiment in various places throughout this specification are not necessarily referring to the same embodiment. Furthermore the particular features structures functions or characteristics described in the context of an embodiment may be combined in any suitable manner in one or more embodiments. For example a first embodiment may be combined with a second embodiment anywhere the particular features structures functions or characteristics associated with the two embodiments are not mutually exclusive.

As used in the description of the exemplary embodiments and the appended claims the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will also be understood that the term and or as used herein refers to and encompasses any and all possible combinations of one or more of the associated listed items.

As used throughout the description and in the claims a list of items joined by the term at least one of or one or more of can mean any combination of the listed terms. For example the phrase at least one of A B or C can mean A B C A and B A and C B and C or A B and C.

The terms coupled and connected along with their derivatives may be used herein to describe functional or structural relationships between components. It should be understood that these terms are not intended as synonyms for each other. Rather in particular embodiments connected may be used to indicate that two or more elements are in direct physical optical or electrical contact with each other. Coupled may be used to indicated that two or more elements are in either direct or indirect with other intervening elements between them physical optical or electrical contact with each other and or that the two or more elements co operate or interact with each other e.g. as in a cause an effect relationship .

Some portions of the detailed descriptions provide herein are presented in terms of algorithms and symbolic representations of operations on data bits within a computer memory. Unless specifically stated otherwise as apparent from the following discussion it is appreciated that throughout the description discussions utilizing terms such as calculating computing determining estimating storing collecting displaying receiving consolidating generating updating or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system s circuitry including registers and memories into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage transmission or display devices.

While the following description sets forth embodiments that may be manifested in architectures such system on a chip SoC architectures or GPU architectures for example implementation of the techniques and or arrangements described herein are not restricted to particular architectures and or computing systems and may be implemented by any architecture and or computing system for similar purposes. Various architectures employing for example multiple integrated circuit IC chips and or packages and or various computing devices and or consumer electronic CE devices such as set top boxes smartphones etc. may implement the techniques and or arrangements described herein. Further while the following description may set forth numerous specific details such as logic implementations types and interrelationships of system components logic partitioning integration choices etc. claimed subject matter may be practiced without such specific details. Furthermore some material such as for example control structures and full software instruction sequences may not be shown in detail in order not to obscure the material disclosed herein.

Certain portions of the material disclosed herein are implemented in hardware for example as logic circuitry in a graphics processor. Certain other portions may be implemented in hardware firmware software or any combination thereof. At least some of the material disclosed herein may also be implemented as instructions stored on a machine readable medium which may be read and executed by one or more processors graphics processors and or central processors . A machine readable medium may include any medium and or mechanism for storing or transmitting information in a form readable by a machine e.g. a computing device . For example a machine readable medium may include read only memory ROM random access memory RAM magnetic disk storage media optical storage media flash memory devices electrical optical acoustical or other similarly non transitory tangible media.

One or more system apparatus method and computer readable media are described below for adaptive motion instability detection in video. In the exemplary embodiments described in detail below image processing based video stabilization is predicated on the adaptive motion instability detection. However the adaptive motion instability detection techniques and systems described herein may also be utilized in other application spaces. Adaptive motion instability detection may entail determining an initial motion instability state associated with a plurality of video frames. Subsequent transitions of the instability state may then be detected by comparing a first level of instability associated with a first plurality of the frames to a second level of instability associated with a second plurality of the frames. Motion stabilization processing of received video frames may be toggled first based on the initial instability state and thereafter based on detected changes in the instability state. Output video frames which may be stabilized or non stabilized may then be stored to a memory. In certain embodiments video motion instability is scored based on a probability distribution of video frame motion jitter values.

In embodiments one or more of adaptive video stabilization systems A B or C include processor logic to detect the presence of video motion instability based solely on image processing. In further embodiments one or more of video stabilization systems A B or C include video processor logic to apply image stabilization processes selectively to video in response to detecting such motion instability. Motion instability detection and stabilization may be performed as part of a post production process for example by either adaptive video stabilization system A or B. Advantageously however instability detection and stabilization as described herein may be performed substantially in real time for example by adaptive video stabilization system C as video display device performs video play back. For embodiments where more than one of adaptive video stabilization systems A B and C perform image based instability detection and stabilization various associated detection and stabilization parameters may be specified for each allowing for multiple levels of stabilization particular to guidelines chosen by managers of the respective systems.

In exemplary embodiments video motion instability detection is adaptive including both an initial instability state detector and an instability state transition detector . Initial instability state detector includes logic to determine a level of motion instability in an input video and then to initiate motion compensation or not based on an initial instability threshold. Motion compensator is to apply video image stabilization algorithm s to video frames or not until such compensation is toggled by instability state transition detector in response detecting a change in video motion instability. In embodiments as described further below instability state transition detector includes logic to compare a first level of instability associated with a first plurality of video frames with a second level of instability associated with a second plurality of frames. An independent threshold may be applied to this comparison. In exemplary embodiments both initial instability state detector and instability state transition detector are coupled to jitter value buffer and include logic to utilize jitter values from buffer in their respective functions as is described further below. With this adaptive video stabilization architecture motion compensation may be advantageously turned on promptly e.g. within a few tens of frames and also turned on and off as needed throughout the duration of a video which may comprise many thousands of frames. The ability to adapt to changes in video motion instability substantially in real time may advantageously reduce the possibility that motion compensator performs unnecessarily and or to the detriment of image quality.

At operation motion instability within the video is monitored and or detected via analysis of video frames. In one exemplary embodiment operation entails a computation of motion jitter values for one or more frames. As an example motion jitter values may be determined for a given frame by subtracting out the smoothed camera trajectory computed at operation from the actual position associated with the video frame. As shown in method either proceeds to frame warping operation or bypasses application of such image stabilization as conditioned on the motion jitter value s . While any frame warping technique may be applied at frame warping operation it is noted than many techniques rely at least in part on motion jitter values to determine the proper image filter. Whereas stabilization typically utilizes motion jitter values on a frame by frame basis in embodiments herein motion instability detection is facilitated by buffering motion jitter values e.g. in jitter value buffer over a larger number of frames e.g. many tens of frames . In embodiments therefore motion jitter values are employed for assessing the need for video stabilization and or conditioning application of video stabilization as well as for actually stabilizing the frame. Consequently adaptive motion instability detection may require minimum addition computational complexity beyond that of basic non adaptive and or non conditional video stabilization. Method completes with storing output video frames e.g. stabilized and or unstabilized to a video memory at operation .

If the jitter value count threshold m is not yet satisfied e.g. count is less than m method proceeds to operation where the initial level of motion instability is determined. This initial level is then thresholded to determine the initial instability state. Where the initial level satisfies the threshold the initial video instability state State is deemed shaky. Where the initial level fails to satisfy the threshold Stateis deemed not shaky. The predetermined initial state threshold may again be a programmable parameter for example selectable by an application layer and configurable through a video processor driver. In embodiments operation entails determining an instability score for at least some of the first plurality of video frames that are collected up to reaching the jitter value count threshold m. Each instability score is indicative of motion jitter values associated with a predetermined number of prior video frames n . The motion instability score may be determined at operation over some number of subsets with the m jitter values. Depending on the number of jitter values in the subset relative to the jitter value count threshold m any number of instability scores may be generated at operation . Where m and n are equal for example one instability score determined at operation may be thresholded to determine the initial instability state. In the event that m is larger than n a plurality of instability scores determined at operation may be reduced to a statistic indicative all the scores accumulated over the motion jitter value count threshold m. This statistic may then be compared against the instability level threshold to determine the initial instability state.

An instability score may be determined through application of various algorithms at operation . In an exemplary embodiment a set of instability motion jitter values is tested for normality to determine levels of video motion. A premise of such a test is that shaky motion jitter within the x dimension or y dimension motion vector components is randomly distributed. As such the distribution of jitter values associated with a number of prior video frames may be scored based on the extent to which they follow a Gaussian distribution. A set of jitter values more normally distributed for example may be assigned a higher instability score while a set of jitter values less normally distributed may be assigned a lower instability score. Video stabilization may then be applied selectively to frames associated with a sufficiently high instability score i.e. in a shaky state .

As previously described instability scores may be accumulated up to the jitter value count threshold m at which point the accumulation statistic may be thresholded to determine an initial instability state from which subsequent transitions will be detected. In the exemplary embodiment illustrated in a cumulative average instability score is generated for each jitter value between at least Jand J. The cumulative average instability score may again be separated by x and y components or reduced into a worst case instability score etc. At operation image processing based motion stabilization is applied in response to the instability score statistic satisfying a predetermine threshold which may be user programmable through an application layer. The initial instability state and resulting application of image stabilization may be locked at the state determined based on a cumulative average instability score at frame m. In one such embodiment until frame m is received motion stabilization is applied on a per frame basis as a function of the instability score s corresponding to the received frame. For example a video frame i is deemed shaky if the cumulative average Gaussian distribution comparison results from a first frame e.g. associated with jitter value J to the current frame e.g. associated with jitter value J satisfies a predetermined level of instability e.g. 0.75 . Otherwise the current frame is considered a stable frame. Frame stabilization may therefore be toggled on as early as the frame associated with jitter value J. In an alternate embodiment no motion stabilization is applied to any frame until frame m is received and the initial instability state is defined based on the cumulative average instability score e.g. 0.75 at frame m . In either embodiment accumulation of instability scores within the first m frames allows for increased confidence in the determined instability state as jitter count threshold m becomes larger.

Returning to if the jitter value count threshold m is satisfied method proceeds to operation where instability state transitions are monitored. In the exemplary embodiment a change in stability level is thresholded. A predetermined state transition threshold may again be a programmable parameter for example selectable by an application layer and configurable through a video processor driver. Where the stability level change satisfies the threshold the video instability state State is toggled to the converse of the prior instability state State . Where the stability level change fails to satisfy the threshold the current instability state is maintained. Noting that instability detection may entail the analysis of two components x y of inter frame motion vectors instability state transitions may likewise take a number of forms where the before first or after second instability states may have instability in either or both the x and y components. is a state diagram illustrating state transitions monitored by an adaptive motion instability detection system in accordance with an embodiment. As depicted motion instability is present in each of states where there is motion shake in only x where there is motion shake in only y and where there is motion shake both x and y . Transitions from to any of states and to from the not shaky state is to be detected at operation in .

For one such an embodiment at a frame i 4n 2 jitter values are employed for instability state transition detection. The 4n 2 jitter values are equally divided into two groups illustrated as jitter value sample windows and respectively. In this exemplary embodiment where an instability score is determined from n video frames n instability scores may be generated for each group of 2n 1 jitter values associated with 2n 1 frames. In a further embodiment a normality test e.g. Lilliefor s HT is performed over n preceding jitter values to generate n instability scores indicative of jitter values associated with n frames just as for the initial motion instability determination described elsewhere herein. For example a HT score e.g. 0 or 1 may be determined for each frame associated with jitter value Jthrough Jwithin the jitter sample window . Likewise HT scores may be determined for each frame associated with jitter value Jthrough Jwithin the jitter sample window .

The first and second sets of n instability scores are then compared at operation . A statistic for each of the first and second sets of instability scores may be employed in the comparison. At operation motion stabilization may be applied in response to a difference between the first statistic e.g. associated with n first normality tests from jitter sample window and the second statistic e.g. associated with n second normality tests from jitter sample window satisfying a predetermined threshold. For example where the statistic is an average of the instability score over n motion jitter values the comparison performed at operation may be the absolute difference between a summation of the instability score over the n frames within jitter sample window and a summation of the instability score over the n frames within jitter sample window divided by n. Since the probability distributions of the jitter values should change to be more less Gaussian with changes in motion instability the absolute difference between the instability scores accumulated over the pair of jitter sample windows will deviate when the windows straddle the instability transition point e.g. between jitter values Jand Jin .

If the absolute difference satisfies the threshold at operation e.g. is of sufficiently large magnitude an instability state transition is deemed to have occurred and the application of motion stabilization to video frames subsequent to frame i is toggled. For example if motion stabilization was off as of frame i it is turned on at frame i and remains on until another instability state transition is subsequently detected using the same algorithm. Alternatively if motion stabilization was off as of frame i it is turned on at frame i and remains on until another instability state transition is subsequently detected. If the absolute difference fails to satisfy the threshold at operation the instability states over the last 4n 2 frames are deemed sufficiently similar for the video stabilization applied as of frame i e.g. stabilization either on or off to be maintained at frame i and thereafter until an instability state transition is subsequently detected.

In embodiments platform may include any combination of a chipset processor memory storage graphics processor applications and or radio . Chipset may provide intercommunication among processor memory storage graphics processor applications or radio . For example chipset may include a storage adapter not depicted capable of providing intercommunication with storage .

In embodiments platform may include any combination of a chipset processor memory storage graphics processor applications and or radio . Chipset may provide intercommunication among processor memory storage graphics processor applications or radio . For example chipset may include a storage adapter not depicted capable of providing intercommunication with storage .

Processor may be implemented as one or more Complex Instruction Set Computer CISC or Reduced Instruction Set Computer RISC processors x86 instruction set compatible processors multi core or any other microprocessor or central processing unit CPU . In embodiments processor may be a multi core processor s multi core mobile processor s and so forth.

Memory may be implemented as a volatile memory device such as but not limited to a Random Access Memory RAM Dynamic Random Access Memory DRAM or Static RAM SRAM .

Storage may be implemented as a non volatile storage device such as but not limited to a magnetic disk drive optical disk drive tape drive an internal storage device an attached storage device flash memory battery backed up SDRAM synchronous DRAM and or a network accessible storage device. In embodiments storage may include technology to increase the storage performance enhanced protection for valuable digital media when multiple hard drives are included for example.

Graphics processor may perform processing of images such as still or video media data for display or perform general computing functions in a highly parallel manner. Graphics processor may include one or more GPU or visual processing unit VPU for example. An analog or digital interface may be used to communicatively couple graphics processor and display . For example the interface may be any of a High Definition Multimedia Interface Display Port wireless HDMI and or wireless HD compliant techniques. Graphics processor may be integrated with central processor onto a single chip i.e. SoC as a graphics core or provided as part of chipset . In some implementations graphics processor may be a stand alone card communicatively coupled to chipset . In various exemplary embodiments graphics processor and or central processor invokes or otherwise implements video motion instability mediation processes. Graphics processor includes functionality to perform adaptive motion instability detection methods upon which video motion instability mediation processes may be predicated for example as described elsewhere herein.

The video motion instability mediation processes predicated upon adaptive motion instability detection as described herein may be implemented in various hardware architectures cell designs or IP cores. As still another embodiment the methods and functions described herein in the context of graphics processor may be extended to a general purpose processor including a multi core processor. In further embodiments the methods and functions may be implemented in a purpose built consumer electronics device such as a game console processor.

Radio may include one or more radios capable of transmitting and receiving signals using various suitable wireless communications techniques. Such techniques may involve communications across one or more wireless networks. Example wireless networks include but are not limited to wireless local area networks WLANs wireless personal area networks WPANs wireless metropolitan area network WMANs cellular networks and satellite networks. In communicating across such networks radio may operate in accordance with one or more applicable standards in any version.

In embodiments HID may include any television type monitor or display. HID may include for example a computer display screen touch screen display video monitor television like device and or a television. HID may be digital and or analog. In embodiments HID may be a holographic display. Also HID may be a transparent surface that may receive a visual projection. Such projections may convey various forms of information images and or objects. For example such projections may be a visual overlay for a mobile augmented reality MAR application. Under the control of one or more software applications platform may display user interface on HID .

In embodiments platform may receive control signals from navigation controller having one or more navigation features. The navigation features of controller may be used to interact with user interface for example. In embodiments navigation controller may be a pointing device that may be a computer hardware component specifically a human interface device that allows a user to input spatial e.g. continuous and multi dimensional data into a computer. Many systems such as graphical user interfaces GUI and televisions and monitors allow the user to control and provide data to the computer or television using physical gestures.

Movements of the navigation features of controller may be replicated on a display e.g. HID by movements of a pointer cursor focus ring or other visual indicators displayed on the display. For example under the control of software applications the navigation features located on navigation controller may be mapped to virtual navigation features displayed on user interface for example. In embodiments controller may not be a separate component but may be integrated into platform and or HID . The present disclosure however is not limited to the elements or in the context shown or described herein.

In embodiments system may be implemented as a wireless system a wired system or a combination of both. When implemented as a wireless system system may include components and interfaces suitable for communicating over a wireless shared media such as one or more antennas transmitters receivers transceivers amplifiers filters control logic and so forth. An example of wireless shared media may include portions of a wireless spectrum such as the RF spectrum and so forth. When implemented as a wired system system may include components and interfaces suitable for communicating over wired communications media such as input output I O adapters physical connectors to connect the I O adapter with a corresponding wired communications medium a network interface card MC disc controller video controller audio controller and the like. Examples of wired communications media may include a wire cable metal leads printed circuit board PCB backplane switch fabric semiconductor material twisted pair wire co axial cable fiber optics and so forth.

As described above system may be embodied in varying physical styles or form factors. illustrates embodiments of a small form factor device in which system may be embodied. In embodiments for example device may be implemented as a mobile computing device having wireless capabilities. A mobile computing device may refer to any device having a processing system and a mobile power source or supply such as one or more batteries for example.

Examples of a mobile computing device may include a personal computer PC laptop computer ultra laptop computer tablet touch pad portable computer handheld computer palmtop computer personal digital assistant PDA cellular telephone combination cellular telephone PDA television smart device e.g. smartphone tablet or smart television mobile internet device MID messaging device data communication device and so forth.

Examples of a mobile computing device also may include computers and or media capture transmission devices configured to be worn by a person such as a wrist computer finger computer ring computer eyeglass computer belt clip computer arm band computer shoe computers clothing computers and other wearable computers. In various embodiments for example a mobile computing device may be implemented as a smart phone capable of executing computer applications as well as voice communications and or data communications. Although some embodiments may be described with a mobile computing device implemented as a smart phone by way of example it may be appreciated that other embodiments may be implemented using other wireless mobile computing devices as well. The embodiments are not limited in this context.

As shown in device may include a housing a display an input output I O device and an antenna . Device also may include navigation features . Display may include any suitable display unit for displaying information appropriate for a mobile computing device. I O device may include any suitable I O device for entering information into a mobile computing device. Examples for I O device may include an alphanumeric keyboard a numeric keypad a touch pad input keys buttons switches rocker switches microphones speakers voice recognition device and software and so forth. Information also may be entered into device by way of microphone not shown or may be digitized by a voice recognition device. Embodiments are not limited in this context.

Embodiments described herein may be implemented using hardware elements software elements or a combination of both. Examples of hardware elements or modules include processors microprocessors circuitry circuit elements e.g. transistors resistors capacitors inductors and so forth integrated circuits application specific integrated circuits ASIC programmable logic devices PLD digital signal processors DSP field programmable gate array FPGA logic gates registers semiconductor device chips microchips chip sets and so forth. Examples of software elements or modules include applications computer programs application programs system programs machine programs operating system software middleware firmware routines subroutines functions methods procedures software interfaces application programming interfaces API instruction sets computing code computer code code segments computer code segments data words values symbols or any combination thereof. Determining whether an embodiment is implemented using hardware elements and or software elements may vary in accordance with any number of factors considered for the choice of design such as but not limited to desired computational rate power levels heat tolerances processing cycle budget input data rates output data rates memory resources data bus speeds and other design or performance constraints.

One or more aspects of at least one embodiment may be implemented by representative instructions stored on a machine readable storage medium. Such instructions may reside completely or at least partially within a main memory and or within a processor during execution thereof by the machine the main memory and the processor portions storing the instructions then also constituting a machine readable storage media. Programmable logic circuitry may have registers state machines etc. configured by the processor implementing the computer readable media. Such logic circuitry as programmed may then be understood to have been physically transformed into a system falling within the scope of the embodiments described herein. Instructions representing various logic within the processor which when read by a machine may also cause the machine to fabricate logic adhering to the architectures described herein and or to perform the techniques described herein. Such representations known as cell designs or IP cores may be stored on a tangible machine readable medium and supplied to various customers or manufacturing facilities to load into the fabrication machines that actually make the logic or processor.

While certain features set forth herein have been described with reference to embodiments this description is not intended to be construed in a limiting sense. Hence various modifications of the implementations described herein as well as other implementations which are apparent to persons skilled in the art to which the present disclosure pertains are deemed to be within the spirit and scope of the present disclosure.

In first embodiments a computer implemented video processing method includes receiving video frames determining an initial state of motion instability associated with a plurality of the frames and monitoring for a motion instability state transition by comparing a first level of instability associated with a first plurality of the frames with a second level of instability associated with a second plurality of the frames. The method further includes toggling image stabilization of received video frames based on the initial instability state and based on an instability state transition and storing the stabilized or non stabilized video frames to a memory.

In furtherance of the first embodiments toggling the image stabilization further includes applying motion stabilization to received video frames in response to an initial level of instability satisfying a first threshold and until the change in the level of instability satisfies a second threshold. Alternatively toggling the image stabilization further includes bypassing motion stabilization in response to the initial level of instability failing to satisfy the first threshold and until the change in the level of instability satisfies the second threshold.

In furtherance of the first embodiments determining the initial instability state further includes computing a motion jitter value for each of a first plurality of video frames. Determining the initial instability state further includes determining a first instability score for at least some of the first plurality of video frames each score indicative of motion jitter values associated with a predetermined number of prior video frames. Determining the initial instability state further includes determining a statistic indicative of first instability scores accumulated over the predetermined number of first motion jitter values. Determining the initial instability state further includes comparing the statistic against a threshold.

In furtherance of the first embodiments determining the initial instability state further includes computing a motion jitter value for each of a first plurality of video frames. Determining the initial instability state further includes determining a first instability score for at least some of the first plurality of video frames each score based on a comparison between the Gaussian distribution and a distribution of the motion jitter values associated with a predetermined number of prior video frames. Determining the initial instability state further includes determining an average of the first instability scores over the predetermined number of first motion jitter values. Determining the initial instability state further includes comparing the average against a threshold.

In furtherance of the first embodiments determining the initial instability state further includes computing first motion jitter values for video frames until a predetermined number of first motion jitter values have been computed. Determining the initial instability state further includes determining a first instability score indicative of one or more of the first motion jitter values. Determining the initial instability state further includes determining a first statistic indicative of the first instability scores accumulated over the predetermined number of first motion jitter values. Monitoring for the motion instability state transition further includes computing second motion jitter values for video frames after the predetermined number of jitter values has been computed. Monitoring for the motion instability state transition further includes thresholding a comparison between one or more of the first instability scores and one or more second instability scores indicative of the second motion jitter values.

In furtherance of the first embodiments determining levels of motion instability further includes computing a motion jitter value for each of a plurality of video frames. Determining levels of motion instability further includes testing the motion jitter values for normality. Toggling the image stabilization based on the initial instability state further includes applying motion stabilization to received video frames in response to the motion jitter values satisfying the normality test. Toggling the image stabilization based on the initial instability state further includes bypassing motion stabilization in response to the motion jitter values failing the normality test.

In furtherance of the first embodiments determining levels of motion instability further includes computing a motion jitter value for each of a plurality of video frames. Determining levels of motion instability further includes testing the motion jitter values for normality. Toggling the image stabilization based on the change in the level of instability further includes modifying the application of motion stabilization to received video frames in response to a difference between a first statistic associated with a first plurality of normality tests and a second statistic associated with a second plurality of normality tests satisfying a threshold. Toggling the image stabilization based on the change in the level of instability further includes maintaining the application of motion stabilization in response to the difference between the first and second statistic failing to satisfy the threshold.

In furtherance of the first embodiments monitoring for the motion instability state transition further includes computing a motion jitter value for each of a first plurality of video frames. Monitoring for the motion instability state transition further includes determining a first instability score for at least some of the first plurality of video frames each score indicative of motion jitter values associated with a predetermined number of prior video frames. Monitoring for the motion instability state transition further includes determining a first statistic of the first instability scores. Monitoring for the motion instability state transition further includes computing a motion jitter value for each of a second plurality of video frames. Monitoring for the motion instability state transition further includes determining a second instability score for at least some of the second plurality of video frames each score indicative of motion jitter values associated with the predetermined number of prior video frames. Monitoring for the motion instability state transition further includes determining a second statistic of the second instability scores. Monitoring for the motion instability state transition further includes comparing a threshold to a difference between the first and second statistic.

In furtherance of the first embodiments receiving video frames further comprises receiving a video frame i. Determining the initial motion instability state associated with a plurality of the frames further includes computing a jitter value for each of n consecutive video frames inclusive of jitter values Jand J. Determining the initial motion instability state associated with a plurality of the frames further includes determining an instability score for each of the n video frames wherein each of the instability scores is based on a hypothesis test comparing a Gaussian distribution with a distribution of the motion jitter values associated with n frames. Determining the initial motion instability state associated with a plurality of the frames further includes averaging the instability scores over the n video frames. Toggling image stabilization of received video frames based on the initial instability state further includes toggling motion stabilization to video frames received after frame i in response to the averaged instability score satisfying a first threshold.

In furtherance of the embodiment described above monitoring for the motion instability state transition further includes computing a motion jitter value for each of 4n 2 consecutive video frames inclusive of 2n 1 frames associated with jitter values Jthrough Jand 2n 1 frames associated with jitter values Jand J. Monitoring for the motion instability state transition further includes determining a first instability score for each of n video frames ending with video frame associated with jitter value J wherein each of the first instability scores is based on a hypothesis test comparing a Gaussian distribution with a distribution of the motion jitter values associated with n frames. Monitoring for the motion instability state transition further includes averaging the first instability scores over n video frames. Monitoring for the motion instability state transition further includes determining a second instability score for each of n video frames ending with video frame i wherein each of the second instability scores is based on the hypothesis test. Monitoring for the motion instability state transition further includes averaging the second instability scores over n video frames and comparing a second threshold to a difference between the first and second averaged instability score. Toggling image stabilization of received video frames based on the change in the level of instability further includes modifying the application of motion stabilization to received video frames in response to the difference between the first and second averaged instability score satisfying the second threshold. Toggling image stabilization of received video frames based on the change in the level of instability further includes maintaining an application of motion stabilization in response to the difference between the first and second averaged instability score failing to satisfy the second threshold.

In second embodiments a processor includes logic circuitry to receive video frames. The processor includes motion instability detection logic circuitry to determine an initial motion instability state associated with a plurality of the frames. The processor includes motion instability detection logic circuitry to monitor for a motion instability state transition by comparing a first level of instability associated with a first plurality of the frames with a second level of instability associated with a second plurality of the frames. The processor includes motion instability detection logic circuitry to toggle image stabilization of video frames based on the initial motion instability state and based on a motion instability state transition.

In furtherance of the second embodiments the motion instability detection logic circuitry is further to apply motion stabilization to received video frames in response to an initial level of instability satisfying a first threshold and until the change in the level of instability satisfies a second threshold. The motion instability detection logic circuitry is further to bypass motion stabilization in response to the initial level of instability failing to satisfy the first threshold and until the change in the level of instability satisfies the second threshold.

In furtherance of the second embodiments the motion instability detection logic circuitry is to compute first motion jitter values for video frames until a predetermined number of first motion jitter values have been computed. The motion instability detection logic circuitry is to determine a first instability score indicative of one or more of the first motion jitter values. The motion instability detection logic circuitry is to determine a statistic indicative of first instability scores accumulated over the predetermined number of first motion jitter values. The motion instability detection logic circuitry is to toggle the image stabilization based on the statistic. The motion instability detection logic circuitry is further to compute second motion jitter values for video frames after the predetermined number of jitter values has been computed. The motion instability detection logic circuitry is further to threshold a comparison between the first instability score and a second instability score indicative of one or more of the second motion jitter values and toggle the image stabilization based on the comparison.

In furtherance of the second embodiments the motion instability detection logic circuitry is to compute a motion jitter value for each of a plurality of video frames. The motion instability detection logic circuitry is to test the motion jitter values for normality. The motion instability detection logic circuitry is to perform motion stabilization on received video frames in response to the motion jitter values satisfying the normality test. The motion instability detection logic circuitry is to bypass motion stabilization in response to the motion jitter values failing the normality test.

In furtherance of the second embodiments the motion instability detection logic circuitry is to compute a motion jitter value for each of a plurality of video frames. The motion instability detection logic circuitry is to test the motion jitter values for normality. The motion instability detection logic circuitry is to modify application of motion stabilization to received video frames in response to a difference between a first statistic associated with a first plurality of normality tests and a second statistic associated with a second plurality of normality tests satisfying a threshold. The motion instability detection logic circuitry is to maintain application of motion stabilization in response to the difference between the first and second statistic failing to satisfy the threshold.

In furtherance of the second embodiments the motion instability detection logic circuitry is to compute a motion jitter value for each of a first plurality of video frames. The motion instability detection logic circuitry is to determine a first instability score for at least some of the first plurality of video frames each score based on a comparison between the Gaussian distribution and a distribution of the motion jitter values associated with a predetermined number of prior video frames. The motion instability detection logic circuitry is to determine an average of the first instability scores. The motion instability detection logic circuitry is to compare the average of the first instability scores against a threshold.

In third embodiments a video processing system includes one or more processor to receive video frames. The one or more processor is further to determine an initial motion instability state associated with a plurality of the frames. The one or more processor is further to monitor for a motion instability state transition by comparing a first level of instability associated with a first plurality of the frames to a second level of instability associated with a second plurality of the frames. The one or more processor is further to toggle image stabilization of received video frames based on the initial instability state and based on an instability state transition. The video processing system further includes a memory coupled to the one or more processor to store the stabilized or non stabilized video frames.

In furtherance of the third embodiments the video processing system further includes a display device coupled to the memory to display the stabilized or non stabilized video frames.

In one or more fourth embodiment one or more computer readable storage medium has instructions stored thereon which when executed by a processor cause the processor to perform a method including determining an initial motion instability state associated with a plurality of video frames. The instructions further cause the processor to perform the method including monitoring for a change in the motion instability by comparing a first level of instability associated with a first plurality of the frames with a second level of instability associated with a second plurality of the frames. The instructions further cause the processor to perform the method including toggling image stabilization of received video frames based on the initial instability state and based on a change in the instability state. The instructions further cause the processor to perform the method including storing the stabilized or non stabilized video frames to a memory.

In furtherance of the fourth embodiments one or more computer readable storage medium further includes instructions to cause the processor to perform a method wherein determining the initial instability state further includes computing first motion jitter values for video frames until a predetermined number of first motion jitter values have been computed. The instructions further cause the processor to perform the method including determining a first instability score indicative of one or more of the first motion jitter values. The instructions further cause the processor to perform the method including determining a first statistic indicative of the first instability scores accumulated over the predetermined number of first motion jitter values. The instructions further cause the processor to perform the method including monitoring for the motion instability state transition by computing second motion jitter values for video frames after the predetermined number of jitter values have been computed and thresholding a comparison between one or more of the first instability scores and one or more second instability scores indicative of the second motion jitter values.

It will be recognized that the embodiments are not limited to the exemplary embodiments so described but can be practiced with modification and alteration without departing from the scope of the appended claims. For example the above embodiments may include specific combination of features. However the above embodiments are not limited in this regard and in embodiments the above embodiments may include the undertaking only a subset of such features undertaking a different order of such features undertaking a different combination of such features and or undertaking additional features than those features explicitly listed. Scope should therefore be determined with reference to the appended claims along with the full scope of equivalents to which such claims are entitled.

