---

title: Light-based finger gesture user interface
abstract: A finger gesture user interface for an electronic device, including a housing for an electronic device including a front opening in a front outer surface of the housing, a rear opening in a rear outer surface of the housing, and inner sidewalls extending from the front opening to the rear opening to form a cavity, a display, mounted in the housing along a plane transverse to the front and rear openings, for rendering a 3D realm, a detector mounted in the inner sidewalls, operable to detect translation of a finger inserted in the cavity along a dimension of the cavity transverse to the display plane, and a processor connected to the detector and to the display for interpreting the detected finger translation as a user interface input command to move within the 3D realm along the dimension transverse to the display.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08884926&OS=08884926&RS=08884926
owner: Neonode Inc.
number: 08884926
owner_city: Santa Clara
owner_country: US
publication_date: 20140715
---
This application is a continuation of U.S. patent application Ser. No. 13 854 074 entitled LIGHT BASED FINGER GESTURE USER INTERFACE and filed on Mar. 30 2013 by inventors Thomas Eriksson Per Leine Jochen Laveno Mangelsdorff Robert Pettersson Anders Jansson and Magnus Goertz. U.S. patent application Ser. No. 13 854 074 is a continuation of U.S. patent application Ser. No. 13 424 592 now U.S. Pat. No. 8 416 217 entitled LIGHT BASED FINGER GESTURE USER INTERFACE and filed on Mar. 20 2012 by inventors Thomas Eriksson Per Leine Jochen Laveno Mangelsdorff Robert Pettersson Anders Jansson and Magnus Goertz. U.S. patent application Ser. No. 13 424 592 claims priority benefit of U.S. Provisional Patent Application No. 61 564 868 entitled LIGHT BASED FINGER GESTURE USER INTERFACE filed on Nov. 30 2011 by inventors Thomas Eriksson Per Leine Jochen Laveno Mangelsdorff Robert Pettersson and Anders Jansson. U.S. patent application Ser. No. 13 424 592 is a continuation in part of U.S. patent application Ser. No. 12 760 568 entitled OPTICAL TOUCH SCREEN SYSTEMS USING WIDE LIGHT BEAMS and filed on Apr. 15 2010 by inventors Magnus Goertz Thomas Eriksson and Joseph Shain. U.S. patent application Ser. No. 12 760 568 claims priority benefit of i U.S. Provisional Patent Application No. 61 169 779 entitled OPTICAL TOUCH SCREEN and filed on Apr. 16 2009 by inventors Magnus Goertz Thomas Eriksson and Joseph Shain ii U.S. Provisional Patent Application No. 61 171 464 entitled TOUCH SCREEN USER INTERFACE and filed on Apr. 22 2009 by inventor Magnus Goertz and iii U.S. Provisional Patent Application No. 61 317 255 entitled OPTICAL TOUCH SCREEN WITH WIDE BEAM TRANSMITTERS AND RECEIVERS and filed on Mar. 24 2010 by inventor Magnus Goertz. U.S. patent application Ser. No. 12 760 568 is a continuation in part of U.S. patent application Ser. No. 12 371 609 now U.S. Pat. No. 8 339 379 entitled LIGHT BASED TOUCH SCREEN and filed on Feb. 15 2009 by inventors Magnus Goertz Thomas Eriksson and Joseph Shain. U.S. patent application Ser. No. 12 371 609 is a continuation in part of U.S. patent application Ser. No. 10 494 055 now U.S. Pat. No. 7 880 732 entitled TOUCH SCREEN FOR MOBILE TELEPHONE and filed on Apr. 29 2004 by inventor Magnus Goertz. U.S. patent application Ser. No. 10 494 055 is a 371 national phase of PCT SE02 02000 entitled ON A SUBSTRATE FORMED OR RESTING DISPLAY ARRANGEMENT and filed on Nov. 4 2002 by inventor Magnus Goertz.

Many consumer electronic devices are now being built with touch sensitive screens for use with finger or stylus touch user inputs. These devices range from small screen devices such as mobile phones and car entertainment systems to mid size screen devices such as notebook computers to large screen devices such as check in stations at airports.

User input to a touch sensitive screen has evolved from basic screen taps to sweep gestures and to more elaborate pinch gestures involving coordinated simultaneous input from two or more fingers. One of the drawbacks of touch screen input is that the user s hand blocks the user s view of the screen. This is especially true with two finger pinch gestures where the two fingers span a screen diagonal.

It will thus be appreciated that conventional touch screens are not ideal for finger gesture input. It would be beneficial to provide an economic and aesthetic touch screen device that provides an input zone for finger gesture input that does not obstruct view of the screen.

Aspects of the present invention provide a light based user interface that detects and identifies finger gestures within a hollow cavity or a recessed cavity of an electronic device. The finger gestures may be one finger gestures such as sliding of a finger or multi finger gestures such as a two finger rotation a two finger pinch or a two finger spread.

Further aspects of the present invention provide a light based user interface that detects position and orientation of an object inserted within a three dimensional cavity space which has application to three dimensional touch recognition and to three dimensional modeling.

There is thus provided in accordance with an embodiment of the present invention a light based finger gesture user interface for an electronic device including a housing for an electronic device a display mounted in the housing a cavity separated from the display penetrating two opposite sides of the housing a detector mounted in the housing operative to detect an object inserted in the cavity and a processor connected to the detector and to the display for causing the display to render a visual representation in response to output from the detector.

There is additionally provided in accordance with an embodiment of the present invention a light based finger gesture user interface for an electronic device including a housing for an electronic device a display mounted in the housing for rendering output generated by an application program a cavity separated from the display penetrating two opposite sides of the housing a sensor mounted in the housing operative to detect an object inserted in the cavity and a processor in the housing connected to the display and to the sensor for executing the application program for receiving output of the sensor and for providing input to the application program based on at least one of five location and orientation attributes of the object inserted inside the cavity location along an x axis location along a y axis location along a z axis polar angle in the xy plane and polar angle in the yz plane.

There is further provided in accordance with an embodiment of the present invention a three dimensional modeling system including a handheld housing a display mounted in the housing a cavity separated from the display penetrating the housing a plurality of emitters mounted in the housing that emit light pulses into the cavity a plurality of receivers mounted in the housing that detect the light pulses and a calculating unit mounted in the housing and connected to the receivers and to the display for determining contours of an object inserted in the cavity along two dimensions based on outputs of the receivers wherein the calculating unit executes a series of such determinations over a time interval during which time interval the object inserted in the cavity is translated along a plane normal to the cavity to generate a series of two dimensional scans of contiguous sections of the object and wherein the calculating unit assembles therefrom a three dimensional model of the object and causes the display to render the model.

There is additionally provided in accordance with an embodiment of the present invention an electronic device including a light based touch screen display and a cavity separated from the display penetrating two opposite sides of the housing for providing light based detection of user gestures performed in the cavity. Both the light based touch screen display and the finger gesture cavity are surrounded by pluralities of emitters and receivers mounted in the housing operative to detect objects touching the screen or inserted in the cavity respectively. A controller in the housing is connected to both sets of emitters and receivers for executing scan sequences thereon and a processor is provided in the housing to receive the respective detection signals and determine the location of one or more touches on the screen and also to determine a user gesture of an object inserted inside the cavity.

Aspects of the present invention relate to user input to electronic devices and in particular to a hollow cavity or a recessed cavity provided in a device housing separate from the device display operable to detect user input gestures performed in the cavity. The input gestures may be one finger gestures such as sliding a finger or multi finger gestures such as a two finger rotation a two finger pinch or a two finger spread. The present invention further provides a light based user interface that detects position and orientation of an object inserted within the cavity which has application to three dimensional touch recognition and to three dimensional modeling as described hereinbelow. The invention is described with regard to light based detection apparatus but other detection methods such as acoustic methods are also within the scope of the invention.

For clarity of exposition throughout the present specification the term emitter is used as a generic term to refer to a light emitting element including inter alia a light emitting diode LED and the output end of a fiber optic or tubular light guide that outputs light into a lens or reflector that directs the light over a display surface or into a cavity. The term receiver is used as a generic term to refer to a light detecting element including inter alia a photo diode PD and the input end of a fiber optic or tubular light guide that receives light beams that traversed a display surface or cavity and directs them to a light detecting element or to an image sensor the image sensor being inter alia a charge coupled device CCD or a complementary metal oxide semiconductor CMOS image sensor.

According to embodiments of the present invention a subsystem is provided as a complement to a touch screen display providing new types of user interaction as well as many functionalities provided by a mouse input device but absent in finger based touch screens. Physically the device contains a display with a touch sensor combined with a fixed or foldable complementary optical sensor that allows items to be tracked inside an open frame. The open frame may be integrated into the device in a fixed manner or as a foldable frame.

Prior art display touch sensors provide 2 1 input dimensions i.e. X Y and Z where Z is typically only a binary dimension to distinguish touch from non touch although limited continuous dimension sensing is technically possible. Using a Z dimension on a touch screen has a disadvantage in that the further away from the XY plane the finger is located the more of the display image is covered from visibility due to the parallax effect between the eye and the display.

When combined with the user input cavity of the present invention a touch screen is used for item selection in a manner similar to ordinary user interface UI solutions. The user input cavity subsystem of the present invention provides extra dimensions of user input for context interaction with the item selected on the touch screen. One such interaction is an object selected on the touch display with one hand and then changed in appearance though the user input cavity with the other hand. This combination provides a unique user input experience and makes user interaction more efficient. It also enables restoring mouse input functions by mimicking scroll wheel functions right or middle button clicks as well as combined control button and clicks.

According to embodiments of the present invention a user input cavity for detecting user gestures is provided in a device housing separate from the device display. Reference is made to which is a simplified illustration of a device having a cavity for finger gesture user input that uses light based detection and a finger performing a translation gesture therein in accordance with an embodiment of the present invention. shows an electronic device having a display and a hollow user interface cavity contained in a housing . Cavity penetrates two opposite sides of housing . A finger is shown performing a translation gesture sliding along the length of cavity as indicated by the arrow inside cavity .

Cavity includes one or more emitters including inter alia infra red or near infra red light emitting diodes LEDs and a plurality of receivers including inter alia photo diodes PDs arranged along the cavity perimeter. Reference is made to which is a simplified illustration of device with both display and cavity using light based detection in accordance with an embodiment of the present invention. shows two stacked rows of emitters and receivers surrounding the perimeter of cavity .

Reference is made to which is an enlarged view of the lower left portion of device in accordance with an embodiment of the present invention. The lower left corner of device where emitters and receivers are situated is magnified in . Emitters project light into cavity and the light is detected by receivers . An object such as a finger or a stylus inserted into the cavity blocks some of the light beams and correspondingly some of receivers detect less light intensity. The geometry of the locations of receivers and the light intensities they detect suffice to determine cavity space coordinates of the inserted object. Emitters and receivers are controlled for selective activation and de activation by a controller. Generally each emitter and receiver has I O connectors and signals are transmitted to specify which emitters and which receivers are activated.

The user input cavity detectors determine a Euclidean space aligned to the plane bound by the input cavity frame and extending along the normal of that plane. Depending upon the mechanical design this space is oriented differently relative to the space defined by the display plane and its normal. The coordinates of the user input cavity space are denoted X Y and Z and the rotational angles around these axes are denoted and respectively. The two finger distance scalar grip is called the S coordinate. These coordinates are now described.

TABLE I summarizes the input coordinates provided by the cavity subsystem. TABLE I does not include the display touch subsystem.

The X and Y coordinates are along the plane bound by the cavity frame edges. These coordinates accurately cover the area bounded by the edges. The Z coordinate extends along the normal of the plane bound by the cavity edges in effect measuring how far an object is inserted into the cavity. Detection along the Z dimension is accurate within a small range defined by the distance between the sensing layers. Detection within the accuracy range is based upon the differential of the signal level of the two sensing layers.

Reference is made to which are simplified diagrams of light based detection of an object lowered into a user gesture input cavity using stacked rows of emitters and receivers in accordance with an embodiment of the present invention. White receivers detect expected light and black receivers are blocked by an inserted object. show how to determine depth relative to a Z axis. shows the detection pattern of receivers when a finger is inserted into the upper portion of the cavity. shows the detection pattern of receivers when a finger is inserted through the cavity.

The and angles are rotational and extend around the X and Y axes respectively. Accuracy is related to the distance between the sensing layers and is generally less sensitive to smaller angles towards the XY plane normal. The rotational extension is more limited by human anatomy than by the sensor. There is a theoretical gap in detecting small angles relative to the XY plane and the frame edges themselves also set a limit below 90 . Sensing is done by calculating the angle between the detection points of the sensing layers.

Reference is made to which are simplified diagrams of rotation detection around a Y axis in accordance with an embodiment of the present invention. shows a detection pattern of receivers when a finger inserted into the cavity is tilted in one direction around the Y axis. shows the detection pattern of receivers when a finger inserted into the cavity is upright. shows the detection pattern of receivers when a finger inserted into the cavity is tilted in a second direction around the Y axis. Reference is made to which are simplified diagrams of rotation detection around an X axis in accordance with an embodiment of the present invention.

As such when a single finger is inserted into the cavity five user input coordinates are determined namely X Y Z and .

When two fingers are inserted into the cavity two additional input coordinates are determined namely and S thus providing a total of 7 input coordinates.

The S coordinate is a scalar and is defined by the distance between the two fingers inserted into the user input cavity. Accuracy of the S coordinate is high for all positive values however it is difficult to distinguish a zero value from a single finger. Sensing is done by calculating the distance between the X and Y coordinates of the two fingers.

The dimension is rotational and extends around the Z axis. It is only available in two finger mode. Accuracy is high except for very small S values. Extension is unlimited that is sensing can be done for an infinite rotation. Sensing is done by calculating an angle based upon the X and Y deltas between the two fingers.

Reference is made to which is a simplified diagram of a rotation gesture around a Z axis whereby a user places two fingers on the screen and rotates them around a central point.

Input from the cavity subsystem is preferably utilized according to the extent and accuracy of the different coordinates. The accuracy of X Y and S is of advantage for continuous object manipulation such as translation rotation and scrolling. The lower accuracy coordinates are of advantage for additional functionality such as menu navigation. From a user perspective this is easily understood namely i sweep one finger to scroll ii tilt an inserted finger to open a pop up menu and ii use two fingers to manipulate objects such as resizing and rotation.

The number of fingers inserted into the input cavity acts as an intuitive mode setting. For example one finger may scroll and select menus and two fingers may manipulate objects.

In some embodiments the low resolution coordinates and Z are used in combination for quick single finger gestures to invoke transient commands in a tilt and insert manner. Using all combinations of and Z would complicate the UI. Therefore a balanced scenario limits the possibilities. For example insert a straight finger to enable scrolling and insert a tilted finger to mimic a mouse right click say to open a context sensitive menu.

TABLE II summarizes the user cavity input coordinates appropriate gestures for each coordinate and examples of UI functions.

In an embodiment of the present invention plural emitters are arranged along two adjacent sides of a rectangular cavity and plural receivers are arranged along the other two adjacent sides. Reference is made to which is a simplified illustration of a device having a cavity for finger gesture user input that uses light based detection in accordance with an embodiment of the present invention. shows a device having a display and a user gesture input cavity . Cavity is surrounded with emitters and receivers . Emitters emit infra red or near infra red light beams into cavity which are detected by corresponding receivers that are directly opposite respective emitters . When an object is inserted into cavity it blocks light from reaching some of receivers . By identifying from the receiver outputs which light beams have been blocked by the object the object s location is determined. An emitter receiver controller connected to emitters and receivers coordinates activation of these elements and stores the receiver outputs. A calculating unit included in controller or in communication with controller reads the receiver outputs and determines therefrom the presence and location of an inserted object. A processor shown in connected to emitters and receivers and to display causes display to render a visual representation in response to output from receivers .

Reference is now made to which is a simplified diagram of device detecting a first inserted object in accordance with an embodiment of the present invention. shows device detecting a finger inserted into cavity . Finger blocks light from reaching some of receivers marked as receivers 2 and 9. In accordance with an embodiment of the present invention the location of finger is determined from the crossed lines of the infra red beams that the finger blocks. The receivers are numbered 1 9 from left to right. However only blocked receivers are marked.

Reference is now made to which is a simplified diagram of device detecting two inserted objects in accordance with an embodiment of the present invention. shows device detecting two fingers and inserted into cavity . Finger blocks light from reaching receivers and and finger blocks light from reaching receiver . In accordance with an embodiment of the present invention the locations of fingers and are determined from the crossed lines of the infra red beams that the fingers block whereby the blocked receivers are separated by unblocked receivers. This indicates two separate insertion points.

Reference is now made to which is a simplified illustration of a cavity for finger gesture user input detecting a two finger pinch gesture in accordance with an embodiment of the present invention. shows input cavity detecting a two finger pinch gesture. Cavity in shown twice to illustrate changes in blocked receivers over time. The pinch gesture of begins with receivers and being blocked as shown in the upper diagram. As fingers and are brought closer together receivers and are blocked as shown in the lower diagram. The direction of the pinch gesture is thus determined from changes in blocked receivers . The pinch gesture is indicated by two facing arrows beneath the lower diagram.

Reference is made to which is a simplified illustration of a cavity for finger gesture user input detecting a two finger spread gesture in accordance with an embodiment of the present invention. shows a two finger spread gesture which is an opposite of a two finger pinch gesture. Cavity in shown three times to illustrate changes in blocked receivers over time. The spread gesture of begins with receivers and being blocked as shown in the upper diagram. As fingers and are spread apart the distance between the blocked receivers increases. Thus receivers and are blocked in the middle diagram and receivers and are blocked in the bottom diagram. The direction of the spread gesture is thus determined from changes in blocked receivers . The spread gesture is indicated by two outward facing arrows beneath the bottom diagram.

In many devices today a pinch gesture performed on a touch screen activates a zoom out function on the displayed screen image and a spread gesture performed on a touch screen activates a zoom in function on the displayed screen image. The present invention enables performing these gestures in cavity without blocking the user s view of the image on the screen. The problem of obstructing the user s view is especially acute in conventional devices where pinch and spread gestures are performed along a screen diagonal as the user s hand blocks a large portion of the screen in such cases. According to certain embodiments translating a single finger in a first direction along cavity corresponds to a conventional pinch gesture on the touch screen and translating a single finger in the opposite direction along cavity corresponds to a conventional spread gesture on the touch screen. This simplifies the gesture and allows easy adaptation of existing application software to devices of the present invention whereby the user gesture input cavity driver sends a message equivalent to a pinch or spread gesture to the host processor or application software.

It is evident from that the receiver along the narrow edge of cavity is blocked when a finger is inserted in the cavity. This is a result of the narrow shape of the cavity. Thus input gestures are distinguished from one another on the basis of detectors along only one edge. Therefore in some embodiments using narrow cavities or otherwise requiring detection in only one dimension emitters and receivers are provided along the longer cavity edge but not along the narrow edge. It is not necessary to detect the inserted finger along the narrow edge because it is not important where along the second edge the finger is inserted it is only important to know where the one or more fingers are inserted along the longer edge and what gesture they perform relative to that edge.

Alternatively in such cases one emitter detector pair is provided on the narrow cavity edge and this is used to determine if a finger is inserted at all. This saves power as compared with the power required to pulse a plurality of emitters along the longer edge. Once a finger insertion is detected only the emitter detector pairs along the longer edge are activated to determine the exact nature of the user gesture.

In light emitters are arranged in layers along at least one wall of cavity and emit light pulses into the space of cavity . Light receivers are arranged in like layers along an opposite wall of cavity and detect the emitted light pulses when the cavity space is empty but when object is inserted into cavity it blocks a portion of the emitted light pulses from arriving at receivers . As such processor is able to detect the presence of an object in cavity and the depth at which the object is inserted into cavity based on outputs of receivers in the different layers. When a finger is inserted into cavity it is first detected by receivers in the upper layer. When the finger proceeds deeper inside cavity it is detected by receivers in the upper and lower layers. The time between the first upper layer detection and subsequent lower layer detection is used to determine the downward velocity of the object into the cavity. This is a useful attribute of the user interface as it enables the system to distinguish a hard or fast insertion from a slow or soft insertion. Such information is useful for example in gaming environments that support varying degrees of force applied to an avatar s actions or in artistic paintbrush rendering where the force of the brushstroke altars its thickness. A speed of removal of the object from the cavity is similarly calculated by determining the interval between detecting the removal of the object in the different layers.

Another advantage of multiple stacked layers of emitters and receivers is that it enables determining an angle of approach through the cavity and also a standing angle of the object inside the cavity. One use for this information is to enable user gestures of inserting a finger and tilting it in various directions. For example to scroll a document a user inserts his finger and tilts it forward without moving the bottom of his finger to scroll. The degree of tilt sets the scrolling speed.

Another advantage of multiple stacked layers of emitters and receivers is that it enables detecting the two or more touches in a multi touch in an order. Multiple concurrent touches such as two diagonally opposed touches are ambiguous because the detection pattern of receivers is substantially the same for both cases of diagonal touches i.e. concurrent upper left and lower right touches generate the same pattern of blocked receivers as concurrent upper right and lower left touches. When one touch is actuated slightly before the second touch this can be used to disambiguate the touch pattern. For example if the first detected touch is unambiguously determined to be at the lower left corner then the subsequent second touch must be at the upper right corner. In a system with multiple stacked layers of emitters and receivers each layer provides an opportunity to detect the insertion one finger before another increasing the likelihood that this is detected.

Reference is made to which is a simplified illustration of a device having a cavity for finger gesture user input that uses light based detection and a finger inserted therein in accordance with an embodiment of the present invention. shows the light based user interface of with object lowered into cavity .

Reference is made to which is a simplified illustration of a device having a cavity for finger gesture user input that uses light based detection and a finger lifted therefrom in accordance with an embodiment of the present invention. shows the light based user interface of with object raised from cavity .

According to further features of the invention a device includes both a user gesture input cavity and a touch sensitive display. This allows for combination gestures where a user performs a gesture on the screen and a gesture in the cavity. In this regard reference is made to which are simplified diagrams of user input combining a touch screen gesture and an input cavity gesture in accordance with an embodiment of the present invention. show the light based user interface of used in conjunction with a touch screen display . In an image is displayed on the screen. A user desires to zoom the image. In conventional systems a zoom function automatically zooms in on the center of the displayed portion of the image. In order to zoom in on a different portion of the image in a conventional system the user needs to pan the image so that it is centered at a desired location and then perform a zoom gesture typically a pinch or spread gesture. In the user selects a center for zooming by touching a desired picture element while performing a zoom gesture in the user gesture input cavity. The result shown in is the zoomed image centered around the touched location. In certain cases the user selects a screen object by tapping on it. A subsequent resize operation executed in response to a gesture in the cavity is executed when the user is not touching the screen. The resize operation centers the resized image on the selected object. In other cases the user pans the image by dragging a finger on the display while performing a gesture in the input cavity to resize the image. Thus the resize and pan occur at the same time and the user controls both operations.

Reference is made to which is a simplified diagram of a device having a display and a user input cavity connected by a hinge whereby the display is upright and supported by the cavity in accordance with an embodiment of the present invention. shows a left hand finger touching the display while two right hand fingers and are inserted into the user cavity.

Reference is also made to which are simplified diagrams of the device of where the cavity is folded onto the display in accordance with an embodiment of the present invention. show a light based user interface for an electronic device that has a display within one section of the housing and a cavity within another section of the housing. These two sections are connected by a hinge that enables folding the sections onto each other. Display is mounted in the first section and cavity is located within the second section. The frame around cavity fits along the edges of the first section when the sections are folded.

By aligning the user input cavity frame and the display unit on the same plane with a centered shaft near one of the edges the frame can be rotated continuously relative to the display. This provides flexibility and makes the unit robust as a user is not restricted by the extent to which the frame can be opened. By making the user input cavity frame slightly thicker than the display unit the sensing layers of the frame enclose the display unit when folded. By using collector rails not shown at the two shafts in hinge that lock the display unit to the user input cavity frame there are no wires that get twisted and the user input cavity frame may rotate continuously around hinge . At least two collectors are used for power feed. Control and touch event data are superimposed on the power signals or have their own collector rails.

Reference is made to which are simplified illustrations of a device with a light based user interface that detects depth of a finger relative to a touch screen when a housing of the device is folded in accordance with an embodiment of the present invention. The device display is a touch screen . When a hollow frame is folded onto touch screen multiple layers of touch detection are provided namely a higher layer provided by the emitters and receivers surrounding the hollow frame and a lower layer provided by the touch screen. In hollow frame is surrounded by two stacked layers of emitters and and receivers and . In other embodiments only one layer of emitters and receivers is provided. Touch screen is surrounded by one layer of emitters and receivers . However the touch detection technology used for touch screen may be any technology such as resistive or capacitive instead of light based. When the hollow frame is folded onto the display the hollow frame bezel is slightly raised above the touch screen to provide object detection above the display.

Reference is made to which is a simplified diagram of the device of where the cavity is placed alongside the display in accordance with an embodiment of the present invention. Reference is also made to which are simplified diagrams of the device of where the cavity is folded onto the back of the device in accordance with an embodiment of the present invention. shows an open device with a cavity alongside a touch screen joined by a hinge . shows folding of cavity onto the back of touch screen .

Folding the user input cavity frame towards or away from the user may depend upon the use case. Some use cases are as follows.

When holding the unit in the air convenience is achieved with the input cavity frame approximately 45 towards the user or folding it 90 away from the user.

When the unit is resident on a table the display may be placed flat on the table and the user input cavity frame can be positioned straight up at an angle of 90 . Alternatively with the device resident on a table the user input cavity frame can also be completely folded out to form a continuation of the display plane. Yet another alternative is that the frame doubles as a support for an upright display as illustrated in .

Moving along the Z axis in a 3D realm has always been a challenge using 2D input devices. When using a mouse the scroll wheel and or right click plus Y movement have become standard methods of manipulating objects in the Z dimension. Neither of these methods are available when using a touch screen.

Aligning the user input cavity frame along the YZ plane e.g. by standing the frame upright on the right side on a horizontal display renders the cavity s Y coordinate an intuitive Z movement control for a 3D UI. Moreover user gestures in the cavity do not obstruct the user s view of the display which a Z movement of a finger on top of the display would obstruct.

Reference is made to which is a simplified illustration of a device having a cavity for finger gesture user input that uses light based detection formed as a handle for carrying the device in accordance with an embodiment of the present invention. Touch sensitive cavity forms the handle and the device detects finger gestures within the handle.

Reference is made to which is a simplified illustration of a device having a retractable frame that when opened forms a cavity for finger gesture user input that uses light based detection in accordance with an embodiment of the present invention. shows a touch screen and a user interface cavity that detects finger gestures. Cavity is formed by extending retractable three sided frame . An arrow indicates the extension retraction path of frame .

Reference is made to which is a simplified illustration of a device having a cavity for finger gesture user input that rotates around a hinge in accordance with an embodiment of the present invention. shows a display and a user interface cavity that detects finger gestures. Cavity is formed by a frame that is connected to the device by a rotatable hinge .

Aspects of the present invention include an architecture for integrating a user interface gesture cavity into the ANDROID operating system. Similar architectures are used for other operating systems. The Android launcher is the initial UI from which a user activates applications. The launcher is activated when the user presses a Home button. Android provides a standard launcher and there are many third party launchers. Many device vendors provide their own launcher. Aspects of the present invention include an Android UI that supports features provided by the present invention namely a touch input cavity separate from the screen and touch information regarding the screen s Z plane beyond the binary touch no touch information provided by conventional touch screen devices.

In general Android launchers provide a workspace divided into multiple screens. The user switches between the different screens typically by performing a sideways sweep gesture i.e. by gliding a finger across the width of the screen. A certain area of the workspace is fixed so that it does not switch with the screens. This fixed area often called a dock contains icons for launching popular applications e.g. a dialer a program drawer and an Internet search. The workspace has a background shared by all screens that typically slides in sync with the screen switches.

Each screen holds widgets shortcuts folders and live folders which are real time views on the screen of a content provider. A live folder displays data from a source without forcing the user to launch an application. As such a live folder may be used to display contacts bookmarks email playlists and RSS feeds. Screens usually have a grid layout so that icons and widgets cannot be placed at any arbitrary position. Performing a long hold on an item on any screen switches mode so that the item can be moved or dragged to a trash bin. Performing a long hold on an empty portion of a screen opens a menu for a user to select new items to be added to the screen.

The launcher also provides an application drawer which is opened from any screen and contains a list of all installed applications as labels or icons. Typically the list is in the form of a scrollable list or a multi page grid. Performing a long hold on an application label or icon within the application drawer switches to a mode where the application can be placed on any screen.

To summarize a launcher must be able to handle widgets live folders and application startups and should be able to handle user folders shortcuts and wallpaper.

The workspace in most launchers is divided into screens containing shortcuts widgets folders and live folders. The workspace in an embodiment of a launcher for the present invention is conceptually configured in the 3D realm with the workspace screens being distributed among various objects surfaces or virtual rooms that provide logical grouping of items. The launcher UI is manifested as a scene graph which can be modeled in 2D or 3D.

In an embodiment of the present invention the launcher contains wallpaper as a background image for the 3D realm although there are differences between the type of image appropriate for 3D backgrounds and 2D wallpapers. In most cases the outlook of the 3D background is sufficiently different from desktop wallpaper that it is handled as a separate entity in the design process.

In embodiments of the invention where the user interface gesture cavity rotates or slides around the display screen to provide an additional layer of input that is mapped onto the screen the Android desktop UI supports two different modes namely closed and open. In closed mode the user interface gesture cavity surrounds the display screen to provide an additional layer of input that is mapped onto the screen. In open mode the cavity is separate from the screen. In open mode the device receives multi dimensional input from two separate subsystems namely from the screen and from the cavity. In closed mode there is only one input namely touches the user performs on the screen. These touches are detected both by the screen and by the cavity.

Various architectures for user interface UI representations are based upon similar concepts namely a graph of data objects representing a current structure of a UI often referred to as a model which is rendered graphically on a screen in what is referred to as a view . Nodes in a data object graph represent static and interactive UI objects such as text images buttons and checkboxes. Different graphical representations of the same data object graph may exist simultaneously.

Various implements for a UI model are in use. For web browsers and for many word processors the structure of a UI is a Document Object Model DOM for ANDROID the structure is a view tree and for FLASH the structure is a scene . The underlying concept is the same regardless of hardware platform operating system runtime environment and programming language. Many platform vendors impose a preference for the UI model that is used. In an ANDROID environment the programmer is recommended to use a set of XML files called application resources to describe the UI model and to use the JAVA programming language which is compiled into byte code for the DALVIK runtime engine. However developer requests led to the capability of using native C code for the programming language through the Native Development Kit NDK and of using scripting languages through the Scripting Layer SLA4 for ANDROID .

Aspects of the present invention are applicable to any platform model programming environment and runtime environment. In accordance with an embodiment of the present invention the UI data object graph is manipulated at run time based upon user events generated by a user input cavity.

The data object graph representing the UI is generally inflated from a textual representation. Inter alia for web browsers the inflated form may be an HTML document for word browsers the inflated form may be an OOXML document and for SILVERLIGHT the inflated form may be an XAML document. In addition to being inflated from a document the data object graph may be manipulated in response to events in a running application such as a web browser a document editor and a desktop such as in response to an event when a user uses a keyboard or pointer to interact with the UI.

Aspects of the present invention relate to manipulating the UI model. The user interface cavity interacts with the UI through a processing chain similar to other input devices such as a touch screen a mouse and a keyboard. Namely a low level device driver captures raw events from the user input cavity and dispatches them via the operating system into the running application which in turn interprets them and applies appropriate modifications to the UI model.

In accordance with an embodiment of the present invention user interaction with the UI model includes inter alia the following actions.

Moving In response to moving the scope of the current view i.e. the visible part of the UI model is changed e.g. scrolling in a document and switching between different desktop screens in an ANDROID launcher.

Selection In response to selecting a specific object or group of objects is selected for further actions e.g. selecting a file icon and selecting a group of words in a text editor.

Manipulation In response to manipulation a previously selected object or group of objects is changed e.g. rotating a selected image in a drawing program and making selected text bold in a word processor.

Transfer In response to transfer a previously selected object or group of objects is moved to a new location within the UI model or transferred to another model for another program or transferred to another model at another device e.g. dragging and dropping an object within a document and moving a selected file to a new folder.

The user input cavity recreates input events that are used in a conventional PC environment which normally are actuated by input methods that are not available for touch based interfaces including inter alia modifier keys CTRL ALT additional mouse buttons and scroll wheels. It is not required to modify program code of target applications to support such events since an intermediate device driver layer may translate user input cavity events to events that are familiar to the target application. Examples include inter alia zoom cut paste scrolling and opening context menus. As such third party applications can incorporate that user input cavity of the present invention without modification.

Moreover the user input cavity of the present invention generates a variety of novel types of user input events including inter alia three dimensional manipulation of objects as described hereinbelow. To support such events specific application code is required i.e. existing applications require modification. The event handler of the application code listens for events from standard input devices in parallel with the user input cavity and manipulates the UI model in accordance with patterns that correspond to the new features.

Various options are available for writing new applications that use the novel input patterns provided by the user input cavity of the present invention. In an all JAVA model the full application is written in the JAVA programming language and compiled to the DALVIK framework. This is a conventional way of generating ANDROID applications but it imposes two major drawbacks namely performance and flexibility.

An alternative model combines JAVA and C. In this model the program logic is written in JAVA and the time critical parts are written in C exposed to the JAVA layer via the JAVA Native Interface JNI . This enables performance improvements and is a good way to start a project as code can be ported from the JAVA layer to the C layer on demand.

Yet another alternative model combines JAVA scripting and C. In this model too the program logic is written in JAVA and the time critical parts are written in C but the dynamic parts of the application are written in a scripting language hosted by the JAVA layer such as PYTHON Ruby or JAVASCRIPT and interpreted at runtime. This improves flexibility during development as small changes may be made without recompiling and reinstalling the application.

A different model uses only scripting and C. This is an approach where the application appears as a native application with no JAVA layer and the dynamic parts are handled by a scripting layer that communicates with the application through a remote procedure call RPC . This is a complex yet very flexible model which is commonly used in gaming.

The launcher UI is manifested as a scene graph modeled in 2D or 3D. There is no connection to the system of UI definitions as ANDROID resource files everything is contained in a single view. Reference is made to which is a simplified flow diagram illustrating how a launcher user interface is rendered in accordance with an embodiment of the present invention. shows how the launcher UI is handled within only one GLSurfaceView which uses a renderer to render the full launcher UI scene.

The finger gesture user interface of the present invention is of widespread advantage in many different applications. Inter alia several of these applications are described in what follows.

In accordance with an embodiment of the present invention the object inserted into the cavity is two fingers and the user interface distinguishes between four mufti finger gestures performed in said cavity namely i clockwise rotation ii counter clockwise rotation iii finger pinch and iv finger spread.

In accordance with an embodiment of the present invention the display is a stereoscopic viewport which renders a graphic being rotated in three dimensions in response to an object being inserted in the cavity.

In accordance with an embodiment of the present invention the display pans an image or scrolls a document or a list in response to a one finger gesture and zooms an image or rotates an object or opens a file in response to a two finger gesture.

In accordance with an embodiment of the present invention the display renders animated navigation of snapshots of widgets documents web page bookmarks album artwork or photographs in response to a translation gesture and renders opening of a widget a document a web page an album or a photograph in response to a two finger gesture.

In accordance with an embodiment of the present invention the display renders fast animation of snapshots of widgets documents web page bookmarks album artwork or photographs in response to a translation gesture renders slow animation thereof in response to a first two finger gesture renders opening of a widget document web page album or photograph in response to a second two finger gesture and renders closing thereof in response to a third two finger gesture.

In accordance with an embodiment of the present invention a cut and paste routine is provided. In this routine a user selects text or an object by touching the text or object on the display with one hand. The thumb and index finger of the other hand are then entered into the user input cavity frame moved together in a pinch gesture and removed from the frame. This is the cut operation figuratively grabbing the text or object. A target position for the cut object is marked by touching the display with one hand then inserting the other hand with the thumb and index finger brought together into the user input frame then bringing them apart in a spread gesture which figuratively represents dropping the previously grabbed text or object into its new location.

In accordance with an embodiment of the present invention an application program defines a context and a function related to the context is activated in response to a finger gesture. For example the display renders a menu of context relevant options in response to tilting a finger inside a cavity at an acute angle.

In accordance with an embodiment of the present invention the display renders an image identifies a selected location within the image and processes the selected location in response to a finger gesture.

In accordance with an embodiment of the present invention the display is a touch screen display and the user interface detects finger gestures on the touch screen and also finger gestures in a cavity. The display pans an image in response to a finger gesture on the touch screen and resizes the image in response to a finger gesture in the cavity. The finger gesture on the touch screen is inter alia a finger translation and the finger gesture in the cavity is inter alia a finger pinch or a finger translation.

In accordance with an embodiment of the present invention one or more objects are rendered one of which is identified as being a selected object and an application program processes the selected object in response to a finger gesture performed in the user input cavity. For a first example the selected object is selected text within a document and the application program maintains the selected text at its location within the document and moves unselected text thereby positioning the selected text at a different location within the document in response to a finger gesture in the cavity. Moreover the selected text is fixed at the different location in response to a second finger gesture in the cavity.

For a second example the selected object is an icon and the application program maintains the selected icon at its location on the display and moves unselected icons thereby positioning the selected icon at a different location in the UI in response to a finger gesture in the cavity. For example in response to a user gesture in the cavity inter alia a translation gesture all unselected icons in the current Android screen are graphically swept off the display and icons from a different screen are graphically swept onto the display. This situates the selected icon on a different Android screen. Moreover the icon text is fixed at the different location in response to a second finger gesture inter alia removing the user s fingers from the cavity.

For a third example the selected object is an entry in a contact list and the application program initiates a phone call to the selected entry in response to a first finger gesture in the cavity and opens an SMS dialog box addressed to the selected entry in response to a second finger gesture in the cavity.

For a fourth example the selected object is a selected time interval within a calendar and the application program causes the calendar to increase or decrease resolution to present a respectively greater or lesser time interval centered around the selected time interval.

For a fifth example the selected object is a file and the application is a file manager. The file manager presents properties of the selected file in response to an initial finger gesture in the cavity and opens the selected file in response to an extension of the initial gesture. Moreover the file system has multiple levels of folders and the file manager presents properties of a selected file in response to an initial gesture in the cavity displays the selected file as an icon in its folder in response to an extension of the initial gesture and displays the folder as an icon in its next level folder in response to a further extension of the initial gesture.

For a sixth example the selected object is a person within a social network and the application program is a social network application. The application renders a first plurality of persons connected to the selected person in response to an initial gesture in the cavity and renders a second plurality of persons connected to the first plurality of persons in response to an extension of the initial gesture.

For a seventh example the selected object is a song or an artist in a music library and the application program is a music library manager. The music library manager renders a first plurality of songs related to the selected song or artist in response to an initial finger gesture in the cavity and renders a second plurality of songs connected to the first plurality of songs in response to an extension of the initial gesture.

For an eighth example the selected object is a restaurant or hotel and the application program is a reservation program for restaurants or hotels. The reservation program displays a plurality of restaurants or hotels similar to the selected restaurant or hotel in terms of style cost location or such other parameter s in response to an initial gesture in the cavity and renders additional similar restaurants or hotels in response to an extension of the initial gesture.

Reference is made to which is a simplified illustration of a three dimensional modeling input system in accordance with an embodiment of the present invention. The cavity within frame is shown being lowered over a solid object such as a coffee mug. This is indicated by the downward facing arrows. The series of detections executed by the frame as it is lowered are combined as 2 D slices of the object to provide a 3 D model of the solid object.

An alternative embodiment reduces the number of components in the system by coupling an emitter or a receiver to one end of a long thin light guide situated along an edge of the cavity. Such a light guide is described in U.S. Pat. No. 7 333 095 to Lieberman et al. entitled ILLUMINATION FOR OPTICAL TOUCH PANEL.

Calibration of emitters and detectors for object detection is described in Applicant s co pending U.S. application Ser. No. 13 053 229 entitled Touch Screen Calibration and Update Methods filed on Mar. 22 2011 Published as US Publ. No. 2011 0169781 A1 on Jul. 14 2011.

Aspects of the present invention relate to design and use of a programmable state machine to control both the user gesture input cavity and a light based touch screen in a single device. The controller executes a scanning program on the series of emitters and detectors in both the touch screen and in the user gesture input cavity. The scanning program determines scan sequence current levels and pulse widths. By configuring the scan sequence registers the host processor determines which LED PD pairs are activated. The controller thus sets activation for LED PD pairs surrounding the screen for LED PD pairs in the user input gesture cavity or for both. The host processor associates each LED and each PD with either the screen or the cavity and processes its results accordingly. For example touches on the screen require greater precision than the user gestures in the input cavity. Therefore detection results on the screen are filtered both temporally and spatially whereas detection results in the input cavity are not filtered or alternatively are filtered only spatially optionally using a different set of filter coefficients. In addition the scan sequence configuration registers enable configuring an oversampled activation sequence inter alia activating each emitter with two detectors and a one to one sequence wherein each emitter is activated with only one detector. Typically the emitters and detectors around the user input cavity are aligned opposite one another. In some embodiments of the present invention at least two sets of scan configuration registers are provided to enable configuring two different scan patterns namely one set for emitters and receivers around the screen and one set for emitters and detectors surrounding the user input cavity to be executed in a single scan operation of the controller. In other embodiments scan sequences for the screen are configured and executed separately from scan sequences for the user input cavity.

The controller includes integrated LED drivers for LED current control integrated receiver drivers for photo detector current measurement and an integrated A D convertor to enable communication between the controller and a host processor using a standard bus interface such as a Serial Peripheral Interface SPI .

In accordance with the present invention a program is loaded onto the controller e.g. over SPI. Thereafter scanning execution runs independently from the host processor optimizing overall system power consumption. When the scan data are ready the controller issues an interrupt to the host processor via an INT pin.

Reference is made to which is a simplified block diagram of an ASIC controller for a light based touch screen and user input cavity in accordance with an embodiment of the present invention. Controller activates emitters and receivers that surround touch screen and cavity .

Reference is made to which is a circuit diagram of a chip package for a controller of a light based touch screen and user input cavity in accordance with an embodiment of the present invention. As shown in chip package includes emitter driver circuitry for selectively activating a plurality of photoemitters that are outside of the chip package and signal conducting pins for connecting photoemitters to emitter driver circuitry . Emitter driver circuitry is described in applicants co pending patent application U.S. Ser. No. 12 371 609 entitled LIGHT BASED TOUCH SCREEN filed on Feb. 15 2009 the contents of which are hereby incorporated by reference. Inter alia reference is made to paragraphs 0073 paragraphs 0087 0091 and FIG. 11 of this application as published in U.S. Publication No. 2009 0189878 A1 on Jul. 30 2009.

Emitter driver circuitry includes circuitry for configuring individual photoemitter pulse durations and pulse currents for each emitter detector pair via a programmable current source. Circuitry is described in applicants co pending patent application U.S. Ser. No. 13 052 511 entitled LIGHT BASED TOUCH SCREEN WITH SHIFT ALIGNED EMITTER AND RECEIVER LENSES filed on Mar. 21 2011 the contents of which are hereby incorporated by reference. Inter alia reference is made to paragraphs 0343 0358 and FIGS. 99 101 of this application as published in U.S. Publication No. 2011 0163998 on Jul. 7 2011.

Chip package includes detector driver circuitry for selectively activating a plurality of photo detectors that are outside of the chip package and signal conducting pins for connecting photo detectors to detector driver circuitry . Detector driver circuitry includes circuitry for filtering current received from photo detectors by performing a continuous feedback bandpass filter and circuitry for digitizing the bandpass filtered current. Circuitry is described inter alia at paragraphs 0076 paragraphs 107 0163 and FIGS. 14 23B of the above reference U.S. Publication No. 2009 0189878 A1. Chip package also includes detector signal processing circuitry for generating detection signals representing measured amounts of light detected on photo detectors .

Chip package further includes I O pins for communicating with a host processor and conducting pins for connecting to a power source. Chip package further includes controller circuitry for controlling emitter driver circuitry and detector driver circuitry . Controller circuitry communicates with host processor using a bus standard for a Serial Peripheral Interface SPI . Chip package further includes a chip select CS pin for coordinating operation of controller circuitry with at least one additional controller for the light based touch screen.

The controller shown in packages all of the above mentioned elements within chip package i thereby enabling automatic execution of an entire scan sequence such as 50 emitter received pairs and ii thereby storing the detection signals in a register array for subsequent analysis by host processor .

Reference is made to which is a circuit diagram for six rows of photo emitters with 4 or 5 photo emitters in each row for connection to pins of chip package in accordance with an embodiment of the present invention. The 11 lines LED ROW1 . . . LED ROW6 and LED COL1 . . . LED COL5 provide two dimensional addressing for 30 photo emitters although a first portion the photo emitters are physically arranged around two edges of touch screen and a second portion are physically arranged around input cavity as shown in . TABLE III shows how LEDs are mapped to LED ROW and LED COL pins. More generally an LED matrix may include an m n array of LEDs supported by m n I O pins on the controller.

As such an LED is accessed by selection of a row and a column I O pin. The controller includes push pull drivers for selecting rows and columns. It will be appreciated by those skilled in the art that the row and column coordinates of the LEDs are unrelated to the physical placement of the LEDs and the push pull drivers. In particular the LEDs do not need to be physically positioned in a rectangular matrix.

In an alternative embodiment of the controller of the present invention current source drivers are used instead of push pull drivers. In another embodiment of the controller of the present invention some of the push pull drivers are combined with current source drivers and others of the push pull drivers are combined with current sink drivers.

When the controller of the present invention scans a series of emitter receiver pairs an LED driver supplies an amount of current to an LED in accordance with settings in LED current control registers and LED pulse length control registers. LEDs are selected for activation in accordance with settings in scan range registers. The scan range registers designate a first LED to be activated along each screen edge and along the cavity edge the number of LEDs to be activated along each edge and the step factor between activated LEDs. A step factor of 0 indicates that at each step the next LED is activated and a step factor of 1 indicates that every other LED is activated. Thus to activate only odd or only even LEDs a step factor of 1 is used. Step factors of 2 or more may be used for steps of 2 or more LEDs respectively. An additional register configures the number of PDs that are activated with each LED. A value of 0 indicates that each LED is activated with a single corresponding PD and a value of 1 indicates that each LED is activated with two PDs. The number of PDs activated with each LED may be as many PD that are available around the touch screen. Typically the controller will activate separate scan sequences for the screen elements and for the cavity elements. These activations are differentiated by the index of elements included in each sequence. For example elements 1 20 are screen LEDs and elements 21 30 are cavity LEDs.

The controller of the present invention automatically controls a mux to direct current to desired LEDs. The LED mux control is set by scanning control registers. The controller automatically synchronizes the correct PD receiver when the drivers pulse the LEDs. Twelve bit ADC receiver information is stored in PD data registers. Upon completion of scanning the controller issues an interrupt to the host processor and automatically enters standby mode.

In some touch screen configurations screen related emitters are shift aligned with receivers with emitters being detected by more than one receiver and being activated one or more times for each detecting receiver. For example an emitter may be activated three times in rapid succession and with each activation a different receiver is activated. Moreover a receiver is further activated during the interval between emitter activations to determine an ambient light intensity.

In other touch screen configurations screen related emitters and receivers are aligned but each emitter is detected by more than one receiver and each emitter is activated separately for each detecting receiver. Emitter receiver activation patterns are described in applicants co pending patent application U.S. Ser. No. 12 667 692 entitled SCANNING OF A TOUCH SCREEN filed on Jan. 5 2010 the contents of which are hereby incorporated by reference. Inter alia reference is made to paragraphs 0029 0030 0033 and 0034 of this application as published in U.S. Publication No. 2011 0043485 on Feb. 24 2011.

In accordance with an embodiment of the present invention the controller is a simple state machine and does not include a processor core such as an ARM core. As such costs of controllers of the present invention are low. A light based touch screen using a controller of the present invention costs less than a comparable capacitive touch screen since a capacitive touch screen requires a processor core in order to integrate a large number of signals and calculate a touch location. In order to achieve a quick response time a capacitive touch screen uses a dedicated processor core to calculate a touch location instead of offloading this calculation to a host processor. In turn this increases the bill of materials for capacitive touch screens. In distinction light based touch screens of the present invention use two neighboring receiver values to calculate a touch location along an axis which enables the host to calculate a touch location and consequently enables use of a low cost controller. In addition devices according to the teachings of the present invention use resources efficiently by utilizing the same controller for both the touch screen and the user gesture cavity.

The present invention has broad application to electronic devices with touch sensitive screens including small size mid size and large size screens. Such devices include inter alia computers home entertainment systems car entertainment systems security systems PDAs cell phones electronic games and toys digital photo frames digital musical instruments e book readers TVs and GPS navigators.

In the foregoing specification the invention has been described with reference to specific exemplary embodiments thereof. It will however be evident that various modifications and changes may be made to the specific exemplary embodiments without departing from the broader spirit and scope of the invention as set forth in the appended claims. Accordingly the specification and drawings are to be regarded in an illustrative rather than a restrictive sense.

