---

title: World-locked display quality feedback
abstract: Embodiments that relate to communicating to a user of a head-mounted display device an estimated quality level of a world-lock display mode are disclosed. For example, in one disclosed embodiment a sensor data is received from one or more sensors of the device. Using the sensor data, an estimated pose of the device is determined. Using the estimated pose, one or more virtual objects are displayed via the device in either the world-lock display mode or in a body-lock display mode. One or more of input uncertainty values of the sensor data and pose uncertainty values of the estimated pose are determined. The input uncertainty values and/or pose uncertainty values are mapped to the estimated quality level of the world-lock display mode. Feedback of the estimated quality level is communicated to a user via device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09430038&OS=09430038&RS=09430038
owner: MICROSOFT TECHNOLOGY LICENSING, LLC
number: 09430038
owner_city: Redmond
owner_country: US
publication_date: 20140501
---
Various technologies may allow a user to experience a mix of real and virtual reality. For example some display devices such as various head mounted display HMD devices may comprise a see through display that allows superposition of virtual objects over a real world environment. The virtual objects may appear integrated with the real world environment when viewed by a wearer of the HMD device through the see through display. Such a relationship between the virtual objects and the real world environment may be referred to as augmented reality.

Simultaneous localization and mapping systems may provide augmented reality experiences. Typically such tracking and mapping systems are dependent upon illumination and other visual aspects of the environment in which the user is operating. When the environment does not offer sufficient data to support tracking and mapping applications or technologies may fail to operate or may operate with a significant degradation in the user experience.

Users may utilize such tracking and mapping systems in a variety of real world environments and in dynamic environments with varying amounts of data to support tracking and mapping. In some cases a user may expect to use a tracking and mapping system to execute an augmented reality application in a particular environment. However the environment may provide insufficient data to support effective tracking and mapping causing the application to perform poorly and provide a disappointing user experience or to fail completely. Having limited or no information regarding the quality of the environment as it relates to a tracking and mapping system the user may be unpleasantly surprised with the user experience. Further a user may prevented from adjusting expectations of the user experience and or choosing another activity or other application that may operate more efficiently.

Various embodiments are disclosed herein that relate to communicating to a user of a head mounted display device an estimated quality level of a world lock display mode in which a position of one or more virtual objects appears to be fixed relative to real world objects viewable through the head mounted display device. For example one disclosed embodiment provides a method comprising receiving sensor data from one or more sensors of the head mounted display device. Using the sensor data an estimated pose of the head mounted display device is determined.

Using the estimated pose one or more virtual objects are displayed via the head mounted display device in either the world lock display mode or in a body lock display mode in which the position of each of the virtual objects appears to be fixed relative to the user of the head mounted display device. One or more of input uncertainty values of the sensor data and pose uncertainty values of the estimated pose are determined. One or more of the input uncertainty values and the pose uncertainty values are mapped to the estimated quality level of the world lock display mode. Feedback of the estimated quality level is communicated to the user via the head mounted display device.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter. Furthermore the claimed subject matter is not limited to implementations that solve any or all disadvantages noted in any part of this disclosure.

The augmented reality system includes a display program that may generate one or more virtual objects for display within a real world environment including one or more real world objects . A display device such as a head mounted display HMD device may display the virtual objects in superposition over a real world environment to create an augmented reality environment . As described in more detail below the display program may utilize two different display modes for displaying the virtual objects .

More particularly in a world lock display mode one or more virtual objects may be displayed via the HMD device with world locked positions. In a world locked position a virtual object appears to be fixed relative to real world objects viewable through the HMD device and the world locked position of each virtual object appears to be moveable relative to a wearer of the HMD device . With reference also to the tracking system shown in the world lock display mode may be associated with a six degree of freedom 6DOF tracking filter that estimates a location and an orientation of the HMD device in six degrees of freedom e.g. x y z pitch roll yaw .

For example the estimate in six degrees of freedom may be determined using sensor data from a combination of optical sensors of the HMD device and other pose sensors of the HMD device that do not rely merely on optical information. Such other pose sensors may include but are not limited to accelerometers gyroscopes magnetometers and other sensors used in deduced reckoning of a current position orientation by using one or more previously determined positions orientations and known or estimated changes over designated time periods.

The optical sensors may provide image information of optical features of a real world environment in which the HMD device is located. As noted above due to the reliance on illumination conditions optical features and other visual aspects of the real world environment in which the user is operating the accuracy of the sensor data from the optical sensors may vary and may not be reliable. When conditions are suitable to provide accurate sensor data however the augmented reality experience provided by the world lock display mode may be rich and compelling.

When conditions are not suitable to consistently display virtual objects with world locked positions in the world lock display mode and for applications that do not support a world lock display mode the HMD device may operate in a body lock display mode . In the body lock display mode one or more virtual objects may be displayed via the HMD device with body locked positions. In a body locked position a virtual object appears to be fixed relative to the wearer of the HMD device and the body locked position of each virtual object appears to be moveable relative to the real world objects .

The body lock display mode may be associated with a three degree of freedom 3DOF tracking filter that may operate in parallel with the 6DOF tracking filter . The 3DOF tracking filter estimates an orientation of the HMD device in three degrees of freedom e.g. pitch roll yaw . For example the estimate in three degrees of freedom may be determined using information from pose sensors that do not rely on optical data. Accordingly the 3DOF tracking filter may operate consistently during conditions in which the 6DOF tracking filter may provide a degraded augmented reality experience.

With reference again to the computing device may be operatively connected with the HMD device using a wired connection or may employ a wireless connection via WiFi Bluetooth or any other suitable wireless communication protocol. Additionally the example illustrated in shows the computing device as a separate component from the HMD device . It will be appreciated that in other examples the computing device may be integrated into the HMD device .

In some examples the computing device may take the form of a desktop computing device a mobile computing device such as a smart phone laptop notebook or tablet computer network computer home entertainment computer interactive television set top box gaming system or other suitable type of computing device. Additional details regarding the components and computing aspects of the computing device are described in more detail below with reference to .

As described in more detail below the tracking system may be configured to communicate feedback of an estimated quality level of a world lock display mode to a user wearing the HMD device . Advantageously in this manner the user may be apprised in real time of current environmental conditions and their effect on the quality and or availability of a world lock display mode user experience.

With reference now to example use cases of the augmented reality system and tracking system will now be described. In the examples shown in because conditions of the real world environment are above a quality level threshold the world lock display mode may be utilized. The quality level threshold may correspond to a minimum amount and or quality of sensor data for providing an acceptable user experience in the world lock display mode . It will be appreciated that the amount and or quality of available sensor data can vary considerably from one environment to another. Accordingly appropriate quality level thresholds will also vary and will be readily determined by the skilled practitioner.

In a first video slate appears to be hanging on a left side wall of the room relative to the location and orientation of the user of the HMD device . A second video slate appears to be hanging on a front facing wall of the room relative to the location and orientation of the user of the HMD device . A third video slate appears to be hanging on a right side wall relative to the location and orientation of the user of the HMD device .

In the user of the HMD device has moved to the right and rotated to the left so that he she is facing the wall and the location and the orientation of the HMD device changes accordingly. Additionally several people have entered the room and a variety of items have been placed on the table below the second video slate . As the HMD device is operating in the world lock display mode and the video slates correspondingly have world locked positions the first video slate appears to be fixed on the wall relative to the other real world objects and to the second video slate as viewed through the HMD device . Likewise the second video slate appears to be fixed on the wall relative to the other real world objects and to the first video slate as viewed through the HMD device . Correspondingly the world locked position of each of the first and second video slates appears to move relative to the user as the user moves.

It will be appreciated that the HMD device may display any suitable number of video slates or other virtual objects having world locked positions. The video slates may present any suitable video or other images. For example the video slates may present one or more web pages email applications weather reports television news photographs etc.

It will also be understood that the video slates may be located in any suitable world locked position within the room. In some embodiments the video slates may be displayed according to a predefined visual layout which may be location specific. For example optical sensor data from the tracking system may be used to recognize that the real world environment is a particular location such as the user s office. Accordingly the video slates may be placed in particular locations within the office according to a location specific visual layout. On the other hand if a real world environment is unrecognized the video slates may be placed according to a default visual layout. In other embodiments the visual layout may be location independent and the video slates may be displayed in the same world locked positions in any location while operating in the world lock display mode .

With reference again to and as described in more detail below the tracking system utilizes sensor data received from the room to determine an estimated pose of the HMD device . This estimated pose is then used to display the video slates in their world locked positions. The tracking system may analyze the sensor data to determine one or more input uncertainty values associated with the sensor data. As noted above a variety of environmental factors may influence uncertainty associated with sensor data. Such factors may include but are not limited to illumination of real world objects scene depth scene motion and feature density e.g. scene clutter . Similarly the tracking system may analyze the estimated pose to determine one or more pose uncertainty values of the estimated pose.

The tracking system may then map one or more of the input uncertainty values and the pose uncertainty values to one of a plurality of estimated quality levels of the world lock display mode . Advantageously the tracking system may then communicate feedback of the estimated quality level to the user via the HMD device .

In some examples the feedback may comprise displaying one or more graphical representations of the estimated quality level via the HMD device . With reference now to in one example feedback of the estimated quality levels may comprise a circle displayed within the field of view of the HMD device . The circle may be displayed in one of a plurality of different colors with each color corresponding to different estimated quality level of the world lock display mode . For example five colors and corresponding estimated quality levels may be utilized such as 1 Red Unavailable 2 Purple Poor 3 Yellow Fair 4 Blue Good and 5 Green Excellent. It will be appreciated that any suitable number of quality levels and corresponding colors and any other types and forms of graphical representations may be utilized and are within the scope of the present disclosure.

In the example of the real world objects in the room may provide a low amount of feature density or scene clutter in image data collected by the HMD device . The tracking system may determine that such lower amount of feature density in this environment perhaps along with one or more other environmental aspects will yield a Fair estimated quality level of a world lock display mode experience. Accordingly and to alert the user the tracking system may display a Yellow Y circle via the HMD device .

In the example of the additional people and other real world objects in the room may provide an enhanced feature density in image data collected by the HMD device . The tracking system may determine that such greater feature density will yield an Excellent estimated quality level. Accordingly and to alert the user the tracking system may display a Green G circle via the HMD device corresponding to an Excellent estimated quality level of a world lock display mode experience.

In the examples of the user of the HMD device has moved through the doorway of the room shown in and into a hallway . In this example illumination conditions of the hallway and its features may be very poor. Accordingly image data collected by the HMD device may be characterized by low resolution yielding for example poor texture of the hallway and its features. The tracking system may determine that such poor illumination conditions perhaps along with one or more other environmental factors will yield an Unavailable estimated quality level for the world lock display mode e.g. the HMD device cannot operate in the world lock display mode.

Accordingly and to alert the user the tracking system may display a bar graph indicator via the HMD device that conveys the Unavailable estimated quality level by displaying one of five possible bars. In some examples the tracking system may be configured to disable the world lock display mode when the estimated quality level is below a predetermined quality level threshold.

As the world lock display mode is unavailable the HMD device may operate in the body lock display mode . In the body lock display mode the plurality of video slates may be displayed in the field of view with body locked positions. For example the plurality of video slates may appear in a spherical workspace layout where the user of the HMD device stands in the center of the sphere with the plurality of video slates surrounding him her. In some embodiments the plurality of video slates may be arranged according to a predefined visual layout. In one particular example a news application could be displayed in the first video slate on the left side an email application could be displayed on in the second video slate in the middle and a stock ticker application could be displayed in the third video slate on the right side.

In the user of the HMD device is standing in the hallway and next to the doorway from the room . The plurality of video slates is displayed in the field of view with body locked positions that appear to be fixed relative to the user and moveable relative to real world objects such as the doorway.

In the user of the HMD device has walked down to the end of the hallway and is standing in front of another doorway. Since the plurality of video slates are displayed via the HMD device with body locked positions the plurality of video slates stay fixed relative to the user even as he she walks down the hallway. In other words the slates move with the user .

In the user of the HMD device has walked through the doorway of the room and into a small hallway . The small hallway may provide a very limited scene depth within which the sensors of the HMD device may capture sensor data . Where the scene depth of the small hallway is below a minimum scene depth threshold the resulting uncertainties of the sensor data and corresponding estimated poses may yield an unacceptable estimated quality level of the world lock display mode .

Accordingly when the user enters the hallway the tracking system may switch from the world lock display mode to the body lock display mode . In response the volumetric meshes may visually transition from the 3D view to a 2D view. In one example the volumetric meshes may collapse to a 2D view of a video slate . The video slate may be a screen viewport of a virtual world that the virtual objects inhabit. The video slate may have a body locked position and the virtual objects may move within the virtual world depicted in the video slate.

In another example one or more sensors of the HMD device may be at least partially obscured by hair of the user a hand or arm of the user and or a hat worn by the user. In this example sensor data from the one or more sensors may be analyzed to detect visual indicators of user hair a hand or arm of the user and or a hat worn by the user. Based on such analysis input uncertainty values may be determined. For example where image data reveals a hat brim obscuring more than 50 of the field of view of an image sensor the tracking system may determine that such conditions will yield an Unavailable estimated quality level for the world lock display mode .

In another example the feedback of the estimated quality level of the world lock display mode may comprise altering the appearance of one or more virtual objects . With reference again to in one example where the estimated quality level drops from a first level to a second lower level the volumetric hologram of the evil wizard may be made transparent to indicate a lower estimated quality level. In other examples one or more of the volumetric holograms or 2D images may be displayed in a particular color to indicate a corresponding estimated quality level. In other examples one or more of the holograms or images may be displayed to appear to quiver or otherwise visually vibrate to indicate a corresponding estimated quality level. It will be appreciated that the foregoing examples are not exclusive and that many other examples of altering the appearance of one or more virtual objects may be utilized.

In other examples and with reference again to the tracking system may provide the estimated quality level to another application such augmented reality application that utilizes the world lock display mode and body lock display mode . The application may then convey feedback of the estimated quality level to the user via the HMD device . For example the augmented reality application may engage the tracking system via an application programming interface API and may query the tracking system regarding the availability and or estimated quality of the world lock display mode . Based on the response to the query the augmented reality application may determine the type and or manner of feedback of the estimated quality level to deliver to the user . For example the augmented reality application may provide audio feedback to the user via the HMD device such as vocalizing World lock mode isn t available at the moment. 

In other examples the tracking system or other application may refrain from communicating feedback of an estimated quality level of the world lock display mode until a user input is received from the user that calls for the world lock display mode. In one example the tracking system may operate by default in the body lock display mode and may not provide feedback of an estimated quality level of the world lock display mode while in this mode. The user may then make a request take an action or otherwise interact with the augmented reality application in a manner that calls for the world lock display mode . For example and with reference to the user may walk from the small hallway where the world lock display mode is not available back into the room where the world lock display mode is available. Accordingly the augmented reality application and tracking system may then display the circle indicators showing a Good estimated quality level.

It will be appreciated that many other forms of user input may be used to trigger the display of the feedback of an estimated quality level. In some examples such user input may be passive such as the example above of the user walking from the hallway into the room . In other examples the user input may be explicit such as the user speaking verbal instructions to launch an augmented reality application that utilizes the world lock display mode .

Turning now to a schematic illustration of an example tracking system of HMD device in accordance with an embodiment of the present disclosure is provided. As noted above the tracking system may be configured to determine estimated poses of the HMD device along with an estimated quality level of a world lock display mode . More particularly the tracking system may utilize sensor data from the HMD device to provide a filtered running estimate of the actual pose of the HMD device. These estimated poses may be used to display virtual objects in world locked positions. Feedback of the estimated quality level may be communicated to a user of the HMD device .

The tracking system may receive sensor data from a plurality of sensors located on HMD device and or computing device . The sensor data may provide location and orientation information in six degrees of freedom e.g. x y z pitch roll yaw . For example the plurality of sensors may include optical sensors and pose sensors as described above. As discussed in more detail below with respect to the sensors may include any suitable number and or combination of sensors for determining a position orientation and or other movement characteristics of the HMD device in up to six degrees of freedom.

The sensor data may be provided to a tracking and mapping module that includes two separate tracking filters that may operate in parallel. A 6DOF tracking filter may be configured to output an estimated pose comprising a location and an orientation of the HMD device in six degrees of freedom based on the sensor data . The estimated pose of the 6DOF tracking filter represents highly precise and accurate rotational and translational pose data that typically relies on visible light or other optical information. In particular a translational pose location of the HMD device may be estimated relative to other real world objects in a real world environment based on optical feedback of the environment.

Further the 6DOF tracking filter may map the real world environment to a virtual model to determine the location of the HMD device relative to other real world objects . Further in some embodiments the optical information may be used in combination with information from pose sensors to estimate the rotational pose orientation of the HMD device . As noted above due to its reliance on visible light the 6DOF tracking filter may be highly dependent on environmental conditions of the physical environment in which the HMD device is located.

A 3DOF tracking filter may be configured to output an estimated pose corresponding to an orientation of the HMD device in three degrees of freedom based on sensor data of the pose sensors. In some embodiments the estimated pose of the 3DOF tracking filter may be based sensor information from various sensors that do not rely on visible light or other optical information.

Estimated poses of the HMD device in six degrees of freedom and or three degrees of freedom may be provided to a pose filter . The pose filter may be configured to analyze and or adjust the estimated poses . For example image data from sensors may have one or more characteristics such as low texture in a scene or image blur that generate inaccuracies in the estimated location of features in the image. The pose filter may analyze such image data and other sensor data to determine one or more input uncertainty values of such data.

As noted above a variety of factors and conditions of the real world environment may influence uncertainty associated with sensor data. Such factors may include but are not limited to illumination of real world objects scene depth scene motion and feature density. For example a scene that includes numerous real world objects and or people in motion may heighten uncertainties associated with image data of the scene and may therefore make reliable 6DOF tracking more difficult.

In one example acceleration data from an accelerometer may be analyzed to determine an input uncertainty value for a translation component. Additionally rotation data from a gyroscope may be analyzed to determine an input uncertainty value for a rotation component. The pose filter may utilize geometric averages harmonic means or any other suitable method for determining such input uncertainty values . In some examples the uncertainties for each input or dimension may be expressed as covariances for that dimension. Further the pose filter may analyze uncertainty in any suitable number of dimensions.

The input uncertainty values may be mapped to an estimated quality level of a world lock display mode experience. For example uncertainty in a six degree of freedom pose estimate may be represented by a 6 6 covariance matrix comprising three rotation components and 3 translation components. The diagonal in the matrix represents an uncertainty of each of the individual axes that represent each of the three rotational angles and each of the three translation directions.

The various covariances may be collapsed to yield a single covariance that is compared to a quality level threshold and or to the plurality of quality levels to yield an estimated quality level . Such estimated quality level may represent an estimated quality of a 6 6 DOF world lock display mode experience. The tracking system may then output the estimated quality level in the form of feedback to the user as described above.

As shown in in some example the estimated poses outputted by the tracking system may be looped back into the pose filter . In this manner the pose filter may analyze an estimated pose to determine one or more pose uncertainty values of the pose s . Similar to determining the input certainty values a covariance matrix may be created for the estimated pose to determine a pose uncertainty value for a given estimated pose .

In some examples both input uncertainty values and pose uncertainty values may be calculated and mapped to an estimated quality level . In other examples input uncertainty values may be calculated and mapped to an estimated quality level while pose uncertainty values are not determined or utilized. These examples may be utilized for example when the 3DOF tracking filter is operated and the 6DOF tracking filter is not operated. In other examples pose uncertainty values may be calculated and mapped to an estimated quality level while input uncertainty values are not determined or utilized.

It will be understood that the input uncertainty values pose uncertainty values estimated poses and estimated quality levels may be determined in any suitable manner without departing from the scope of the present disclosure. For example the tracking and mapping module may monitor tick by tick sensor data input into the tracking system and may assess and adjust the estimated poses and estimated quality levels over longer periods of time.

In some embodiments the tracking system may be implemented in hardware such as a processing pipeline including various logical blocks or pipe stages. In some embodiments the tracking system may be implemented as software instructions executed by a processor. In some embodiments the tracking system may be implemented as a combination of hardware and software.

With reference now to one example of an HMD device in the form of a pair of wearable glasses with a transparent display is provided. It will be appreciated that in other examples the HMD device may take other suitable forms in which a transparent semi transparent and or non transparent display is supported in front of a viewer s eye or eyes. It will also be appreciated that the HMD device shown in may take the form of the HMD device as described in more detail below or any other suitable HMD device.

The HMD device includes a display system and a see through or transparent display that enables images such as holographic objects to be delivered to the eyes of a wearer of the HMD device. The transparent display may be configured to visually augment an appearance of a real world physical environment to a wearer viewing the physical environment through the transparent display. For example the appearance of the physical environment may be augmented by graphical content e.g. one or more pixels each having a respective color and brightness that is presented via the transparent display to create an augmented reality environment.

The transparent display may also be configured to enable a wearer of the HMD device to view a physical real world object in the physical environment through one or more partially transparent pixels that are displaying a virtual object representation. As shown in in one example the transparent display may include image producing elements located within lenses such as for example a see through Organic Light Emitting Diode OLED display . As another example the transparent display may include a light modulator on an edge of the lenses . In this example the lenses may serve as a light guide for delivering light from the light modulator to the eyes of a wearer. Such a light guide may enable a wearer to perceive a 3D holographic image located within the physical environment that the wearer is viewing while also allowing the wearer to view physical objects in the physical environment thus creating an augmented reality environment.

The HMD device may also include various sensors and related systems. For example the HMD device may include a gaze tracking system that includes one or more image sensors configured to acquire image data in the form of gaze tracking data from a wearer s eyes. Provided the wearer has consented to the acquisition and use of this information the gaze tracking system may use this information to track a position and or movement of the wearer s eyes.

In one example the gaze tracking system includes a gaze detection subsystem configured to detect a direction of gaze of each eye of a wearer. The gaze detection subsystem may be configured to determine gaze directions of each of a wearer s eyes in any suitable manner. For example the gaze detection subsystem may comprise one or more light sources such as infrared light sources configured to cause a glint of light to reflect from the cornea of each eye of a wearer. One or more image sensors may then be configured to capture an image of the wearer s eyes.

Images of the glints and of the pupils as determined from image data gathered from the image sensors may be used to determine an optical axis of each eye. Using this information the gaze tracking system may then determine a direction the wearer is gazing. The gaze tracking system may additionally or alternatively determine at what physical or virtual object the wearer is gazing. Such gaze tracking data may then be provided to the HMD device .

It will also be understood that the gaze tracking system may have any suitable number and arrangement of light sources and image sensors. For example and with reference to the gaze tracking system of the HMD device may utilize at least one inward facing sensor .

The HMD device may also include sensor systems that receive physical environment data from the physical environment. For example the HMD device may also include a head tracking system that utilizes one or more pose sensors such as pose sensors on HMD device to capture head pose data and thereby enable position tracking direction location and orientation sensing and or motion detection of the wearer s head. Accordingly and as described above the tracking system of may receive sensor data from pose sensors that enable the orientation of the HMD device to be estimated in three degrees of freedom or the location and orientation of the HMD device to be estimated in six degrees of freedom.

In one example head tracking system may comprise an inertial measurement unit IMU configured as a three axis or three degree of freedom position sensor system. This example position sensor system may for example include three gyroscopes to indicate or measure a change in orientation of the HMD device within 3D space about three orthogonal axes e.g. x y and z or roll pitch and yaw . The orientation derived from the sensor signals of the IMU may be used to display via the transparent display one or more virtual objects with a body locked position in which the position of each virtual object appears to be fixed relative to the wearer of the see through display and the position of each virtual object appears to be moveable relative to real world objects in the physical environment.

In another example head tracking system may comprise an IMU configured as a six axis or six degree of freedom position sensor system. This example position sensor system may for example include three accelerometers and three gyroscopes to indicate or measure a change in location of the HMD device along the three orthogonal axes and a change in device orientation about the three orthogonal axes.

The head tracking system may also support other suitable positioning techniques such as GPS or other global navigation systems. Further while specific examples of position sensor systems have been described it will be appreciated that any other suitable position sensor systems may be used. For example head pose and or movement data may be determined based on sensor information from any combination of sensors mounted on the wearer and or external to the wearer including but not limited to any number of gyroscopes accelerometers inertial measurement units GPS devices barometers magnetometers cameras e.g. visible light cameras infrared light cameras time of flight depth cameras structured light depth cameras etc. communication devices e.g. WIFI antennas interfaces etc.

In some examples the HMD device may also include an optical sensor system that utilizes one or more outward facing sensors such as optical sensor on HMD device to capture image data. The outward facing sensor s may detect movements within its field of view such as gesture based inputs or other movements performed by a wearer or by a person or physical object within the field of view. The outward facing sensor s may also capture 2D image information and depth information from the physical environment and physical objects within the environment. For example the outward facing sensor s may include a depth camera a visible light camera an infrared light camera and or a position tracking camera.

The optical sensor system may include a depth tracking system that generates depth tracking data via one or more depth cameras. In one example each depth camera may include left and right cameras of a stereoscopic vision system. Time resolved images from one or more of these depth cameras may be registered to each other and or to images from another optical sensor such as a visible spectrum camera and may be combined to yield depth resolved video.

In other examples a structured light depth camera may be configured to project a structured infrared illumination and to image the illumination reflected from a scene onto which the illumination is projected. A depth map of the scene may be constructed based on spacings between adjacent features in the various regions of an imaged scene. In still other examples a depth camera may take the form of a time of flight depth camera configured to project a pulsed infrared illumination onto a scene and detect the illumination reflected from the scene. For example illumination may be provided by an infrared light source . It will be appreciated that any other suitable depth camera may be used within the scope of the present disclosure.

The outward facing sensor s may capture images of the physical environment in which a wearer of the HMD device is situated. With respect to the HMD device in one example an augmented reality display program may include a 3D modeling system that uses such captured images to generate a virtual environment that models the physical environment surrounding the wearer of the HMD device. In some embodiments the optical sensor may cooperate with the IMU to determine the location and the orientation of the HMD device in six degrees of freedom. Such location and orientation information may be used to display via the transparent display one or more virtual objects with a world locked position in which a position of each virtual object appears to be fixed relative to real world objects viewable through the transparent display and the position of each virtual object appears to be moveable relative to a wearer of the see through display.

The HMD device may also include a microphone system that includes one or more microphones such as microphone that capture audio data. In other examples audio may be presented to the wearer via one or more speakers such as speaker on the HMD device .

The HMD device may also include a controller such as controller . The controller may include a logic machine and a storage machine as discussed in more detail below with respect to that are in communication with the various sensors and systems of the HMD device . In one example the storage machine may include instructions that are executable by the logic machine to receive signal inputs from the sensors determine a pose of the HMD device and adjust display properties for content displayed via the transparent display .

With reference to at the method may include receiving sensor data from one or more sensors of the head mounted display device. At the method may include using the sensor data determining an estimated pose of the head mounted display device. At the method may include using the estimated pose displaying the one or more virtual objects via the head mounted display device in either the world lock display mode or in the body lock display mode. At the method may include determining one or more of input uncertainty values of the sensor data and pose uncertainty values of the estimated pose. At the step of determining one or more of input uncertainty values and pose uncertainty values may comprise analyzing image data for one or more of illumination of the real world objects a scene depth scene motion feature density hair of the user a hand of the user and a hat worn by the user.

At the method may include mapping one or more of the input uncertainty values and the pose uncertainty values to the estimated quality level of the world lock display mode. At the method may include communicating feedback of the estimated quality level to the user via the head mounted display device. At the method may include displaying one or more graphical representations of the estimated quality level via the head mounted computing device. At the method may include communicating feedback of the estimated quality level by altering an appearance of a field of view viewable through the head mounted display device. At the method may include communicating feedback of the estimated quality level by altering an appearance of one or more virtual objects.

At the method may include communicating feedback of the estimated quality level by providing the estimated quality level to an application that utilizes the world lock display mode and the body lock display mode. At the method may include conveying the feedback of the estimated quality level to the user via the application and the HMD device. At the method may include refraining from communicating the feedback of the estimated quality level until a user input is received that calls for the world lock display mode.

With reference now to at the method may include disabling the world lock display mode when the estimated quality level is below a quality level threshold. At the method may include determining the input uncertainty values and not determining the pose uncertainty values. At the method may include mapping the input uncertainty values to the estimated quality level. At the method may include determining the pose uncertainty values and not determining the input uncertainty values. At the method may include mapping the pose uncertainty values to the estimated quality level.

The above described method may be performed to apprise users of an estimated quality level of a world lock display mode via one or more forms of feedback provided by an HMD device. In this manner users may be afforded a richer and more informative augmented reality user experience.

It will be appreciated that method is provided by way of example and is not meant to be limiting. Therefore it is to be understood that method may include additional and or alternative steps than those illustrated in . Further it is to be understood that method may be performed in any suitable order. Further still it is to be understood that one or more steps may be omitted from method without departing from the scope of this disclosure.

Computing system includes a logic machine and a storage machine . Computing system may optionally include a display subsystem input subsystem communication subsystem and or other components not shown in . Computing system may also include computer readable media with the computer readable media including computer readable storage media and computer readable communication media. Further in some embodiments the methods and processes described herein may be implemented as a computer application computer service computer API computer library and or other computer program product in a computing system that includes one or more computers.

Logic machine includes one or more physical devices configured to execute instructions. For example the logic machine may be configured to execute instructions that are part of one or more applications services programs routines libraries objects components data structures or other logical constructs. Such instructions may be implemented to perform a task implement a data type transform the state of one or more components achieve a technical effect or otherwise arrive at a desired result.

The logic machine may include one or more processors configured to execute software instructions. Additionally or alternatively the logic machine may include one or more hardware or firmware logic machines configured to execute hardware or firmware instructions. Processors of the logic machine may be single core or multi core and the instructions executed thereon may be configured for sequential parallel and or distributed processing. Individual components of the logic machine optionally may be distributed among two or more separate devices which may be remotely located and or configured for coordinated processing. Aspects of the logic machine may be virtualized and executed by remotely accessible networked computing devices configured in a cloud computing configuration.

Storage machine includes one or more physical devices configured to hold machine readable instructions executable by the logic machine to implement the methods and processes described herein. When such methods and processes are implemented the state of storage machine may be transformed e.g. to hold different data.

Storage machine may include removable and or built in devices. Storage machine may include optical memory e.g. CD DVD HD DVD Blu Ray Disc etc. semiconductor memory e.g. RAM EPROM EEPROM etc. and or magnetic memory e.g. hard disk drive floppy disk drive tape drive MRAM etc. among others. Storage machine may include volatile nonvolatile dynamic static read write read only random access sequential access location addressable file addressable and or content addressable devices.

It will be appreciated that storage machine includes one or more physical devices. However aspects of the instructions described herein alternatively may be propagated by a communication medium e.g. an electromagnetic signal an optical signal etc. that is not held by a physical device for a finite duration. Furthermore data and or other forms of information pertaining to the present disclosure may be propagated by a pure signal via computer readable communication media.

Aspects of logic machine and storage machine may be integrated together into one or more hardware logic components. Such hardware logic components may include field programmable gate arrays FPGAs program and application specific integrated circuits PASIC ASICs program and application specific standard products PSSP ASSPs system on a chip SOC and complex programmable logic devices CPLDs for example.

When included display subsystem may be used to present a visual representation of data held by storage machine . This visual representation may take the form of a graphical user interface GUI . As the herein described methods and processes change the data held by the storage machine and thus transform the state of the storage machine the state of display subsystem may likewise be transformed to visually represent changes in the underlying data. Display subsystem may include one or more display devices utilizing virtually any type of technology such as transparent display of the HMD device shown in . Such display devices may be combined with logic machine and or storage machine in a shared enclosure or such display devices may be peripheral display devices.

When included input subsystem may comprise or interface with one or more user input devices such as a keyboard mouse touch screen or game controller. In some embodiments the input subsystem may comprise or interface with selected natural user input NUI componentry. Such componentry may be integrated or peripheral and the transduction and or processing of input actions may be handled on or off board. Example NUI componentry may include a microphone for speech and or voice recognition an infrared color stereoscopic and or depth camera for machine vision and or gesture recognition a head tracker eye tracker accelerometer and or gyroscope for motion detection and or intent recognition electric field sensing componentry for assessing brain activity any of the sensors described above with respect to head tracking system of and or any other suitable sensor.

When included communication subsystem may be configured to communicatively couple computing system with one or more other computing devices. Communication subsystem may include wired and or wireless communication devices compatible with one or more different communication protocols. As non limiting examples the communication subsystem may be configured for communication via a wireless telephone network or a wired or wireless local or wide area network. In some embodiments the communication subsystem may allow computing system to send and or receive messages to and or from other devices via a network such as the Internet.

The terms program and module may be used to describe an aspect of the augmented reality system that is implemented to perform one or more particular functions. In some cases such a program or module may be instantiated via logic machine executing instructions held by storage machine . It is to be understood that different programs and modules may be instantiated from the same application service code block object library routine API function etc. Likewise the same program or module may be instantiated by different applications services code blocks objects routines APIs functions etc. The terms program and module are meant to encompass individual or groups of executable files data files libraries drivers scripts database records etc.

It will be understood that the configurations and or approaches described herein are exemplary in nature and that these specific embodiments or examples are not to be considered in a limiting sense because numerous variations are possible. The specific routines or methods described herein may represent one or more of any number of processing strategies. As such various acts illustrated and or described may be performed in the sequence illustrated and or described in other sequences in parallel or omitted. Likewise the order of the above described processes may be changed.

The subject matter of the present disclosure includes all novel and non obvious combinations and sub combinations of the various processes systems and configurations and other features functions acts and or properties disclosed herein as well as any and all equivalents thereof.

