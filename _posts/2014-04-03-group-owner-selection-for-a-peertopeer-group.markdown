---

title: Group owner selection for a peer-to-peer group
abstract: A computing device of a peer-to-peer group for a wireless communication protocol may determine that a peer-to-peer connection for the group transports an application flow sourced by a Group Owner to a client of the Group Owner. The computing devices of the group select the client that receives the application flow sourced by the Group Owner to be a new Group Owner for the group. As a consequence, the computing device of the group that receives the application flow is the new Group Owner and, as a result, the Group Owner for the group receives the application flow whereas prior to the selection of the new Group Owner the Group Owner transmitted the application flow.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09357357&OS=09357357&RS=09357357
owner: QUALCOMM Incorporated
number: 09357357
owner_city: San Diego
owner_country: US
publication_date: 20140403
---
This application claims the benefit of U.S. Provisional Application No. 61 894 368 filed Oct. 22 2013 the entire content of which is incorporated herein by reference.

The Wi Fi communication standard enables computing devices to connect to one another to exchange data and control information over a wireless transmission medium. An extension of Wi Fi known as Wi Fi Direct or Wi Fi P2P hereinafter Wi Fi Direct or WFD enables communication between peer computing devices using a peer to peer P2P connection capable of transporting data and control information directly between the peer computing devices that is without mediation by a wireless access point WAP or more simply Access Point AP . The Wi Fi Direct standard is promulgated by the Wi Fi Alliance.

Groups of computing devices may form such P2P or direct connections and according to the Wi Fi Direct standard devices that wish to communicate may exchange messages to form a group. The computing devices may engage in a negotiation process to determine one of the computing devices the Group Owner to control the group. The remaining computing devices of the group assume the role of clients of the Group Owner which thereafter functions similarly to an access point of a Wi Fi infrastructure network and is sometimes referred to as a soft AP. 

In general this disclosure describes techniques by which computing devices that exchange wireless communications as members of a wireless peer to peer P2P group may select a new Group Owner for the group. In some examples the computing devices of the group determine that a P2P connection for the group transports an application flow sourced by a Group Owner to a client of the Group Owner. The computing devices of the group select the client that receives the application flow sourced by the Group Owner to be a new Group Owner for the group. As a consequence the computing device of the group that receives the application flow is the new Group Owner and as a result the Group Owner for the group receives the application flow whereas prior to the selection of the new Group Owner the Group Owner transmitted the application flow.

In some examples computing devices select the client that receives the application flow sourced by the Group Owner to be a new Group Owner for the group only if the Group Owner is in Power Save mode for the P2P connection. In Power Save mode either or both the Group Owner and clients may be absent from communication for defined periods to reduce power consumption. In some examples the computing devices use Wi Fi Direct to exchange wireless communications as members of the P2P group.

The techniques of this disclosure may provide one or more advantages. For example selecting a new Group Owner for a wireless P2P group such that the peer computing device that receives an application flow is the Group Owner may improve at least one of throughput and latency for the application flow in comparison to cases in which the peer computing device that sources the application flow is the Group Owner.

In one example a method includes joining by a computing device of a plurality of computing devices and according to a wireless communication protocol a peer to peer group that includes the plurality of computing devices and selecting by the computing device a new group owner computing device of the peer to peer group to cause at least one application flow to flow from a client computing device of the peer to peer group to the new group owner computing device of the peer to peer group.

In another example a computing device includes means for joining a peer to peer group comprising a plurality of computing devices according to a wireless communication protocol and means for selecting a new group owner computing device of the peer to peer group to cause at least one application flow to flow from a client computing device of the peer to peer group to the new group owner computing device of the peer to peer group.

In another example a computing device includes one or more processors configured to join a peer to peer group comprising a plurality of computing devices according to a wireless communication protocol and select a new group owner computing device of the peer to peer group to cause at least one application flow to flow from a client computing device of the peer to peer group to the new group owner computing device of the peer to peer group.

In another example a computer readable storage medium comprising instructions stored thereon that when executed configure one or more processors to join by a computing device a peer to peer group comprising a plurality of computing devices according to a wireless communication protocol and select by the computing device a new group owner computing device of the peer to peer group to cause at least one application flow to flow from a client computing device of the peer to peer group to the new group owner computing device of the peer to peer group.

The details of one or more examples are set forth in the accompanying drawings and the description below. Other features objects and advantages will be apparent from the description and drawings and from the claims.

This disclosure describes techniques for renegotiation of a Group Owner for a peer to peer P2P group of computing devices that exchange data and control information over a wireless transmission medium. Wi Fi Direct standardized by Wi Fi Alliance is a Peer to Peer P2P wireless communication protocol for direct communication between two Wi Fi devices the Group Owner and Wi Fi P2P Client. The role of the Group Owner is negotiable during connection setup.

Mobile devices and other Wi Fi capable computing devices may use Wi Fi Power Save which is specified in Institute of Electrical and Electronics Engineers IEEE 802.11 in order to save energy. Wi Fi Direct extends Wi Fi Power Save to specify Power Save options for the Group Owner of a P2P group to further save energy when two Wi Fi devices form a Peer to Peer P2P connection as members of a P2P group. However these Wi Fi Power Save mechanisms operate independently of the upper layer applications and often introduce performance penalties on application data throughput and latency. As used herein IEEE 802.11 may refer any wireless communication protocol that conforms to any of the IEEE 802.11 set of standards e.g. 802.11 802.11a 802.11b 802.11g 802.11n 802.11ac 802.11ad etc. or extensions of Wi Fi WiGig and or one or more 802.11 standards for example.

The Wi Fi Direct extensions for Power Save for Group Owner provide two Power Save PS methods 1 Opportunistic PS Opp PS whereby the Group Owner is only awake for a time window denoted as CTWindow at the beginning of every Beacon Interval BI and 2 Notice of Absence Power Save NoA PS whereby the Group Owner goes to sleep every Absence Interval AI and sleeps for Absence Duration AD . Further according to Wi Fi Direct for Power Save for Group Owner AD

As described in greater detail below this disclosure describes techniques protocols methods and devices applicable to wireless P2P protocols in which computing devices that exchange wireless communications as members of a wireless peer to peer P2P group may select a new Group Owner for the group. In some examples the computing devices of the group determine that a P2P connection for the group transports an application flow sourced by a Group Owner to a client of the Group Owner. The computing devices of the group select the client that receives the application flow sourced by the Group Owner to be a new Group Owner for the group. As a consequence the computing device of the group that receives the application flow is the new Group Owner and as a result the Group Owner for the group receives the application flow whereas prior to the selection of the new Group Owner the Group Owner transmitted the application flow. Selecting a new Group Owner for a wireless P2P group such that the peer computing device that receives an application flow is the Group Owner may improve at least one of throughput and latency for the application flow comparison to cases in which the peer computing device that sources the application flow is the Group Owner. In other words the application data flows go from the Wi Fi P2P Client to the Wi Fi P2P GO which may provide higher throughput and less latency when Wi Fi is in Power Save mode in comparison to the opposite configuration i.e. application data flowing from the Wi Fi P2P GO to the Wi Fi P2P Client .

In some examples computing devices select the client that receives the application flow sourced by the Group Owner to be a new Group Owner for the group only if the Group Owner is in Power Save mode for the P2P connection. In Power Save mode either or both the Group Owner and the clients may be absent from communication for defined periods to reduce power consumption. In some examples the computing devices use Wi Fi Direct to exchange wireless communications as members of the P2P group.

Any of computing devices may each represent a mobile device such as a smartphone or other mobile handset a tablet computer a laptop computer or other computing device. Any of computing devices may also represent a stationary device such as a desktop computer. Computing devices may also be components of larger devices or systems. For example any of computing devices may comprise a processor a processing core a chipset or other one or more integrated circuits. Any of computing devices may also represent peripherals such as displays projectors speakers keyboards mice joysticks data storage devices network interface devices other docking hosts remote controls cameras microphones printers or any of various other devices capable of wireless communication over wireless medium .

Computing devices execute respective P2P protocol modules A B collectively P2P protocol modules that implement a wireless P2P protocol with which computing devices establish a wireless communication channel over the wireless medium . The wireless communication channel may be any channel capable of propagating communicative signals between the computing devices over the wireless medium . In some examples the wireless communication channel may be implemented in radio frequency communications in frequency bands such as the 2.4 gigahertz GHz band the 5 GHz band the 60 GHz band or other frequency bands. In some examples the wireless communication channel may comply with one or more sets of standards protocols or technologies among Wi Fi as promoted by the Wi Fi Alliance WiGig as promoted by the Wireless Gigabit Alliance and or the Institute of Electrical and Electronics Engineers IEEE 802.11 set of standards e.g. 802.11 802.11a 802.11b 802.11g 802.11n 802.11ac 802.11ad etc. or other standards protocols or technologies. The frequency bands used for the wireless communication channel such as the 2.4 GHz 5 GHz and 60 GHz bands may be defined for purposes of this disclosure as they are understood in light of the standards of Wi Fi WiGig any one or more IEEE 802.11 protocols and or other applicable standards or protocols.

The P2P protocol modules implement a wireless P2P protocol in which computing devices communicate to join a P2P group of devices P2P group permitted to communicate with one another upon being admitted as a member of the group. For example P2P protocol modules may exchange messages to join the P2P group . The wireless P2P protocol may include Wi Fi Direct as promulgated by the Wi Fi Alliance. As used herein to join or establish a P2P group such as a Wi Fi Direct P2P Group includes creating a new P2P group and joining an already existing P2P group.

P2P protocol modules may exchange messages to select a Group Owner for the P2P group . In the illustrated example P2P protocol modules of computing devices select the computing device A as the Group Owner for the P2P group . Although illustrated as including the two computing devices the P2P group may in some examples include more than two computing devices. However the P2P group may include a single Group Owner.

Computing devices additionally execute respective applications A B collectively applications . Each of the applications produce and or consume data for transmission as one or more application flows. The applications may represent a Video on Demand Voice over IP VoIP streaming media distributed computing application or any other application that may exchange application flows among the computing devices . Upon establishing the wireless communication channel the application A may use the wireless communication channel to transmit an application flow to the application B using data frames that conform to the wireless P2P protocol implemented by the P2P protocol modules .

In accordance with techniques described in this disclosure the P2P protocol modules implement a preference for the Group Owner to sink e.g. receive or consume application flows for the P2P group. One of P2P protocol modules may determine that the application flow is sourced by the computing device A and sunk or consumed by the computing device B. That is the computing device B is a sink for the application flow . In response to determining that the application flow is sourced by the computing device A operating as the Group Owner for the P2P group and sunk by the computing device B the P2P protocol modules select the computing device B to be the new Group Owner for the P2P group . In other words the P2P protocol modules transfer group ownership for the P2P group from the initial Group Owner the computing device A to the new Group Owner the computing device B. Subsequent to group ownership transfer the computing device B operating as the new Group Owner for the P2P group sinks the application flow which may result improved throughput and or latency for the application flow in comparison to the previous state in which the computing device A was the Group Owner for the P2P group . In various examples either of the P2P protocol modules may determine that the application flow is sourced by the computing device A operating as the Group Owner for the P2P group and sunk by the computing device B. For example the P2P protocol module B may determine that computing device B sinks the application flow and that the computing device B is not operating as the Group Owner for the P2P group .

In the illustrated example to select the computing device B to be the new Group Owner for the P2P group the P2P protocol module A initiates renegotiation of the Group Owner for the P2P group by issuing Group Owner renegotiation message to the P2P protocol module B. Group Owner renegotiation message directs the P2P protocol module B to engage the P2P protocol module A to negotiate and select the computing device B as the Group Owner for the P2P group . In some cases the P2P protocol modules establish a new wireless communication channel to transport the application flow for the new state of the P2P group i.e. with computing device B operating as the Group Owner. In some examples the P2P protocol module B of the initial client for the P2P group initiates the renegotiation of the Group Owner for the P2P group by issuing the Group Owner renegotiation message to the P2P protocol module A.

In some examples the P2P group may include more than two computing devices and include a single initial Group Owner represented by the computing device A. In such examples computing devices of the P2P group may exchange multiple different application flows among the various computing devices of the P2P group . In some cases the application flows may include broadcast anycast or multicast application flows. The computing devices of the P2P group may determine that the computing device B sinks at least a plurality of the application flows or a plurality of an amount of application flows data i.e. more than any other of the computing devices and as a result negotiate and select the computing device B as the new Group Owner for the P2P group in accordance with techniques described herein.

Initially the computing devices find each other by performing device discovery . As part of device discovery computing devices may alternately listen and send probe requests with additional P2P information elements on social channels which are channels 1 6 and 11 in the 2.4 GHz band for example. Computing devices may in some instances also perform service discovery and elect to connect to devices according to provided services.

Computing device B can directly start the formation of P2P group with previously unconnected computing device A by sending a Group Owner GO Negotiation request . Any of computing devices can assume the role of the P2P Group GO however the roles in the group are negotiated according to a negotiation protocol of the wireless P2P protocol in which computing devices may also exchange some characteristics of the P2P group like the operating channel the Wi Fi Protected Setup WPS configuration method and whether the group is a persistent group. Although call flow diagram illustrates computing device B as sending an earlier GO Negotiation request . Computing devices may send respective GO Negotiation requests in any order.

Computing device B communicates a level of intent to be the GO for the P2P group using a GO intent attribute intent 4 in the GO Negotiation request . Computing device A issues GO Negotiation request message to computing device B and communicates a level of intent to be the GO for the P2P group using a GO intent attribute intent 8 . Because computing device A indicates a higher valued intent computing devices designate computing device A as the initial GO and move to a negotiated operating channel. Computing devices may send a GO Negotiation confirmation and computing devices move to the negotiated operating channel. The computing device A operating as the initial GO starts to operate in Access Point mode sending beacons with the negotiated SSID. The computing device B connects to computing device A as a P2P Client of the computing device operating as the P2P GO. The computing devices enter a phase in which computing devices perform authentication and association to complete the P2P group formation and establish the wireless communication channel .

At any point computing device A operating as the Group Owner may enter Group Owner power save mode in step . As described above power save mode as defined by Wi Fi Direct may include opportunistic power save and notice of absence power save. Opportunistic power save allows computing device A to sleep to use little or in some cases no power. Computing device A advertises to computing device B intervals in which computing device A will be awake said intervals being referred to as client traffic windows CTWindows . In Notice of Absence power save computing device A advertises a start time interval duration and count that defines periods in which computing device A will be absent and consequently unavailable for wireless communication using the wireless communication channel .

Computing device A uses the wireless communication channel to transmit one or more application flows to computing device B. Computing device A determines that the Group Owner i.e. computing device A is sourcing the application flows for the P2P group in step . As a result computing device A issues a GO renegotiation request message requesting computing device B to renegotiate group ownership for the P2P group . With GO negotiation requests computing devices renegotiate computing device B as the GO for the P2P group . In some examples the computing device B may determine that the Group Owner i.e. computing device A is sourcing the application flows for the P2P group and as a result issue a GO renegotiation request message to the computing device B to renegotiate group ownership for the P2P group . The computing device that issues the GO renegotiation request message may provide a subsequent GO negotiation request message to ensure that the computing device B is the new GO for the P2P group e.g. by selecting a large or small value as applicable for the included GO intent attribute.

Computing devices may optionally in step again perform authentication and association to complete the P2P group reformation and establish the wireless communication channel . Application flow s continue to flow from computing device A to computing device B. However the Group Owner for the P2P group now computing device B is the now sink for the applications flow s rather than the source per the initial configuration following GO negotiation requests .

Wi Fi Direct and IEEE 802.11 may encompass a physical layer and MAC layer and may define physical signaling addressing and channel access control used for communications in a Wi Fi Direct or other wireless P2P system. IEEE 802.11 may define the frequency band structure used for communication e.g. Federal Communications Commission bands defined at 2.4 GHz 3.6 GHz 5 GHz 60 GHz or Ultrawideband UWB frequency band structures. IEEE 802.11 may also define data modulation techniques e.g. analog and digital amplitude modulation frequency modulation phase modulation techniques and combinations thereof. IEEE 802.11 may also define multiplexing techniques e.g. example time division multi access TDMA frequency division multi access FDMA code division multi access CDMA or any combination of OFDM FDMA TDMA and or CDMA. In one example operations of IEEE 802.11 may be defined at least in part by a Wi Fi e.g. IEEE 802.11 2007 802.11n 2009 802.11ac 802.11ad . Wi Fi Direct may represent an example instance of any of P2P protocol modules of .

Internet Protocol IP User Datagram Protocol UDP Real time Transport Protocol RTP Transmission Control Protocol TCP and Real Time Streaming Protocol RTSP define packet structures and encapsulations to transport application flows over Wi Fi Direct and may be defined according to the standards maintained by the Internet Engineering Task Force IETF for example.

RTSP may be used by computing devices of for instance to negotiate capabilities establish a session and session maintenance and management. Computing device may in some examples establish the feedback channel using an RTSP message transaction to negotiate a capability of a source device and a sink device to support the feedback channel and feedback input category on a UIBC operated using protocol layers of UIBC . The use of RTSP negotiation to establish a feedback channel may be similar to using the RTSP negotiation process to establish a media share session and or the UIBC.

Video codec may define the video data coding techniques that may be used by a system having computing devices that exchange application flows over Wi Fi Direct . Video codec may implement any number of video compression standards such as ITU T H.261 ISO IEC MPEG 1 Visual ITU T H.262 or ISO IEC MPEG 2 Visual ITU T H.263 ISO IEC MPEG 4 Visual ITU T H.264 also known as ISO IEC MPEG 4 AVC VP8 and High Efficiency Video Coding HEVC .

Audio codec may define the audio data coding techniques that may be used by a system having computing devices that exchange application flows over Wi Fi Direct . Audio data may be coded using multi channel formats such those developed by Dolby and Digital Theater Systems. Audio data may be coded using a compressed or uncompressed format. Examples of compressed audio formats include MPEG 1 2 Audio Layers II and III AC 3 AAC. An example of an uncompressed audio format includes pulse code modulation PCM audio format.

Packetized elementary stream PES packetization and MPEG2 transport stream MPEG2 TS may define how coded audio and video data is packetized and transmitted. Packetized elementary stream PES packetization and MPEG TS may be defined according to MPEG 2 Part 1. In other examples audio and video data may be packetized and transmitted according to other packetization and transport stream protocols. Audio and video may be sent together or in separate packets. If sent separately the video packets may be synchronized with corresponding audio packets or vice versa when the audio and video is rendered and output. Content protection may provide protection against unauthorized copying of audio or video data. In one example content protection may be defined according to High bandwidth Digital Content Protection 2.0 specification.

UIBC includes user input packetization which may define how user input is packetized. Human interface device commands HIDC generic user inputs and OS specific commands may define how types of user inputs are formatted into information elements. For example HIDC and generic user inputs may categorize inputs based on user interface type e.g. mouse keyboard touch multi touch voice gesture vendor specific interface etc. and commands e.g. zoom pan etc. and determine how user inputs should be formatted into information elements. Categorization as either HIDC and generic user input typically affects how subsequent media data transported using at least one application flow is presented to the user at a sink device e.g. zoom and pan operations and how a source device processes e.g. encodes and or transmits the media data to the sink device.

IEEE 802.11 includes a Wi Fi Power Save module to execute Wi Fi Power Save for a computing device that executes wireless communication model . Wi Fi Power Save module may in various instances execute various types of Wi Fi or IEEE 802.11 Power Save mechanisms described in the IEEE 802.11 specification. For example Wi Fi Power Save module may execute Power Save Mechanism PSM Distributed Coordination Function DCF Wi Fi Multimedia WMM PowerSave Automatic Power Save Delivery APSD another Power Save mechanism or a combination of such mechanisms.

In accordance with techniques described herein Wi Fi Direct includes a flow monitor and a power save module . Flow monitor monitors application flows sourced and or sunk by a computing device that executes wireless communication model . Flow monitor may maintain a flow table including one or more entries that each uniquely identify an application flow. Each flow table entry may include an identifier for a source device for the corresponding application flow and an identifier for a sink device for the corresponding application flow. Each flow table entry may further include statistics compiled by flow monitor and describing a size of the flow. Flow monitor may determine a number of application flows sunk or sourced by the computing device operating according to wireless communication model and may further determine respective sizes e.g. bandwidth consumed of the application flows.

Power save module executes Wi Fi Direct power save mode for the computing device that executes wireless communication model . In some cases the computing device may be a GO for a P2P group such as P2P group of . Upon flow monitor determining the computing device is sourcing one or more application flows transmitted to a client member of the P2P group Wi Fi Direct performs GO renegotiation techniques described herein to cause the client member of the P2P group to assume group ownership of the P2P group. In this way the GO for the P2P group will sink the one or more applications flows and the computing device may source the application flows as a client member of the P2P group to potentially improve at least one of throughput and latency for the application flows. In some cases the computing device may be a client for a P2P group such as P2P group of . Upon flow monitor determining the computing device operating a P2P group client is sinking one or more application flows from the GO for the P2P group Wi Fi Direct performs GO renegotiation techniques described herein to cause the computing device to sink the application flows as a GO of the P2P group to potentially improve at least one of throughput and latency for the application flows. In other words either the sink computing device or source computing device executing wireless communication model may determine a client member of a P2P group is sinking one or more application flows sinking a majority of application flows being exchanged among the P2P group members or sinking a plurality of application flows i.e. plurality being defined as more than any other computing device in this context being exchanged among the P2P group members in cases in which the P2P group includes more than two members and in response to this determine perform GO renegotiation techniques described herein to cause the determined sink computing device to operate as the GO for the P2P group.

Wireless docking in this illustrated example is implemented as a wireless docking service WDS operating over a wireless Application Service Platform layer ASP operating over Wi Fi Direct wireless communications layer Wi Fi Direct in this example. The Wi Fi Direct communications layer are an example implementation of wireless communications over which the ASP may operate. Wi Fi Direct wireless communications layer may represent an example instance of any of P2P protocol modules of .

Various wireless services may be enabled as interface layers over the ASP including a Print service a Display service and other services in some examples. The wireless docking service operates over each of the Print service and the Display service to provide an interface with the application . The Print service and the Display service may be provided by one or more peripheral devices directly accessible to the computing device and managed via the ASP communication layer in some examples.

The WDS may be provided as a Wi Fi Direct service and referred to as a Wi Fi Direct Docking Service. The Wi Fi Direct Docking Service can be a subset of Wi Fi docking in particular a subset of Wi Fi docking operating over a P2P Wi Fi Direct topology in the example of a Wi Fi Direct implementation. The WDS may for example be implemented as a software module that may be loaded onto or stored in a device such as the wireless dockee . Aspects of the WDS may also be integrated with pre packaged with or implemented in hardware in some examples. For example the WDS may be stored on integrated with or implemented by an integrated circuit or a chipset containing one or more integrated circuits and one or more memory components.

A packet based transport layer protocol stack not illustrated in may run on top of ASP Miracast and or WiFi Serial Bus WSB . The packet based transport layer may include an Internet Protocol IP communications layer and one or more of various Transport Layer communication layers. The IP communications layer may run on top of ASP or directly on Wi Fi Direct . The Transport Layer communications layer may include one or more of Transmission Control Protocol TCP User Datagram Protocol UDP Stream Control Transmission Protocol SCTP or other Transport Layer communication protocols.

The wireless docking communications stack includes several additional communication interfaces between different components of the wireless docking communications stack . A WDS Interface between ASP and the WDS serves as a wireless docking interface for ASP methods and events. The WDS Interface may implement WDS running directly on ASP to manage wireless docking communications directly with one or more peripherals.

Various other communication interfaces are also included in wireless docking communications stack . Communication interface between Miracast and WDS serves as an interface for controlling and using Miracast operations. Miracast is one example of wireless display technologies that enable wireless delivery of audio and video via Wi Fi Direct connections. Communication interface between WiFi Serial Bus WSB and WDS serves as an interface for controlling and using WiFi Serial Bus operations. Communication interface between the Print service and the WDS serves as an interface for controlling and using the Print service operations. Communication interface between the Display service and the WDS serves as an interface for controlling and using Display service operations.

In accordance with techniques described herein Wi Fi Direct wireless communications layer includes a flow monitor and a power save module . Flow monitor monitors application flows sourced and or sunk by application and may represent an example instance of flow monitor of . Power save module implements Wi Fi Direct power save mode for computing device and may represent an example instance of power save module of . In some cases computing device may be a GO for a P2P group. Upon flow monitor determining application is sourcing one or more application flows transmitted to a client member of the P2P group Wi Fi Direct wireless communications layer performs the GO renegotiation techniques described herein to cause the client member of the P2P group to assume group ownership of the P2P group. In this way the GO for the P2P group will sink the one or more applications flows and computing device may source the application flows as a client member of the P2P group to potentially improve at least one of throughput and latency for the application flows. Additional details regarding wireless docking can be found in U.S. application Ser. No. 14 020 316 entitled WIRELESS DOCKING SERVICE WITH DIRECT CONNECTION TO PERIPHERALS which is incorporated by reference herein in its entirety.

As shown in the specific example of computing device includes one or more processors one or more input devices one or more communication units one or more output devices one or more storage devices user interface UI device and wireless communication module . Computing device in one example further includes wireless communications stack one or more applications and operating system that are executable by computing device . Each of components and are coupled physically communicatively and or operatively for inter component communications. In some examples communication channels may include a system bus a network connection an inter process communication data structure or any other method for communicating data. As one example in components and may be coupled by one or more communication channels . Wireless docking communications stack and one or more applications may also communicate information with one another as well as with other components in computing device . While illustrated as a separate module wireless communications stack may be implemented as part of any of applications .

Processors in one example are configured to implement functionality and or process instructions for execution within computing device . For example processors may be capable of processing instructions stored in storage device s . Examples of processors may include any one or more of a microprocessor a controller a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or equivalent discrete or integrated logic circuitry.

One or more storage devices may be configured to store information within computing device during operation. Storage device in some examples is described as a computer readable storage medium. In some examples storage device may comprise a temporary memory meaning that a primary purpose of storage device is not long term storage. Storage device in some examples may comprise a volatile memory meaning that storage device does not maintain stored contents when the computer is turned off. Examples of volatile memories include random access memories RAM dynamic random access memories DRAM static random access memories SRAM and other forms of volatile memories known in the art. In some examples storage device is used to store program instructions for execution by processors . Storage device in one example is used by software or applications running on computing device to temporarily store information during program execution.

Storage devices in some examples also include one or more computer readable storage media. Storage devices may be configured to store larger amounts of information than volatile memory. Storage devices may further be configured for long term storage of information. In some examples storage devices include non volatile storage elements. Examples of such non volatile storage elements include magnetic hard discs optical discs floppy discs flash memories or forms of electrically programmable memories EPROM or electrically erasable and programmable EEPROM memories.

Computing device in some examples also includes one or more communication units . Computing device in one example utilizes communication unit to communicate with external devices via one or more networks such as one or more wireless networks. Communication unit may be a network interface card such as an Ethernet card an optical transceiver a radio frequency transceiver or any other type of device that can send and receive information. Other examples of such network interfaces may include Bluetooth 7G and Wi Fi radios computing devices as well as Universal Serial Bus USB . In some examples computing device utilizes communication unit to wirelessly communicate with an external device such as a server.

In addition the computing device may include wireless communication module . As described herein wireless communication module may comprise active hardware that is configured to communicate with other wireless communication devices. These wireless communication devices may operate according to Bluetooth Ultra Wideband radio Wi Fi or other similar protocols. In some examples wireless communication module may be an external hardware module that is coupled with computing device via a bus such as via a Universal Serial Bus USB port . Wireless communication module in some examples may also include software which may in some examples be independent from operating system and which may in some other examples be a sub routine of operating system .

Computing device in one example also includes one or more input devices . Input device in some examples is configured to receive input from a user through tactile audio or video feedback. Examples of input device include a presence sensitive display a mouse a keyboard a voice responsive system video camera microphone or any other type of device for detecting a command from a user.

One or more output devices may also be included in computing device . Output device in some examples is configured to provide output to a user using tactile audio or video stimuli. Output device in one example includes a presence sensitive display a sound card a video graphics adapter card or any other type of device for converting a signal into an appropriate form understandable to humans or machines. Additional examples of output device include a speaker a cathode ray tube CRT monitor a liquid crystal display LCD or any other type of device that can generate intelligible output to a user. In some examples user interface UI device may include functionality of input device and or output device .

Computing device may include operating system . Operating system in some examples controls the operation of components of computing device . For example operating system in one example facilitates the communication of wireless communications stack and application with processors communication unit storage device input device user interface device wireless communication module and output device . Wireless communications stack and application may also include program instructions and or data that are executable by computing device . As one example modules and may include instructions that cause computing device to perform one or more of the operations and actions described in the present disclosure. Wireless communications stack may represent an example of wireless communication model of or of wireless docking communications stack of . One or more applications may represent an example of any of applications of or application of for instance.

Flow monitor of wireless communications stack monitor monitors application flows sourced and or sunk by a computing device that executes wireless communication stack . Flow monitor may represent an example instance of flow monitor of or flow monitor of . Power save module may execute IEEE 802.11 power save mechanisms for computing device and may represent an example instance of power save module of or power save module of . In accordance with techniques described in this disclosure flow monitor may determine that a computing device that is a client member of P2P group is sinking an application flow for applications . In response power save module may perform Group Owner renegotiation to select the computing device e.g. computing device that is sinking the application flow to be the new Group Owner for the P2P group.

For a Wi Fi Direct P2P connection the application flow may go either direction GO Client or Client GO. Computing device 1 and computing device 2 may represent computing devices of for example. Entries A D collectively entries of table each describe one possible combination of application flow type for application flow and P2P group roles for member devices of a P2P group. For example entry B denotes that application flow is of type bulk data Bulk 2 column and is sourced by computing device 1 column operating as the GO for the P2P group and is sunk by computing device 2 column operating as a client for the P2P group. As another example entry C denotes that application flow is of type isochronous Isochronous 1 and is sourced by computing device 1 operating as a client for the P2P group and is sunk by computing device 2 operating as the GO for the P2P group.

Column provides results for the different entries for No Power Save PS . Column provides results for the different entries for Only Client in PS. Column provides results for the different entries for Only GO in PS and is broken out further into column providing results for Opp PS and column providing results for NoA PS. Column provides results for the different entries for Both Computing Devices in PS. These results indicate that the flow monitoring and GO renegotiation techniques described herein may improve throughput and latency for application flows exchanged between member computing devices of a P2P group such as a Wi Fi Direct P2P group.

 No PS indicates that neither the client computing device nor GO computing device for the P2P group is in power save mode. Only Client in PS indicates that only the client computing device for the P2P group is in power save mode. Only GO in Opp PS indicates that the GO for the P2P group is in Opportunistic Power Save mode and the client for the P2P group is not in power save mode. Only GO in NoA PS indicates that the GO for the P2P group is in Notice of Absence power save mode and the client for the P2P group is not in power save mode. Both in PS GO in Opp indicates that both the GO and client for the P2P group are in power save mode and that the GO is in Opportunistic power save mode. Both in PS GO in NoA indicates that both the GO and client for the P2P group are in power save mode and that the GO is in Notice of Absence power save mode.

These results illustrated in indicate that the flow monitoring and GO renegotiation techniques described herein may improve throughput and latency for application flows exchanged between member computing devices of a P2P group such as a Wi Fi Direct P2P group.

In one or more examples the functions described may be implemented in hardware software firmware or any combination thereof. If implemented in software the functions may be stored on or transmitted over as one or more instructions or code a computer readable medium and executed by a hardware based processing unit. Computer readable media may include computer readable storage media which corresponds to a tangible medium such as data storage media or communication media including any medium that facilitates transfer of a computer program from one place to another e.g. according to a communication protocol. In this manner computer readable media generally may correspond to 1 tangible computer readable storage media which is non transitory or 2 a communication medium such as a signal or carrier wave. Data storage media may be any available media that can be accessed by one or more computers or one or more processors to retrieve instructions code and or data structures for implementation of the techniques described in this disclosure. A computer program product may include a computer readable medium.

By way of example and not limitation such computer readable storage media can comprise RAM ROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices Flash memory or any other medium that can be used to store desired program code in the form of instructions or data structures and that can be accessed by a computer. Also any connection is properly termed a computer readable medium. For example if instructions are transmitted from a website server or other remote source using a coaxial cable fiber optic cable twisted pair digital subscriber line DSL or wireless technologies such as infrared radio and microwave then the coaxial cable fiber optic cable twisted pair DSL or wireless technologies such as infrared radio and microwave are included in the definition of medium. It should be understood however that computer readable storage media and data storage media do not include connections carrier waves signals or other transient media but are instead directed to non transient tangible storage media. Disk and disc as used herein includes compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and Blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers. Combinations of the above should also be included within the scope of computer readable media.

Instructions may be executed by one or more processors such as one or more digital signal processors DSPs general purpose microprocessors application specific integrated circuits ASICs field programmable logic arrays FPGAs or other equivalent integrated or discrete logic circuitry. Accordingly the term processor as used herein may refer to any of the foregoing structure or any other structure suitable for implementation of the techniques described herein. In addition in some aspects the functionality described herein may be provided within dedicated hardware and or software modules configured for encoding and decoding or incorporated in a combined codec. Also the techniques could be fully implemented in one or more circuits or logic elements.

The techniques of this disclosure may be implemented in a wide variety of devices or apparatuses including a wireless handset an integrated circuit IC or a set of ICs e.g. a chip set . Various components modules or units are described in this disclosure to emphasize functional aspects of devices configured to perform the disclosed techniques but do not necessarily require realization by different hardware units. Rather as described above various units may be combined in a codec hardware unit or provided by a collection of interoperative hardware units including one or more processors as described above in conjunction with suitable software and or firmware.

Various examples have been described. These and other examples are within the scope of the following claims.

