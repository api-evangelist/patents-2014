---

title: Storage management technology
abstract: Storage management technology, in which a system determines a first amount of storage space on a downloader device of a user that is available for download of new content made available on channels subscribed to by the user. The system also determines a second amount of storage space needed to download new content that has been made available on channels subscribed to by the user. The system further compares the second amount of storage space to the first amount of storage space and determines whether the second amount of storage space exceeds the first amount of storage space. Based on a determination that the second amount of storage space exceeds the first amount of storage space, the system controls downloading of the new content to the downloader device and deletion of previously-stored content on the downloader device based on a content allocation policy.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09185459&OS=09185459&RS=09185459
owner: PurpleComm Inc.
number: 09185459
owner_city: Santa Clara
owner_country: US
publication_date: 20140908
---
This application is a continuation and claims the benefit of priority under 35 USC 120 of U.S. application Ser. No. 12 795 296 now U.S. Pat. No. 8 831 409 filed on Jun. 7 2010 which is incorporated by reference in its entirety for all purposes.

Content viewers today are exposed to an overwhelming amount of information and are challenged by the degree of interaction and personalization needed to manage this massive amount of information. In an era of digital communications a user may be confused by an array of technology including traditional analog televisions DVRs Digital Video Recorders PVRs Personal Video Recorders media centers EPG Electronic Program Guide based systems Internet related content and traditional remote control devices.

In one aspect a method of controlling storage of content on a downloader device includes determining a first amount of storage space on a downloader device of a user that is available for download of new content made available on channels subscribed to by the user determining a second amount of storage space needed to download new content that has been made available on channels subscribed to by the user and comparing the second amount of storage space to the first amount of storage space. The method also includes determining whether the second amount of storage space exceeds the first amount of storage space and based on a determination that the second amount of storage space exceeds the first amount of storage space controlling downloading of the new content to the downloader device and deletion of previously stored content on the downloader device based on a content allocation policy.

Implementations may include one or more of the following features. For example the method may include based on a determination that the second amount of storage space does not exceed the first amount of storage space controlling downloading of the new content to the downloader device without deleting previously stored content on the downloader device. The method also may include deleting a portion of the previously stored content on the downloader device. The deleted portion of the previously stored content may be less than the second amount of storage space needed to download the new content. The method further may include selecting a subset of the new content to download controlling the downloader device to download the selected subset of the new content and holding the new content that is not included in the selected subset for later download. The selected subset may be an amount of storage space that is less than or equal to the deleted portion of the previously stored content.

In some implementations the method may include defining a channel percentage allocation policy analyzing channel information for the new content and the previously stored content with respect to the channel percentage allocation policy and controlling downloading of the new content and deletion of the previously stored content based on the analysis of the channel percentage allocation policy. In these implementations the method may include monitoring viewing behavior of one or more users of the downloader device determining viewing statistics for the one or more users of the downloader device based on the monitoring and defining the channel percentage allocation policy based on the determined viewing statistics.

In addition the method may include receiving user input from the user of the downloader device indicating a channel percentage allocation policy and defining the channel percentage allocation policy based on the received user input. The method also may include defining a channel percentage allocation policy in which a particular percentage of available storage space associated with the downloader device is allocated to each of the channels subscribed to by the user. The method further may include determining for each channel subscribed to by the user a percentage of storage space needed to download new content associated with the channel and maintain previously stored content associated with the channel and comparing for each channel subscribed to by the user the determined percentage of storage space for the channel with the particular percentage of available storage space allocated to the channel. Further the method may include based on the comparison of the determined percentage of storage space with the particular percentage of available storage space controlling for each channel subscribed to by the user downloading of the new content for the channel and deletion of the previously stored content for the channel such that content stored on the downloader device for the channel corresponds to the particular percentage of available storage space allocated to the channel.

In some examples the method may include defining a channel percentage allocation policy in which a particular percentage of content items stored on the downloader device is allocated to each of the channels subscribed to by the user. In these examples the method may include determining for each channel subscribed to by the user a percentage of content items included in new content associated with the channel and previously stored content associated with the channel and comparing for each channel subscribed to by the user the determined percentage of content items for the channel with the particular percentage of content items allocated to the channel. Further in these examples the method may include based on the comparison of the determined percentage of content items with the particular percentage of content items controlling for each channel subscribed to by the user downloading of the new content for the channel and deletion of the previously stored content for the channel such that a percentage of content items stored on the downloader device for the channel corresponds to the particular percentage of content items allocated to the channel.

In some implementations the method may include defining a channel percentage allocation policy in which a particular percentage of viewing time of content stored on the downloader device is allocated to each of the channels subscribed to by the user. In these implementations the method may include determining for each channel subscribed to by the user a percentage of viewing time included in new content associated with the channel and previously stored content associated with the channel and comparing for each channel subscribed to by the user the determined percentage of viewing time for the channel with the particular percentage of viewing time allocated to the channel. Further in these implementations the method may include based on the comparison of the determined percentage of viewing time with the particular percentage of viewing time controlling for each channel subscribed to by the user downloading of the new content for the channel and deletion of the previously stored content for the channel such that a percentage of viewing time of content stored on the downloader device for the channel corresponds to the particular percentage of viewing time allocated to the channel.

The method may include for each channel subscribed to by the user determining a number of content items for the channel determining a total storage space used by the channel and determining a total viewing time of content stored for the channel. The method also may include balancing the number of content items the total storage space and the total viewing time in allocating storage among the channels subscribed to by the user.

In some examples the method may include controlling downloading of the new content to the downloader device and deletion of previously stored content on the downloader device based on a content ownership policy. In these examples the method may include accessing ownership information for stored content on the downloader device and determining whether the stored content on the downloader device is owned by the user based on the accessed ownership information. Based on a determination that the stored content on the downloader device is owned by the user the stored content may be maintained in storage of the downloader device without deletion. Based on a determination that the stored content on the downloader device is not owned by the user the stored content may be considered for deletion to enable downloading of the new content to the downloader device.

In some implementations the method may include controlling downloading of the new content to the downloader device and deletion of previously stored content on the downloader device based on a content expiration policy. In these implementations the method may include accessing an expiration policy for stored content on the downloader device and determining whether the stored content on the downloader device is expired based on the accessed expiration policy. Based on a determination that the stored content on the downloader device is expired the stored content may be considered for deletion based on expiration date. Based on a determination that the stored content on the downloader device is not expired the stored content may be maintained in storage of the downloader device as unexpired.

In addition the method may include based on a determination that the stored content on the downloader device is not expired considering the stored content for deletion if deletion of expired content is insufficient to accommodate the new content. The method also may include deleting the stored content in order of oldest expiration date. The method further may include accessing for a first content item a first expiration policy that defines an expiration policy for a first genre of content items to which the first content item corresponds and accessing for a second content item a second expiration policy that defines an expiration policy for a second genre of content items to which the second content item corresponds. The second expiration policy may be different than the first expiration policy and the second genre of content items may be different than the first genre of content items. In addition the method may include accessing for a third content item a third expiration policy defined by a content curator for a channel that includes the third content item and accessing for a fourth content item a fourth expiration policy defined specifically for the fourth content item. The third expiration policy may be an expiration policy for the first genre of content items to which the third content item corresponds and may be different than the first expiration policy. The method may include determining whether the first content item is expired based on the first expiration policy determining whether the second content item is expired based on the second expiration policy determining whether the third content item is expired based on the third expiration policy and determining whether the fourth content item is expired based on the fourth expiration policy.

In some examples the method may include identifying content that is stored on the downloader device and that is to be archived and copying the identified content to an archival disk connected to the downloader device. In these examples the method may include organizing the copied content on the archival disk to enable the copied content to be played by the downloader device.

In another aspect a system includes at least one computer and at least one computer readable medium coupled to the at least one computer having instructions stored thereon which when executed by the at least one computer causes the at least one computer to perform operations. The operations include determining a first amount of storage space on a downloader device of a user that is available for download of new content made available on channels subscribed to by the user and determining a second amount of storage space needed to download new content that has been made available on channels subscribed to by the user. The operations also include comparing the second amount of storage space to the first amount of storage space and determining whether the second amount of storage space exceeds the first amount of storage space. The operations further include based on a determination that the second amount of storage space exceeds the first amount of storage space controlling downloading of the new content to the downloader device and deletion of previously stored content on the downloader device based on a content allocation policy.

In yet another aspect at least one computer readable storage medium is encoded with at least one computer program comprising instructions that when executed operate to cause a computer to perform operations. The operations include determining a first amount of storage space on a downloader device of a user that is available for download of new content made available on channels subscribed to by the user and determining a second amount of storage space needed to download new content that has been made available on channels subscribed to by the user. The operations also include comparing the second amount of storage space to the first amount of storage space and determining whether the second amount of storage space exceeds the first amount of storage space. The operations further include based on a determination that the second amount of storage space exceeds the first amount of storage space controlling downloading of the new content to the downloader device and deletion of previously stored content on the downloader device based on a content allocation policy.

The details of one or more implementations are set forth in the accompanying drawings and the description below. Other potential features and advantages of the disclosure will be apparent from the description and drawings and from the claims.

Multiple types of content such as audio e.g. music podcasts video and still images e.g. photographs may be made available over the content delivery network . Licensed and license free content may be made available. For example licensed content may be acquired from a content owner .

Content may be made available from a variety of sources. For example Internet content may be accessed from an Internet link e.g. URL Uniform Resource Locator . Content may also be accessed from peer to peer networks. For example content may be accessed from one or more BitTorrent clients which are part of one or more BitTorrent swarms . Content may be accessed from other sources such as from a television broadcast e.g. MSO Multiple System Operator cable satellite local or from content e.g. photographs audio previously recorded video available from devices e.g. DVR stereo computer DVD Digital Video Disc player connected to a user s home network and or located in a user s home.

Content curators may use a content curator portal to define custom channels which may be made available for subscription by end users . The content curators may be commissioned to search for select and organize multiple types of content from various sources into channels. Content curators may for example organize channels by topic or genre. Content curators may for example select licensed content license free content BitTorrent content or content from their private collection to name a few examples.

Channels may be offered for free to end users or end users may subscribe to channels on a fee basis. Users may rate or rank channels or content curators based for example on programming selection sequencing and quality. Content curators may be promoted for example based on popularity.

Content owners may be compensated for the use of licensed content that they own which is used in channels defined by content curators . For example the system may provide support for digital rights management DRM . By allowing access to their licensed content content owners may experience increased distribution and revenue and targeted exposure in focused channels. Multiple revenue agreements may be possible such as per use agreements subscription revenue sharing and advertisement revenue sharing.

A content curator may work with one or more advertisers such as an ad agency to include advertisements on a channel. For example an advertisement may be displayed if a user switches a channel or when a program finishes. As another example advertisements may be displayed on the display of a remote control device such as while a program is being displayed on a television. Content curators advertisers and content owners may share advertising revenue. Sharing in advertising revenue may provide an incentive for content curators to create interesting and popular channels. A content curator may work with one or more advertisers to create one or more advertisements which are customized and targeted for one or more particular channels. End users may customize advertisement viewing preferences such as by specifying preferred topics preferred or excluded companies region preferences etc.

Advertisers may use an advertiser portal to upload advertisements and to control advertisement publication. Advertisers may define and apply advertisement insertion rules to particular advertisements and or may allow a content curator to decide when and how to insert the advertisements into channels defined by the content curator . APIs Application Programming Interfaces may be provided which allow advertisers to enable the system to interface with standard advertisement inventory management systems to allow for control and management of advertisements . Various advertisement pricing plans may be supported such as individually priced ads or bulk pricing. Other advertising features may be included such as online purchasing of items or providing customer contact options.

Advertisers content curators and content owners may access user viewing behavior data. Advertisers may access user viewing behavior data such as viewed channels viewed content viewed advertisements advertisement display frequency advertisement viewed length user actions during advertisement display user characteristics advertisement and content view times advertisement and content view counts and hosting channel information to monitor reach and performance of advertising campaigns. Advertisements may be targeted to specific users based on recorded user viewing behavior data. Content curators may access user viewing behavior data to learn about behaviors of end users who subscribe to their channels. Content owners may access user viewing behavior data to learn about their fan base such as accessing information about user demographics time of day of access and user actions during content display. Content presentation and playback may be customized and personalized for a particular end user based specifically on recorded user viewing behavior of the particular end user and generally on recorded user viewing behavior of all users.

User viewing behavior data may be captured for example by a media player and or a downloader device . The media player and or the downloader device may play content included or ordered on a channel defined by a content curator . In some implementations the media player may play content downloaded from the content delivery network by the downloader device . In some implementations the media player and the downloader device are different logical functions of the same physical device. In other implementations the media player and the downloader device are different physical devices. In some implementations the media player is a software application which may be executed for example on a computing device such as a desktop or laptop computer.

The media player and or the downloader device may be connected to external media storage devices respectively. The external media storage devices may be for example USB Universal Serial Bus drives. The external media storage devices may be used for example to transfer data to from the media player or the downloader device respectively such as to transfer data to from a computing device.

The media player and or the downloader device may communicate wirelessly with one or more remote control devices . The end user may navigate through channels and perform other functions using the remote control device . The remote control device may communicate e.g. using Infrared IR technology of radio frequency RF technology with the television the media player and or the downloader device . The remote control device also may communicate over a network with the media player and or the downloader device to control functions of the media player or the downloader device . The remote control device may include a small display screen that displays preview content and or advertisements.

The media player and or the downloader device may download content from the content delivery network without consuming resources of a computing device owned by the end user . For example content may be downloaded into the home of an end user without using resources of a personal computer owned by the end user . The media player and the downloader device may use less electricity than a personal computer thus reducing the electric bill of the end user . The media player and or the downloader device may connect to other computing devices connected on a user s home network. The media player and or the downloader device may include built in functionality to communicate with and download information from a peer to peer network such as the BitTorrent swarm .

The end user may search for and subscribe to content using an end user content search portal . For example the end user content search portal may provide a directory listing of available defined channels. The directory listing may be organized in a hierarchy of categories and sub categories. A particular channel may appear in one or more categories or sub categories. The end user content search portal may also provide a search function to allow end users to search for available defined channels based on a keyword search. As another example users may search for channels based on other criteria such as sorting channels based on channel or content curator popularity or ranking. An end user may subscribe to a defined channel for example by selecting a channel link displayed in a directory listing or in a list of search results.

The end user may also search for and initiate download of individual content items to the downloader device using a partner site such as a BitTorrent search engine . As another example the end user may send an email which includes a content link to an email address associated with their downloader device to initiate an automatic download to the downloader device of the content linked to by the content link. The content link may refer to a content file available on the Internet and may be a reference to a video resource available from a streaming video website. The end user may send an email with an attachment to an email address associated with the downloader device to initiate a download of the attachment to the downloader device . The end user may use an end user content download portal to search for and to select content to download to the downloader device .

The content and directory database stores information about content and also information about defined channels. Content curators may use a content curator portal to define channels and to manage defined channels. The content curator portal may display a listing of licensed and license free content available in the content and directory database . The content curator portal may also provide a search function which allows the content curator to search for content available in the content and directory database and to also search for content included in the private collection of the content curator or content available on the Internet such as content available from peer to peer networks such as BitTorrent .

The content curator portal may communicate with a content curator server . For example a channel definition defined using the content curator portal may be sent to the content curator server which may communicate with the server system to request that the channel definition be stored in the content and directory database . As another example information for existing channel definitions associated with a particular content curator may be retrieved from the content and directory database and sent from the content curator portal server to the content curator portal for display.

In some implementations the content curator portal server is one physical server computing device and in other implementations the content curator portal server includes multiple physical server computing devices. Similarly in some implementations the server system is one physical server computing device and in other implementations the server system includes multiple physical server computing devices. In some implementations multiple physical server computing devices are used with some or all server computing devices implementing both the content curator portal server and the server system . In some implementations one physical server computing device is used with the one physical server device implementing both the content curator portal server and the server system .

The network may be one or more public or private wired or wireless networks such as the Internet or may be a Session Initiated Protocol SIP network such as the PsipTN network offered by TelTel . The network may include for example one or more of the Internet Wide Area Networks WANs Local Area Networks LANs analog or digital wired and wireless telephone networks e.g. a PSTN Integrated Services Digital Network ISDN and Digital Subscriber Line xDSL radio television cable satellite and or any other delivery or tunneling mechanism for carrying data services. The network may include multiple networks or subnetworks each of which may include for example a wired or wireless data pathway.

Content may be downloaded to one or more user media player downloader devices . For example content corresponding to a user subscribed channel may be automatically downloaded to the media player downloader device in response to a user selection of a corresponding channel. As another example a user may search for and download content to the media player downloader device . A user may using a remote user device monitor and manage user initiated downloads. The remote user device may be any type of electronic device configured to exchange communications with the server system over a network. The remote user device may be a general purpose computer e.g. a desktop personal computer a workstation or a laptop computer a mobile or wireless device or a device designed for a specific function e.g. a cell phone a smart phone a tablet PC a personal digital assistant PDA etc. .

The system determines a first amount of storage space on a media player downloader device of a user that is available for download of new content made available on channels subscribed to by the user . For example in reference to an amount of storage space available on the downloader device may be determined. As another example and as shown in an amount of available storage included in a media player downloader storage may be determined.

Returning to the system determines a second amount of storage space needed to download new content that has been made available on channels subscribed to by the user . For example in reference to the content curator may have added new licensed content to a channel subscribed to by the end user . The system may determine a total storage size of the new content added to the channel. In the example of a size of new content may be determined. The new content may include one or more content files made available by one or more content curators on one or more channels subscribed to by a user who owns a media player downloader device which includes the media player downloader storage .

The system compares the second amount of storage space to the first amount of storage space . In the example of the size of the licensed content may be compared to the amount of available storage on the downloader device . In the example of the system may compare the size of the new content to the size of the available storage .

The system determines whether the second amount of storage space exceeds the first amount of storage space based on the comparison . If the second amount of storage space does not exceed the first amount of storage space it may be determined for example that all of the new content may fit on the media player downloader device without removal of any previously stored content. If the second amount of storage space exceeds the first amount of storage space it may be determined for example that some of the previously stored content stored in the media player downloader device may need to be removed to allow download of all of the new content. For example and as illustrated in the size of the new content is larger than the size of the available storage . In other words some but not all of the new content fits into the available storage .

Based on a determination that the second amount of storage space exceeds the first amount of storage space the system controls downloading of the new content to the media player downloader device and deletion of previously stored content on the media player downloader device based on a content allocation policy . In the example of to enable download of all of the new content some or all of expired content may be deleted. Expiration of content may be based for example on one or more content expiration policies. User owned content may generally not be deleted by the system to make room in the media player downloader storage for the new content e.g. deletion of user owned content may be controlled by the user . In some implementations new unexpired content is not deleted to make room for the new content in the media player downloader storage . In other implementations some unexpired content may be deleted to make room for the new content to the extent deletion of all expired content is insufficient to accommodate all of the new content.

In the example of the available storage may be used to store some of the new content . To make room for the remainder of the new content that does not fit into the available storage some of the expired content may be deleted. An updated media player downloader storage shows results of storing the new content while deleting some previously stored content. Deletion of some of the expired content is illustrated by expired content in the updated media player downloader storage having a smaller size than the expired content . The new content is included in the updated media player downloader storage in updated new unexpired content where the updated new unexpired content has a larger size than the new unexpired content . User owned content included in the updated media player downloader storage is the same size and includes the same content as the user owned content e.g. the user owned content is not modified when storing the new content in the updated media player downloader storage .

Returning to as another example a portion of the previously stored content on the media player downloader device may be deleted where the portion is less than the second amount of storage space needed to download the new content. A subset of the new content to download may be selected where the selected subset needs an amount of storage space that is less than or equal to the deleted portion of the previously stored content. The media player downloader device may be controlled to download the selected subset of the new content and the new content that is not included in the selected subset may be held e.g. not downloaded to be downloaded at a later time.

A content allocation policy may be based for example on a channel percentage allocation policy. illustrates a process for controlling download of new content to a media player downloader device based on a channel percentage allocation policy. The process may be used in controlling download of new content to a media player downloader device referenced above with respect to reference numeral . The operations of the process are described generally as being performed by the system . The operations of the process may be performed by one of the components of the system e.g. the server system or may be performed by a combination of the components of the system . In some implementations operations of the process may be performed by one or more processors included in one or more electronic devices.

The system defines a channel percentage allocation policy . For example a channel percentage allocation policy may be defined for a user based on channels subscribed to by the user with a percentage of the user s media player downloader device storage allocated to each subscribed channel. For example illustrates an example channel percentage allocation policy which defines media player downloader storage percentages associated with user subscribed channels one two and three. The channel percentage allocation policy specifies that fifty percent of the user s media player downloader device storage is allocated to channel one thirty percent of the user s media player downloader device storage is allocated to channel two and twenty percent of the user s media player downloader device storage is allocated to channel three.

A channel allocation policy may be defined based on monitoring a user s content viewing behavior. For example illustrates a process for defining a channel percentage allocation policy based on viewing statistics determined based on monitoring viewing behavior of one or more users of a media player downloader device. The process may be used in defining a channel percentage allocation policy referenced above with respect to reference numeral . The operations of the process are described generally as being performed by the system . The operations of the process may be performed by one of the components of the system e.g. the server system or may be performed by a combination of the components of the system . In some implementations operations of the process may be performed by one or more processors included in one or more electronic devices.

The system monitors viewing behavior of one or more users of a media player downloader device . For example a user s viewing behavior may be monitored by a downloader device and or a media player device e.g. downloader device and or media player . The downloader device and or the media player may for example monitor when a user watches a channel when a user watches a content file when a user deletes a content file etc.

Based on the monitoring the system determines viewing statistics for the one or more users of the media player downloader device . For example statistics may be determined which indicate how often a user deletes content how long a user typically saves a content file or whether a user typically watches a content file once or watches a content file multiple times. Other statistics may indicate how often a user watches a particular channel. For example percentages may be determined for each channel that a user watches where each percentage indicates a percentage of the user s total viewing time spent watching a particular channel.

The system defines the channel percentage allocation policy based on the determined viewing statistics . For example illustrates viewing statistics which indicate that a user watches channel one forty percent of the time channel two thirty five percent of the time and channel three twenty five percent of the time. A previously defined channel percentage policy indicates percentages of fifty percent for channel one thirty percent for channel two and twenty percent for channel three.

One or more factors may contribute to the differences between corresponding percentages in the viewing statistics and the previously defined channel percentage policy . For example the previously defined channel percentage policy may be based on a user s past viewing behavior or may include default percentages used for all users. The user s viewing behavior may change over time and the viewing statistics may reflect a user s recent viewing behavior. In some implementations a user s viewing behavior is monitored periodically which may result in updated viewing statistics .

The previously defined channel percentage policy may be updated to an updated channel percentage policy based on the viewing statistics . For example the updated channel percentage policy indicates percentages of forty percent for channel one thirty five percent for channel two and twenty five percent for channel three which matches the corresponding percentages in the viewing statistics . If the viewing statistics are updated periodically the updated channel percentage policy may be periodically updated to correspond to the updated viewing statistics .

Returning to the system analyzes channel information for new content and previously stored content with respect to the channel percentage allocation policy . For example the system may determine for each channel for which content is currently stored a percent of media player downloader storage associated with the channel. The system may also determine for each channel for which new content is identified the size of the new content for the channel. For instance in the example of new content includes two hundred megabytes MB of content for channel one and two hundred MB of content for channel two. Previously stored content includes six hundred MB of content for channel one two hundred MB of content for channel two and two hundred MB of content for channel three. There is currently no unused storage in the previously stored content e.g. all available storage is being used to store the content and .

The previously stored content for channel three is twenty percent of the total size of the previously stored content which matches the twenty percent specified for channel three in the channel percentage allocation policy . However the previously stored content for channel one is sixty percent of the total size of the previously stored content which is higher than the fifty percent specified for channel one in the channel percentage allocation policy . Additionally the previously stored content for channel two is twenty percent of the total size of the previously stored content which is lower than the thirty percent specified for channel two in the channel percentage allocation policy .

Returning to the system controls downloading of the new content and deletion of the previously stored content based on the analysis of the channel percentage allocation policy . For instance in the example of since there is no new content for channel three and since the current percentage of the previously stored content used for channel three agrees with the channel percentage allocation policy the content for channel three may remain unmodified during the processing of the new content . To make room for the new content some or all of the content for channel one and some or all of the content for channel two may be deleted from the previously stored content .

The amount to delete from the content and the content may be based on the fact that the current percentage of the previously stored content used for channel one is higher than the percentage for channel one specified in the channel percentage allocation policy and that the current percentage of the previously stored content used for channel two is lower than the percentage for channel two specified in the channel percentage allocation policy e.g. a larger amount of content may be deleted from the content for channel one than from the content for channel two . For example deleted content illustrates that three hundred MB of content for channel one and one hundred MB of content for channel two is deleted from the previously stored content .

Updated storage reflects the deletion of the deleted content from the previously stored content and the addition of the new content to the previously stored content . Updated content for channel one which is five hundred MB is fifty percent of the total size of the updated storage which matches the fifty percent specified for channel one in the channel percentage allocation policy . Similarly updated content for channel two which is two hundred MB is twenty percent of the total size of the updated storage which matches the twenty percent specified for channel two in the channel percentage allocation policy . Content for channel three included in the updated storage is the same size and includes the same content as the content for channel three in the previously stored content e.g. the content for channel three is not modified when storing the new content in the updated storage .

A content allocation policy may be based on factors other than the size of content files e.g. as shown in . For example illustrates a process for allocating storage space of a media player downloader device to balance multiple factors across channels such as the number of content items the total storage space used and the total viewing time e.g. playback time of content or length of each channel. The process may be used in controlling download of new content to a media player downloader device referenced above with respect to reference numeral . The operations of the process are described generally as being performed by the system . The operations of the process may be performed by one of the components of the system e.g. the server system or may be performed by a combination of the components of the system . In some implementations operations of the process may be performed by one or more processors included in one or more electronic devices.

For each channel subscribed to by a user the system determines a number of content items for the channel . For example for each channel subscribed to by a user the number of content items stored on a media player downloader device of the user may be determined. For example illustrates a media player downloader storage which includes content items for channels one two three and four. The media player downloader storage includes thirty content items for channel one thirty one content items for channel two fourteen content items for channel three and twenty four content items for channel four.

For each channel subscribed to by the user the system determines a total storage space used by the channel . For example for each channel the system may determine the storage size for each content item for the channel and may add together the individual storage sizes of each content item. In the example of the content items in the media player downloader storage for channels one to four occupy thirty two and one half gigabytes GB nineteen and one half GB twenty four GB and twenty four GB of storage space respectively. The storage size of a content item may be determined by examining metadata for the content item by querying a file system file size attribute or by processing the content item to determine the size of the content item to name a few examples.

For each channel subscribed to by the user the system determines a total viewing time of content stored for the channel . For example for each channel the system may determine the viewing time e.g. playback time for each content item for the channel and may add together the viewing times of each content item. In the example of the content items in the media player downloader storage for channels one to four have total viewing times of sixteen and one half hours twenty five hours thirty four hours and twenty four hours respectively. The viewing time of a content item may be determined for example by examining metadata for the content item.

Two or more content items with the same viewing time may occupy different amounts of storage space. For example a first content item may have been compressed using a different compression process than a second content item. As another example a first content item may have a different video quality than a second content item.

The system balances the number of content items the total storage space and the total viewing time in allocating storage among the channels subscribed to by the user . In some implementations factors other than number of content items storage space and viewing time may be used when performing balancing. The system may balance the number of content items the total storage space and the total viewing time in response to new content being downloaded to a media player downloader device. In the example of new content is to be downloaded to the media player downloader storage . The new content includes content and for channels one to four respectively where each content and includes one content item including one hour of viewing time and occupying one GB of storage.

To perform balancing the number of content items to add the total storage space of content items to add and the total viewing time of content items to add may be analyzed in addition to analyzing the current number of content items the current total storage space and the current total viewing time. To reach a balanced level of content items total storage space and total viewing time expired content items may be removed from one or more channels. For instance in the example of removed content is removed from the media player downloader storage . The removed content includes content for channel one and content for channel two. The content includes one content item including three and one half hours of viewing time and occupying three and one half GB of storage. The content includes two content items including one hour of viewing time and occupying one half GB of storage.

The removed content is selected so that content remaining in an updated media player downloader storage is balanced or nearly balanced e.g. as balanced as possible . The updated media player downloader storage illustrates the removal of the removed content from the media player downloader storage and the adding of the new content to the media player downloader storage . Balancing of the updated media player downloader storage may be achieved by selecting removed content so that a balanced percentage exists for each channel. For example the balanced percentage is twenty five percent for each channel.

For each channel a percent of content items a percent of total storage and a percent of total viewing time is calculated. For example thirty percent of all content items in the updated media player downloader storage are for channel one thirty percent of all content items in the updated media player downloader storage are for channel two fifteen percent of all content items in the updated media player downloader storage are for channel three and twenty five percent of all content items in the updated media player downloader storage are for channel four. As another example thirty percent of the total storage in the updated media player downloader storage is used for channel one twenty percent of the total storage in the updated media player downloader storage is used for channel two twenty five percent of the total storage in the updated media player downloader storage is used for channel three and twenty five percent of the total storage in the updated media player downloader storage is used for channel four. Similarly fifteen percent of the total viewing time of the content items in the updated media player downloader storage is for channel one twenty five percent of the total viewing time of the content items in the updated media player downloader storage is for channel two thirty five percent of the total viewing time of the content items in the updated media player downloader storage is for channel three and twenty five percent of the total viewing time of the content items in the updated media player downloader storage is for channel four.

For each channel the balanced percentage is the average of the percent of content items the percent of total storage and the percent of total viewing time for the channel. In the example of each of the balanced percentages are twenty five percent. In some examples the balanced percentages may not be exactly equal to one another. A combination of content items may be selected for removal from media player downloader storage based on the removal of the selected combination of content items resulting in the balanced percentages being equal or in the balanced percentages being closer to equal than if other possible combinations of content items are removed. In some implementations a content file is treated as an atomic unit meaning that when a content file is downloaded the entire content file is downloaded and if a content file is removed the entire content file and not just a portion of the content file is removed.

Although the balanced percentages may be the same or nearly the same for each channel some channels may have higher percentages for some factors and lower percentages for other factors. For example the percent of content items and the percent of total storage for channel one are each higher than the percent of total viewing time for channel one e.g. although channel one has a relatively high number of content items and amount of storage space as compared to other channels the total viewing time may be less for channel one due to a relatively low compression rate and or relatively high video quality as compared to other channels . For channel two the percent of content items is greater than the percent of total viewing time and the percent of total viewing time is greater than the percent of total storage e.g. channel two may have a relatively large number of small sized content items as compared to other channels . For channel three the percent of content items is less than the percent of total storage and the percent of total storage is less than the percent of total viewing time e.g. channel three may have a relatively small number of files with a relatively cumulatively long viewing time but with a relatively high level of compression or a relatively low video quality as compared to other channels . For channel four the percent of content items percent of total storage and percent of total viewing time are equal.

The system accesses ownership information for stored content . Ownership information may be metadata associated with a content item. Ownership information may be stored for example in media player downloader device storage in association with the content item and or may be stored in a user database accessible to a server system e.g. server system . Ownership information may indicate whether the content is licensed or license free content. For licensed content the ownership information may indicate whether a user has a license.

The system determines whether the stored content is owned . For example the system may determine whether the content is licensed or license free content. For licensed content the system may determine whether a user has a license for the content such as by comparing licensee information included in the accessed ownership information with information identifying the user of a media player downloader device.

If the stored content is owned the system maintains the stored content in storage and handles the stored content as owned content . For example owned content may be excluded from consideration for deletion e.g. such as if content files are deleted from media player downloader storage to make room for new content . Owned content may never expire and therefore may never be automatically deleted to make room for new content. As another example the system may allow owned content to be transferred or copied to an external storage device.

If the stored content is not owned the system considers the stored content for deletion . For example the content may be considered for deletion to make room for new content. Content items with an older expiration date may be removed before content items with a newer expiration date.

The system handles the stored content as not yet owned content . For example the system might not allow the content to be transferred or copied to an external storage device unless or until the user purchases the content. The system may use DRM Digital Rights Management to prevent unauthorized copying of the content. DRM may also be used to manage content expiration. Not yet owned content may expire for example if the content has been in media player downloader storage for more than a certain time period e.g. thirty days or if the content has been viewed at least a certain number of times e.g. three times .

The system enables purchase of the stored content . Content may be purchased for example using an end user portal or using a remote control device. For example illustrates an end user portal . The end user portal displays an interface which includes a list of content items . The list of content items displays for each content item a content file name a content file size and a purchase control . A purchase control may be selected to purchase the respective content item.

For example the user may select the purchase control for the content files one and three. The user may provide payment information to complete a transaction e.g. a credit card transaction an online payment transaction an online shopping cart transaction etc. . As illustrated in an end user portal indicators and may be displayed for the purchased content files one and three to indicate that the user now owns these content items.

As another example and as illustrated in the user may purchase a content item using a remote control device . The remote control device may include a small display screen . The small display screen may display information about a content item and may also display a purchase control . The user may select the purchase control to purchase the content item. In some implementations the purchase control is a software user interface control displayed on the display screen and in other implementations the purchase control is a physical button affixed to the remote control device .

Information about a content item may also be displayed on a display screen e.g. television screen . A purchase control may also be displayed on the display screen . The user may select the purchase control e.g. using a button on the remote control device to purchase the content item. After the user has purchased a content item an indicator may be displayed for the content item such as if a representation of the content item or information about the content item is displayed on a user interface e.g. a user interface displayed on an end user portal or on a television screen . For example information about a purchased content item is displayed on a display screen and an ownership indicator indicates that the content item is owned by the user.

The system accesses an expiration policy for stored content . An expiration policy may define criteria which may be used to determine whether content is expired. Expiration criteria may be defined for example for a channel for a genre type or for a particular content item. For example illustrates content expiration policies and . Content expiration policy specifies that content on a news channel expires two weeks after being downloaded to a media player downloader device. Content expiration policy specifies that content on a movie channel expires after the content is watched.

Content expiration policy specifies multiple criteria for a DJ Channel channel which includes multiple types of content. The expiration policy specifies that news content expires seven days after being downloaded to a media player downloader device that television show content expires thirty days after being downloaded to a media player downloader device and that all content expires after being watched. For example if a first news content item is watched on the third day after being downloaded the first news content item may expire after being watched. If a second news item remains unwatched for seven days after being downloaded the second news item may expire at the end of the seventh day.

The content expiration policy specifies that a particular content item named Show Two expires ten days after being downloaded. Criteria that is more specific to a content item may override criteria that is more general. For example if the Show Two content item is a television show the criterion specifying that television show content expires after thirty days is applicable to the Show Two content item but is a more general criterion than the criterion that specifies that Show Two expires after ten days. The more specific criterion specifying expiration after ten days may be applied to the Show Two content item.

Returning to the system determines whether the stored content is expired . The system may determine whether the stored content is expired based on one or more accessed content expiration policies. For example and as shown in the system may determine whether content items and included in a news channel are expired based on the content expiration policy .

As mentioned the content expiration policy specifies that content items expire two weeks after being downloaded to a media player downloader device. Suppose that the current date is November one. The content item was downloaded on October twenty six and has not been watched. The content item is not expired because two weeks have not passed since the content item was downloaded. The content item was downloaded and watched on October nineteen. Although the content item has been watched the content item is not expired because two weeks have not passed since the content item was downloaded and because the content expiration policy does not include a criterion based on whether a content item has been watched. The content item was downloaded and watched on October twelve and is expired because two weeks have passed since the download date the expiration was not due to the content item being watched however . Similarly the content item was downloaded and watched on September twenty eight and expired two weeks later on October twelve. The content item was downloaded on October 5 and was not watched before it expired two weeks later on October nineteen.

Continuing the example of the system may determine whether content items and included in a movie channel are expired based on the content expiration policy . As mentioned the content expiration policy specifies that content expires after being watched e.g. in contrast to the content expiration policy the content expiration policy is not based on download date . Content items and have not been watched and are therefore not expired. Content item was watched and expired on October twenty. Content item was watched and expired on October one.

The system may determine whether content items and included in a DJ Channel channel are expired based on the content expiration policy . The DJ Channel channel includes multiple types of content. As mentioned the content expiration policy specifies that news content expires after seven days that television show content expires after thirty days and that all content expires after being watched. As mentioned above suppose that the current date is November one. The content item a television show downloaded on October twenty six which has not been watched is not expired since two weeks have not yet passed since the content item was downloaded. The content item which is a news program downloaded on October twenty five expired after being watched on October twenty five. The content item which is a television show program downloaded on September fifteen expired thirty days later on October fifteen. The content item which is a news program downloaded on September twenty eight expired seven days later on October five.

The content item is a Show Two television show content item which is associated with a content item specific expiration criterion specified in the content expiration policy . The content expiration policy specifies that a Show Two content item expires ten days after being downloaded. The content item was downloaded on October one and expired ten days later on October eleven. The content item may be identified as matching the Show Two content item specified in the content expiration policy for example by the system matching the content title of the content item to a content title specified in the content expiration policy . As another example the system may associate the content item with the criteria for the Show Two content specified in the content expiration policy by using an identifier of the content item other than the content title.

Returning to if the stored content is expired the system considers the stored content for deletion based on one or more expiration dates . The system may consider content items for deletion to make room for new content. In some implementations all expired content is deleted before new content is downloaded. In other implementations the system determines a storage space needed to download new content and deletes some or perhaps all expired content so that an amount of available storage space is greater than or equal to the size of the new content. Content items may be selected for deletion based on oldest expiration date. For example and as shown in a deletion order list lists expired content included in the channel or by order of oldest expiration date. The first content item to delete based on oldest expiration date is a Movie Five content item e.g. content item included in the movie channel .

If the content is not expired the system maintains the stored content in storage as unexpired content . For example the system may maintain the stored content in storage of a media player downloader device and may allow the user to watch or re watch the content.

The system considers the stored content for deletion if deletion of expired content is insufficient to accommodate new content . For example the system may consider unexpired stored content for deletion if after deleting expired content the size of new content is greater than the amount of available storage. The system may determine an order indicating when certain unexpired content items may expire and may select one or more next to expire unexpired content items for deletion.

For example and as shown in the system may determine which of the content items included in the channels and are next to expire. The system may not be able to determine when the unexpired content items included in the channel e.g. content items may expire since the content expiration policy is based on a user watched date. The system may determine that the content item expires on November two that the content item expires on November seven and that the content item expires on November twenty six. Based on how much storage space is needed to accommodate new content the system may delete some or all of content items and with content item selected first content item selected second and content item selected third.

The system identifies content that is stored on a media player downloader device and that is to be archived . Content to be archived may be specified by a user using a user interface. For example illustrates a user interface for selecting content to archive. The user interface includes a channel listing area which includes channel areas and . Each channel area and includes content representations. For example the channel area corresponding to a channel one nature channel includes a content representation . The content representation may be for example a content file name a content title or a content thumbnail.

The user may scroll to see additional content representations using arrow controls and . The appearance of the content representation may be based on whether an associated content file has been completely downloaded. For example if an associated content file has been completely downloaded a black bold font may be used for a content title displayed in the content representation . As another example if an associated content file has not completely downloaded a light gray font may be used for a content title displayed in the content representation .

A user may select content files to archive by selecting one or more content representations e.g. and then selecting an archive control . A user may archive all content on one or more channels by selecting one or more channel names e.g. channel name and then selecting the archive control . The user may delete content from a media player downloader device by selecting one or more content representations or one or more channel names and then selecting a delete control . In some implementations archiving may be enabled for content files owned by the user but disabled for content files that are not owned by the user.

Returning to the system copies the identified content to an archival disk connected to the media player downloader device . Content may be archived for example to a particular location on an external storage device. For instance in the example of the user may specify an archival destination on an external storage device using a control . An archival disk may be connected to a downloader device or a media player device using for example a USB connection. For example in reference to the external media storage device is connected to the downloader device . As another example the external media storage device is connected to the media player device . An archival disk may also be accessible to the downloader device for example through a network connection.

The system organizes the copied content on the archival disk to enable the copied content to be played by the media player downloader device . A user may select an archived content item to play using a user interface. For instance in the example of the user may toggle between a channel listing view and an archived content view using a control . In an archived content view to play an archived content item the user may select a content representation representing an archived content item.

The system includes a processor a memory a storage device and an input output device . Each of the components and are interconnected using a system bus . The processor is capable of processing instructions for execution within the system . In one implementation the processor is a single threaded processor. In another implementation the processor is a multi threaded processor. The processor is capable of processing instructions stored in the memory or on the storage device to display graphical information for a user interface on the input output device .

The memory stores information within the system . In one implementation the memory is a computer readable medium. In one implementation the memory is a volatile memory unit. In another implementation the memory is a non volatile memory unit.

The storage device is capable of providing mass storage for the system . In one implementation the storage device is a computer readable medium. In various different implementations the storage device may be a floppy disk device a hard disk device an optical disk device or a tape device.

The input output device provides input output operations for the system . In one implementation the input output device includes a keyboard and or pointing device. In another implementation the input output device includes a display unit for displaying graphical user interfaces.

The features described can be implemented in digital electronic circuitry or in computer hardware firmware software or in combinations of them. The apparatus can be implemented in a computer program product tangibly embodied in an information carrier e.g. in a machine readable storage device for execution by a programmable processor and method steps can be performed by a programmable processor executing a program of instructions to perform functions of the described implementations by operating on input data and generating output. The described features can be implemented advantageously in one or more computer programs that are executable on a programmable system including at least one programmable processor coupled to receive data and instructions from and to transmit data and instructions to a data storage system at least one input device and at least one output device. A computer program is a set of instructions that can be used directly or indirectly in a computer to perform a certain activity or bring about a certain result. A computer program can be written in any form of programming language including compiled or interpreted languages and it can be deployed in any form including as a stand alone program or as a module component subroutine or other unit suitable for use in a computing environment.

Suitable processors for the execution of a program of instructions include by way of example both general and special purpose microprocessors and the sole processor or one of multiple processors of any kind of computer. Generally a processor will receive instructions and data from a read only memory or a random access memory or both. The elements of a computer may include a processor for executing instructions and one or more memories for storing instructions and data. Generally a computer will also include or be operatively coupled to communicate with one or more mass storage devices for storing data files such devices include magnetic disks such as internal hard disks and removable disks magneto optical disks and optical disks. Storage devices suitable for tangibly embodying computer program instructions and data include all forms of non volatile memory including by way of example semiconductor memory devices such as EPROM EEPROM and flash memory devices magnetic disks such as internal hard disks and removable disks magneto optical disks and CD ROM and DVD ROM disks. The processor and the memory can be supplemented by or incorporated in ASICs application specific integrated circuits .

To provide for interaction with a user the features can be implemented on a computer having a display device such as a CRT cathode ray tube or LCD liquid crystal display monitor for displaying information to the user and a keyboard and a pointing device such as a mouse or a trackball by which the user can provide input to the computer.

The features can be implemented in a computer system that includes a back end component such as a data server or that includes a middleware component such as an application server or an Internet server or that includes a front end component such as a client computer having a graphical user interface or an Internet browser or any combination of them. The components of the system can be connected by any form or medium of digital data communication such as a communication network. Examples of communication networks include e.g. a LAN a WAN and the computers and networks forming the Internet.

The computer system can include clients and servers. A client and server are generally remote from each other and typically interact through a network such as the described one. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client server relationship to each other.

A number of implementations have been described. Nevertheless it will be understood that various modifications may be made without departing from the spirit and scope of the disclosure. Accordingly other implementations are within the scope of the following claims.

