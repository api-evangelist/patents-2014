---

title: Providing enhanced business listings with structured lists to multiple search providers from a source system
abstract: A source server receives listing identification data for transmission of an enhanced listing comprising enhanced content to a plurality of provider servers. For each provider server of the plurality of provider servers, the source server transmits to the provider server the listing identification data. When the source server determines that an identifier corresponding to the listing identification data that indicates the listing is present on the provider server does not exist in a database associated with the source server, the source server searches the provider server for a matching listing based on the received listing identification data. When the source server determines that a matching listing exits on the provider server, the source server transmits to the provider server the enhanced listing with the identifier employed by the provider server as an indication to the provider server to update the listing on the provider server with the enhanced content.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09286359&OS=09286359&RS=09286359
owner: YEXT, INC.
number: 09286359
owner_city: New York
owner_country: US
publication_date: 20140718
---
This application is a continuation of and claims the benefit of U.S. patent application Ser. No. 14 152 119 filed Jan. 10 2014 which is a continuation in part of and claims the benefit of U.S. patent application Ser. No. 13 342 540 filed Jan. 3 2012 the disclosures of which are incorporated herein by reference in their entirety.

The present invention relates generally to Internet search methods and more particularly to a method and system for providing enhanced business listings to multiple search service providers from a single source system in an integrated fashion.

A consumer and or merchant may rely heavily on services rendered via the Internet. One such service is searchable listings provided by a search service also known in some instances as yellow pages or Internet yellow pages e.g. Google.com Amazon.com Yahoo.com Yelp.com MapQuest.com Superpages.com etc. . Searchable listings may include businesses such as restaurants people information product information etc. The information provided may include for example a name of a person or business addresses telephone numbers i.e. a name address and phone number NAP . The information provided may also include web site URLs photos videos e mail addresses etc. The consumer may be presented with other information about a business by either clicking anywhere in the listing or placing a mouse pointer or finger over a portion of the listing.

Certain search service providers such as Google.com WhitePages.com MapQuest.com provide some or all of the requested information in alphabetical most visited or distance order i.e. distance from a location that the consumer entered for a search or a distance from a location of the search provider . A merchant may wish to ensure that the NAP information provided in the search results is correct so that a consumer may find a listing when searching in her local area and if the consumer does choose to call or visit the merchant s business the consumer is provided with correct information. Furthermore a merchant may desire to maximize the chance that a consumer will select the merchant s listing from among those returned. The listing may be displayed higher in the search results and or be featured in a more prominent and attractive fashion. The ordering of the listings is sometimes influenced by the extent to which content is available for the listing. Further still the merchant may desire to maximize the probability that a consumer that views additional information about a business will have a favorable impression of the business.

The above goals may be achieved by maximizing the presence and quality of content associated with a listing. The merchant associated with a listing may therefore desire to be listed with multiple search services. Unfortunately the merchant currently needs to obtain their listing from each search service provider separately i.e. they need to contact each of the search service providers separately provide the listing information to each of the search service providers and pay each of the search service providers separately. Moreover if they wish to update their listing each service provider needs to be contacted separately.

Assuming a listing is updatable at each of the search service providers an update may take days weeks or more to be reflected at a consumer facing Web site mobile directory application etc. of each of the search service providers. Therefore in the related art updates cannot occur in real time or near real time. Moreover the merchant cannot provide their customers with information about real time or near real time services such as for example an offer of a discount coupon for the next hour only. 

The above described problems are addressed and a technical solution is achieved in the art by providing a method and system for providing listings that include both NAP information and enhanced content hereinafter enhanced listings to multiple search service providers from a source system. As used herein the term enhanced content refers to but is not limited to information provided in a listing in addition to identification information of a listing e.g. name address telephone number etc. which may include but is not limited to web site URLs photos videos e mail addresses a special tagline to be used for promotional purposes the latter included in a visual tag highlight. As used herein a tag or a tag line refers to a real time promotional message associated with a listing. Enhanced content may also include one or more structured lists. As used herein a structured list refers to a type of enhanced content e.g. lists of formatted real world information that follows a distinct easily recognizable pattern. Examples of structured listings may include but are not limited to restaurant menu lists biographies of employees bios lists of products and services lists of events etc. together enhanced content .

In one example the source system receives listing identification data from a merchant. The listing identification data is transmitted to each individual provider system. Potential matching listings are received from each provider system. The potential matching listings are matched to the listing identification data previously supplied by the merchant and a measure of certainty of a match for each provider system is determined. If a match is found for a given provider system that equals or exceeds a predetermined level or more of certainty then a provider supplied external identifier hereinafter External ID for that match is recorded in the source system and is associated with the listing information provided by the merchant and the returned listing data is recorded by the source system in the source system database as ready to be delivered to a provider system. If no such match is found the source system presents the listing information from the provider system to the merchant or an analyst working on behalf of the merchant .

In one example when the source system presents the listing information from the provider system to the merchant the source system may receive from the merchant an indication as to whether returned listing data from a provider system matches the merchant s listing. If the merchant confirms a match the returned listing data is recorded by the source system in the source system database as ready to be delivered to a provider system. If the merchant indicates that the returned listing data is incorrect or if no probable match of returned listing data from the provider system was found then the merchant searches directly for their listing on the provider system via a source system interface. If the provider system returns listing data that the merchant confirms as a match then the provider supplied External ID is recorded for the listing that the merchant confirmed in the database of the provider system. The listing data is also recorded by the source system in the source system database as ready to be delivered to a provider system after a cross check by a human operator.

In one example after completing a search on the provider system via a source system interface the merchant may indicate that no listing on the provider system matches the merchant listing. In such circumstances the source system records an indication in the source system database that the listing should be delivered to the provider system as a new listing to be added to the provider system after a cross check by a human operator.

In one example a cross check by a human operator may be conducted when the merchant has indicated that the merchant listing did not match the provider data automatically selected and then has either indicated that another provider listing matches or that no provider listing matches. The human operator either accepts as a match returned listing data from the provider system that the merchant indicated as a non match accepts as a match the provider listing selected by the merchant searches and selects the provider system himself for a different match of listing data via a source system interface or indicates that no valid listing is present on the provider system. Accordingly the returned listing data is recorded by the source system in the source system database as ready to be delivered to a provider system either with the External ID included in the provider listing data selected as a match or if no such listing was selected with an indication that the merchant listing is to be added to the provider site.

In one example when listing data is recorded in the source system database as being ready for delivery one or more methods of delivery may be selected to deliver an enhanced listing to the provider system. The selection of a deliver method may be based on 1 which methods are available on the provider system 2 which data fields are included in the enhanced listing to be provided and 3 which methods may cause the data fields associated with the enhanced listing to be sent to the provider system as quickly as possible. In one embodiment all fields may be delivered through a single method. In another embodiment some fields may be delivered through one method to provide faster delivery while other fields may be delivered through a slower method.

In one example the following delivery methods are provided 1 periodic feed files 2 real time API integration 3 JavaScript enhanced content and 4 frequent delta updates.

In one example in the periodic feed files listings delivery method at periodic intervals a file for each provider system containing associated target listings that are to become enhanced listings is generated for each provider system by the source system. This file contains NAP information and enhanced content for each of the merchant listings and possibly the provider supplied External ID previously identified and associated with the listing. If the provider supplied external ID for a given listing is not provided this is an indication that the listing does not exist on the provider system and should be created by the provider system. For each of the provider systems the generated file is transmitted to the corresponding provider system.

In one example the provider system processes the received listings. If at least one new listing is found that does not have an External ID supplied the provider system adds a listing into the provider database and generates an External ID for it. The provider then updates the listings in the provider database with the listing information NAP and enhanced content provided by the source system for each listing identifying each by External ID. In this manner the merchant listing information on each provider is added and updated from a single point and as a result the enhanced listing is now present on each provider.

In one example in the real time application programming interface API integration listings delivery method as soon as new or updated merchant listing information is provided to the source system and as applicable approved according to the methods described above the source system contacts the provider system through a real time API and provides merchant listing information including but not limited to NAP and enhanced content as well as the corresponding External ID for the listing on the provider system or an indication that this listing is to be added to the provider system . The provider system updates its database with the new listing information and is made available to consumers searching for business listings on the provider site. If the source system is contacting the provider system concerning a listing for the first time the provider system provides the source system either substantially immediately or after some interval with a source system assigned listing identifier hereinafter Listing ID the provider assigned External ID and a universal resource locator URL where the consumer can expect to see the listing on the provider system. For any listings appearing for the first time the merchant is provided with an indication that the listing is now in service on that provider and supplies the merchant with a URL from which the provider listing associated with the business of the merchant may be seen.

In one example the periodic feed files delivery method or the real time API integration delivery method may be augmented by a JavaScript enhanced content delivery method. The JavaScript enhanced content delivery method permits enhanced content to be updated for a listing in real time even if a provider does not support real time updates to its database e.g. as in the periodic feed files delivery method or if the provider does support updates to its database but cannot substantially immediately display the updates to a consumer as may happen in the real time API integration listings delivery method .

The JavaScript enhanced content delivery method is executed after completing the steps of the periodic feed files delivery method or the real time API integration delivery method. In the JavaScript enhanced content delivery method in one example the provider system is configured to store in its database an indication that the listing with a particular External ID is to include JavaScript based enhanced content possibly to include a promotional highlight and a list of one or more structured listings when displayed in a consumer Web browser. When the provider system provides listing information for any such listings to the consumer the provider system may include a JavaScript in the Web page of a web browser associated with the consumer. The JavaScript runs on the consumer s Web browser and may be configured to 1 contact the provider system which may contact the source system to obtain the enhanced content or 2 may contact the source system directly to obtain the enhanced content. For either method of contacting the source system the source system may render the enhanced content in real time along with other parts of a listing when the Web page of the consumer is first loaded or when the consumer interacts with an element on the Web page e.g. an icon of a type of structured listing . The source system returns the most up to date enhanced content for the listing which is then displayed to the consumer. Thus the most up to date enhanced content including but not limited to one or more real time promotional highlight messages and or one or more structured lists of a selected type of structured lists is displayed to the consumer.

In one example the periodic feed files delivery method may be augmented with the frequent delta updates delivery method. In the frequent delta updates delivery method the source system keeps track of all merchant listing records that are recorded either for the first time or for which the merchant has provided updated information. At regular intervals for example every five minutes the provider system contacts the source system for an update. The source system delivers all of the updated listing information from the time since the last contact. The provider system processes this information by updating its own listing records based on the listing information supplied in the delta update. This up to date information is presented to consumers.

In one example in connection with the periodic feed files delivery method the provider system may assemble a list of all of the listings with listing information controlled and updated by the source system may generate a receipt file containing these listings and may transmit the receipt file to the source system. The receipt file may include for each listing the source system assigned Listing ID the provider system supplied External ID and a URL where the consumer can expect to see the listing on the provider system. For any listings appearing for the first time the merchant is provided with an indication that the listing is now in service on that provider and supplies the merchant with a URL from which the provider listing associated with the business of the merchant may be seen.

According to an embodiment of the present invention the methods described for delivering listings may be employed both when a listing is initially provided by the merchant to the source system and when updates to the NAP or enhanced content for a listing is provided by the merchant to the source system.

In one example enhanced content may be rendered on a Web page associated with the consumer using a client side Javascript. The client side Javascript running in a Web browser of the consumer may search through the source specific elements of the Web page e.g. structures of lists structures of sections structures of items etc. and may contact the source system directly to obtain relevant Web elements e.g. HTML markups Javascripts CSS . The client side Javascript may be triggered when the Web page is first loaded in the Web browser associated with the consumer to display a promotion tag with a listing or when the consumer interacts with an element on the Web page e.g. the consumer clicks on a specific icon to cause a pop up .

In one example enhanced content may be rendered on a Web page associated with the consumer using a server side Javascript. The server side Javascript running in a Web browser of the consumer may search through the source specific elements of the Web page e.g. structures of lists structures of sections structures of items etc. and may contact the provider system to obtain relevant Web elements e.g. HTML markups Javascripts CSS . In response the provider system may contact the source system to retrieve relevant Web elements e.g. HTML markups Javascripts CSS . The server side exchange may be triggered when the Web page is first loaded in the Web browser associated with the consumer to display the enhanced content with the listing or when consumer interacts with an element on the Web page e.g. the consumer clicks on a specific icon to cause a pop up .

Enhanced content may be identified by a provider ID e.g. an identifier that the source system may assign to a provider system an external ID an identifier that provider system may assign to a merchant listing and content type e.g. a type of a structured listing . The provider system needs to provide the source system with at least these three pieces of information to retrieve the appropriate enhanced content on behalf of the consumer. The above described problems are addressed and a technical solution is achieved in the art by providing a method and system for delivering enhanced listings i.e. listings with enhanced content to multiple search service providers from a source system. The source system receives listing identification data for delivery of enhanced listings to a plurality of provider systems. For each provider system of the plurality of provider systems the source system transmits to the provider system identification data. The source system receives corresponding identification data. When the corresponding identification data is valid identification data the source system delivers the enhanced listing to the provider system with a provider supplied external identifier as an indication to the provider system to update a listing with the enhanced content. When the corresponding identification data is not valid identification data the source system delivers the enhanced listing to the provider system without the provider supplied external identifier as an indication to the provider system to create a listing using the enhanced content.

In an example the enhanced content may comprise one or more structured lists. Each structured list may comprise a list of one or more sections. Each of the sections may comprise a list of one or more items.

In an example the source system may receive an indication to render enhanced content in a web browser associated with the user. The indication may be received from the provider system or a client system hosting the web browser. In an example indication may be triggered in response to a loading of the web page in the web browser associated with the consumer. In another example the indication may be triggered in response to a selection of an element on a web page in the web browser associated with the consumer. The source system may transmit the indicated enhanced content to the provider system or to the client system for rendering in the web browser.

In an example the source system may transmit to the client system a Java Script for rendering the enhanced content in the web browser. Transmitting the selected enhanced content may comprise transmitting at least one of a list a section of the list or an item of the section. The list section of the list or an item of the section may be formatted according to one or more specifications of the provider system.

In an example the source system may determine whether to deliver the enhanced content to a provider system based on a merchant specified publication identifier associated with the provider system. When the merchant specified publication identifier associated with the provider system is set to true the source system may deliver the enhanced content to the provider system. When the merchant specified publication identifier associated with the provider system is set to false the source system may refrain from delivering the enhanced content to the provider system.

It is to be understood that the attached drawings are for purposes of illustrating the concepts of the invention and may not be to scale.

Methods and systems for enabling merchants to have their business listed in the so called organic search results on a large number of directories including Web sites mobile apps etc. through a single product system are provided. As used herein the term organic search results refers to but is not limited to listings on search engine results pages that appear because of their relevance to the search terms as opposed to their being advertisements. In contrast non organic search results may include pay per click advertising.

A merchant is permitted to list promotional material comprising enhanced content associated with a listing through among other things highlighted content in search results and more complete content in the business profile on the service provider. In some embodiments a URL is provided to permit the merchant to see their promoted listing on each search service provider s Web site. The merchant is permitted to update their information e.g. when they move or when their phone number changes and enhance their listing e.g. by adding or modifying photos text descriptions special offers hours menus bios products and services events etc. i.e. enhanced content from a single point substantially in real time or near real time.

The term computer or computer platform is intended to include any data processing device such as a desktop computer a laptop computer a tablet computer a mainframe computer a server a handheld device a digital signal processor DSP an embedded processor an example of which is described in connection with hereinbelow or any other device able to process data. The computer computer platform is configured to include one or more microprocessors communicatively connected to one or more non transitory computer readable media and one or more networks. The term communicatively connected is intended to include any type of connection whether wired or wireless in which data may be communicated. The term communicatively connected is intended to include but not limited to a connection between devices and or programs within a single computer or between devices and or separate computers over a network. The term network is intended to include but not limited to OTA over the air transmission ATSC DVB T packet switched networks TCP IP e.g. the Internet satellite microwave MPEG transport stream or IP direct broadcast satellite analog cable transmission systems RF and digital video transmission systems ATSC HD SDI HDMI DVI VGA etc.

The one or more computer readable media may be used for storing the instructions to be executed by the one or more processors including an optional operating system such as the Windows or the Linux operating system. The computer readable media may further be used for the storing and retrieval of data in one or more databases. The computer readable media may include a combination of volatile memory such as RAM memory and non volatile memory such as flash memory optical disk s and or hard disk s . Portions of the data stored in the computer readable media may be provided by one or more human users at one or more monitors. The monitor s may be equipped with a keyboard and a mouse for selecting objects of interest by the user or for inputting data.

A plurality of provider application programming interfaces APIs permits the source system to search for matching listings as part of a matching process. The provider API searcher is configured to accommodate existing APIs provided that it meets system standards. In certain circumstances a provider may need to modify their API so that it may operate properly with the source system . The provider listing update APIs are configured to receive information about new and updated listings to display from the listing delivery engine . Should a provider not be able to supply a provider listing update API the provider may supply a periodic feed receiver for processing periodic data updates generated by the source system containing listings that should contain enhanced content. These are modules designed by each of the providers. They are generally designed to accommodate a source system enhanced listings format. The provider directory site mobile app etc. is a module that serves the directory sites with which a consumer interacts e.g. MapQuest.com the MapQuest iPhone app etc.

The modules are in turn are communicatively connected to a plurality of user devices running some form of communication software preferably in a consumer Web browser over a network such as the Internet and a provider database . In an example the computer platform may be communicatively connected to each of the plurality of user devices via a PowerListings JavaScript running in the consumer Web browser when enhanced content is pulled directly from a consumer Web browser or device rather than passing through a service provider computer platform e.g. to be described hereinbelow in connection with . In such circumstances the PowerListings JavaScript either provided by the system provider or written by the service provider and included within a Web page calls the real time content server and obtains the needed enhanced content. Alternatively the PowerListings JavaScript may be replaced with for example a mobile application or some other non Web application. In such circumstances the mobile or external application may communicate directly with the real time content server to obtain the real time content updates. However in an example a request typically passes through a service provider computer platform e.g. rather than having a direct connection between the application running on the consumer s device and the real time content server .

In one example when the listing identification data provided automatically or overridden by either the merchant or the human system operator is determined to be valid identification data the source system delivers the one or more enhanced listings to the one or more provider systems with the provider supplied external identifier as an indication to the one or more provider systems to update the one or more enhanced listings with enhanced content. When the listing identification data provided automatically or overridden by either the merchant or the human system operator is determined not to be valid identification data the source system delivers the one or more listings to the one or more provider systems without the provider supplied external identifier as an indication to the one or more provider systems to create the one or more enhanced listings using the enhanced content.

In Step the provider API searcher invokes a provider API with the listing identification data supplied by the merchant . In Step the provider API of the provider system may return potential matching listings to the provider API searcher . In Step the provider API searcher employs a method to determine which of the returned results matches the listing identification data supplied by the merchant if any and a measure of certainty of a match for the provider system . Each potential match is given a score that indicates the system s level of certainty that the potential match listings corresponds with the listing identification data supplied by the merchant. To calculate this score the system normalizes the core listing information supplied by the merchant and returned with each potential match. Then the system assigns up to one point for similarity of each of the following data fields name address including city state and postal code and primary phone number. The system also assigns points for matches of non primary phone numbers and merchant URL. If a match has at least three points which can happen only if the name address and primary phone number match exactly or if two of the three match and the other fields match exactly the listing is considered to be so perfect a match that it can be recorded as a listing match without merchant verification i.e. equal to or above a predetermined level of certainty . If it has a match of at least one point then it is considered a possible match and can be presented to the merchant as such. Otherwise it is considered that there are no possible matches.

In Step if a match is found that equals or exceed a predetermined level or more of certainty then in Step the provider API searcher records a provider supplied External ID for the listing along with returned listing data e.g. the name address telephone number and URL associated with the listing found on the provider system in the system database otherwise processing proceeds to step . As used herein an External ID refers to a unique identifier that each of the provider systems has assigned to a listing for their own purposes. This contrasts with a system provided Listing ID that is a unique identifier assigned by the source system to the same listing on a per provider per listing e.g. per business physical location basis. In step a matching process is conducted by the source system wherein an attempt is made to determine the External ID of the listing on the provider s system that most closely matches the listing with the system provided Listing ID. The purpose of the matching process is to ascertain whether there is a corresponding listing on the server provider s side. If in step a match is found then in step the provider supplied External ID is associated with the system supplied Listing ID in the system database for the provider system e.g. . If in Step no match was returned then in Step the provider API searcher records no match found in the system database for the provider system . Also a no External ID corresponding to the Listing ID in question is recorded in the database for the provider system

In Step if a probable match was found then in Step the PowerListings Web application displays the returned listing data e.g. the name address and phone number as supplied by the provider system and prompts the merchant to confirm that the correct returned listing data was identified. If in Step the merchant confirms a matching returned listing data then in Step the returned listing data is recorded by the source system in the system database along with an indication that the returned listing data is ready to be delivered to the provider system as described hereinbelow. If in Step the merchant indicates that the returned listing data is incorrect or if no probable match of returned listing data from the provider system was found then in Step the merchant searches directly for their listing on the provider systems via queries made through the PowerListings Web application the provider API searcher and the provider API of the provider system . If in step as a result of the queries in Step the provider system returns listing data that the merchant confirms as a match then in Step the source system records the provider supplied External ID for the listing that the merchant confirmed in the system database for the provider system . If in Step the provider system does not return listing data or in Step none of the returned listing data is considered a match by the merchant then in Step the source system records a NO LISTING FOUND or some other negative indication in the system database for the provider system . Also a no External ID corresponding to the Listing ID in question is recorded in the system database for the provider system

In one example a merchant may enter fields of enhanced content at the Power Listings web application in addition to listing identification data corresponding to different types of lists. The enhanced content may include but are not limited to menus bios products and services and events. The enhanced content are converted by the source system to one or more structured lists to be displayed in the consumer web browser . When the consumer clicks on an icon corresponding to one of the types of structured lists the structured list may be expanded to display all of or sections corresponding to the menus bios products and services or events in real time. Items e.g. in a food menu are the most basic building blocks of the structured lists. Items may be grouped into sections and sections may be grouped into structured lists. Once created the structured lists may be stored in the system database in a plurality of tables. The one or more tables may be associated with one or more enhanced listings on a per physical location e.g. listing of a business basis a subset of all locations of a business basis or all locations of a business basis.

Table 1 shows a number of fields associated with a structured list that may be stored in a table in the system database . Each structured list may be associated with list information which may comprise a list identifier list id a list type list Type e.g. a food menu list a list of employee biographies a list of products and services sold by the business a list of events associated with the business etc. a list title list Title a size of the list in bytes list size a boolean flag indicating whether the list should be published list Publish to one or more provider systems and a list of sections list Section . The list data table may be associated with a business identifier business Id .

Table 2 shows a number of fields associated with a section section information of a structured list. Each section may be associated with section information which may comprise fields stored in one section data table comprising a section identifier section Id a section name section Name and a list of items items . The section data table may be associated with a list identifier list Id .

Table 3 shows an example of a number of fields or structures e.g. a cost structure associated with an item structure item information of a structured list. Each item field may be associated with item information. The item information may be stored in one data table along with an associated section identifier section Id . The item types structure shown in Table 3 is not limited to menus bois products and services and events but may include other types of items fields of items etc.

A merchant subsequently designates associations of structured lists with locations. Once the association is made the list Id and list Type are associated with the location Id. The merchant may employ the source system to publish the created structured lists. Once the structured lists are published basic list information list Id list Type list Name list Description may be included with location provider listing pair updates and or order calls to one or more of the provider systems See and accompanying description . Links to the structured lists may be displayed in the search results of a web page associated with the provider site on consumer web browser pages and on mobile sites . See for examples of techniques for displaying structured lists on consumer web browser pages and on mobile sites .

In one example when a consumer views and selects an icon corresponding to a structured list in a listing in a consumer web browser pages or on a mobile site a provider system e.g. may make a call to the source system to obtain a detailed structured list to be expanded on the web browser pages or on the mobile site in real time. This decreases the amount of data e.g. items that needs to be processed for deliver from the source system to one or more of the provider systems and subsequently for initial delivery to the web browser pages or on the mobile site .

In Step the provider system processes the listings file received in Step on a per listing basis. In step a query is made whether the listing contains an external ID. If in step the listing does not have an external ID then in Step the provider system e.g. creates a new listing record in the provider database assigns the listing record a new external ID adds content from the feed i.e. the listing data to the new listing record and sets a flag for the listing indicating that the listing should have enhanced content when displayed in a consumer Web browser as provided by the corresponding provider directory site . If in Step an external ID for the listing was supplied then in step a query is made whether the listing was provided before by the source system . If in step an external ID was supplied but the listing was not previously provided by the source system i.e. it was previously associated with a listing via selection by either the human operator via the a human review application or via the merchant via the tags Web application on the source system then in Step the provider system e.g. stores an indication that the listing with the External ID is to receive enhanced content when displayed in a consumer Web browser as provided by a provider directory site associated with the provider system stores a source system listing ID that should be associated with the listing and incorporates the listing content from the feed into an existing listing record in the provider database e.g. e.g. NAP and enhanced content . If in Step an external ID was supplied and a listing was previously provided by the source system then in Step the provider system updates the existing listing using the enhanced content in the provider database to reflect the information provided with the received listing. In Step a query is made whether there are any more listings in the listing file to be processed. If in Step the last listing in the listing file has not been processed then execution returns to Step otherwise processing proceeds to Step .

In Step the provider system assembles a list of all of the listings that the provider system indicates should have enhanced content See and in Step the provider periodic feed interface corresponding to the provider system generates a receipt file containing these listings including for each listing the system assigned Listing ID an External ID and a URL where the consumer can expect to see the enhanced listing on the provider system See . In Step the source system receives the receipt file from each of the provider systems wherein the provider periodic feed interface returns the receipt file to the listings delivery engine . The PowerListings backend coordinator receives the receipt files from provider periodic feed interface . In Step for any listings appearing for the first time as determined by a query into the system database by the Power Listings backend coordinator the PowerListings backend coordinator provides the merchant via the tags Web application with an indication that that the enhanced listings are now in service and supplies the merchant with a URL from which the enhanced listing associated with the business of the merchant may be seen. In an example the Power Listings backend coordinator may employ a Web crawler to confirm that the enhanced listing is visible on the supplied URL and that all content including the promotional highlight and message name address phone descriptions photos structured listings etc. is visible and correct before notifying the merchant that the enhanced listing is live .

According to an embodiment of the present invention the periodic feed files delivery method or the real time API integration delivery method may be augmented by a JavaScript enhanced content delivery method. The JavaScript enhanced content delivery method permits enhanced content to be updated for a listing in real time even if a provider system e.g. does not support real time updates to its database e.g. e.g. as in the periodic feed files delivery method if the provider system e.g. does support updates to its database e.g. but cannot substantially immediately display the updates to a consumer as may happen in the real time API integration listings delivery method or when a listing comprises one or more structured lists. In the latter example an attempt may be made to render the enhanced content when a Web page of the Web browser associated with the consumer to display a promotion tag with a listing and or one or more structured lists is first loaded or when the consumer interacts with an element on the Web page e.g. the consumer selects an icon corresponding to one of types of the structured lists to be expanded in her web browser or other display device . The JavaScript enhanced content delivery method is executed after completing the steps of the periodic feed files delivery method or the real time API integration deliver method.

In an example a variation of the JavaScript enhanced content delivery method may be used. In this variation the provider system requests the enhanced content in question directly from the source system through a server to server connection and then serves this information to the consumer as though it were incorporated into the provider system database although it has not been.

More particularly the Web page or mobile application of the consumer Web browser may be configured to display one or more icons that may be expanded to display one or more structured lists when the consumer selects one or more of the icons.

In one example the provider system may be configured to store in its database an indication that the listing with a particular External ID is to include JavaScript based enhanced content possibly to include a promotional highlight and one or more structured lists when displayed in a consumer Web browser . When the provider system provides listing information for any such listings to the consumer the provider system may include a JavaScript in the Web page of a web browser associated with the consumer . This JavaScript runs on the consumer s Web browser . The JavaScript may be configured to 1 contact the provider system which may contact the source system to obtain the enhanced content or 2 may contact the source system directly to obtain the enhanced content. For either method of contacting the source system the source system may render enhanced content in real time along with other parts of a listing e.g. server side interactions when the Web page of the Web browser of the consumer is first loaded or when consumer interacts with an element on the Web page e.g. a selection of an icon corresponding to a structured list . The source system may return the most up to date enhanced content for the listing which is then displayed on the Web page of the Web browser of the consumer . Thus the most up to date enhanced content including but not limited to one or more real time promotional highlight messages and or one or more structured lists of a selected type of structured lists may be displayed to the consumer thus rendering a complete enhanced listing available to the consumer on a provider system

In one example enhanced content may be rendered on a Web page in a Web browser associated with the consumer using a client side Javascript. The client side Javascript running in a Web browser of the consumer may search through the source specific elements e.g. from structures of lists structures of sections structures of items etc. of the Web page and may contact the source system directly to obtain relevant Web elements e.g. HTML markups Javascripts CSS . The client side Javascript may be triggered when the Web page is first loaded in the Web browser associated with the consumer e.g. to display a promotion tag with a listing or when the consumer interacts with an element on the Web page e.g. the consumer clicks on a specific icon to cause a pop up .

In one example enhanced content may be rendered on a Web page associated with the consumer using a server side Javascript. The server side Javascript running in the Web browser of the consumer may search through the source specific elements of the Web page e.g. from structures of lists structures of sections structures of items etc. and may contact the provider system to obtain relevant Web elements e.g. HTML markups Javascripts cascading style sheets CSS . In response the provider system may contact the source system to retrieve relevant Web elements e.g. HTML markups Javascripts CSS . The server side exchange may be triggered when the Web page is first loaded in the Web browser associated with the consumer e.g. to display the enhanced content with the listing or when the consumer interacts with an element on the web page e.g. the consumer clicks on a specific icon to cause a pop up .

Enhanced content may be identified by a provider ID e.g. an identifier that the source system may assign to a provider system an external ID an identifier that provider system may assign to a merchant listing and content type e.g. a type of a structured list . The provider system needs to provide the source system with at least these three pieces of information to retrieve the appropriate enhanced content on behalf of the consumer . The provider system contacts the source system which provides the listing delivery engine and the real time content server of the source system with the provider ID External ID and content type of the listing in question to obtain the selected structured list from one or more list tables section tables and item tables in the system database . The provider system receives from the source system corresponding hypertext markup language HTML and a Java Script that has been specifically formatted to the specifications of the provider system to effect a display of the selected structured list in the consumer s Web browser . The JavaScript inserts the returned HTML in proper places on the web page in the consumer web browser .

Referring now to the consumer Web browser initially displays the listing as served by the provider system without real time content e.g. a promotional message and a specific structured list selected by the consumer but includes icons or tabs indicating a list of types of structured list . In Step the PowerListings JavaScript requests the most up to date real time content such as a real time promotional message and a specific structured list selected by the consumer for each of the indicated listings from the real time content server . In Step the real time content server returns the most up to date message as updated by the merchant . In Step the PowerListings JavaScript locates the correct location in the consumer Web browser for rendering the message and the specified structured list selected by the consumer for each listing based on the hidden HTML tag rendered in Step and places the message and the specified structured list selected by the consumer at that location. As a result the most up to date real time enhanced content is displayed.

In an example the steps of the source system updating enhanced listings on each of the provider systems at the request of the merchant of and rendering enhanced listings in response to a search request on the consumer Web browser of are subject to numerous variations. For instance rather than rendering a blank area for the real time message the provider directory site may render the most recent message supplied via the periodic feed files delivery method to the provider periodic feed receiver which is then replaced with a JavaScript. Rather than including PowerListings JavaScript the provider system may include a custom written JavaScript that makes calls directly to the real time content server . A provider supplied JavaScript may be preferable when the provider system has a JavaScript included in its own applications and it is desirable for the provider system to integrate the call to the real time content server within the existing logic of the provider system 

In an example the JavaScript mechanism for real time content updates described above can be used by provider systems either when displaying search results which may include one or more enhanced listings mixed with regular listings which may include less information concerning each or when displaying a page with detailed information for a single enhanced listing. In the latter case the information that is pulled from the real time content server may include an extensive set of the content fields associated with the enhanced listing e.g. a specified structured list selected by the consumer so that all or nearly all of the information supplied with the enhanced listing is served directly from the source system s real time content server without being processed by the provider system directly.

In an example rather than passing a JavaScript to a consumer Web browser the provider directory site may request the most up to date enhanced content for each enhanced listing in server to server communication with the real time content server on demand and then may render the enhanced content including the promotional message or tag line and a specified structured list selected by the consumer in the consumer Web browser . Although other information associated with the listing may be supplied through the real time mechanism as well the tag line i.e. promotional message is the one that is most time sensitive because it often contains promotional deals e.g. 20 off a refrigerator today only .

In an example if the listings are not rendered in a consumer Web browser but via a mobile application navigation application etc. the device hosting the application may not be operable to employ JavaScript. In such circumstances the provider directory site may request the most up to date listings content for enhanced listings on demand via the real time content server before serving the enhanced listings to the consumer via the application.

In an example the listings delivery engine may pass real time content updates to real time provider listing update APIs rather than via the provider periodic feed receiver executing in the provider system for the purpose of receiving real time content updates.

In another example shows tables or sections incorporated within a web page to display enhanced content of a structured list selected by the consumer . In this example the enhanced content is incorporated directly into the web page .

In another example in an initial rendered web page displays a list of structured lists as a series of icons as shown in . But rather than a popup clicking on a link transmits to the web browser of the consumer another web page hosted by the provider system that contains the enhanced content corresponding to the structured list and a link back to the initial rendered page.

The exemplary computer system includes a processing device a main memory e.g. read only memory ROM flash memory dynamic random access memory DRAM such as synchronous DRAM SDRAM or Rambus DRAM RDRAM etc. a static memory e.g. flash memory static random access memory SRAM etc. and a data storage device which communicate with each other via a bus .

Processing device represents one or more general purpose processing devices such as a microprocessor central processing unit or the like. More particularly the processing device may be complex instruction set computing CISC microprocessor reduced instruction set computer RISC microprocessor very long instruction word VLIW microprocessor or processor implementing other instruction sets or processors implementing a combination of instruction sets. Processing device may also be one or more special purpose processing devices such as an application specific integrated circuit ASIC a field programmable gate array FPGA a digital signal processor DSP network processor or the like. Processing device is configured to execute device queue manager logic for performing the operations and steps discussed herein.

Computer system may further include a network interface device . Computer system also may include a video display unit e.g. a liquid crystal display LCD or a cathode ray tube CRT an alphanumeric input device e.g. a keyboard a cursor control device e.g. a mouse and a signal generation device e.g. a speaker .

Data storage device may include a machine readable storage medium or more specifically a computer readable storage medium having one or more sets of instructions e.g. listing manager logic embodying any one or more of the methodologies of functions described herein. Listings manager logic may also reside completely or at least partially within main memory and or within processing device during execution thereof by computer system main memory and processing device also constituting machine readable storage media. Listings manager logic may further be transmitted or received over a network via network interface device .

Machine readable storage medium may also be used to store the device queue manager logic persistently. While machine readable storage medium is shown in an exemplary embodiment to be a single medium the term machine readable storage medium should be taken to include a single medium or multiple media e.g. a centralized or distributed database and or associated caches and servers that store the one or more sets of instructions. The term machine readable storage medium shall also be taken to include any medium that is capable of storing or encoding a set of instruction for execution by the machine and that causes the machine to perform any one or more of the methodologies of the present invention. The term machine readable storage medium shall accordingly be taken to include but not be limited to solid state memories and optical and magnetic media.

The components and other features described herein can be implemented as discrete hardware components or integrated in the functionality of hardware components such as ASICs FPGAs DSPs or similar devices. In addition these components can be implemented as firmware or functional circuitry within hardware devices. Further these components can be implemented in any combination of hardware devices and software components.

Some portions of the detailed descriptions are presented in terms of algorithms and symbolic representations of operations on data bits within a computer memory. These algorithmic descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. An algorithm is here and generally conceived to be a self consistent sequence of steps leading to a desired result. The steps are those requiring physical manipulations of physical quantities. Usually though not necessarily these quantities take the form of electrical or magnetic signals capable of being stored transferred combined compared and otherwise manipulated. It has proven convenient at times principally for reasons of common usage to refer to these signals as bits values elements symbols characters terms numbers or the like.

It should be borne in mind however that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities. Unless specifically stated otherwise as apparent from the above discussion it is appreciated that throughout the description discussions utilizing terms such as enabling transmitting requesting identifying querying retrieving forwarding determining passing processing disabling or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system s registers and memories into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage transmission or display devices.

Embodiments of the present invention also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes or it may comprise a general purpose computer selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a computer readable storage medium such as but not limited to any type of disk including floppy disks optical disks CD ROMs and magnetic optical disks read only memories ROMs random access memories RAMs EPROMs EEPROMs magnetic or optical cards flash memory devices including universal serial bus USB storage devices e.g. USB key devices or any type of media suitable for storing electronic instructions each of which may be coupled to a computer system bus.

The algorithms and displays presented herein are not inherently related to any particular computer or other apparatus. Various general purpose systems may be used with programs in accordance with the teachings herein or it may prove convenient to construct more specialized apparatus to perform the required method steps. The required structure for a variety of these systems will be apparent from the description above. In addition the present invention is not described with reference to any particular programming language. It will be appreciated that a variety of programming languages may be used to implement the teachings of the invention as described herein.

The present invention has several advantages over prior art business listings and local search engines systems. For example existing search service providers provide a daily weekly monthly or quarterly feed for updating listings of local merchant data which may be the only way of updating content. Existing listings services rely on the recipient of the listing information provider systems to attempt any matching of their own listings e.g. some provider systems accept only an advertised listing from a single source. As a result there may be duplicate listing of the same merchant with no attempt by the provider systems to remove the duplicate entries . As of this writing search service providers do not perform matching from a central server system and do not provide each provider system with its ID for a listing. Still further there are no known instances of service providers providing a combination of accepting data in a periodic feed serving content with special markers based on this data and having this data augmented with a JavaScript based call back to the original central server system which solves an apparent latency problem for updating content in a number of domains. There are also no known instances of a service provider accepting listing information from a merchant and delivering it to multiple provider systems via a real time API. There are also no known instances of a service provider accepting listing information from a merchant and then distributing it to multiple providers using a combination of these mechanisms based on the capabilities of each provider system in order to minimize the latency of distribution new listing information as far as possible. There are also no known instances of such a listings service using automated mechanisms to ascertain whether the listings sent out to provider systems are correctly added and correctly updated.

A merchant is provided with the most up to date information possible associated with their business listings. Provider systems each have different capabilities and mechanisms for the support of the adding and updating of merchant listings. Some of them have systems that can operate only on a daily or multi day cycle through the use of feed files that contain listing information and are processed daily. Others are able to process feed files more frequently and still others have assorted miscellaneous mechanisms allowing for faster updates. Methods and systems according to certain embodiments of the present invention provide a way to make use of each of the existing mechanisms available with each provider system in the most efficient manner possible to effect updates to listings in a manner as near to real time as possible. Provider systems that can process feed updates only infrequently to nevertheless display certain elements of the enhanced content in real time or near real time. Embodiments of the present invention provide a means for those provider systems with proper technical capacity to implement a mechanism through which from a single source system all content on any provider listings can be updated in real time or near real time.

It is to be understood that the above description is intended to be illustrative and not restrictive. Many other embodiments will be apparent to those of skill in the art upon reading and understanding the above description. Although the present invention has been described with reference to specific exemplary embodiments it will be recognized that the invention is not limited to the embodiments described but can be practiced with modification and alteration within the spirit and scope of the appended claims. Accordingly the specification and drawings are to be regarded in an illustrative sense rather than a restrictive sense. The scope of the invention should therefore be determined with reference to the appended claims along with the full scope of equivalents to which such claims are entitled.

