---

title: Systems and methods for acquiring location data
abstract: Positioning systems may be used to determine the location of computing devices in space. Described herein are systems, methods, and computer readable mediums for storing information determined to be reliable that is used to determine the location of a computing device. In some implementations, the system determines that a scan list is reliable based on factors such as characteristics associated with the type of device that generated the scan list, or based on the amount of times that the information in the scan list was detected over a period of time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09485747&OS=09485747&RS=09485747
owner: Amazon Technologies, Inc.
number: 09485747
owner_city: Reno
owner_country: US
publication_date: 20140516
---
A client device may use positioning systems to determine the location of the client device. A positioning system may use a datastore to lookup the location of the client device based on information provided by the client device. However the database information may be insufficient resulting in the positioning system being unable to provide a location or an accurate location to the client device.

Certain implementations and embodiments will now be described more fully below with reference to the accompanying figures in which various aspects are shown. However various aspects may be implemented in many different forms and should not be construed as limited to the implementations set forth herein. Like numbers refer to like elements throughout.

Positioning systems are used to determine the location of objects in space. Client devices e.g. mobile devices or stationary devices may use positioning systems to determine the location of the client device. A positioning system may use a database for looking up the location of a client device based on information provided by the client device. In one example the information provided by the client device includes a list identifying detected wireless networks. The positioning system may determine a location of the client by looking up a location that is associated with the received list. However the positioning system may not include the information needed to provide the location. For example the database may not include any information about the location of the detected wireless networks.

This disclosure describes systems and methods for storing reliable information used by positioning systems e.g. Wi Fi Bluetooth or ZigBee based positioning systems such that a client device e.g. a mobile phone may present the location of the client device. Determining whether the information is reliable is based on a variety of factors discussed herein.

The system discussed herein includes a location server that manages information used to determine locations of other computing devices. The location server may comprise one or more computing devices such as one or more servers. The operations executed by the location server are discussed in more detail below.

The location server may be configured to operatively connect to one or more client devices using a network. The client devices may comprise a variety of computing devices such as a smartphone a tablet computer a laptop computer an electronic book eBook reader a wearable computing device a desktop computer a television a gaming console and so forth.

The client device may be configured to detect the presence of wireless networks. For example the client device may include a network detector configured to detect the presence of access points. An access point may comprise a computing device that enables other computing devices to wirelessly connect to a network using wireless communication standards such as Wi Fi .

Detecting the presence of the access points may include using at least one of active scanning or passive scanning. Active scanning may include sending multiple probe requests and recording probe responses. Passive scanning may include acquiring information once data is transmitted by an access point.

Detecting the presence of the access points may include acquiring access point identifications of the detected access points. An access point identification ID may comprise data representing an identification of the access point and may be expressed using characters such as letters numbers symbols and so forth. In one example the access point ID comprises a service set identifier SSID . The SSID may be described as a human readable 1 to 32 byte string. An SSID may be modified by an administrative user of the access point. In another example the access point ID may comprise a media access control MAC address. The MAC address may be described as a unique combination of characters e.g. letters number symbols and so forth that is assigned to a computing device that operates with a network. The MAC address may identify the manufacturer of a network adapter of the computing device. A manufacturer of the network adapter may hardwire or hard code the MAC address onto the network adapter. Because the MAC address may be hard coded and is unique to the network adapter when compared to the SSID typically MAC addresses are considered to be more unique.

The client device may be configured to generate a scan list. The scan list may comprise data representative of access point IDs acquired from detected access points. The scan list may also include other information such as a timestamp indicating when the access points were detected. As discussed in more detail below the scan list may be used by the location server as a reference for determining location of a client device.

The client device may be configured to generate location data representative of the location of the client device. Determination of the location may be based on a variety of one or more systems. These systems may include inertial navigation systems dead reckoning navigation systems satellite based navigation network positioning tags and so forth. The location data may include geolocation data such as latitude longitude and altitude of the client device a street address room designation and so forth.

The client device may provide the scan list and the location data to the location server for processing. The location data may be described as being associated with the scan list because the location data may indicate where the scan list was generated.

The location server may include a location datastore configured to store a variety of information that may be used to determine the location of a computing device. The stored information may include information about a list of access point IDs and the locations associated with the list. Before the information is stored within the location datastore the location server may be configured to determine whether the information is reliable.

Determining whether the information is reliable may be based on a variety of factors. For example reliability may be determined based on the amount of times access point IDs are detected over a period of time the manufacturer of the computing device associated with the access point ID and so forth.

Once a scan list is deemed reliable the location server may update the datastore to include the reliable scan list along with the location data that is associated with the reliable scan list. By storing the reliable scan list with the associated location data computing devices e.g. the mobile phones tablet computers laptops wearable devices and so forth may present their location by acquiring location data from the location server based on the access point IDs that are detected by the computing devices. In one example the location server receives a request for location data from a first computing device. The request may include a scan list of detected access point IDs. The location server may determine which location data is associated with or corresponds to the scan list. Thereafter the location server may provide the location data that is associated with the scan list resulting in the computing device being able to present its location.

In some implementations a first client device generates and provides at least one of the scan list or the location data to a second client device that in turn provides the scan list to the location server. In one example the first client device comprises a stationary device and the second client device comprises a mobile device. The mobile device may be described as a computing device that is or is expected to be transported during normal usage. For example the mobile device may comprise a smartphone a tablet computer a laptop computer a wearable computing device an electronic book eBook reader an in vehicle communication system and so forth. When compared to stationary devices mobile devices may generally generate location data more easily because the mobile device may be easier to transport to another location to allow location detection. For example when determining the location of a computing device using Global Positioning System GPS a mobile device may be configured to prompt the user to move the mobile device to another location to allow for acquisition of signals from navigational satellites.

The stationary device may be described as a computing device that is not expected to be transported during normal usage. For example the stationary device may comprise a desktop computer a television a gaming console a server or a set top box. When compared to the wireless networks detected by mobile devices the wireless networks detected by stationary devices may be more consistent because the stationary devices generally are not transported during normal usage. Accordingly when determining a location associated with a list of detected wireless networks wireless networks detected by stationary devices may be considered more reliable when compared with wireless networks detected by mobile devices.

When client devices are able to share information e.g. the scan list and the location data the location included within the location data may be changed from the actual location to another location for privacy purposes. For example the client devices may be configured to execute a fuzzing algorithm which causes the location to be offset by a randomly determined distance so that the user of one client device will not obtain the exact location of other computing devices.

By determining whether acquired scan lists are reliable based on the factors discussed herein databases of wireless based positioning systems may be populated with accurate information in a more efficient manner. As a result a client device may present the location of the client device based on information determined to be reliable.

The mobile device may be described as a computing device that is or is expected to be transported during normal usage. For example the mobile device may comprise a smartphone a tablet computer a laptop computer a wearable computing device an electronic book eBook reader an in vehicle communication system and so forth. Although certain devices such as a desktop computer a television a gaming console a server or a set top box may be described as devices that may not be expected to be transported during normal usage these devices may comprise the mobile device if these devices are transported during normal usage. In some implementations the mobile device is implemented as a client device which is discussed in more detail below with regard to .

The system may include a stationary device . The stationary device may be described as a computing device that is not expected to be transported during normal usage. For example the stationary device may comprise a desktop computer a television a gaming console a server or a set top box. Although certain devices may be described as devices that are expected to be transported during normal usage such devices may comprise the stationary device if these devices are not transported during normal usage. For example the following computing devices may comprise the stationary device a smartphone a tablet computer a laptop computer a wearable computing device an electronic book eBook reader an in vehicle communication system and so forth. In some implementations the stationary device is implemented as the client device that is discussed in more detail below with regard to .

The system may include one or more access points . . . X . An access point may comprise a computing device that enables other computing devices to wirelessly connect to a network using wireless communication standards such as Wi Fi .

An access point may have an access point ID that may represent an identification of the access point . The access point ID may be expressed using characters such as letters numbers symbols and so forth. In one example the access point ID comprises a service set identifier SSID . The SSID may be described as a human readable 1 to 32 byte string. An SSID may be modified by an administrative user of the access point . In another example the access point ID may comprise a media access control MAC address. The MAC address may be described as a unique combination of characters e.g. letters number symbols and so forth that is assigned to a computing device that operates with a network. The MAC address may identify the manufacturer of the computing device. When compared to the SSID typically the MAC address may be considered more unique.

The stationary device may be configured to detect the presence of the access points . Detecting the presence of the access points may include acquiring the access point IDs of the detected access points . In one example the stationary device detects the presence of the access points and which includes acquiring the access point IDs and .

The stationary device may generate a scan list . The scan list may comprise data representative of the detected access points IDs . The scan list may also include other information such as a timestamp indicating when the access points were detected. As discussed in more detail below the scan list may be used as a reference for determining location. The scan list may comprise access point data that includes data corresponding to at least one access point . The data corresponding to the at least one access point may include a variety of information such as access point ID and information about a longevity of the access point . The information about the longevity of the access point may indicate the amount of time a particular access point has been operating or may indicate which times a particular access point is available. The information about the longevity of the access point may indicate how long the access point ID s have been available. For example the information may indicate the access point has been wirelessly providing the access point ID s for a particular time period. The particular time period may include certain hours of certain days a threshold period of time e.g. the last six months . The longevity may be indicative of a persistence of the access point or other network node from one point in time to another. When a particular access point ID is available the stationary device is able to wirelessly obtain the particular access point ID to generate the scan list .

The stationary device may detect the presence of wireless computing devices using at least one of active scanning or passive scanning. Active scanning may include sending multiple probe requests and recording probe responses. Passive scanning may include acquiring information once data is transmitted by an access point.

The mobile device may be operatively connected to the stationary device using one or more networks not shown . The one or more networks may include one or more public networks such as the Internet private networks or a combination of both. The network facilitating communication between the mobile device and the stationary device may include a variety of networks such as a local network a wide area network WAN broadcast network a personal area network PAN a wired and wireless local area network LAN and so forth. In some implementations the network includes at least one of Ethernet Wi Fi as promulgated by the Wi Fi Alliance 3G and 4G Bluetooth as promulgated by the Bluetooth Special Interest Group and so forth. In some implementations the devices and systems described herein are configured to directly connect to each other.

The stationary device may provide the scan list to the mobile device using the network described above. The stationary device may provide the scan list to the mobile device in response to receiving a request from the mobile device to provide the scan list .

The mobile device may include a user interface module . The user interface module may be configured to provide a user interface to the user or to the mobile device . In one implementation the user interface may be a web interface presented via the network and accessible to the user . In another implementation the user interface may comprise an application programming interface API that enables communication such as sending requests for the scan list from the mobile device to the stationary device . The user interface may be configured to allow the user to logon to the mobile device by inputting credentials.

The mobile device may include a presentation module configured to present information to the user using output devices of the mobile device . For example the presentation may include displaying the information using a display device of the mobile device or producing audio using speakers of the mobile device .

The mobile device may include a location module . The location module may determine a location of the mobile device by generating location data indicative of the position of the mobile device . The location module may be configured to determine the location of the mobile device based on one or more systems. These systems may include inertial navigation systems dead reckoning navigation systems satellite based navigation network positioning tags and so forth.

The inertial navigation system may employ sensors such as acceleration sensors motion sensors and rotation sensors to calculate the position of the mobile device based on integration of these motions relative to a reference point. The dead reckoning navigation system may determine the location of the mobile device by integrating compass headings and estimated stride lengths of the user to determine displacement from a reference point. The satellite based navigation system may use signals provided at least in part by orbital satellites to generate the location of the receiver that may be in the mobile device . Network positioning may involve interrogating one or more cellular network access points to determine position based at least in part on radio frequency signal strength association of a network address or access point with a previously determined location and so forth.

The location module may also determine the location of the mobile device by receiving information from one or more location tags in an environment that is indicative of the location of the mobile device . Location tags may include radio frequency identification RFID optical code tags near field communication NFC tags acoustic tags and so forth.

The location data may be indicative of the location of the mobile device . For example the location data may include geolocation data such as latitude longitude and altitude of the mobile device a street address room designation and so forth.

In the system includes a location server . The location server may comprise one or more computing devices which manages information used to determine locations of computing devices. The location server may be communicatively connected to the mobile device using the network described above. In some implementations the location server may be communicatively connected to other computing devices e.g. one or more stationary devices other mobile devices and so forth using the network described above. In one example the mobile device provides the scan list to the location server .

The location server may include a storage processing module configured to execute a variety of computational tasks. The location server may include a location datastore configured to store a variety of information that may be used to determine the location of a computing device. The location datastore may include a location table storing information that may be visualized by an administrator as organized in columns and rows. The information stored in the location table is discussed in more detail below.

The storage processing module may analyze the scan list to determine whether any of the detected access point IDs included within the scan list are reliable. The determination of whether an access point ID is reliable may be determined based on a variety of factors such as the amount of times the access point ID was detected over a period of time the manufacturer of the computing device associated with the access point ID and so forth. Determining whether a detected access point is reliable is discussed in more detail with regard to . In one example the scan list includes a list of the following four access point IDs A B M and P . The storage processing module may determine whether each of these four access point IDs are reliable.

Based on the analysis of the scan list the storage processing module may generate a reliable scan list comprising data that includes the reliable access point IDs . Continuing with the example where the access point IDs include A B M and P the storage processing module determines that A M and P are reliable. In response the storage processing module generates the reliable scan list including A M and P . In this example reliable scan list is depicted in the first row of the location table .

The location table also includes a column labeled location data . This column includes the location data that is associated with or corresponds to the reliable scan lists . Continuing with the example the location table depicts the reliable scan list A M and P being associated with the following location data which comprises a latitude and longitude 41 30 N 87 23 W.

In the example the user walks into a room that includes the stationary device . The stationary device has been detecting the presence of wireless devices e.g. the access points over a period of time. The stationary device has also been gathering information about the detections. The gathered information may include the access point IDs and timestamp information indicative of when the access point IDs were gathered. In this example the stationary device does not have the capability to determine its location. When the user walks near the stationary device with the mobile device the stationary device provides the scan list to the mobile device . The mobile device is configured to determine the location of the mobile device using the location module . The mobile device provides the scan list and the location data to the location server . The location server then determines whether information within the scan list is reliable. For the information that is determined to be reliable the location server may store the reliable information with the associated location data .

By storing the reliable scan list with the associated location data computing devices e.g. the mobile device and the stationary device may present its location by acquiring the location data from the location server . The location server may receive a request for location data from a computing device using the network described above. The request may include a scan list of detected access point IDs . The location server may determine which location data is associated with or corresponds to the scan list . For example the location server may query the reliable scan list column of the location table for a match of the scan list provided by the computing device. The location server may provide the location data that is associated with the scan list resulting in the computing device being able to present its location.

In other data is provided between the mobile device and the stationary device and other data is provided between the mobile device and the location server . The other data and may include administrator preferences account information associated with the user and so forth.

Although depicts the stationary device receiving the access point IDs from the access points in some implementations the stationary device receives the other types of identifications from other types of network nodes not shown . A network node may comprise a computing device configured to wireless communicate with other computing devices. In one example the stationary device may receive a MAC address from at least one of a stereo a set top box a desktop computer a tablet computer and so forth.

The computing device includes at least one input output I O interface which enables portions of the computing device e.g. the hardware processor to communicate with other devices. The I O interface may be configured to implement various protocols such as inter integrated circuit I2C serial peripheral interface bus SPI Universal Serial Bus USB RS 232 HDMI TOSLINK Bluetooth and so forth. The at least one I O interface may be operatively connected to at least one I O device . In some implementations certain I O devices are physically incorporated with the computing device or externally placed.

The at least one I O interface may be operatively connected to one or more I O devices . The I O devices may include input devices such as one or more of a keyboard a touch sensor and so forth. The I O devices may also include output devices such as one or more of a display printer and so forth. In some embodiments the I O devices may be physically incorporated with the computing device or may be externally placed and communicatively coupled thereto.

The I O devices may include a location sensor not shown configured to generate the location data . The location data may include geolocation data that is indicative of a latitude longitude and altitude of the computing device . The location sensor may also determine the location of the computing device using an inertial navigation system dead reckoning navigation system network positioning system radio position finding system satellite based navigation system an accelerometer system a gyroscope system and so forth. The satellite based system may include one or more of a Global Positioning System receiver a GLONASS receiver a Galileo receiver an Indian Regional Navigational Satellite System and so forth.

The computing device may include at least one communication interface . The communication interface may be configured to provide communications between the computing device and other devices routers access points and so forth. The communication interface may include an Ethernet interface that connects to the network.

The computing device may also include one or more busses or other internal communications hardware or software that allow for the transfer of data between the various modules and components of the computing device .

As illustrated in the computing device may include at least one memory or memory device. The memory may include at least one non transitory computer readable storage media CRSM . The CRSM may include at least one of an electronic storage medium a magnetic storage medium an optical storage medium a quantum storage medium or a mechanical computer storage medium. The memory may include computer readable instructions data structures program modules and other data for the operation of the computing device .

The memory may include at least one operating system OS module . The OS module may be configured to manage hardware resources such as the I O interface the I O devices the communication interface and provide various services to applications or modules executing on the hardware processor . The memory may also store at least one of the following modules which may be executed as foreground applications background tasks daemons and so forth.

The memory may include the user interface module configured to provide a user interface to the user or to the computing device . In one implementation the user interface may be a web interface presented via the network and accessible to the user . In another implementation the user interface may comprise an application programming interface API that enables communication such as sending requests for items from the computing device to the location server .

The memory may include the presentation module that is configured to present information using output devices of the computing device . The presentation may include displaying the information using a display device of the computing device or producing audio using speakers of the computing device .

The memory may include the location module configured to determine the location of the computing device . The location module may be configured to determine the location of the computing device based on one or more systems. These systems may include inertial navigation systems dead reckoning navigation systems satellite based navigation network positioning tags hybrid positioning systems and so forth.

The inertial navigation system may employ sensors such as acceleration sensors motion sensors and rotation sensors to calculate the position of the computing device based on integration of these motions relative to a reference point. The dead reckoning navigation system may determine the location of the computing device by integrating compass headings and estimated stride lengths of the user to determine displacement from a reference point. The satellite based navigation system may use signals provided at least in part by orbital satellites to generate the location of the receiver that may be in the computing device . Network positioning may involve interrogating one or more cellular network access points to determine position based at least in part on radio frequency signal strength association of a network address or access point with a previously determined location and so forth. Hybrid positioning systems may involve using several different positioning technologies. For example GPS combined with cell tower signals wireless internet signals Bluetooth signals and so forth. Hybrid positioning systems may be used to overcome limitations of GPS which may work poorly indoors or between tall buildings.

The location module may also determine the location of the mobile device by receiving information from one or more location tags in an environment that is indicative of the location of the mobile device . Location tags may include RFID optical code tags NFC tags acoustic tags and so forth.

The memory may include a network detection module configured to generate the scan list . The scan list may comprise identifications of wireless computing devices such as the access points . The scan list may also include other information such as a timestamp indicating when the wireless computing devices were detected. The network detection module may detect the presence of wireless computing devices using at least one of active scanning or passive scanning. Active scanning may include sending multiple probe requests and recording probe responses. Passive scanning may include acquiring information once data is transmitted by an access point.

The memory may include a scan list processing module configured to analyze the scan list to determine whether any of the detected IDs e.g. the access point IDs included within the scan list are reliable. Determining whether the IDs are reliable may be determined based on a variety of factors such as the amount of times the ID was detected over a period of time the manufacturer of the computing device associated with the access point ID and so forth. The functions performed by the storage processing module with regard to determining reliability may be performed by the scan list processing module . Based on the analysis of the scan list the scan list processing module may generate the reliable scan list comprising data that includes reliable IDs.

The scan list processing module may be configured to generate score data . The score data may represent a score that is determined for each identification included within the scan list . For example the scan list processing module may generate a first score for the access point ID and a second score for the access point ID . These access point IDs and may be determined to be reliable if the scores are equal to or greater than a threshold score. The scan list processing module may be configured to generate the score data based on formula data . The formula data may be configurable. The scan list processing module may enable an administrative user of the computing device to configure the formula data applied to the scan list to determine the score data . For a particular scan list an administrative user may desire to manage which metrics are used to generate the score based on a historical analysis of which metrics correspond to a higher likelihood of reliability. In some implementations the formula data is hard coded. When compared to configurable formula data hard coded formula data may be described as being more difficult to change. In some implementations the location server modifies the formula data . For example the location server may change the metrics used to generate the score data . The location server may provide the formula data to at least one of the mobile device or the stationary device .

In some implementations the memory includes a datastore for storing information. The datastore may use a flat file database linked list tree or other data structure to store the information. In some implementations the datastore or a portion thereof may be distributed across at least one other device such as a server a network storage device and so forth. As illustrated in the datastore may include at least one of the scan list the location data the reliable scan list the score data or the formula data . The datastore may include other data not shown which may include information such as administrator preferences account information associated with the user and so forth.

The location server may include at least one hardware processor or processor configured to execute stored instructions. The at least one hardware processor may comprise one or more cores.

The location server includes at least one I O interface that enables portions of the location server e.g. the hardware processor to communicate with other devices. The I O interface may be configured to implement various protocols such as inter integrated circuit I2C serial peripheral interface bus SPI Universal Serial Bus USB RS 232 HDMI TOSLINK Bluetooth and so forth. The at least one I O interface may be operatively connected to at least one I O device . In some implementations certain I O devices are physically incorporated with the location server or externally placed.

The at least one I O interface may be operatively connected to one or more I O devices . The I O devices may include input devices such as one or more of a keyboard a touch sensor and so forth. The I O devices may also include output devices such as one or more of a display printer and so forth. In some embodiments the I O devices may be physically incorporated with the location server or may be externally placed and communicatively coupled thereto.

The location server may include at least one communication interface . The communication interface may be configured to provide communications between the location server and other devices routers access points and so forth. The communication interface may include an Ethernet interface which connects to the network.

The location server may also include one or more busses or other internal communications hardware or software that allow for the transfer of data between the various modules and components of the location server .

As illustrated in the location server may include at least one memory or memory device. The memory may include at least one non transitory computer readable storage media CRSM . The CRSM may include at least one of an electronic storage medium a magnetic storage medium an optical storage medium a quantum storage medium or a mechanical computer storage medium. The memory may include computer readable instructions data structures program modules and other data for the operation of the location server .

The memory may include at least one operating system OS module . The OS module may be configured to manage hardware resources such as the I O interface the I O devices the communication interface and provide various services to applications or modules executing on the hardware processor . The memory may also store at least one of the following modules which may be executed as foreground applications background tasks daemons and so forth.

The memory may include a user interface module configured to provide a user interface to the user or to the location server . In one implementation the user interface may be a web interface presented via the network and accessible to the user . In another implementation the user interface may comprise an application programming interface API that enables communication such as sending requests for items from the location server to a client device such as the computing device .

The memory may include a presentation module that is configured to present information using output devices of the location server . The presentation may include displaying the information using a display device of the location server or producing audio using speakers of location server .

The memory may include the storage processing module configured to execute a variety of computational tasks. The storage processing module may analyze the scan list to determine whether any of the detected IDs e.g. the access point IDs included within the scan list are reliable. Determining whether the IDs are reliable may be determined based on a variety of factors such as the amount of times the ID was detected over a period of time the manufacturer of the computing device associated with the ID and so forth. Based on the analysis of the scan list the storage processing module may generate the reliable scan list comprising data that includes reliable IDs.

The storage processing module may be configured to generate the score data . The score data may represent a score that is determined for each identification included within the scan list . For example the scan list processing module may generate a first score for the access point ID and a second score for the access point ID . These access point IDs and may be determined to be reliable if the scores are equal to or greater than a threshold score. The storage processing module may be configured to generate the score data based on the formula data . The formula data may be configurable. The storage processing module may enable an administrative user of the location server to configure the formula data applied to the scan list to determine the score data . For a particular scan list an administrative user may desire to manage which metrics are used to generate the score based on a historical analysis of which metrics correspond to a higher likelihood of reliability.

The storage processing module may be configured to manage the information stored in the location datastore . In some implementations the storage processing module is configured to associate the location data with the reliable scan list and store this information in the location datastore .

In some implementations the storage processing module is configured to retrieve location data from the location datastore based on information provided by the computing device . For example the computing device may provide a request for location data associated with a particular scan list . The storage processing module may query the location datastore for a field that includes the identifications within the scan list . Once the storage processing module determines that the location data includes a field that includes the IDs that were included in the scan list the storage processing module may retrieve the location data that is associated with or corresponds to the scan list . Thereafter the location server may provide the location data to the client device that provided the request.

In some implementations the memory includes a datastore for storing information. The datastore may use a flat file database linked list tree or other data structure to store the information. In some implementations the datastore or a portion thereof may be distributed across at least one other device such as a server a network storage device and so forth. As illustrated in the datastore may include at least one of the scan list the score data and the formula data . The datastore may also include the location datastore that includes the location data and the reliable scan list . The datastore may include other data not shown which may include information such as administrator preferences account information associated with the user and so forth.

The frequency data may represent a value indicative of the number of times a particular ID e.g. the access point ID is detected over a predetermined period of time. For example if the access point ID has been detected at least 91 times over the last 54 days the storage processing module generates a value of 55.00 for the access point ID . If the particular query has not been executed at least 91 times over the last 54 days the storage processing module may generate a different value e.g. 0.00 for the access point ID . An access point ID query that is detected for a relatively high number of detections may be indicative that the access point ID is reliable.

The user data may represent information about a user associated with the client device the access point the stationary device or the mobile device . Certain known users may be predetermined to be trusted or have a history of providing reliable information to the location server . For example the user data may comprise credentials provided by the user . The storage processing module may query a datastore that stores a plurality of predetermined credentials and determine whether the credentials provided by the user correspond or match any of the credentials of the datastore. If a match is found the storage processing module may determine or assign a value based on the match.

The previous detection data may comprise information about previous detections associated with the IDs of the scan list . For example if the storage processing module determines that the access point ID has been detected more than a threshold amount of times at a particular location the location server may determine or assign a value for the access point ID . In the storage processing module determines that the access point ID has been detected more than a threshold amount of times at a particular location and assigns a value of 45.00 .

The device data may comprise information about the computing device the access point the stationary device or the mobile device . For example the storage processing module may determine or assign a value based on the manufacturer of the client device that provides the scan list to the location server . In another example the storage processing module may determine or assign a value based on the type of client device e.g. a set top box a gaming console a mobile phone and so forth that provides the scan list to the location server . In the storage processing module determines that the access point ID is associated with one of a plurality of predetermined manufacturers and assigns a value of 45.00 .

Other factors not shown may be used by the storage processing module to determine reliability. For example the storage processing module may compare a first scan list acquired by the mobile device with a second scan list acquired by the stationary device . The storage processing module may determine that the first scan list received from the stationary device is more reliable if the first scan list matches the second scan list acquired by the mobile device .

The formula data may include weight factors or weights . The weight factors are configured to allow configuration of how the score data is generated. The storage processing module may be configured to enable an administrative user to select or change one or more of the weight factors using an input device e.g. a keyboard .

In the weight factor is illustrated as a factor to develop a weighted mean wherein the value is multiplied by the weight factor . For example the weight factor may be set to less than one to diminish the impact of a particular factor or greater than one to increase the impact of a particular factor on the score data . In other implementations functions other than or in addition to the weighted mean may be used.

Continuing the example the value for the frequency data is given a relatively high weight factor of 0.95 while the device data has a weight factor of 0.50 . As a result the value of the score data may be more significantly impacted by the frequency data than the device data . The weight factors may be adjusted allowing for the weights to be tailored to particular analytical tasks.

The weighted values may be summed or otherwise combined to generate the value of the score data . Continuing the example in this illustration the access point ID has a total weight of 102.60 and the access point ID has a total weight of 79.65 . Using these techniques the storage processing module is thus able to generate the score data . The storage processing module may determine whether the access point IDs and are reliable. For example the storage processing module may determine that a particular access point ID is reliable if the generated score associated with the particular access point ID is greater than or equal to 100.00 . In the example depicted in the storage processing module would determine that access point ID is reliable because the score i.e. . is greater than 100.00 and the access point ID would be determined to be not reliable because the score i.e. 79.65 is not equal to or greater than 100.00 .

In some implementations the storage processing module stores a limited number of IDs associated with the location data even if more than the limited number of IDs have been determined to be reliable. For example the storage processing module may store the two access point IDs having the two highest scores. By limiting the storage of the IDs the location server may provide a more efficient location determination service by only analyzing the limited number of IDs during a request for location data .

The wireless ranges are limited by a distance . The distance may be based on the computing device capabilities may be specified by an administrator may have a default value and so forth. For example the predetermined distance may be 35 meters.

In the computing device is configured to receive location data from a satellite . The location data comprises information representing the location of the computing device . In this example the computing devices and are not able to receive location data from the satellite . The computing devices and may be located within a large building that is in a large city environment having many large buildings. The computing device may be located near a window allowing for the computing device to receive signals from the satellite . The computing devices and may be located near the center of the building causing the computing devices and to be unable to communicate with the satellite .

In after the computing device receives the location data from the satellite the computing device provides the location data to the computing device which is within the wireless range . By providing the location data to the computing device a determination of an estimated location of the computing device may be made.

After the computing device receives the location data from the computing device the computing device provides the location data to the computing device which is within the wireless range . By providing the location data to the computing device a determination of an estimated location of the computing device may be made. As the number of computing devices increase through which the location data is transmitted the precision of the location is decreased.

By transferring the location data across the computing devices such as depicted in the system of the amount of information acquired by the location server for location determination services may increase. For example the computing device may comprise the mobile device . The mobile device and the computing device may be located within a building such that neither device may determine its location. However the computing device may be located such that it may receive the location data . The location data received by computing device may be shared across the computing device and in turn to the mobile device . The mobile device may acquire a scan list not shown and the location data and the mobile device may provide the acquired scan list and the location data to the location server for further processing e.g. reliability processing .

Although depicts the satellite providing the location data in other implementations the location data is provided by other systems. These systems may include inertial navigation systems dead reckoning navigation systems network positioning tags and so forth.

The mobile device receives the access point ID from the access point and the access point ID from the access point . The mobile device may receive the access point IDs and using the network detection module which may generate the scan list that includes the access point IDs and .

The scan list processing module may determine whether the scan list is reliable based on factors described herein. In the stationary device is configured to provide the location data to the mobile device . In this example the scan list processing module generates the reliable scan list that includes the access point IDs that are deemed reliable.

The mobile device provides the location data and the reliable scan list to the location server . The storage processing module then stores the location data and the reliable scan list in the location table .

At the stationary device generates a scan list that includes a first access point ID and a second access point ID . The access point ID may identify a first access point detected by the stationary device . The access point ID may identify a second access point detected by the stationary device . In some implementations the stationary device is configured to determine reliability of the scan list . The determination of reliability may be based on longevity. For example the stationary device may determine that a particular access point ID is reliable once the access point ID has been detected for at least a designated period of time between a first time and a second time. For example the stationary device may determine that an access point ID is reliable in response to a determination that the stationary device has detected the access point ID for over 95 of the time between the first of January and the first of February. In another example the determination of reliability may be based on availability information. The availability information may indicate how often the network node wirelessly provides an identification of the network node. For example the access point ID may include information indicating that the access point ID is scheduled to be available twenty four hours per day seven days per week which may be associated with a relatively high degree of reliability. The network node may comprise a computing device such as a Bluetooth accessory or host a Wi Fi access point a client computing device and so forth.

At the stationary device provides the scan list to the mobile device . In some implementations the stationary device is configured to operatively connect to the mobile device when the mobile device is located within a distance of the stationary device . The distance may comprise the range in which the mobile device and the stationary device may communicate with one another. For example where the mobile device and the stationary device are configured to communicate with one another using Wi Fi the range may comprise 115 feet indoors and 333 feet outdoors.

At the mobile device receives the scan list from the stationary device . At the mobile device generates location data indicative of a latitude and longitude of the mobile device . The location data may be generated based on a satellite based navigation system.

At the mobile device provides the scan list and the location data to the location server . The mobile device may associate the location data with the scan list . The location data may be associated with the scan list based on the scan list being generated at or near the location indicated by the location data .

At the location server determines that the scan list e.g. the access point s thereon has been detected by the stationary device for at least a predetermined number of detections during a predetermined period of time. At the location server generates reliable scan list that includes the first access point ID and the second access point ID .

At the location server associates the reliable scan list with the location data . The location data may be associated with the reliable scan list based on the ID information of the scan list being generated at or near the location indicated by the location data .

At the location server stores in a datastore the reliable scan list and the associated location data . For example the location server may store in the location datastore the reliable scan list and the associated location data .

The location datastore may be configured to store a plurality of different reliable scan list that are associated with a plurality of different position data . The plurality of different reliable scan list and the plurality of different location data may be used to determine locations for other mobile devices . In one example a second mobile device provides a request for location data to the location server . The request may include a scan list acquired by the second mobile device . Using the scan list the location server may query the location table for a match of the scan list . Once a match is determined the location server selects the location data that is associated with the match and the location server provides the location data to the second mobile device .

At the location server accesses a scan list that includes 1 a first ID of a first computing device and 2 a second ID of a second computing device. For example the mobile device may provide the scan list during a process of updating or storing information in the location server . In one example the first ID comprises a MAC address of stereo device and the second ID comprises an SSID of an access point .

The location server may access the scan list in response to the client device providing the scan list to the location server . The client device may provide the scan list to the location server when the user is participating in the process of collecting of information for the location datastore which may result in an increase in the ability or the accuracy of determining locations for various computing devices that use the location datastore .

The scan list may be generated by various client devices . In some implementations the stationary device generates the scan list and provides the scan list to the location server . In other implementations the stationary device generates the scan list and provides the scan list to the mobile device which in turn provides the scan list to the location server . In yet other implementations the mobile device may generate the scan list and provide the scan list to the location server .

At the location server accesses location data indicative of a location associated with the scan list . The location data may be generated by at least one of the mobile device or the stationary device . The location data may represent a latitude and longitude associated with the scan list . The location data may represent the geolocation of the client device or a fuzzed location of the client device . In implementations the location data is associated with the reliable scan list based on the location data indicating the latitude and longitude of the mobile device when the mobile device acquires the scan list from the stationary device .

At the location server generates reliable scan list in response to a determination that the scan list is reliable. The reliable scan list includes the first ID and the second ID.

The determination of whether the scan list is reliable may be based on a variety of factors. In one example the determination of reliability is based on longevity information associated with the network node. The longevity information may comprise historical information about how often the identifications of the scan list have been provided by the network nodes. The scan list may be deemed reliable if the stationary device has detected the scan list for at least a predetermined number of detections during a predetermined period of time. Determining whether scan list may include determining whether each of the individual identifications e.g. the access point IDs are reliable. In some implementations a portion of the identifications included within the scan list may be determined to be reliable while another portion is not determined to be reliable.

In some implementations whether the scan list is determined reliable may be based on the user of the client device . For example reliability may be determined if the credentials provided by the user are equal to one of a plurality of predetermined credentials. The location server may store a list of predetermined credentials and the location server may query the list of predetermined credentials to determine whether the credentials provided by the user match or correspond to one of the credentials of the predetermined credential list.

Reliability may be determined based on the manufacturer of the computing device that produced the identification of the computing device . For example the location server may analyze the access point ID to determine the manufacturer of the access point that provided the access point ID . The location server may store a list of predetermined manufacturers that has been approved such that information e.g. the access point IDs provided by access points that are manufactured by one of these predetermined manufacturers is deemed reliable.

In some implementations reliability is determined based on score data . For example for a first access point ID the location server may determine a score based on the formula data . If the score is greater than or equal to a threshold score the first access point ID is deemed reliable.

Reliability may be determined based the amount of previous detections of the scan list . For example if the access point ID has been detected more than a threshold amount of times at a particular location the location server may determine that the access point ID is reliable.

In some implementations the location server determines that scan list is reliable based on whether the identifications included within the scan list correspond to one of a plurality of predetermined identifications. For example the location server may store a list of predetermined access point IDs that have been predetermined to provide reliable information. If the access point ID matches or corresponds to one of the predetermined access point IDs the location server determines that the access point ID is reliable.

At the location server stores the reliable scan list and the location data in a datastore such that the reliable scan list is associated with the location data .

In some implementations the scan list is accessed using a first computing device. For example the location server may be configured to access the scan list from the memory . The scan list may include 1 a first ID that identifies a second computing device and 2 a second ID that identifies a third computing device. For example the scan list may include 1 the access point ID that identifies the access point and 2 the access point ID that identifies the access point . The scan list may be generated by a fourth computing device. The fourth computing device may comprise at least one of the mobile device or the stationary device . The fourth computing device may provide the scan list to a fifth computing device e.g. the mobile device or the stationary device that in turn provides the scan list to the first computing device. The location data may be accessed using the first computing device. For example the location server may be configured to access the location data from the memory . The scan list may be determined to be reliable using the first computing device. For example the storage processing module may be configured to determine whether the scan list is reliable. The reliable scan list may be stored using the first computing device. For example the location server may be configured to store the reliable scan list in the location table .

Those having ordinary skill in the art will readily recognize that certain steps or operations illustrated in the figures above can be eliminated or taken in an alternate order. Moreover the methods described above may be implemented as one or more software programs for a computer system and are encoded in a computer readable storage medium as instructions executable on one or more processors.

Embodiments may be provided as a computer program product including a non transitory computer readable storage medium having stored thereon instructions in compressed or uncompressed form that may be used to program a computer or other electronic device to perform processes or methods described herein. The computer readable storage medium can be any one of an electronic storage medium a magnetic storage medium an optical storage medium a quantum storage medium and so forth. For example the computer readable storage media may include but is not limited to hard drives floppy diskettes optical disks read only memories ROMs random access memories RAMs EPROMs EEPROMs flash memory magnetic or optical cards solid state memory devices or other types of physical media suitable for storing electronic instructions. Further embodiments may also be provided as a computer program product including a transitory machine readable signal in compressed or uncompressed form . Examples of machine readable signals whether modulated using a carrier or not include but are not limited to signals that a computer system or machine hosting or running a computer program can be configured to access including signals transferred by one or more networks. For example the transitory machine readable signal may comprise transmission of software by the Internet.

Separate instances of these programs can be executed on or distributed across separate computer systems. Thus although certain steps have been described as being performed by certain devices software programs processes or entities this need not be the case and a variety of alternative implementations will be understood by those having ordinary skill in the art.

Additionally those having ordinary skill in the art readily recognize that the techniques described above can be utilized in a variety of devices environments and situations. Although the present disclosure is written with respect to specific embodiments and implementations various changes and modifications may be suggested to one skilled in the art and it is intended that the present disclosure encompass such changes and modifications that fall within the scope of the appended claims.

