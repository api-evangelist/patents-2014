---

title: Directional navigation of page content
abstract: A system and method for displaying and navigating through structured content, such as a webpage, is provided. The content includes focusable elements, at least one of which is a non-enableable element that is normally not capable of gaining focus when the content is displayed in a browser or other viewing application. Navigation of the content by moving focus from one element to another includes moving the focus to the focusable, non-enableable element. The non-enableable element is defined as a focusable element by an attribute. Focusable elements may also be defined with attributes for capturing directional navigation instructions and calling event handling functions in response to detected directional navigation instructions.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09575944&OS=09575944&RS=09575944
owner: BlackBerry Limited
number: 09575944
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20140813
---
This application is a continuation of application Ser. No. 12 615 001 filed Nov. 9 2009 the entirety of which is incorporated by reference.

The present invention relates generally to navigation of structured content on a data processing or communication device and in particular to navigation through the movement of element focus in response to user input.

Documents such as web pages or structured documents having content encoded with structural information may be viewable on a data processing or communication device using applications such as web browsers or other content viewing applications. When the displayable area of the content extends beyond the limits of the viewable region on the communication device display the user may scroll through the content from top to bottom or from bottom to top using a user input interface such as a trackball scroll wheel trackpad keyboard or the like.

Alternatively whether the content is entirely viewable on the communication device display or not the user may navigate through or traverse the content from one focusable element to another according to the structural information encoded within the content. For example the user may effectively scroll through content such as a webpage document by jumping from hyperlink to hyperlink or from anchor to anchor within the document. This type of navigation is generally linear in nature when a user jumps from one focusable element to another the order of elements is determined by the order of presentation defined by the content s structural information concerning the ordering of the elements rather than by the element s position on the display. As a result the flow of navigation within the content may not coincide with the user s expectations. When the user initiates a command to shift the focus to the next focusable element the user may expect the focus to shift to the element that is perceived to be the next logical element whereas the content encoded structure defines a different element as the next focusable element. The rigid ordering of focusable elements within the content also limits the content developer s ability to control the user s navigation through the content.

The embodiments described herein provide a system and method for navigating or traversing content in a customizable directional manner and for controlling the focusability of elements within the content. There is also provided a system and method for triggering actions to occur upon detection of specific navigation events.

These embodiments will be described in relation to a mobile wireless communication device hereafter referred to as a communication device having a display for displaying content within a graphical user interface. It will be appreciated by those skilled in the art however that this description is not intended to limit the scope of the described embodiments to communication devices. The methods and systems described herein may be applied to any appropriate communication or data processing device whether portable or wirelessly enabled or not including without limitation cellular phones smartphones wireless organizers personal digital assistants desktop computers terminals laptops tablets handheld wireless communication devices wirelessly enabled notebook computers and the like.

The embodiments described herein may be implemented on a communication device such as that illustrated in . The communication device may communicate with other devices over a wireless communication system or enterprise system as illustrated in . The communication device may be a mobile device with two way communication and advanced data communication capabilities including the capability to communicate with other mobile devices or computer systems through a network of transceiver stations. The communication device can also have voice communication capabilities.

The communication subsystem receives messages from and sends messages to a wireless network . In this exemplary embodiment of the communication device the communication subsystem is configured in accordance with one or more of Global System for Mobile Communication GSM General Packet Radio Services GPRS standards Enhanced Data GSM Environment EDGE and Universal Mobile Telecommunications Service UMTS . New standards are still being defined but it is believed that they will have similarities to the network behavior described herein and it will also be understood by persons skilled in the art that the embodiments described herein are intended to use any other suitable standards that are developed in the future. The wireless link connecting the communication subsystem with the wireless network represents one or more different Radio Frequency RF channels operating according to defined protocols specified for GSM GPRS EDGE or UMTS and optionally other network communications. With newer network protocols these channels are capable of supporting both circuit switched voice communications and packet switched data communications.

Other wireless networks can also be associated with the communication device in variant implementations. The different types of wireless networks that can be employed include for example data centric wireless networks voice centric wireless networks and dual mode networks that can support both voice and data communications over the same physical base stations. Combined dual mode networks include but are not limited to Code Division Multiple Access CDMA or CDMA2000 networks GSM GPRS networks third generation 3G networks like EDGE and UMTS. Some other examples of data centric networks include WiFi 802.11 Mobitex and DataTAC network communication systems. Examples of other voice centric data networks include Personal Communication Systems PCS networks like GSM and Time Division Multiple Access TDMA systems. The main processor also interacts with additional subsystems such as a Random Access Memory RAM a flash memory a display an auxiliary input output I O subsystem a data port a keyboard a speaker a microphone short range communications and other device subsystems .

Some of the subsystems of the communication device perform communication related functions whereas other subsystems can provide resident or on device functions. By way of example the display and the keyboard can be used for both communication related functions such as entering a text message for transmission over the network and device resident functions such as a calculator or task list.

A rendering circuit is included in the device . When a user specifies that a data file is to be viewed on the display the rendering circuit analyzes and processes the data file for visualization on the display . Rendering circuit may be implemented as hardware software or as a combination of both hardware and software.

The communication device can send and receive communication signals over the wireless network after required network registration or activation procedures have been completed. Network access is associated with a subscriber or user of the communication device . To identify a subscriber the communication device requires a SIM RUIM card i.e. Subscriber Identity Module or a Removable User Identity Module to be inserted into a SIM RUIM interface in order to communicate with a network. The SIM RUIM card is one type of a conventional smart card that can be used to identify a subscriber of the communication device and to personalize the communication device among other things. Without the SIM RUIM card the communication device is not fully operational for communication with the wireless network . By inserting the SIM RUIM card into the SIM RUIM interface a subscriber can access all subscribed services. Services can include web browsing and messaging such as e mail voice mail Short Message Service SMS and Multimedia Messaging Services MMS . More advanced services can include point of sale field service and sales force automation. The SIM RUIM card includes a processor and memory for storing information. Once the SIM RUIM card is inserted into the SIM RUIM interface it is coupled to the main processor . In order to identify the subscriber the SIM RUIM card can include some user parameters such as an International Mobile Subscriber Identity IMSI . An advantage of using the SIM RUIM card is that a subscriber is not necessarily bound by any single physical mobile device. The SIM RUIM card can store additional subscriber information for a mobile device as well including datebook or calendar information and recent call information. Alternatively user identification information can also be programmed into the flash memory .

The communication device may be a battery powered device including a battery interface for receiving one or more rechargeable batteries . In at least some embodiments the battery can be a smart battery with an embedded microprocessor. The battery interface is coupled to a regulator not shown which assists the battery in providing power V to the communication device . Although current technology makes use of a battery future technologies such as micro fuel cells can provide the power to the communication device .

The communication device also includes an operating system and software components to which are described in more detail below. The operating system and the software components to that are executed by the main processor are typically stored in a persistent store such as the flash memory which can alternatively be a read only memory ROM or similar storage element not shown . Those skilled in the art will appreciate that portions of the operating system and the software components to such as specific device applications or parts thereof can be temporarily loaded into a volatile store such as the RAM . Other software components can also be included as is well known to those skilled in the art.

The subset of software applications that control basic device operations including data and voice communication applications will normally be installed on the communication device during its manufacture. Other software applications include a message application that can be any suitable software program that allows a user of the communication device to send and receive electronic messages. Various alternatives exist for the message application as is well known to those skilled in the art. Messages that have been sent or received by the user are typically stored in the flash memory of the communication device or some other suitable storage element in the communication device . In at least some embodiments some of the sent and received messages can be stored remotely from the device such as in a data store of an associated host system that the communication device communicates with.

The software applications can further include a device state module a Personal Information Manager PIM and other suitable modules not shown . The device state module provides persistence i.e. the device state module ensures that important device data is stored in persistent memory such as the flash memory so that the data is not lost when the communication device is turned off or loses power.

The PIM includes functionality for organizing and managing data items of interest to the user such as but not limited to e mail contacts calendar events voice mails appointments and task items. A PIM application has the ability to send and receive data items via the wireless network . PIM data items can be seamlessly integrated synchronized and updated via the wireless network with the mobile device subscriber s corresponding data items stored and or associated with a host computer system. This functionality creates a mirrored host computer on the communication device with respect to such items. This can be particularly advantageous when the host computer system is the mobile device subscriber s office computer system.

The communication device also includes a connect module and an information technology IT policy module . The connect module implements the communication protocols that are required for the communication device to communicate with the wireless infrastructure and any host system such as an enterprise system that the communication device is authorized to interface with. Examples of a wireless infrastructure and an enterprise system are given in which are described in more detail below.

The connect module includes a set of Application Programming Interfaces APIs that can be integrated with the communication device to allow the communication device to use any number of services associated with the enterprise system. The connect module allows the communication device to establish an end to end secure authenticated communication pipe with the host system. A subset of applications for which access is provided by the connect module can be used to pass IT policy commands from the host system to the communication device . This can be done in a wireless or wired manner. These instructions can then be passed to the IT policy module to modify the configuration of the device . Alternatively in some cases the IT policy update can also be done over a wired connection.

Other types of software applications can also be installed on the communication device . These software applications can be third party applications which are added after the manufacture of the communication device . Examples of third party applications include games calculators utilities etc.

The additional applications can be loaded onto the communication device through at least one of the wireless network the auxiliary I O subsystem the data port the short range communications subsystem or any other suitable device subsystem . This flexibility in application installation increases the functionality of the communication device and can provide enhanced on device functions communication related functions or both. For example secure communication applications can enable electronic commerce functions and other such financial transactions to be performed using the communication device .

The data port enables a subscriber to set preferences through an external device or software application and extends the capabilities of the communication device by providing for information or software downloads to the communication device other than through a wireless communication network. The alternate download path can for example be used to load an encryption key onto the communication device through a direct and thus reliable and trusted connection to provide secure device communication. The data port can be any suitable port that enables data communication between the communication device and another computing device. The data port can be a serial or a parallel port. In some instances the data port can be a USB port that includes data lines for data transfer and a supply line that can provide a charging current to charge the battery of the communication device .

The short range communications subsystem provides for communication between the communication device and different systems or devices without the use of the wireless network . For example the subsystem can include an infrared device and associated circuits and components for short range communication. Examples of short range communication standards include standards developed by the Infrared Data Association IrDA Bluetooth and the 802.11 family of standards developed by IEEE.

In use a received signal such as a text message an e mail message or web page download will be processed by the communication subsystem and input to the main processor . The main processor will then process the received signal for output to the display or alternatively to the auxiliary I O subsystem . A subscriber can also compose data items such as e mail messages for example using the keyboard in conjunction with the display and possibly the auxiliary I O subsystem . The auxiliary subsystem can include devices such as a touchscreen mouse track ball infrared fingerprint detector or a roller wheel with dynamic button pressing capability. The keyboard is preferably an alphanumeric keyboard and or telephone type keypad. However other types of keyboards can also be used. A composed item can be transmitted over the wireless network through the communication subsystem . It will be appreciated that if the display comprises a touchscreen then the auxiliary subsystem may still comprise one or more of the devices identified above.

For voice communications the overall operation of the communication device is substantially similar except that the received signals are output to the speaker and signals for transmission are generated by the microphone . Alternative voice or audio I O subsystems such as a voice message recording subsystem can also be implemented on the communication device . Although voice or audio signal output is accomplished primarily through the speaker the display can also be used to provide additional information such as the identity of a calling party duration of a voice call or other voice call related information.

Signals received by the antenna through the wireless network are input to the receiver which can perform such common receiver functions as signal amplification frequency down conversion filtering channel selection and analog to digital A D conversion. A D conversion of a received signal allows more complex communication functions such as demodulation and decoding to be performed in the DSP . In a similar manner signals to be transmitted are processed including modulation and encoding by the DSP . These DSP processed signals are input to the transmitter for digital to analog D A conversion frequency up conversion filtering amplification and transmission over the wireless network via the antenna . The DSP not only processes communication signals but also provides for receiver and transmitter control. For example the gains applied to communication signals in the receiver and the transmitter can be adaptively controlled through automatic gain control algorithms implemented in the DSP .

The wireless link between the communication device and the wireless network can contain one or more different channels typically different RF channels and associated protocols used between the communication device and the wireless network . An RF channel is a limited resource that should be conserved typically due to limits in overall bandwidth and limited battery power of the communication device . When the communication device is fully operational the transmitter is typically keyed or turned on only when it is transmitting to the wireless network and is otherwise turned off to conserve resources. Similarly the receiver is periodically turned off to conserve power until it is needed to receive signals or information if at all during designated time periods.

In a GSM network the MSC is coupled to the BSC and to a landline network such as a Public Switched Telephone Network PSTN to satisfy circuit switched requirements. The connection through the PCU the SGSN and the GGSN to a public or private network Internet also referred to herein generally as a shared network infrastructure represents the data path for GPRS capable mobile devices. In a GSM network extended with GPRS capabilities the BSC also contains the Packet Control Unit PCU that connects to the SGSN to control segmentation radio channel allocation and to satisfy packet switched requirements. To track the location of the communication device and availability for both circuit switched and packet switched management the HLR is shared between the MSC and the SGSN . Access to the VLR is controlled by the MSC .

The station is a fixed transceiver station and together with the BSC form fixed transceiver equipment. The fixed transceiver equipment provides wireless network coverage for a particular coverage area commonly referred to as a cell . The fixed transceiver equipment transmits communication signals to and receives communication signals from mobile devices within its cell via the station . The fixed transceiver equipment normally performs such functions as modulation and possibly encoding and or encryption of signals to be transmitted to the communication device in accordance with particular usually predetermined communication protocols and parameters under control of its controller. The fixed transceiver equipment similarly demodulates and possibly decodes and decrypts if necessary any communication signals received from the communication device within its cell. Communication protocols and parameters can vary between different nodes. For example one node can employ a different modulation scheme and operate at different frequencies than other nodes.

For all communication devices registered with a specific network permanent configuration data such as a user profile is stored in the HLR . The HLR also contains location information for each registered mobile device and can be queried to determine the current location of a mobile device. The MSC is responsible for a group of location areas and stores the data of the mobile devices currently in its area of responsibility in the VLR . Further the VLR also contains information on mobile devices that are visiting other networks. The information in the VLR includes part of the permanent mobile device data transmitted from the HLR to the VLR for faster access. By moving additional information from a remote HLR node to the VLR the amount of traffic between these nodes can be reduced so that voice and data services can be provided with faster response times and at the same time requiring less use of computing resources.

The SGSN and the GGSN are elements added for GPRS support namely packet switched data support within GSM. The SGSN and the MSC have similar responsibilities within the wireless network by keeping track of the location of each communication device . The SGSN also performs security functions and access control for data traffic on the wireless network . The GGSN provides internetworking connections with external packet switched networks and connects to one or more SGSNs via an Internet Protocol IP backbone network operated within the network . During normal operations a given communication device must perform a GPRS Attach to acquire an IP address and to access data services. This requirement is not present in circuit switched voice channels as Integrated Services Digital Network ISDN addresses are used for routing incoming and outgoing calls. Currently all GPRS capable networks use private dynamically assigned IP addresses thus requiring the DHCP server connected to the GGSN . There are many mechanisms for dynamic IP assignment including using a combination of a Remote Authentication Dial In User Service RADIUS server and a DHCP server. Once the GPRS Attach is complete a logical connection is established from a communication device through the PCU and the SGSN to an Access Point Node APN within the GGSN . The APN represents a logical end of an IP tunnel that can either access direct Internet compatible services or private network connections. The APN also represents a security mechanism for the network insofar as each communication device must be assigned to one or more APNs and communication devices cannot exchange data without first performing a GPRS Attach to an APN that it has been authorized to use. The APN can be considered to be similar to an Internet domain name such as myconnection.wireless.com .

Once the GPRS Attach operation is complete a tunnel is created and all traffic is exchanged within standard IP packets using any protocol that can be supported in IP packets. This includes tunneling methods such as IP over IP as in the case with some IPSecurity Ipsec connections used with Virtual Private Networks VPN . These tunnels are also referred to as Packet Data Protocol PDP Contexts and there are a limited number of these available in the network . To maximize use of the PDP Contexts the network will run an idle timer for each PDP Context to determine if there is a lack of activity. When a communication device is not using its PDP Context the PDP Context can be de allocated and the IP address returned to the IP address pool managed by the DHCP server .

The host system comprises a number of network components connected to each other by a network . For instance a user s desktop computer with an accompanying cradle for the user s communication device is situated on a LAN connection. The cradle for the communication device can be coupled to the computer by a serial or a Universal Serial Bus USB connection for example. Other user computers are also situated on the network and each can be equipped with an accompanying cradle . The cradle facilitates the loading of information e.g. PIM data private symmetric encryption keys to facilitate secure communications from the user computer to the communication device and can be particularly useful for bulk information updates often performed in initializing the communication device for use. The information downloaded to the communication device can include certificates used in the exchange of messages.

It will be understood by persons skilled in the art that the user computers are typically also connected to other peripheral devices such as printers etc. which are not explicitly shown in . Furthermore only a subset of network components of the host system are shown in for ease of exposition and it will be understood by persons skilled in the art that the host system will comprise additional components that are not explicitly shown in for this exemplary configuration. More generally the host system can represent a smaller part of a larger network not shown of the organization and can comprise different components and or be arranged in different topologies than that shown in the exemplary embodiment of .

To facilitate the operation of the communication device and the wireless communication of messages and message related data between the communication device and components of the host system a number of wireless communication support components can be provided. In some implementations the wireless communication support components can include a message management server a mobile data server a web server such as Hypertext Transfer Protocol HTTP server a contact server and a device manager module . HTTP servers can also be located outside the enterprise system as indicated by the HTTP server attached to the network . The device manager module includes an IT Policy editor and an IT user property editor as well as other software components for allowing an IT administrator to configure the communication devices . In an alternative embodiment there can be one editor that provides the functionality of both the IT policy editor and the IT user property editor . The support components also include a data store and an IT policy server . The IT policy server includes a processor a network interface and a memory unit . The processor controls the operation of the IT policy server and executes functions related to the standardized IT policy as described below. The network interface allows the IT policy server to communicate with the various components of the host system and the communication devices . The memory unit can store functions used in implementing the IT policy as well as related data. Those skilled in the art know how to implement these various components. Other components can also be included as is well known to those skilled in the art. Further in some implementations the data store can be part of any one of the servers.

In this exemplary embodiment the communication device communicates with the host system through node of the wireless network and a shared network infrastructure such as a service provider network or the public Internet. Access to the host system can be provided through one or more routers not shown and computing devices of the host system can operate from behind a firewall or proxy server . The proxy server provides a secure node and a wireless internet gateway for the host system . The proxy server intelligently routes data to the correct destination server within the host system .

In some implementations the host system can include a wireless VPN router not shown to facilitate data exchange between the host system and the communication device . The wireless VPN router allows a VPN connection to be established directly through a specific wireless network to the communication device . The wireless VPN router can be used with the Internet Protocol IP Version 6 IPV6 and IP based wireless networks. This protocol can provide enough IP addresses so that each mobile device has a dedicated IP address making it possible to push information to a mobile device at any time. An advantage of using a wireless VPN router is that it can be an off the shelf VPN component and does not require a separate wireless gateway and separate wireless infrastructure. A VPN connection can preferably be a Transmission Control Protocol TCP IP or User Datagram Protocol UDP IP connection for delivering the messages directly to the communication device in this alternative implementation.

Messages intended for a user of the communication device are initially received by a message server of the host system . Such messages can originate from any number of sources. For instance a message can have been sent by a sender from the computer within the host system from a different mobile device not shown connected to the wireless network or a different wireless network or from a different computing device or other device capable of sending messages via the shared network infrastructure possibly through an application service provider ASP or Internet service provider ISP for example.

The message server typically acts as the primary interface for the exchange of messages particularly e mail messages within the organization and over the shared network infrastructure . Each user in the organization that has been set up to send and receive messages is typically associated with a user account managed by the message server . Some exemplary implementations of the message server include a Microsoft Exchange server a Lotus Domino server a Novell Groupwise server or another suitable mail server installed in a corporate environment. In some implementations the host system can comprise multiple message servers . The message server can also be adapted to provide additional functions beyond message management including the management of data associated with calendars and task lists for example.

When messages are received by the message server they are typically stored in a data store associated with the message server . In at least some embodiments the data store can be a separate hardware unit such as data store with which the message server communicates. Messages can be subsequently retrieved and delivered to users by accessing the message server . For instance an e mail client application operating on a user s computer can request the e mail messages associated with that user s account stored on the data store associated with the message server . These messages are then retrieved from the data store and stored locally on the computer . The data store associated with the message server can store copies of each message that is locally stored on the communication device . Alternatively the data store associated with the message server can store all of the messages for the user of the communication device and only a smaller number of messages can be stored on the communication device to conserve memory. For instance the most recent messages i.e. those received in the past two to three months for example can be stored on the communication device .

When operating the communication device the user may wish to have e mail messages retrieved for delivery to the communication device . The message application operating on the communication device can also request messages associated with the user s account from the message server . The message application can be configured either by the user or by an administrator possibly in accordance with an organization s IT policy to make this request at the direction of the user at some pre defined time interval or upon the occurrence of some pre defined event. In some implementations the communication device is assigned its own e mail address and messages addressed specifically to the communication device are automatically redirected to the communication device as they are received by the message server .

The message management server can be used to specifically provide support for the management of messages such as e mail messages that are to be handled by mobile devices. Generally while messages are still stored on the message server the message management server can be used to control when if and how messages are sent to the communication device . The message management server also facilitates the handling of messages composed on the communication device which are sent to the message server for subsequent delivery.

For example the message management server can monitor the user s mailbox e.g. the message store associated with the user s account on the message server for new e mail messages and apply user definable filters to new messages to determine if and how the messages are relayed to the user s communication device . The message management server can also through an encoder not shown associated therewith compress message data using any suitable compression decompression technology e.g. YK compression JPEG MPEG x H.26x and other known techniques and encrypt messages e.g. using an encryption technique such as Data Encryption Standard DES Triple DES or Advanced Encryption Standard AES and push them to the communication device via the shared network infrastructure and the wireless network . The message management server can also receive messages composed on the communication device e.g. encrypted using Triple DES decrypt and decompress the composed messages re format the composed messages if desired so that they will appear to have originated from the user s computer and re route the composed messages to the message server for delivery.

Certain properties or restrictions associated with messages that are to be sent from and or received by the communication device can be defined e.g. by an administrator in accordance with IT policy and enforced by the message management server . These may include whether the communication device can receive encrypted and or signed messages minimum encryption key sizes whether outgoing messages must be encrypted and or signed and whether copies of all secure messages sent from the communication device are to be sent to a pre defined copy address for example.

The message management server can also be adapted to provide other control functions such as only pushing certain message information or pre defined portions e.g. blocks of a message stored on the message server to the communication device . For example in some cases when a message is initially retrieved by the communication device from the message server the message management server can push only the first part of a message to the communication device with the part being of a pre defined size e.g. 2 KB . The user can then request that more of the message be delivered in similar sized blocks by the message management server to the communication device possibly up to a maximum pre defined message size. Accordingly the message management server facilitates better control over the type of data and the amount of data that is communicated to the communication device and can help to minimize potential waste of bandwidth or other resources.

The mobile data server encompasses any other server that stores information that is relevant to the corporation. The mobile data server can include but is not limited to databases online data document repositories customer relationship management CRM systems or enterprise resource planning ERP applications. The mobile data server can also connect to the Internet or other public network through HTTP server or other suitable web server such as a File Transfer Protocol FTP server to retrieve HTTP webpages and other data. Requests for webpages are typically routed through mobile data server and then to HTTP server through suitable firewalls and other protective mechanisms. The web server then retrieves the webpage over the Internet and returns it to mobile data server . As described above in relation to message management server mobile data server is typically provided or associated with an encoder that permits retrieved data such as retrieved webpages to be decompressed and compressed using any suitable compression technology e.g. YK compression JPEG MPEG x H.26x and other known techniques and encrypted e.g. using an encryption technique such as DES Triple DES or AES and then pushed to the communication device via the shared network infrastructure and the wireless network . While encoder is only shown for mobile data server it will be appreciated that each of message server message management server and HTTP servers and can also have an encoder associated therewith.

The contact server can provide information for a list of contacts for the user in a similar fashion as the address book on the communication device . Accordingly for a given contact the contact server can include the name phone number work address and e mail address of the contact among other information. The contact server can also provide a global address list that contains the contact information for all of the contacts associated with the host system .

It will be understood by persons skilled in the art that the message management server the mobile data server the HTTP server the contact server the device manager module the data store and the IT policy server do not need to be implemented on separate physical servers within the host system . For example some or all of the functions associated with the message management server can be integrated with the message server or some other server in the host system . Alternatively the host system can comprise multiple message management servers particularly in variant implementations where a large number of mobile devices need to be supported.

The device manager module provides an IT administrator with a graphical user interface with which the IT administrator interacts to configure various settings for the communication devices . As mentioned the IT administrator can use IT policy rules to define behaviors of certain applications on the communication device that are permitted such as phone web browser or Instant Messenger use. The IT policy rules can also be used to set specific values for configuration settings that an organization requires on the communication devices such as auto signature text WLAN VoIP VPN configuration security requirements e.g. encryption algorithms password rules etc. specifying themes or applications that are allowed to run on the communication device and the like.

Rendering data files originally optimized or prepared for visualization on large screen displays on a portable electronic device display often requires additional processing prior to visualization on the small screen portable electronic device displays. According to an embodiment this additional processing is accomplished by the rendering engine shown in . As will be appreciated by those of skill in the art the rendering engine can be implemented in hardware software or a combination thereof and can comprise a dedicated image processor and associated circuitry or can be implemented within main processor .

Turning to an example of structured content as it would be displayed on a communication device using a client application is shown. The content may be a web page document or other document authored in hypertext markup language HTML or in another structured markup language it may comprise or be rendered in conjunction with scripts dynamic content presentation markup style sheets or other programming content that is processed within the environment provided by the client application executing on the device to display the content . The client application may be a web browser or other content viewer for displaying the content. The construction of HTML web pages and other structured content with enabled and focusable elements using known structural and presentation standards such as HTML 4.01 XHTML 1.0 HTML 5 DOM Levels 1 through 3 and CSS Levels 1 through 3 published by the World Wide Web Consortium W3C at w3.org will be known to those skilled in the art. The content may comprise or be associated with elements such as JavaScript published by the Mozilla Foundation Mountain View Calif. www.mozilla.org Adobe Flash technologies from Adobe Systems Incorporated San Jose Calif. dynamic HTML technology widgets modules code snippets and the like which may be delivered together with the content to the communication device or which alternatively may be downloadable separately by the client application for use with the content . The selection and implementation of these and other suitable existing and future structural or presentation standards various elements scripting or programming languages and their extensions will be known to those of skill in the art.

In the elements to may be clickable buttons or other elements that are defined as being enabled and focusable so that the user may select and actuate them. Conventionally an enabled element is a piece of content that is capable of gaining focus and is associated with a behaviour such as an event handling action such that the enabled element can be selected and actuated through a user interface or application programming interface to trigger that behaviour. The enabled element is included in the navigation order when the user navigates or traverses through the content. A disabled element is an element that is normally enabled or capable of being enabled but is currently not in the enabled state for example an attribute associated with the element s enabled state may be set to disabled such that it is not capable of gaining focus cannot be selected or actuated and is excluded from the navigation order. Enabled elements include the set of interactive elements defined in HTML 4.0 and other markup languages. Thus elements that are capable of being enabled and disabled that is to say enableable elements may include elements such as form elements e.g. and mentioned above links and anchors e.g. and image maps. These elements can be actuated by a user for example by entering data in an field selecting data presented in a element or clicking on a element. Elements that are not enableable non enableable are thus elements that are thus not capable of gaining focus and generally include conventionally non interactive elements. Element is an image element embedded in the content . Elements and are text elements. Elements are text input boxes for user entry of data. Elements and are hypertext elements which are encoded so as to be interpreted as hyperlinks by the browser or other viewing application used on the communication device to display the content . When one of these elements is in focus and is actuated by the user the browser or other viewing application may cause the content linked by that element to be opened in the same or a different viewing window.

When the content is displayed on the communication device the user may navigate through the content by moving the focus within the content from one enabled element to another. An element that is in focus is the element that is currently selected for user input or for actuation. For example in element button B is currently in focus as indicated by broken box . It will be appreciated that the focus is illustrated as a broken box for convenience in the accompanying drawings. Focus may be indicated on the communication device display in other ways such as by highlighting or underlining the entire element or the text within the element alternatively the focus may not be indicated on the display at all. The appearance or behaviour of the element when it is in focus may be defined by attributes within the encoded content itself or alternatively in an associated file such as a cascading style sheet CSS document. These attributes are interpreted by the client application when the content is rendered for display on the communication device . For example the effect when an element gains focus may be determined by CSS code defining styles for particular element pseudo classes such as hover . When focus is transferred to an element with a defined hover style the element may be displayed according to the attributes defined in that style. Additionally when an element gains focus it may receive a mousemove event and thus trigger an event handling routine associated with that event.

When an element is in focus it may be actuated if it is an enabled element. For example an enabled input button in a form presented in the content when the button is in focus may be actuated by the user to submit data that was input by the user into the form. The user may move the focus from element to another element by means of a user input output subsystem such as a trackball scroll wheel touchpad joystick touchscreen actuated by user or stylus touch or other input device such as a mouse or a physical or virtual keyboard or button. For example the tab down arrow or right arrow key on a physical or virtual keyboard a user gesture on a touchpad or touchscreen indicating a downwards movement or a scroll downwards on a trackball or scroll wheel may correspond to an instruction to move focus from the current element to the next element whereas the up arrow key on a keyboard a user gesture indicating an upwards movement on a touchpad or touchscreen or a scroll upwards on a trackball or scroll wheel may correspond to an instruction to move focus from the current element to the previous element.

In the example of navigation within the content may behave in a linear manner. When the user invokes the instruction for moving focus from the current element to the next element in the content of focus may move from the element to the next element button C . A subsequent instruction to move focus from the element to the next element would thus move the focus from the element to the element and so on. This order of focus movement is illustrated by the arrows in . After traversing the elements through on the next instruction to move focus to the next element focus would be moved to the first text input box then upon a further instruction to move focus to the next element the focus would move to the second text input box . A further instruction to move focus to the next element would then move focus from the second text input box to the first hyperlink element and so on down through the remaining hyperlink elements through . Similarly an instruction to move focus from the current element to a previous element would move the focus in the opposite order indicated by the arrows in from element to element and so on. From the button B element the instruction to move focus from the current element to the previous element would move the focus to the element button A .

This direction of navigation illustrated in may be termed linear because it follows the logical order defined by the structure encoded in the content rather than the order that the user may perceive as logical according to the page layout. For example given the appearance of the content in the user may expect that actuating the tab key on a keyboard or otherwise invoking the instruction to move focus to the next element would move the focus downwards to the first input text box rather than across to the next button element because the next area of interest to the user on the page would normally be the first input text box and not the button element . Furthermore if focusable elements on the page are not generally aligned in a regular grid arrangement such as the elements through in it may not be clear to the user in which direction focus will move. Where the communication device includes user input subsystems that provide for multidirectional navigation via a single interface such as a touchpad touchscreen or trackball which can detect user gestures moving both left and right as well as up and down it is desirable to provide page navigation responsive to these multiple directions.

Accordingly illustrates a different modality for navigating or traversing content that may be implemented in a client application displaying the content . pertain to generally vertical navigation in a vertical direction on a display . discussed below pertain to generally sideways navigation. In arrows depict the result of user invoked instructions to move the focus to the next element in a generally downward direction that is to say in a general direction of increasing paragraph order or from one line to the next associated with reading Western style i.e. English style texts. Thus when a page is traversed from a current element in focus near the top of the content as displayed on the device an instruction to move to the next element will move the focus to an element below the set of elements that are at the same general horizontal level as the current element. In the element button B may be considered to be the current element in focus as illustrated by the broken box . Other elements in the content located at the same general horizontal level as the current element in focus are the elements and . Upon detection of an instruction to move the focus to the next element downwards the client application responds by moving the focus to the next element located below the horizontal level of the current element that is the most vertically aligned with the current element . In the example of this next element is text input box . Accordingly an arrow depicting the direction of navigation in response to the instruction is shown in connecting the current element with the text input box .

Similarly if the current element in focus were one of elements or the direction of navigation in response to the instruction would result in focus moving to the same element text input box . The text input box represents the next focusable element that is located below the horizontal level of elements and and that is the most vertically aligned with those elements. As for the remaining button elements of the content while both of the text input boxes are at the same height below the elements it is the text input box that is the most vertically aligned with either of the elements . Accordingly if either one of the elements is the current element in focus and an instruction to move the focus downwards is received the focus will move to the text input box rather than the text input box .

Furthermore unlike the modality described with respect to if the first text input box is in focus and an instruction to move the focus downwards to the next element is received rather than moving the focus to the second text input box in the focus moves to the first hyperlink because the first and second text input boxes are located at the same horizontal level whereas the first hyperlink is located below that horizontal level and is the most vertically aligned with the first text input box . Similarly if the second text input box is in focus and the same instruction is received the focus may then move down to the first hyperlink for the same reason. After the focus moves to the first hyperlink navigation may move in a manner similar to that described with respect to with focus moving next to the second hyperlink and so on to hyperlinks and in response to further instructions to move the focus downwards.

The image element illustrated in is a non focusable element and thus focus does not move to it in the modality described with respect to . If however the image element were focusable navigation or traversal of the content may be different. Turning to alternate navigation paths are shown as a result of the image element becoming focusable. The image element is located vertically above both the text input boxes so accordingly when one of the elements through is in focus and in instruction is received to move the focus downwards to the next element the focus will be moved to the image element as illustrated by the arrows between the elements through and the image element . Although the image element is not vertically aligned with any one of elements through it is still the next highest focusable element.

Also with reference to if the current element in focus is the image element and an instruction is received to move the focus downwards to the next element then the focus will move to the first hyperlink because both the first and second text input boxes are considered to be located at about the same horizontal level as the image element . Once the first hyperlink is in focus again subsequent instructions to move the focus downwards to the next element will result in focus being moved to elements through in turn.

Thus navigation or traversal of the content in the manner illustrated in follows a path that may accord more with the user s expectations than the manner illustrated in . The determination of which element constitutes the next element in response to an instruction to move the focus downwards from the currently focused element is described though H and in .

As a preface to a discussion of these figures it should be noted that in the embodiments discussed herein reference is made to the x and y positions of elements when displayed on the communication device . As will be understood by those skilled in the art positioning of elements within the content may be defined using an x y grid defining the absolute or relative positions of elements with respect to the display or to a window or other viewport of a graphical user interface displayed via the display . If elements are assumed to have a rectangular shape the position of an element may be defined with x and y values. This is illustrated in which shows content comprising elements and . The positions of elements within the content as displayed are measured along the illustrated axes x and y where coordinates 0 0 may be the top left hand corner of the content as it is displayed in the display and where x increases from left to right and y increases from top to bottom or in other words increases in typical reading direction. For the first element the position of the element within the content may be defined with reference to the top left top right bottom left and bottom right corners and respectively. Each of these corners may be defined with x y coordinates so for example the top left corner of the element will have a top left x and a top left y value and so on. The top left and top righty values would each define an upper bound value of the element and the bottom left and bottom right y values would each define a lower bound value of the element . Similarly the top left and bottom left x values would each define a leftmost bound value and the top right and bottom right y values would each define a rightmost bound value of the element .

The coordinates defining the corners of the element are determined by the attributes of the element itself but it will be appreciated by those skilled in the art that certain attributes that are perceived by the user as forming part of the element may not be used to determine the element position. For example in both the elements and are illustrated with drop shadows respectively. The drop shadow attribute may form part of the element for the purpose of determining the element position as shown with respect to the first element where the corners of the element through are defined with reference to the outer edges of the element including the drop shadow . Alternatively if the drop shadow attribute is excluded from the determination of element position as in the second element then the top left top right bottom left and bottom right positions of the element respectively will be determined from the shape of the element excluding the drop shadow .

Turning to several examples of how the next element in focus is determined in response to an instruction to move down to the next focusable element are illustrated. In these figures the initial or current element in focus in the content is the element button A . Current focus is depicted in these figures by the broken box although as noted above focus may be shown in the communication device display in various ways according to the attributes defined for the element or may not be shown at all. Other elements shown in the content include the element button B element button C . In additional element button D is shown and in a further element button E is also shown. In each of these figures the top level of each element that is to say the top left and top righty value of the element which will be understood to be equal since element positions are defined as having a rectangular shape is indicated by a broken line a b c d or e for ease of reference in the following discussion.

In in response to the instruction focus moves from the current element in focus to the element with the next highest top left y value that is equal to or greater than the top left y value of the current element in focus . Thus in focus moves to the third element even though it is positioned to the left of the current element in focus A. It can be seen that the third element is higher i.e. has a lower top left y value than the second element and is thus positioned vertically closer to the current element than the second element is to the current element .

Similarly in focus moves from the current element in focus to the third element even though the third element may be considered to be around the same horizontal level as the current element because the third element overlaps the position of the current element . Overlap may be defined as a subsequent element having a top left y value that is greater than the top left y value but less than the bottom left y value of the current element and having a top left x value that is greater than the top left x value but less than the top right x value of the current element. Because the current element and the third element overlap the user may perceive the third element as being lower than the current element and thus the likeliest next element to be in focus as a result of an instruction to move the focus down to the next element.

By contrast in focus moves from the current element to the third element bypassing the fourth element which in fact is positioned higher than the third element . It can be seen that the fourth element has a top left y value that is greater than the top left y value of the current element in focus but less than the top left y value of the third element meaning that it is vertically closer to the current element in focus than the third element is to the current element . Additionally the top left y value of the fourth element is greater than the top left y value but less than the bottom left y value of the current element meaning that a portion of each occupies the same vertical range in the displayed content . However unlike the example of there is no overlap the fourth element is horizontally displaced from the current element since the top left x value of the fourth element is greater than the top right x value of the current element . Because a portion of each of the elements occupy the same vertical range while the element is horizontally displaced from the current element the user may perceive the fourth element as being positioned in the same general horizontal level as the current element but not positioned below the current element such that an instruction to move the focus down from the current element should cause the focus to move to the fourth element . Accordingly the focus passes to the third element which is the next highest element in the content i.e. it is the focusable element with the next smallest top left y value .

A variant of this is shown in having the current element and the third and fourth elements in substantially the same relative positions in the content while the second element is now located beneath the third element such that the top left y value of the second element is greater than the bottom left y value of the current third and fourth elements respectively. A fifth element is positioned such that its top left y value is between the top left and bottom left y values of the second element . In this example in response to an instruction to move focus from the current element down to the next element focus passes to the second element for similar reasons as above.

In however the relative positions of the current element in focus and the third element are slightly altered such that focus will pass to the second element from the current element in focus . In this case the top left y value of the third element is less than the corresponding value of the current element . Accordingly the third element is perceived to be positioned higher in the content even though the lower part of the third element extends below the lowest point of the current element . The user thus likely views the second element as being the next element down from the current element in focus .

Finally in there is again overlap between the current element in focus and the third element although now the bottom left y value of the third element is less than the bottom left y value of the current element . For a similar reason as for the user likely views the second element as the next element down from the current element in focus so in response to the instruction to move focus down to the next element the focus passes to the second element .

A method for determining the next element to which focus should pass in response to an instruction to move focus down from a current element in focus is shown in . At an instruction to move focus down to the next element is received. The upper y value or upper bound value e.g. the top left y value of the current element in focus is determined at so as to determine the next element displayed in the content having the lowest upper y value or lowest upper bound value again such as the lowest top left y value that is equal to or greater than the upper y value of the current element at as these values increase downwards which in this case is the direction of desired navigation. If such an element is determined not to exist at then the process ends and the focus does not move from the current element. If such an element does exist then it is determined whether this next element is at the same horizontal level as the current element in focus at . The next element is as the same horizontal level as the current element in focus if its upper y value or upper bound value is equal to or less than the lower y value or lower bound value such as the bottom left y value of the current element. If the next element is not at the same horizontal level then the focus is moved to that next element at . If the next element is determined to be at the same horizontal level at then it is determined whether the next element overlaps the current element at . An explanation of an overlapping element is given above. If the next element does overlap the current element then the focus is moved to that next element at . If it does not overlap then the process returns to step where the next element having the next lowest upper y value equal to or grater than the upper y value of the current element is found.

It will be appreciated by those skilled in the art that the steps shown in may occur in different orders for example all elements having upper y values or upper bound values equal to or greater than the upper y value of the element currently in focus may be located first and then additional steps carried out to determine which of these elements is the next element to receive focus in response to an instruction to move focus down to the next element. It will also be appreciated that a similar process may be followed in response to a command to move the focus upwards from an element currently in focus by reversing the various criteria applied at each step. For example a lower bound value of the current element in focus is determined and rather than comparing the upper y values of the current element in focus and the prospective next element the lower y values or lower bound values e.g. the bottom left y values of these elements are compared to determine whether a prospective next element is located at the same horizontal level or above the current element. The next element would be at the same horizontal level if its lower bound value is equal to or greater than the upper bound value of the current element in focus. If the next element is not at the same horizontal level then the focus is moved to that next element. If the next element is determined to be at the same horizontal level then it is determined whether the next element overlaps the current element. The next element would overlap the current element if the next element has a rightmost bound value that is greater than the leftmost bound of the current element but less than the rightmost bound of the current element. If the next element overlaps the current element in that case then the focus is moved to the next element. Variations of the process and steps of are within the abilities of persons of ordinary skill in the art. For example the orientation of the x and y axes may be rotated and or reflected to more accurately reflect the direction of increasing or decreasing paragraph or line order in another language.

Navigation or traversal of a page in response to commands to move the focus to the right in a typical direction of reading a line of text in a language such as English or left may follow a different process than that provided for vertical navigation i.e. a direction of reading associated with increasing or decreasing paragraph or line order . The instruction to move the focus to the right may be received through user actuation of an input subsystem such as a gesture towards the right on a touchpad touchscreen trackball or the like or by depressing a designated key on a keyboard such as the right arrow key. Turning to content that may be displayed and navigated using a client application is shown. The content includes a series of elements through illustrated here as a series of buttons where the second element is currently in focus as indicated by the broken box . First and second text input boxes and are also provided. A set of hyperlinks through is also shown in the content below the two text input boxes . When an instruction to move the focus to the left of the currently focused element is received the focus may follow the direction that is likely expected by the reader that is to the next element to the left . When an instruction to move the focus to the right of the currently focused element is received the focus may therefore move to the third element then as the instruction is repeated to the following elements and . It can be seen that this follows the typical Western direction of reading from left to right. Once the sixth element is in focus however further receipt of instructions to move the focus right to the next focusable element will not result in a change in focus because the right most element on that horizontal level is already in focus.

Similarly when the first text input box is in focus receipt of an instruction to move the focus to the next element to the right will move the focus to the next text input box . However once the focus is on that second text input box a further instruction to move the focus to the next element to the right will result in no change since the rightmost element on that horizontal level is already in focus. The focus will not move to the hyperlinks to .

In both the second and third elements are positioned at the same horizontal level but both are positioned such that their uppermost edges are below the lower edge of the current element in focus i.e. the top left y value of each is greater than the bottom left y value of the current element . Accordingly the focus will not change in response to an instruction to move the focus right to the next element.

In the third element overlaps the current element in focus such that at least a portion of each of the third element and the current element occupy the same vertical range in the content and the top left x value of the third element is greater than the top left x value but less than the top right x value of the current element in focus while the rightmost bound of the third element extends beyond the rightmost bound of the current element . In this example in response to an instruction to move the focus right to the next element the focus will move from the current element to the third element because it is at the same horizontal level and also considered to be positioned to the right of the current element in focus . This movement would likely coincide with the user s expectation of where focus would move in response to an instruction to move to the right.

Similarly in focus again moves from the current element in focus to the third element in response to an instruction to move the focus right to the next element. Although both the current element and the third element have the same top left x value the third element extends beyond the rightmost bound of the current element and would be perceived by the user to again be the next element to the right of the current element in focus .

By contrast in the top left x value of the third element is now less than the top left x value of the current element in focus and the rightmost edge of the third element does not extend beyond the rightmost edge of the current element . To the user the second element is perceived to be the next element to the right of the current element in focus . Accordingly in response to an instruction to move the focus right to the next element the focus will move from the current element to the second element . Finally in the three elements are positioned in approximately the same manner as in except the third element extends beyond the leftmost and rightmost bounds of the current element in focus . Again the focus moves from the current element to the second element in response to an instruction to move the focus right to the next element because the third element although its top right x value may be greater than the top right x value of the current element is considered to be positioned to the left of the current element because its top left x value is less than the corresponding value of the current element .

The process by which the next element is identified for the examples of is illustrated in . At step an instruction to move focus right to the next element is received. The leftmost bound value of the current element in focus is determined at for example by determining its top left x value. Then the element with the next lowest leftmost bound value or lowest top left x value that is equal to or greater than the leftmost bound value or top left x value of the current element is identified at . If this next element is determined not to exist at then the process ends and the focus does not move. If this next element is determined to exist then it is next determined whether it is positioned at the same horizontal level as the current element . As explained above an element is considered to be positioned at the same horizontal level if at least a portion of the element is positioned in the same vertical range as at least a portion of the current element. If the element is not positioned at the same horizontal level the process returns to and the next potential element is identified. If the element is positioned at the same horizontal level it is then determined at whether the element s top right x value or rightmost bound value is greater than the current element s corresponding value i.e. whether the rightmost bound of the next element extends to the right of the rightmost bound of the current element . If not the process returns to . If so then the focus is moved to this element at .

Again it will be appreciated by those skilled in the art that the steps shown in may occur in different orders and that furthermore a similar process may be followed in response to a command to move the focus left i.e. in a reverse direction of reading a typical line of text in the English language from an element currently in focus by reversing the various criteria applied at each step. For example a rightmost bound value of the current element in focus would be determined and rather than comparing the leftmost x values of the current element in focus and the prospective next element the rightmost x values or rightmost bound values e.g. the top right x values may be compared to determine whether a prospective next element is located to the left of the current element. If the prospective next element is located to the left of the current element and it is at the same horizontal level as explained above and if it is determined to extend to the left of the current element i.e. the next element s leftmost bound value is less than the leftmost bound value of the current element then the focus is moved to that next element.

Variations of the process and steps of are within the abilities of persons of ordinary skill in the art. Again the orientation x and y axes referred to above may be rotated and or reflected to more accurately reflect the direction of reading of a line of text in a given language. While many readers of languages that are printed and read in directions other than those used in languages such as English may have become acclimatized to using graphical user interfaces designed for reading in such a Western style direction it may be desirable to provide the user with a user interface experience resembling their experience with other media. Accordingly the process of identifying a next element to receive focus from a current element may be described in more general terms with reference to .

In the example of where the English reader might navigate down a display in the example of this may be from the top to the bottom of the content the analogous direction to another user accustomed to a different reading orientation may be what the English reader would interpret as across the display in the example of from right to left of the content . It will be noted from the discussion of navigation with reference to that the method for determining the next element to receive focus in response to an instruction to move the focus in a direction parallel to a given axis varies according to the orientation of the axis. In this example of the methods will likewise vary according to the orientation of the axis. The methods are described with reference to .

If the first element is the current element having focus and an instruction is received to move the focus in the general direction or axis coinciding with a direction of reading subsequent lines of content i.e. from one line to the next as indicated by block of a first bound value of the current element corresponding to a first edge is determined at . Each edge of the first element defines an edge or boundary of the element in the display of the communication device . If each element is defined as a generally rectangular area the edges may be defined as the edges of the element that are generally perpendicular to an axis of the display. In this example the edges and are generally perpendicular to the x axis they are the edges that are generally perpendicular to a user s direction of reading from a line of text. If a value is assigned to each of the edges according to the corresponding perpendicular axis where values increase in the usual direction of reading then the edge will have a lower value attributed to it than the edge . Similarly the edges are generally perpendicular to the y axis in and the edge will have a lower value attributed to it than the edge measured against they axis in the usual direction of reading. Thus the first bound value of the current element that is determined at block of is the lower of the two values corresponding to the two edges generally perpendicular to the y axis which is the axis generally parallel to the direction of motion received in the instruction. In the first bound value will be the value accorded to the edge .

At block of a next element is identified having the next lowest first bound value that is greater or equal to the first bound value of the current element . In the example of the second element has edges defined in the same manner as that described above for the current element in focus . The second element has a first bound value defined in the same manner as that described above. Thus the first bound value is the value associated with the edge . The first bound value of the element will be greater than the first bound value of the current element having reference to the y axis which represents increasing values in the user s typical direction of reading. If this is the next lowest first bound value associated with any other element shown in the content then the next element is determined to exist at block . Had no such element been identified the process would end and the focus would not move to another element.

Since the next element does exist it is then determined whether the next element is at the same level as the current element at block . The two elements are determined to be at the same level if they would be generally located on the same line of text. In other words they would be at the same level if the first and second element occupy at least a portion of the same range along the y axis i.e. they occupy at least a portion of the same range along the axis defining the direction of reading from line to line . This would be the case if the first bound value of the second element is equal to or less than a second bound value of the first element where the second bound value is the value of the edge . The edge is the other of the two edges generally perpendicular to the y axis. In the example of the current element and the second element are not at the same level. Therefore the focus moves to the next element at block of and the process ends.

Were the current element and the next element at the same level then it would be determined at block of whether the next element overlapped the current element . Overlapping elements not only occupy at least a portion of the same range along they axis i.e. at least a portion of the same range along the axis defining the direction of reading from line to line but also at least a portion of the same range along the remaining axis here the x axis. This may be determined for example by comparing the position of at least some of the edges of the current element with the edges and of the next element . For example if the edge of the second element were interposed between the edges of the current element such that the corresponding x value of the edge was between the corresponding values of the edges there would be overlap along the x axis. If it is determined that the elements overlap then focus moves to the next element at block . Otherwise the process returns to block .

Turning to if the first element is the current element having focus and an instruction is received to move the focus in the general direction or axis coinciding with a direction of reading from a single line of content or text as indicated by block of a further first bound value of the current element corresponding to a first edge is determined at . However as the direction of navigation generally corresponds to the direction of reading a line of text the first bound value will be the lower of the two values corresponding to the two edges of the current element generally perpendicular to the x axis which is the axis generally parallel to the direction of motion received in the instruction at . Thus in the further first bound value in this case will be the value associated with the edge given increasing x values in the usual direction of reading.

Once the further first bound value id determined a next element is identified as having the next lowest further first bound value that is greater than or equal to the further first bound value of the current element . In the example of the third element has edges defined in the same manner as that described above for the current element in focus . The third element s corresponding further first bound value is associated with the edge . If this is the next lowest first bound value associated with any other element shown in the content then the next element is determined to exist at block . Had no such element been identified the process would end and the focus would not move to another element.

Since the next element does exist it is then determined whether the next element is at the same level as the current element at block . The definition of same level is defined above with respect to the method of . Two elements are determined to be at the same level if they would be generally located on the same line of text according to the definition above. If the elements are not at the same level then it is determined that it is not the next element that should gain focus from the current element given the direction of navigation comprised in the instruction. Therefore the process returns to block and a further next element if any is identified.

If the element is found to be in the same level it is then determined whether the element extends beyond the current element in the general direction of navigation received in the instruction at block of . Given the axes defined in in which value increases in the typical direction of reading the element will be found to extend beyond the current element if a second bound value of the element is greater than a corresponding second bound value of the current element . The second bound value of either element is the greater of the two values corresponding to the two edges of the element generally perpendicular to the axis in the direction of navigation or the x axis. In other words the element will be found to extend beyond the current element in the direction of navigation if the x value associated with the edge is greater than the x value associated with the edge . In the example of this is the case and therefore focus is moved to the element at block . If it were not the case then the process would return again to block .

It will be appreciated by those skilled in the art that the steps shown in may occur in different orders and that similar processes may be followed in response to instructions to move focus in the reverse directions by reversing the various criteria applied at each step.

The foregoing examples represent a possible default mode or predetermined order of navigation in a client application displaying structured content having focusable elements. By configuring the navigation or traversal of the content in accordance with the cases described above navigation within the client application responds in a manner that is more likely to reflect the typical user s expectation of where focus should move in response to a directional instruction e.g. up down right left to move the focus. The content may extend beyond the viewable area of the display of the communication device such that at least one portion of the content is not viewable on the display and that portion may contain an element that forms part of the navigation path in accordance with the embodiments described above. When the content is traversed and focus is shifted to that element not currently viewable on the display the client application may cause the display to scroll down to that element so that element and portion of the content will become viewable.

However in some circumstances it may be desirable to override this default behaviour. It is sometimes desirable to disable navigation from certain elements or to prevent an element in the content from being focusable. It may furthermore be desirable to redirect navigation in a direction other than described above. For example referring back to the content shown in it may be more logical to the typical user that if one of elements or is in focus that in response to an instruction to move the focus downwards the focus should pass to the first text input box rather than the second text input box because the user s next action would likely be to enter data in the first text input box and not the second. Or a user s next action may depend on the state of other elements in the content. For example in it may be determined that a user who has entered a search term in at least one of the text input boxes typically wishes to actuate one of the elements through after viewing the search results i.e. the hyperlinks through displayed in the lower portion of the content . Therefore if the first hyperlink is currently in focus if data has been entered in the first text input box then in response to an instruction to move the focus upwards it may be desirable to move the focus up to the first element rather than back to the first text input box even if the first text input box is vertically the closest element to the first hyperlink element . It may also be desirable to create a focus on an element within the content that is not normally focusable such as text that is not demarcated by an anchor tag in an HTML document.

Thus in a further embodiment the client application may be configured to display content in which elements that are focusable by default such as and in an HTML document are rendered non focusable. This may be achieved by setting a value for an attribute associated with the element such that the attribute is applied by the client application to the element when the content is rendered for display to the user. For example in content comprising HTML type markup an anchor element is normally focusable and defined as follows 

This element may be rendered non focusable by declaring an attribute of the element specifically relating to focusability for example 

The attribute x focusable may of course have a different name. In this example the attribute x focusable may take on the value true or false where true means that the element within the markup tag is focusable and false means that the element is not focusable. Thus when an element is by default focusable and the attribute is set to false the attribute value overrides the default behaviour of the element and the element when rendered in the browser or other viewing application will not be capable of gaining focus. If the same element that is by default focusable has the x focusable attribute set to true there will be no change in the behaviour of the element since the element was already focusable.

It will be appreciated that an attribute such as x focusable may be applied to elements that are not normally focusable. When the element is by default not focusable and the x focusable attribute is set to false there will be no change in the behaviour of the element since the element was not initially focusable. If the element is by default not focusable and the x focusable attribute is set to true then the element effectively behaves in a manner similar to other enabled focusable elements in that the element is now capable of gaining focus as a result of navigation. Thus by setting this attribute to true for a previously non focusable element the element may now form part of the navigation of the content.

The focusable attribute is distinct from an attribute setting the element as either enabled or disabled . As explained above an enabled element is one that is capable of gaining focus or selectable as well as and actuatable and is normally included in the navigation order when the user navigates or traverses through the content. A disabled element is an element that is capable of being enabled but is in a non enabled state such that it is not capable of gaining focus cannot be selected or actuated and is excluded from the navigation order.

By contrast the focusable attribute described above may be applied not only to enableable elements which are capable of being enabled or disabled but also to other elements that are not capable of being enabled or disabled at all that is to say non enableable elements that are otherwise not focusable including non interactive elements. When the focusable attribute is declared and set to true in association with such a non enableable element for example by setting the exemplary x focusable attribute to true the element does not become enabled because it is not capable of being actuated in the way a form element may be actuated. It is now however focusable and included in the navigation order. Thus it is possible to create content with elements that are not actuable or enabled yet are capable of gaining focus. This provides the content developer with the opportunity to exercise control over the user s navigation through the content.

An example of navigation with additional focusable elements created using the x focusable attribute is shown in . Content is provided with a number of typically focusable elements including button elements through text input boxes and hyperlink . With these normally focusable elements navigation of focus through the content may take place in the default manner described above.

The image element shown in may normally be a non focusable element that does not form part of the navigation flow in the content . However by applying the x focusable attribute to the element for example 

The image element becomes focusable and will form part of the navigation flow of the content in the manner described above. Thus for example when the second element is in focus on detection of an instruction to move the focus down to the next focusable element the focus will move to the image element rather than the text input element as indicated by arrow . When the image element is in focus an instruction to move the focus to the right will move the focus to the first text input element as indicated by arrow

An example of other elements that are not normally focusable but are provided with an attribute rendering them focusable is also shown in . The attribute may be applied to non semantic elements such as logical divisions or content segments within a parent element. For example div element which contains a paragraph of text may be defined to be focusable as follows 

Thus when the hyperlink element is in focus and a command is received to move focus down to the next element the focus may move to this element since the element has been defined as being focusable.

It can be appreciated that the x focusable attribute may be applied to a number of non focusable elements including table row and cell elements and text. Furthermore the attribute may be nested. Within the div element the single word poetry is also set within a span tag defining an inline logical group within the block of text comprised in the div element with the x focusable attribute set to true 

Odin is considered the chief . . . meaning fury excitation besides mind or poetry. His role like many of the . . . 

The span element poetry is thus nested within the div container element comprising the larger paragraph containing the span element . The span element thus overlaps the larger element and is navigable in accordance with the methodology described above. For example when the hypertext is in focus and a command is received to move the focus down to the next element the div element will then gain focus. If a further command to move the focus down to the next element is received the focus may then move to the span element . Thus it can be seen that by defining various elements within the content as being focusable finer control can be exercised over the path followed by a user navigating or traversing the content in a client application. By setting attributes of various elements in this manner a user can be forced to navigate to a specific content area if the user navigates through the content by following the movement of focus from element to element. Other normally non enableable elements may be declared focusable in this manner including without limitation HTML elements such as the paragraph image list item unordered list ordered list and header elements.

In addition specific navigation events may be trapped by the client application to further customize navigation or traversal of content. When a specific type of navigation event is detected an event handling routing may be triggered to carry out a predetermined function. For example the aforementioned example anchor element 

The attributes x onNavDown x onNavUp x onNavLeft and x onNavRight may be provided with different names but for ease of reference will be referred to with the foregoing names which are easily correlated to navigation events. The attribute x onNavDown may correspond to the detected event when the element anchor tag 1 is in focus and an instruction is received from a user input subsystem corresponding to a down movement the remaining attributes would thus correspond to the events corresponding to an upwards movement a leftwards movement and a rightwards movement respectively. When these attributes are applied to an element the behaviour within the client application may be customized by calling an event handling function using techniques known to those skilled in the art. For example the event handling function may be defined in a scripting language such as JavaScript. Thus when anchor tag 1 is in focus and an instruction is received corresponding to a down movement the execution of the function Function1 is triggered and control within the browser or other application environment will pass to the function. This function could for example cause focus to be moved to a different location in the content other than the default next element as defined above. This method for moving the element focus in the content provides an advantage over previous methods of defining navigation order within the content because this method does not require the content developer to expressly define a navigation order by setting a tab index order or other numerical navigation order for each element in the content. The next element to gain focus can be identified by name for example by its Document Object Model DOM identity.

An example is provided in . Content represents a calculator application displayable on the communication device and constructed using HTML elements. Each virtual button of the calculator may be a focusable button element. It may be determined that typical user behaviour once numerals have been entered using the various numbered buttons is for the user to focus on and actuate the equals button . However it will be appreciated that in accordance with the default navigation behaviour described above if one of the number keys such as the 3 button is currently in focus several actions are required on the part of the user to traverse the content to move the focus to the button since the user must provide commands to the communication device to repeatedly move the focus to the right and or down. Accordingly it may be useful to customize the navigation flow within the content .

Thus in a further embodiment the number button elements corresponding to 0 3 6 and 9 maybe be customized so that upon an instruction to move the focus from one of the 3 6 or 9 buttons to the right the focus jumps to the equals button and upon an instruction to move the focus from the 0 button to the right or down the focus also jumps to the equals button. Example code for specific button elements in content omitting code directed to other elements specific functions and presentation is provided below 

In the above example the 3 button is provided with an x onNavRight attribute that calls the function MoveToEquals and an onClick attribute that calls the function OperateOnValue . When the 3 button is in focus and is actuated with a click the event is trapped and the corresponding function OperateOnValue is called. This function may carry out steps associated with the value assigned to the 3 button such as displaying the number 3 in the display bar or adding the value 3 to a register. When the 3 button is in focus and a command to move focus to the right is detected the MoveToEquals function is called which in turn sets the focus on the equal button as indicated by the function MoveToEquals defined above. This function invokes an extension navigation.setFocus that sets the focus to an identified destination element within the content . In the example of the destination is identified as buttoneq which is the name of the equals button in the sample code given above.

When the 0 button is in focus and a command to move focus either to the right or down is detected again the MoveToEquals function is called with the same result. The various elements in the content may be provided with further attributes to trap additional user interface events such as clicking onClick mousedown mouseup and the like. Trapping of other similar events using event handler commands and invocation of scripts in response to the detection of such events will be known to those skilled in the art.

In addition while the various buttons of content may normally be focusable it may be desirable to disable some elements so that they are not focusable until certain conditions are met. For example the equals button may have an x focusable attribute set to false so long as no values have been input by the user or displayed in the display bar of the content but once values have been input and displayed in the display bar the x focusable attribute of the equals button may be dynamically modified to change the attribute to true .

A generalized navigation flow for content including focusable elements and attributes for trapping events and invoking event handling routines is provided in . At a first element in the content is in focus. A navigation instruction such as an instruction to move the focus in a particular direction is detected at . At it is determined whether the first element is associated with an attribute for trapping the navigation event associated with the instruction if it is not then focus moves to the next element in accordance with the default navigation order at for example in accordance with the rules described in connection with . If the event is to be trapped and handled in a different manner then at the event handling routine is executed. The event handling routine may cause focus to be moved to another element at .

Thus by implementing event handling routines that trap navigation instructions received from the user the navigation order of elements within the content can be altered in response to user behaviour or user input. For example when a webpage document for an e commerce website is displayed by the client application navigation through the page may follow the default methods described above. However if it is determined that the user has not logged into the server serving the web page this could be determined for example using cookies stored at the communication device any user attempt to move the focus through the content or to actuate any element on the page may be trapped and an event handling routine forcing the focus to be set on website terms of use located at the bottom of the page may be invoked.

The content may also be constructed to trap user attempts to move focus in a particular direction and handle the event accordingly. For example on an e commerce website a first image of an item for purchase may be displayed on a webpage immediately to the left of a buy now button which may gain focus and be actuated by the user to add the item to a shopping cart. Alternate images of the item may be available but not displayed on the webpage. The webpage document may be constructed such that when the first image is in focus user attempts to move focus to the right i.e. towards the buy now button are trapped and trigger an event handling routine that loads the next available item image in place of the first image and that each subsequent attempt to move focus to the right causes subsequent images to be loaded. Once the last image is loaded a further attempt on the part of the user to move focus to the right results in focus being moved to the buy now button.

The foregoing embodiments thus provide for a method of navigating or traversing structured content from element to element according to specific rules to enhance user experience. The foregoing embodiments also provide for the creation or removal of focusable elements in structured content that may then form part of or be excluded from the navigation flow of the content whether those elements are enabled disabled capable or incapable of being actuated by the user. The navigation flow of the content may also be customized through the use of event handling routines that are triggered by detected user interface events such as a user attempt to move focus from the current element in focus to another. The navigation flow may be altered dynamically to respond to user behaviour or user input.

The systems and methods disclosed herein are presented only by way of example and are not meant to limit the scope of the invention. Other variations of the systems and methods described above will be apparent to those in the art and as such are considered to be within the scope of the invention. For example reading direction may influence the user s expectation of which element should logically be next to come into focus when a page is traversed. It will be appreciated that the embodiments described herein are directed to a Western style reading direction in which text is presented in horizontal lines and traversed from left to right and the subsequent line of text is arranged below the current line. As such traversing the page in a downward direction or from left to right implies that the page is being traversed in a common reading direction whereas traversing the page from bottom to top or from right to left implies that the page is being traversed in a less common reading direction. It will be understood by persons skilled in the art that these embodiments may be adapted for use with other reading directions such as bottom to top and or right to left to accommodate the user s expectations. Furthermore although the determination of element positions was described above in connection with a rectangular x y grid and rectangular element shapes it will be appreciated that other methods of determining element position that are not restricted to rectangular shapes may be used.

The systems and methods data may be stored in one or more data stores. The data stores can be of many different types of storage devices and programming constructs such as RAM ROM flash memory programming data structures programming variables etc. It is noted that data structures describe formats for use in organizing and storing data in databases programs memory or other computer readable media for use by a computer program.

Code adapted to provide the systems and methods described above may be provided on many different types of computer readable media including computer storage mechanisms e.g. CD ROM diskette RAM flash memory computer s hard drive etc. that contain instructions for use in execution by a processor to perform the methods operations and implement the systems described herein.

The computer components software modules functions and data structures described herein may be connected directly or indirectly to each other in order to allow the flow of data needed for their operations. It is also noted that a module or processor includes but is not limited to a unit of code that performs a software operation and can be implemented for example as a subroutine unit of code or as a software function unit of code or as an object as in an object oriented paradigm or as an applet or in a computer script language or as another type of computer code.

A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by any one of the patent document or patent disclosure as it appears in the Patent and Trademark Office patent file or records but otherwise reserves all copyrights whatsoever.

