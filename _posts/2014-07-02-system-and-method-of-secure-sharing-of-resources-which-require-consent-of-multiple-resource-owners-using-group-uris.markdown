---

title: System and method of secure sharing of resources which require consent of multiple resource owners using group URI's
abstract: In accordance with various embodiments, services gatekeeper systems and methods allow mapping and protecting communication services APIs with OAuth and group access to user information. Such a system can include a plurality of applications, executing on one or more application servers. The services gatekeeper is operable to define a group of members using a group URI, intercept requests for access to communication services APIs, obtain authorization from a group owner for access to a specified communication services API for each member of the group, and enable access to the specified communication services API of each member of the group in accordance with the scope authorized by the group owner.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09118653&OS=09118653&RS=09118653
owner: ORACLE INTERNATIONAL CORPORATION
number: 09118653
owner_city: Redwood Shores
owner_country: US
publication_date: 20140702
---
This application is a continuation of U.S. patent application Ser. No. 13 557 474 filed Jul. 25 2012 entitled SYSTEM AND METHOD OF SECURE SHARING OF RESOURCES THAT REQUIRE CONSENT OF MULTIPLE RESOURCE OWNERS USING GROUP URI S which application is incorporated herein by reference in its entirety.

This application is related to all of the following patent applications all of which are incorporated herein by reference in their entireties including all Appendices filed therewith 

U.S. patent application Ser. No. 13 557 476 filed Jul. 25 2012 entitled SYSTEM AND METHOD OF EXTENDING OAUTH SERVER S WITH THIRD PARTY AUTHENTICATION AUTHORIZATION and

U.S. patent application Ser. No. 13 557 478 filed Jul. 25 2012 entitled SYSTEM AND METHOD OF MAPPING AND PROTECTING COMMUNICATION SERVICES WITH OAUTH .

A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure as it appears in the Patent and Trademark Office patent file or records but otherwise reserves all copyright rights whatsoever.

The current invention relates to a system and method of mapping and protecting resources and in particular to a gatekeeper system and method for secure sharing of resources which require consent of multiple resource owners.

Open Authorization Protocol OAuth is an open standard for authorization. OAuth allows users to for example share their private resources e.g. photos videos contact lists stored on one site with another site without having to hand out their credentials typically supplying username and password tokens instead. Each token grants access to a specific site e.g. a video editing site for specific resources e.g. just videos from a specific album and for a defined duration e.g. the next 2 hours . This allows a user to grant a third party site access to their information stored with another service provider without sharing their access permissions or the full extent of their data. However the OAuth protocol is insufficient for secure sharing of communication services in a telecommunications network.

Communication services Application Programming Interfaces APIs expose subscriber information such as charging capability location and profile to third party applications. For telecommunication network operators this creates legal and security issues. Currently no solution enables secure sharing of resources with subscriber consent. Moreover according to the standard OAuth message flow one access token can be issued by a designated resource owner. That leads to a limitation when a resource access requires authorization from several resource owners. For example obtaining location of multiple subscribers through a single resource API access is not possible using OAuth message flow because one subscriber cannot issue a token for another subscriber that could be included as part of the request. This problem is applicable to any resource s that contains multiple subscribers.

In accordance with various embodiments services gatekeeper systems and methods for mapping and protecting communication services resources are provided. Such a system can include a plurality of applications executing on one or more application servers. The system can include a communications services gatekeeper system and method for supporting group authorization of API data access. Using this feature subscribers can securely share their communication services location charging presence with third party applications as a group using a list of subscribers as a parameter. This enables operators to facilitate exposure of subscriber resources while managing explicit subscriber consent.

Embodiments of the present invention provide a services gatekeeper system which allows mapping and protecting resources with OAuth and group access to subscriber information. A flexible mapping structure which can be used to map a plurality of different communication services APIs to provide access to subscriber information. Embodiments of the present invention further enable the use of group uniform resource identifiers URI s to enable a selected member to authorize API access to information of other members of the group.

In embodiments the present invention provides a services gatekeeper and method which enables issuing one access token for a given group URI as the resource owner. This token can therefore be used to access resource on behalf of any members in this group. That is to say the owner of group URI and password will be able to authorize an application to access protected communication services of each member in the group.

Other objects and advantages of the present invention will become apparent to those skilled in the art from the following detailed description of the various embodiments when read in light of the accompanying drawings.

In the following description the invention will be illustrated by way of example and not by way of limitation in the figures of the accompanying drawings. References to various embodiments in this disclosure are not necessarily to the same embodiment and such references mean at least one. While specific implementations are discussed it is understood that this is provided for illustrative purposes only. A person skilled in the relevant art will recognize that other components and configurations may be used without departing from the scope and spirit of the invention.

Furthermore in certain instances numerous specific details will be set forth to provide a thorough description of the invention. However it will be apparent to those skilled in the art that the invention may be practiced without these specific details. In other instances well known features have not been described in as much detail so as not to obscure the invention.

Common reference numerals are used to indicate like elements throughout the drawings and detailed description therefore reference numerals used in a figure may or may not be referenced in the detailed description specific to such figure if the element is described elsewhere. The first digit in a three digit reference numeral indicates the series of figures in which the element first appears. Likewise the first two digits in a four digit reference numeral.

Communication services APIs expose subscriber information such as charging capability location and profile to third party applications. For telecommunication network operators this creates legal and security issues. Currently no solution enables secure sharing of communication services APIs resources with subscriber consent. However a services gatekeeper system and method as described herein is capable of mapping and protecting communication services resources as OAuth resources. In order to expose subscriber resources securely the services gatekeeper system includes a mechanism that associates subscribers subscriber communication services APIs resource and exposes and protects the APIs through authorization tokens. The system supports granular authorization of communication service access. In accordance with embodiments of the present invention the services gatekeeper is also operable to define a group of members using a group URI intercept requests for access to communication services APIs obtain authorization from a group owner for access to a specified communication services API for each member of the group and enable access to the specified communication services API of each member of the group in accordance with the scope authorized by the group owner.

The services gatekeeper system maps a communication service into an OAuth resource. The OAuth resource definition is based on the interface and the method of the communication services. An OAuth resource can be defined either in a fine grain and or coarse grain level using a flexible mapping structure. The flexible mapping structure can be used to map a plurality of different communication services to provide scoped access to subscriber information. However according to the standard authorization message flow one access token can be issued by a designated resource owner. That leads to a limitation when resource access requires authorization from several resource owners. For example obtaining location of multiple subscribers through a single resource API access is not possible using the stand OAuth message flow because one subscriber cannot issue a token for another subscriber that could be included as part of the request. To solve this limitation of the OAuth message flow embodiments of the present invention provide a services gatekeeper and method which enables issuing one access token for a given group uniform resource identifier URI as the resource owner this token can therefore be used to access the resource on behalf of any members in this group. That is to say the owner of group URI and password will be able to authorize an application to access protected communication services of each subscriber who is a member of the group.

Services gatekeeper includes pre built specialized components the communication services to allow third party developers and application partners to easily access the operator s telecommunications network capabilities. The network capabilities supported by the communication services include for example messaging call control terminal location payment profile and presence. These communication services are APIs which expose subscriber information resources such as the charging capability location and profile to third party applications and thus require subscriber authorization for access.

Services gatekeeper includes authorization server which provides an authorization service based on OAuth. The conventional OAuth protocol allows controlled access to user resources for example picture files identified by a URI. However the conventional OAuth protocol has no mechanism for controlling access and exposure of communication services APIs enabling third party applications to access subscribers communication services such as location and charging. By comparison authorization server includes extended functionality for controlling access and exposure of applications enabling third party applications to access these communication services .

Services gatekeeper includes a system for mapping and protecting the communication services APIs utilizing authorization server . Services gatekeeper maps a communication services into an authorization server resource. The resource is defined based on the interface and the method of the communication services . The resource can be defined either in a fine grain and or coarse grain level using a flexible mapping structure. The flexible mapping structure can be used to map a plurality of different communication services to provide scoped access to subscriber information. This scoped access allows the subscriber to provide access to specific portions of their information e.g. provide access to only location information or charging information without providing access to all information. Thus the services gatekeeper enables mapping communication services to authorization scopes and automatically protecting subscriber data exposed by the communication services with fine granular control API level method level parameter level using authorization tokens. Requests to access communication services are fulfilled using resource server and service interceptors when accompanied by valid tokens. The use of authorization server to provided scoped access to communication services is described in U.S. patent application Ser. No. 13 557 478 filed Jul. 25 2012 entitled SYSTEM AND METHOD OF MAPPING AND PROTECTING COMMUNICATION SERVICES WITH OAUTH which is incorporated herein by reference.

Furthermore services gatekeeper provides an extended mechanism within authorization server comprising a group module which supports group URI and group ownership. Using this mechanism subscribers can be dynamically added to a group and represented by a group uniform resource identifier URI . Using the group URI a designated group owner a specified subscriber can issue authorization to access the communication services of other subscribers who are members of the group such as location and presence . For example the functionality provided by group module allows a designated group owner to issue authorization to allow an application to obtain subscriber location on behalf of each subscriber who is a member of the group.

Following from above in services gatekeeper a communication service location presence etc. is mapped as a resource of authorization server . Resource server and service interceptors of services gatekeeper manage the protected resources contained within a service provider s network and accepts and responds to third party application requests for access to the communication services . Additionally the above group module which provides a mechanism for issuing one access token for a given group URI as the resource owner. This token can therefore be used to access resource on behalf of any members in this group. That is to say the owner of group URI and password will be able to authorize application on accessing resources of each member in the group.

As shown in a group is created at step . As step the group owner a selected subscriber user is defined. The group owner will be defined by e.g. a subscriber identifier. At step the group uniform resource identifier URI is defined and or assigned. At step a subscriber is selected for addition to the group. At step subscriber authorization is requested and obtained using authorization server . At step the subscriber becomes a group member and the subscriber URI is added to the group. Additional functionality is provided for deleting changing and or querying members of the group.

In a preferred embodiment the group is a network managed group which is created and managed within services gatekeeper thereby allowing services gatekeeper to directly reference the members of a group using the group name. In an alternative embodiment the group is an application managed group created and managed outside of the services gatekeeper and requiring the group members to be passed into the services gatekeeper for processing.

The group is itself a container for a set of subscriber identifiers. In use services gatekeeper with authorization and authentication by the group owner processes the group by expanding the group into a set of subscriber identifiers. The resulting set of subscriber identifiers contains no groups and any duplicate addresses are removed. Thus a resolved group may be considered an exclusive union of all of its contained members subscribers. A single access token granted with respect to a protected resource communication service of the group is valid with respect to the specified protected resource communication service of each member of the group without further authorization required by each member.

In general before the client application can access the communication services for all members of a group it must first obtain an authorization grant from the group owner and then exchange the authorization grant for an access token understood by the resource server . The access token is a proxy which replaces different authorization constructs e.g. username and password which need not be disclosed to the client application . The access token can specify a scope and duration. Moreover the resource server need not interpret and validate diverse authentication schemes as it can rely on the access token alone. In an embodiment the resource server has access to group manager which allows resource server to expand the group URI to a set of subscriber identifiers in order to allow access to the specified communication services for all members of a group.

As shown in in operation the client application initiates the flow when it directs the group owner agent of the group owner to the authorization endpoint of authorization server . The client application includes its client identifier requested scope local state and a redirection URI. The authorization endpoint receives and processes requests by client applications for permission to access protected resources. Generally the group owner as specified in the group URI grants permission by providing a username and password and selecting attributes or services to expose. An authorization code is granted to the client application once permission is obtained from the group owner .

In operation the group owner agent transmits the request from the client application to the authorization server . The authorization server authenticates the group owner through the group owner agent and establishes whether the group owner grants or denies the access request. In operation the group owner agent requests authorization from the group owner subscriber . In operation the group owner provides group owner credentials and authorization if the request is approved to the group owner agent . In operation the group owner agent relays the group owner credentials and approval to the authorization server . In operation the authorization server provides an authorization code. In operation the group owner agent relays the authorization code to the client application . The redirection URI includes an authorization code and any local state previously provided by the client application .

In operation the client application requests an access token from the authorization server through the token endpoint. The client application authenticates with its client credentials and includes the authorization code received in the previous operation. The client application also includes the redirection URI used to obtain the authorization code for verification. The authorization server validates the client credentials and the authorization code. The authorization server also ensures that the redirection URI received matches the URI used to redirect the client. In operation if the request and token are valid the authorization server responds with an access token .

In operation the client application provides the access token to the resource server . Services interceptor verifies that the access token contained in the request is valid before resource server completes the request. One of services interceptor and group manager resolves the group into a set of subscriber identifiers in order to allow access to the specified communication services for all members of a group. In operation assuming the request and token are valid resource server responds with the requested access to the specified protected communication services for all subscribers who are members of group with the specified scope and parameters . The communication services being as discussed above an API which exposes subscriber information such as location.

Note that in the embodiment illustrated in the implementation provides a co located authorization server and authentication server. However in alternative embodiments authorization server includes an authentication interface not shown defining a custom authentication authorization flow supporting the separation of authentication and resource owner interaction from authorization in a services gatekeeper system. Using this feature the services gatekeeper can integrate any authentication mechanism available in the world for e.g. Facebook Google Subscriber or a custom identity management product . This feature enables operators of the system to use their own custom identity management systems or delegate the authentication service to a third party e.g. Facebook Facebook Google Subscriber or a custom identity management product . When a client application requests access to protected group member resources the services gatekeeper can communicate with a third party authentication server via a custom protocol to authenticate the group owner s credentials. Once authorized the authentication server can notify the services gatekeeper system which then grants the application access to the requested protected communication services of the members of the group as previously described. The use of third party authentication servers is described in U.S. patent application Ser. No. 13 557 476 filed Jul. 25 2012 now U.S. Pat. No. 8 782 411 issued Jul. 15 2014 entitled SYSTEM AND METHOD OF EXTENDING OAUTH SERVER S WITH THIRD PARTY AUTHENTICATION AUTHORIZATION which is hereby incorporated herein by reference.

Although the invention has been described above with respect to communication services in a telecommunications network the invention also finds application in any situation where its is necessary or desirable to provide secure access to protected resources of a group of resource owners users .

The present invention may be conveniently implemented using one or more conventional general purpose or specialized digital computer computing device machine or microprocessor and or network of same programmed according to the teachings of the present disclosure.

Appropriate software coding can readily be prepared by skilled programmers based on the teachings of the present disclosure as will be apparent to those skilled in the software art. The invention may also be implemented by the preparation of application specific integrated circuits or by interconnecting an appropriate network of conventional component circuits as will be readily apparent to those skilled in the art.

The various embodiments include a computer program product which is a storage medium media having instructions stored thereon in which can be used to program a general purpose or specialized computing processor s device s to perform any of the features presented herein. The storage medium can include but is not limited to one or more of the following any type of physical media including floppy disks optical discs DVDs CD ROMs microdrives magneto optical disks holographic storage ROMs RAMs PRAMS EPROMs EEPROMs DRAMs VRAMs flash memory devices magnetic or optical cards nanosystems including molecular memory ICs paper or paper based media and any type of media or device suitable for storing instructions and or information. The computer program product can be transmitted in whole or in parts and over one or more public and or private networks wherein the transmission includes instructions which can be used by one or more processors to perform any of the features presented herein. The transmission may include a plurality of separate transmissions. In accordance with certain embodiments however the computer storage medium containing the instructions is non transitory i.e. not in the process of being transmitted but rather is persisted on a physical device.

The foregoing description of the preferred embodiments of the present invention has been provided for purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations can be apparent to the practitioner skilled in the art. Embodiments were chosen and described in order to best explain the principles of the invention and its practical application thereby enabling others skilled in the relevant art to understand the invention. It is intended that the scope of the invention be defined by the following claims and their equivalents.

