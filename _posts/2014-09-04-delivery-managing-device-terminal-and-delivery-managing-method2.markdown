---

title: Delivery managing device, terminal, and delivery managing method
abstract: A delivery managing device to which a plurality of terminals are connected through a network includes a creating unit that creates display information based on operation information indicating an operation input accepted by a terminal; a converting unit that converts the display information into video information; and a delivery unit that delivers the video information to a terminal. When non-public operation information is received from a terminal, the non-public operation information indicating operation information not to be published to another terminal, the delivery unit delivers video information that is converted from display information not based on the non-public operation information, to the other terminal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09596282&OS=09596282&RS=09596282
owner: RICOH COMPANY, LTD.
number: 09596282
owner_city: Tokyo
owner_country: JP
publication_date: 20140904
---
The present invention relates to a delivery managing device a terminal and a delivery managing method.

In recent years along with the prevalence of the Internet cloud computing has been used in various fields. Cloud computing is a service usage form in which a user uses a service cloud service that is provided by a server on the Internet by using a communication terminal connected to the Internet and pays for the service.

However web contents that are handled on the Internet tend to be rich to meet various demands. Accordingly there is a problem that a load on a communication terminal is heavy when rich contents are used by using the communication terminal to use a service through the Internet.

Moreover Patent Literature 1 discloses a technique in which communication terminals to which an operation to display drawing information such as characters and pictures can be input are connected to a network and the terminals are communicated with each other by the drawing information.

However in the conventional technique drawing information that is displayed only at an own terminal and drawing information that is displayed also at another terminal cannot be displayed on the terminals in a distinguished manner.

The present invention is achieved in view of the above problem and it is an object of the present invention to provide a delivery managing device a terminal and a delivery managing method that enable to display drawing information to be displayed only at an own terminal and drawing information to be displayed also at another terminal in a distinguished manner.

To solve the above problem the present invention is a delivery managing device to which a plurality of terminals are connected through a network including a creating unit that creates display information based on operation information indicating an operation input accepted by a terminal a converting unit that converts the display information into video information and a delivery unit that delivers the video information to a terminal wherein when non public operation information is received from a terminal the non public operation information indicating operation information not to be published to another terminal the delivery unit delivers video information that is converted from display information not based on the non public operation information to the other terminal.

According to the present invention drawing information that is to be displayed only at an own terminal and drawing information to be displayed also at another terminal can be displayed on the terminals in a distinguished manner.

A delivery system according to a present embodiment is explained in detail below using drawings. An embodiment described below is an application example as a delivery system in which cloud computing is used a web browser hereinafter browser and an encoder are both interfaced thereto to be operated on the cloud and web contents are converted into video data sound data or video data and sound data to be delivered to a communication terminal such as a personal computer and an electronic blackboard. Note that an image described below includes a still image and a moving image. Moreover a video described below basically signifies a moving image and includes that in a still image state as a result of pausing the moving image. Furthermore when at least one of a still image and sound is indicated it is expressed as still image sound . Moreover when at least one of an image and sound is indicated it is expressed as image sound . When at least one of a video and sound is indicated it is expressed as video sound .

First an overview of the present embodiment is explained using . is a schematic diagram of a delivery system according to the present embodiment.

As shown in the delivery system of the present embodiment includes a delivery managing device multiple communication terminals to a terminal managing device and a web server . In the following when an arbitrary communication terminal is indicated out of the multiple communication terminals to it is expressed as communication terminal . Any of the delivery managing device the terminal managing device and the web server is constituted of a server computer.

The communication terminal is a terminal that is used by a user that receives a service of the delivery system . The communication terminal out of these is a laptop personal computer PC . The communication terminal is a mobile terminal such as a smartphone and a tablet terminal. The communication terminal is a multifunction peripheral MFP printer product in which respective functions of copy scan print and facsimile are combined. The communication terminal is a projector. The communication terminal is a videoconference terminal that is equipped with a camera a microphone and a speaker. The communication terminal is an electronic blackboard whiteboard that is capable of electronically converting a content drawn by a user and the like.

Note that the communication terminal is not limited to the terminals as shown in but may be a device that can perform communication through a communication network such as the Internet namely a watch a vending machine a gas meter a car navigation system a game an air conditioner an illumination unit a camera alone a microphone alone a speaker alone and the like.

Moreover the delivery managing device the communication terminal the terminal managing device and the web server can perform communication by a communication network such as the Internet and a local area network LAN . This communication network includes a network by a wireless communication such as a 3rd Generation 3G Worldwide Interoperability for Microwave Access WiMAX a Long Term Evolution LTE .

Depending on the communication terminal there is one that does not have a function of communication with other terminals and systems through the communication network as the communication terminal and the like. However as shown in by inserting a dongle into an interface unit such as a universal serial bus USB and a high definition multimedia interface HDMI registered trademark of the communication terminal by a user the communication terminal is enabled to perform communication with other terminals and systems through the communication network . is an image drawing when the dongle is installed into a communication terminal.

The delivery managing device has a browser on the cloud and acquires one or more pieces of content data that is expressed by a predetermined description language by a renderer function in the browser to perform rendering thereby creating still image data such as bitmap data by RGB red green blue and frame data as sound data that is still image sound data such as pulse code modulation PCM data. Note that content data is data that is acquired from the web server an arbitrary communication terminal or the like and includes image sound data by hypertext markup language HTML or cascading style sheets CSS image sound data by moving picture experts group 4 MPEG 4 MP4 sound data by advanced audio coding AAC and the like.

Furthermore the delivery managing device has an encoding unit on the cloud and the encoding unit functions as an encoder thereby converting respective frame data as still image sound data into video sound data in a compressed coding scheme such as H.264 MPEG 4 AVC H.265 and motion joint photographic experts group JPEG .

On the other hand the terminal managing device performs login verification of the communication terminal and performs management of contract information and the like of the communication terminal . Moreover the terminal managing device has a simple mail transfer protocol SMTP server function to transmit an email. The terminal managing device can be implemented for example as a virtual machine that is developed on a cloud service infrastructure as a service IaaS . It is preferable that the terminal managing device be operated in a multiplexed manner to provide services continuously to be prepared for an unexpected happening.

The browser of the delivery managing device enables real time communication RTC collaboration . Furthermore it also has an encoder bridge unit the encoding unit in described later included in the delivery managing device and this encoding unit performs real time encoding on video sound data that is created by the browser and is capable of outputting video sound data that is created by conversion based on for example H.264 standards. Therefore the processing of the delivery managing device differs from a case of delivery by reading non real time video sound data that is recorded on a digital versatile disk DVD for example by a DVD player and the like

Note that not only the delivery managing device but also the communication terminal may have a browser. In this case by updating the browser of the delivery managing device it becomes unnecessary to activate browsers of the respective communication terminals .

Furthermore the delivery system can also deliver web contents as video sound data to the communication terminals that are located at the same site or at multiple sites by applying the delivery method described above as shown in to . A delivery method shown in to is explained here.

The delivery system of the present embodiment can switch whether to deliver operation data of the communication terminal also to the other communication terminals by setting the communication terminal . A method of switching the setting of the communication terminal is performed for example by operating a button that is displayed on a display screen of the communication terminal . An overview of a delivery method of operation data is explained here and detailed explanation is described later.

First public setting for delivering operation data of the own communication terminal also to the other communication terminals is explained. That is a case in which the setting for delivery of operation data is set to be public is explained. is a conceptual drawing showing a delivery method when operation information is published. As shown in in a first site right side in the communication terminal is used as an electronic blackboard and an electronic pen P is used as an input device. Moreover in a second site left side in the communication terminal is used as an electronic blackboard and an electronic pen P is used as an input device.

The communication terminal displays a content A as a background image. The content A of the background image is received from the delivery managing device . Specifically the delivery managing device receives the content A from the web server and makes it into a data format to display as the background image on the communication terminal by rendering the content A by the browser . An encoder bridge unit encodes the content A subjected to rendering to transmit to the communication terminal . A case of displaying the content A on the communication terminal as a background image is also the same.

The communication terminal accepts operation data that indicates an operation input made by the electronic pen P. The operation data includes coordinate information indicating positions of for example a character and a figure drawn at the communication terminal and the like. The communication terminal transmits terminal transmission information in which operation data p indicating the accepted operation input information indicating that the operation data is set to be public and identification information to identify the communication terminal are associated with each other to the delivery managing device .

Similarly the communication terminal accepts operation data that indicates an operation input made by the electronic pen P. The communication terminal transmits terminal transmission information in which operation data p indicating the accepted operation input information indicating that the operation data is set to be public and identification information to identify the communication terminal are associated with each other to the delivery managing device .

Receiving the operation data p from the communication terminal the delivery managing device transmits the operation data p to the browser . Similarly receiving the operation data p from the communication terminal the delivery managing device transmits the operation data p to the browser . Because the setting information of the operation data p and the operation data p are both set to be public the browser performs rendering of the operation data p the operation data p and the content A to create one piece of public display information.

The browser transmits the public display information to the encoder bridge unit and an encoder bridge unit . The encoder bridge unit encodes the public display information and transmits to the communication terminal . The encoder bridge unit encodes the public display information and transmits to the communication terminal . The communication terminal and the communication terminal display the public display information the operation data p the operation data p and the content A received from the delivery managing device .

Next non public setting for not delivering operation data of the own communication terminal to the other communication terminals is explained. That is a case in which the setting for delivery of operation data is set to be non public is explained. is a conceptual drawing showing a delivery method when operation information is non public. As shown in in a first site right side in the communication terminal is used as an electronic blackboard and the electronic pen P is used as an input device. Moreover in a second site left side in the communication terminal is used as an electronic blackboard and the electronic pen P is used as an input device. A case in which the communication terminal is set to be non public and the communication terminal is set to be public is explained as an example.

The communication terminal and the communication terminal display the content A as a background image. The communication terminal accepts operation data that indicates an operation input made by the electronic pen Pl. The communication terminal transmits terminal transmission information in which the operation data p indicating the accepted operation input information indicating that the operation data is set to be non public and the identification information to identify the communication terminal are associated with each other to the delivery managing device .

Similarly the communication terminal accepts operation data that indicates an operation input made by the electronic pen P. The communication terminal transmits terminal transmission information in which operation data p indicating the accepted operation input information indicating that the operation data is set to be public and the identification information to identify the communication terminal are associated with each other to the delivery managing device .

Receiving the operation data p from the communication terminal the delivery managing device transmits the operation data p to the browser . Similarly receiving the operation data p from the communication terminal the delivery managing device transmits the operation data p to the browser .

Because the setting information of the operation data p is set to be non public and the setting information of the operation data p is set to be public the browser creates non public display information and public display information. Specifically the browser performs rendering of the operation data p the operation data p and the content A to create one piece of non public display information and transmits the non public display information to the encoder bridge unit . The browser performs rendering of the operation data p and the content A to create one piece of public display information and transmits the public display information to the encoder bridge unit .

The encoder bridge unit encodes the non public display information to transmit to the communication terminal . The encoder bridge unit encodes the public display information to transmit to the communication terminal . The communication terminal displays the non public display information the operation data p the operation data p and the content A received from the delivery managing device . The communication terminal displays the public display information the operation data p and the content A received from the delivery managing device .

As described above in the first site and the second site it is possible to perform remote sharing processing to share the same information in real time in remote locations and therefore the delivery system of the present embodiment is effective for teleconferencing and the like.

First a hardware configuration of the present embodiment is explained using and . is a diagram showing one example of a logical hardware configuration of the delivery managing device . Moreover is a diagram showing one example of a logical hardware configuration of the dongle . Because hardware configurations of the communication terminal the terminal managing device and the web server are the same as the hardware configuration of the delivery managing device explanation thereof is omitted.

As shown in the delivery managing device includes a host central processing unit CPU that controls operation of the entire delivery managing device a read only memory ROM that stores a program such as an information processing language IPL used to drive the CPU a random access memory RAM that is used as a work area of the CPU a hard disk drive HDD that stores various kinds of data such as a program a hard disk controller HDC that controls read and write of various kinds of data from and to the HDD according to control of the CPU a media drive that controls read and write storing of data from and to a recording medium such as a flash memory a display that displays various kinds of information an interface I F to transmit data using the communication network or to connect the dongle a keyboard a mouse a microphone a speaker a graphics processing unit GPU a ROM that stores a program used to drive the GPU a RAM that is used as a work area of the GPU and an expansion bus line such as an address bus and a data bus to electrically connect the respective components described above.

Note that programs for the respective communication terminals the respective systems or the respective servers may be distributed by recording on a computer readable recording medium such as the recording medium described above in a file of an installable format or an executable format.

Next a hardware configuration of the dongle is explained using . As shown in the dongle includes a CPU that controls operation of the entire dongle a ROM that stores a basic input output program a RAM that is used as a work area of the CPU an electrically erasable and programmable ROM EEPROM that reads and writes data according to control of the CPU a GPU a ROM that stores a program used to drive the GPU a RAM that is used as a work area of the GPU the I F to connect to the I F of the communication terminal an antenna a communication unit that performs communication by short range wireless technique by using this antenna and a bus line such as an address bus and a data bus to electrically connect the respective components described above. As the short range wireless technique for example there are near field communication NFC standards Bluetooth registered trademark wireless fidelity Wi Fi registered trademark a ZigBee registered trademark and the like.

Next a functional configuration of the present embodiment is explained using to . is a functional block diagram showing respective functions of the delivery managing device mainly. Although a functional configuration when the delivery managing device delivers video sound data to the communication terminal is shown in the function configuration is the same also when the delivery destination is other than the communication terminal . Although the delivery managing device has more than one delivery engine server for simplicity of explanation a case of having a single delivery engine server is explained in the following.

The delivery managing device implements the respective functional configurations shown in by the hardware configuration shown in and a program. Specifically the delivery managing device has the browser a transceiving unit a browser managing unit a transmission FIFO a time managing unit a time acquiring unit a line accommodation controller the encoder bridge unit a transceiving unit a reception FIFO a recognizing unit a delay information acquiring unit a line accommodation controller and a decoding unit . Furthermore the delivery managing device has a storage unit that is constituted of the HDD shown in . In this storage unit identification information described later that is output from the recognizing unit is stored. Note that content date acquired by the browser can also be temporarily stored in the storage unit as a cache. Moreover the storage unit stores a drawing information table .

Among the respective function components described above the browser is a web browser that operates in the delivery managing device . The browser creates video sound data as RGB data or pulse code modulation PCM data by performing rendering of content data such as web content data. The browser is always updated to the latest form so as to support richer web content.

Moreover in the delivery system of the present embodiment multiple units of the browsers are prepared in the delivery managing device and a cloud browser to be used for a user session is selected from among these browsers . For simplicity of explanation a case in which a single unit of the browser is prepared is explained below.

The browser has for example a media player a flash player a JavaScript registered trademark a cascading style sheet CSS and an HTML renderer. JavaScript registered trademark includes a standard one and one specific to the delivery system . The media Player is a browser plugin to reproduce a multimedia file such as a video sound file in the browser . Flash Player is a browser plugin to reproduce a Flash content in the browser . The specific JavaScript registered trademark is a JavaScript registered trademark group that provides application programming interface API of a service unique to the delivery system . CSS is a technique for effective definition of appearance and a style of a web page that is described in HTML. The HTML renderer is a WebKit based HTML rendering engine.

The transceiving unit performs transmission and reception of various kinds of data requests and the like with the terminal managing device and the web server . For example transceiving unit acquires web content data from a content site of the web server .

The browser managing unit performs management of the browser and the encoder bridge unit . For example the browser managing unit instructs start or end thereof to the browser and the encoder bridge unit or numbers an encoder identification ID at the time of start or end. The encoder ID is an identification information that is numbered to manage a process of the encoder bridge unit by the browser managing unit . Furthermore the browser managing unit numbers a browser ID each time the browser is started for management. The browser ID is identification information that is numbered to manage a process of the browser and to identify the browser .

Moreover the browser managing unit acquires various kinds of operation data p from the communication terminal through the transceiving unit to output to the browser . The operation data p is data generated by an operation event operation by the keyboard the mouse or the like and strokes with the electronic pen P and the like at the communication terminal . When various kinds of sensors such as a temperature sensor a humidity sensor and an acceleration sensor are provided in the communication terminal the browser managing unit acquires sensor information that is an output signal of each sensor from the communication terminal to output to the browser .

The time managing unit manages time T specific to the delivery managing device . The time acquiring unit performs processing to adjust time in coordination with a time control unit in the communication terminal described later. Specifically the time acquiring unit acquires time information T indicating time T at the delivery managing device from the time managing unit receives time information t indicating time t at the communication terminal from the time control unit described later and transmits the time information t and the time information T to the time control unit .

The line accommodation controller calculates reproduction delay time U based on transmission delay time information D and calculates an operation condition such as a frame rate and resolution of data of the converting unit described later in the encoder bridge unit . This reproduction delay time U is time for delaying reproduction by buffering data before reproduction. That is the line accommodation controller changes action of the encoder bridge unit based on the transmission delay time information D and data size the number of bits or the number of bites and the like . This transmission delay time information D indicates frequency distribution information that is constituted of more than one transmission delay times D acquired from a reproduction control unit by a delay information acquiring unit in the communication terminal . The respective transmission delay times D indicate time from when video sound data is transmitted by the delivery managing device until received by the communication terminal .

The encoder bridge unit outputs respective frame data as still image sound data that is created by the browser to the converting unit in the encoder bridge unit described later. At this time the converting unit performs various processing considering the operation condition calculated by the line accommodation controller . The encoder bridge unit is explained in further detail using and . is a detailed diagram of the encoder bridge unit . Moreover is a functional block diagram showing respective functions of the converting unit .

As shown in the encoder bridge unit includes a creating selecting transferring unit a selecting unit and converting units and that are built therebetween. Although three units of the converting units and are shown in this example any number of the converting units may be prepared. In the following an arbitrary converting unit is indicated as converting unit .

Furthermore the converting unit includes a trimming unit a resizing unit a dividing unit and the encoding unit as shown in . The trimming unit resizing unit and the dividing unit do not perform processing for sound data.

The trimming unit performs processing of cutting out only a part of a video image . The resizing unit changes the scale of a video image . The dividing unit divides a web content that is acquired from the web server as shown in .

The encoding unit encodes video sound data that is created at the browser and thereby converts the video sound data so that the video sound data can be delivered to the communication terminal through the communication network . Moreover the encoding unit inserts if video is not moving if there is no update change among frames skip frame also referred to as frame skip data until the video moves thereby saving a band. When sound data is created together with still image data by rendering both data are encoded. However when only sound data is created trimming resizing and division are not performed and only encoding is performed to compress the data.

The creating selecting transferring unit newly creates the converting unit or selects video sound data to be input to the converting unit that has already been created. As a case in which the creating selecting transferring unit newly creates the converting unit for example there is a case in which the converting unit capable of performing conversion that meets the reproduction performance for video sound data of the communication terminal is to be created and the like. Furthermore in a case in which the creating selecting transferring unit selects video sound data to be input to the converting unit the converting unit that has already been created is to be selected. For example when delivery to the communication terminal is started in addition to delivery to the communication terminal there is a case in which video sound data same as the video sound data that is being delivered to the communication terminal is delivered to the communication terminal . A case in which the communication terminal has the same reproduction performance as the reproduction performance for video sound data in the communication terminal in such a case and the like corresponds to this. That is in such a case the creating selecting transferring unit does not create a new converting unit for the communication terminal but uses a converting unit that has already been created for the communication terminal

The selecting unit selects a desired one from among the converting units already been created. Selection made by the creating selecting transferring unit and the selecting unit enables various patterns of delivery.

Returning back to the transceiving unit performs transmission and reception of various kinds of data request and the like with the communication terminal . For example in login processing of the communication terminal the transceiving unit transmits verification screen data to prompt a user to make a login request to a transceiving unit of the communication terminal described later. Other than that the transceiving unit performs data transmission and data reception to and from an application program a user application or a device application that is installed in the communication terminal to receive a service of the delivery system by a protocol specific to the delivery system through a hypertext transfer protocol over secure socket layer HTTPS server. This specific protocol is an application layer protocol based on HTTPS to transmit and receive data in real time without interruption between the delivery managing device and the communication terminal . Furthermore the transceiving unit performs respective processing of transmission response control real time data creation command transmission reception response control reception data analysis and gesture conversion.

The transmission response control is processing of managing an HTTPS session for download requested by the communication terminal to transmit data to the communication terminal from the delivery managing device . A response of this HTTPS session for download does not end soon but is maintained for a predetermined time to several minutes . The transceiving unit writes data to transmit to the communication terminal dynamically in a body of the response. Furthermore to save a cost of reconnection another request is to be delivered from the communication terminal before a previous session ends. By keeping the transceiving unit in standby until a previous request is completed overhead can be eliminated even if reconnection is performed.

Real time data creation is processing of adding a specific header to data RTP data of compressed video and compressed sound data that is created at the encoding unit in to write in a body of downlink HTTPS to the communication terminal .

The command transmission is processing of creating a command data to transmit to the communication terminal to write in a body of HTTPS for delivery downlink to the communication terminal .

The reception response control is processing of managing an HTTPS session for transmission uplink requested by the communication terminal for the delivery managing device to receive data from the communication terminal . A response of this HTTPS session does not end soon but is maintained for a predetermined time to several minutes . The communication terminal writes data to transmit to the transceiving unit dynamically in a body of the response.

The reception data analysis is processing of analyzing data that is transmitted from the communication terminal for every type and of transferring the data to a necessary process.

The gesture conversion is processing of converting a gesture event that is input by a user with the electronic pen P or hand to the communication terminal as an electronic blackboard into a format receivable for the browser .

The recognizing unit performs processing on video sound data E that is received from the communication terminal . Specifically the recognizing unit recognizes a face of a human or an animal an age a sex and the like for example from video imaged for signage by a camera described later. Moreover for offices the recognizing unit performs name tagging by face recognition from video imaged by the camera described later background image replacement processing and the like. The recognizing unit stores recognition information indicating recognized information in the storage unit . This recognizing unit can achieve high speed processing by performing the processing with a recognition expansion board.

The delay information acquiring unit is used for processing of uplink line accommodation control corresponding to the delay information acquiring unit on the communication terminal side used for processing of downlink line accommodation control. Specifically the delay information acquiring unit acquires transmission delay time information d indicating a transmission delay time d from the decoding unit and holds for a predetermined time and when multiple pieces of the transmission delay time information d are acquired outputs transmission delay time information d indicating frequency distribution information with multiple transmission delay times d to the line accommodation controller . The transmission delay time information d indicates time from when video sound data is transmitted by the communication terminal until when the data is received by the delivery managing device .

The line accommodation controller is used for processing of uplink line accommodation control corresponding to the line accommodation controller described above that is used for the processing of downlink line accommodation control. Specifically the line accommodation controller calculates an operation condition of an encoding unit on the communication terminal side based on the transmission delay time information d . Moreover the line accommodation controller transmits a line accommodation control signal indicating the operation condition such as a frame rate and a resolution of data to the encoding unit of the communication terminal through the transceiving unit and the transceiving unit described later.

The decoding unit decodes the video sound data E that has been transmitted from the communication terminal . Furthermore the decoding unit outputs the transmission delay time information d indicating the transmission delay time d to the delay information acquiring unit

Subsequently a functional configuration of the communication terminal is explained using . is a functional block diagram showing respective functions of the communication terminal mainly. Although the communication terminal is exemplified as one of the communication terminals in the communication terminal other than the communication terminal also has the same functional configuration. The communication terminal in which a user application has been installed out of the communication terminals is to be an interface for a user to perform login to the delivery system start or stop of delivery of video sound data and the like. On the other hand the communication terminal in which a device application has been installed only performs transmission and reception of video sound data or transmission of operation data and has no interface described above. In the following explanation is given assuming that a user application is installed in the communication terminal for convenience sake.

The communication terminal implements the respective functional configurations shown in by a hardware configuration and a program user application similar to those in . Specifically the communication terminal has the decoding unit the transceiving unit an operating unit the reproduction control unit a rendering unit the time control unit the delay information acquiring unit a display unit the encoding unit and a drawing control unit . Furthermore the communication terminal has a storage unit that is built with the RAM shown in . In this storage unit time difference information indicating a time difference described later the time information t indicating time t at the communication terminal are stored.

The decoding unit decodes the video sound data AEp that has been delivered by the delivery managing device and is output from the reproduction control unit .

The transceiving unit performs transmission and reception of various kinds of data requests and the like with the transceiving unit of the delivery managing device and a transceiving unit of the terminal managing device described later. For example the transceiving unit performs a login request to the transceiving unit of the terminal managing device based on activation of the communication terminal by the operating unit in login processing of the communication terminal .

The operating unit performs processing of accepting an operation input of a user. For example the operating unit accepts an input selection and the like made with a power switch a keyboard a mouse the electronic pen P and the like and transmits as the operation data p to the browser managing unit of the delivery managing device . Moreover the operating unit transmits the operation data p to the drawing control unit .

The reproduction control unit performs buffering on the video sound data AEp real time data packet received from the transceiving unit to output to the decoding unit considering the reproduction delay time U. The reproduction delay time U is received from the delivery managing device by the transceiving unit and is informed to the reproduction control unit . The reproduction control unit stores the reproduction delay time U in the storage unit . Moreover the reproduction control unit calculates the transmission delay time information D indicating the transmission delay time D to output to the delay information acquiring unit .

The time control unit performs processing of time adjustment in coordination with the time acquiring unit of the delivery managing device . Specifically the time control unit acquires the time information t indicating a time t at the communication terminal from the storage unit . Furthermore the time control unit requests the time acquiring unit of the delivery managing device for the time information T indicating a time T at the delivery managing device through the transceiving unit and the transceiving unit . In this case the time information t is transmitted together with the request for the time information T .

The delay information acquiring unit acquires the transmission delay time information D indicating the transmission delay time D from the reproduction control unit and holds for a predetermined time and when multiple pieces of the transmission delay time information D are acquired transmits the transmission delay time information D indicating the frequency distribution with the transmission delay times D to the line accommodation controller through the transceiving unit and the transceiving unit . Note that the transmission delay time information D is transmitted once in frames for example.

The encoding unit transmits the video sound data E that is acquired from the internal microphone refer to or the external camera and microphone and then encoded time information t that is acquired from the storage unit indicating time t at the communication terminal at a current point and the time difference information that is acquired also from the storage unit indicating the time difference to the decoding unit of the delivery managing device through the transceiving unit and the transceiving unit . The time difference is a difference between the time T managed by the delivery managing device on its own and the time t that is managed by the communication terminal on its own. Moreover the encoding unit changes the operation condition of the encoding unit based on the operation condition indicated by the line accommodation control signal that is received from the line accommodation controller . Furthermore when the operation condition is changed the encoding unit transmits the video sound data E that is acquired from the camera and the microphone the time information t indicating the time t at the communication terminal at the current time acquired from the storage unit and the time difference information indicating the time difference acquired from the storage unit to the decoding unit of the delivery managing device through the transceiving unit and the transceiving unit according to the new operation condition.

Note that the internal microphone and the external camera and microphone are one example of the input unit and are various kinds of devices that require encoding and decoding. The input unit may be able to output touch data or smell data other than video sound data.

The input unit includes various kinds of sensors such as a temperature sensor a direction sensor and an acceleration sensor. In an example in which the communication terminal as a videoconference terminal is connected to the communication terminal as an electronic black board and a camera and a microphone of the communication terminal is used as the external camera and microphone of the communication terminal is shown.

The drawing control unit receives the operation data p from the operating unit . The drawing control unit instructs the rendering unit to perform rendering based on the operation data p . Thus the display unit temporarily displays drawing information based on the operation data p until the public display information or non public display information described above that includes the drawing information based on the operation data p is received from the delivery managing device and displayed on the communication terminal . Hereinafter the drawing information that is drawn temporarily based on the operation data p is referred to as local drawing information . Moreover the drawing control unit reads the reproduction delay time U from the storage unit and instructs the rendering unit to delete the local drawing information when a display scheduled time of the public display information or the non public display information comes.

Subsequently a functional configuration of the terminal managing device is explained using . is a functional block diagram showing respective functions of the terminal managing device .

The terminal managing device implements respective functional components shown in by the same hardware configuration as that in and a program. Specifically the terminal managing device has the transceiving unit a transceiving unit and an authentication unit . Furthermore the terminal managing device has a storage unit constituted of the HDD shown in . In this storage unit a delivery destination selecting menu data a terminal managing table and a usable terminal managing table are stored.

A delivery destination selecting menu is data that shows a delivery destination selecting menu screen as shown in . is a conceptual drawing of the delivery destination selecting menu screen. In this delivery destination selecting menu screen shown in for the communication terminals selectable as a delivery destination of video sound data shared IDs and display names described later are displayed in list form. On this delivery destination selecting menu screen by checking an item of the communication terminal that is desired to be the delivery destination of video sound data and pressing an OK button a user can have the video sound data delivered to the desired communication terminal .

Moreover the shared ID is ID that is used when remote share processing is performed by delivering video sound data same as the video sound data delivered to the own communication terminal to the other communication terminal and is identification information to identify the other communication terminal or the other communication terminal group. In the example shown in a shared ID of a terminal ID t is v and a shared ID of a terminal ID t is v and a shared ID of a terminal ID t is v . Furthermore when a request for remote share processing with the communication terminals and of the shared ID v is made from the communication terminal of the terminal ID t the delivery managing device delivers video sound data same as video sound data that is being delivered to the communication terminal to the communication terminals and . However when resolutions of the display units of the communication terminals and differ from each other the delivery managing device delivers the video sound data according thereto.

The installed location information indicates an installed location when multiple units of the communication terminals and are arranged in an aligned manner for example as shown in . The display name information is information indicating a display name in the delivery destination selecting menu screen shown in .

The transceiving unit performs transmission and reception of various kinds of data requests and the like with the communication terminal . For example the transceiving unit receives a login request from the transceiving unit of the communication terminal and transmits an authentication result for the log request to the transceiving unit .

The transceiving unit performs transmission and reception of various kinds of data requests and the like with the delivery managing device . For example the transceiving unit receives a request for data of the delivery destination selecting menu from the transceiving unit of the delivery managing device and transmits data of the delivery destination selecting menu to the transceiving unit .

The authentication unit determines based on the terminal ID and the user certificate received from the transceiving unit of the communication terminal whether the same combination of the terminal ID and the user certificate is present by searching the terminal managing table thereby performing the authentication of the communication terminal .

First specific delivery processing in the basic delivery method shown in is explained using . is a sequence diagram showing basic delivery processing of the delivery managing device . Although a case in which a login request is made using the communication terminal is explained here it may be logged in using the communication terminal other than the communication terminal

As shown in when a user turns on the communication terminal the transceiving unit of the communication terminal transmits a login request to the transceiving unit of the terminal managing device step S . Thus the transceiving unit of the terminal managing device receives the login request to output to the authentication unit . In this login request a terminal ID of the communication terminal and a user certificate are included. Therefore the authentication unit acquires the terminal ID and the user certificate of the communication terminal

Next the authentication unit of the terminal managing device determines based on the terminal ID and the user certificate received from the communication terminal whether the same combination of the terminal ID and the user certificate is present by searching the terminal managing table thereby performing authentication of the communication terminal step S . Here a case in which the same combination of the terminal ID and the user certificate is present in the terminal managing table that is when the communication terminal is authenticated as a proper terminal in the delivery system is explained in the following.

Next the transceiving unit of the terminal managing device transmits an IP address of the delivery managing device to the transceiving unit of the communication terminal step S . The IP address of the delivery managing device is acquired from the delivery managing device by the terminal managing device and stored in the storage unit in advance.

Next the transceiving unit of the terminal managing device makes an activation request of the browser to the transceiving unit of the delivery managing device step S . Thus the transceiving unit receives the activation request of the browser . The browser managing unit activates the browser based on the activation request received by the transceiving unit step S . Next the creating selecting transferring unit of the encoder bridge unit creates the converting unit according to the reproduction performance resolution of the display and the like of the communication terminal and a type of a content step S .

Next the transceiving unit requests the web server for the content data A according to an instruction of the browser step S . In response to this the web server reads the requested content data A from a storage unit not shown thereof step S . The web server transmits the content data A to the transceiving unit of the delivery managing device step S .

Next the browser creates respective frame data as still image sound data A by performing rendering of the content data A received by the transceiving unit to output to the transmission FIFO step S . The converting unit then encodes the frame data stored in the transmission FIFO to convert into the video sound data A to be delivered to the communication terminal step S 

Next the transceiving unit transmits the video sound data A to the transceiving unit of the communication terminal step S . Thus the transceiving unit of the communication terminal receives the video sound data A to output to the reproduction control unit .

Next in the communication terminal the decoding unit acquires the video sound data A from the reproduction control unit to perform decoding step S . Thereafter the speaker reproduces sound based on decoded sound data A and the display unit reproduces video based on video data A that has been acquired from the decoding unit and rendered by the rendering unit step S .

Subsequently processing of time adjustment is explained using . is a sequence diagram showing processing of the time adjustment performed between the delivery managing device and the communication terminal .

First the time control unit of the communication terminal acquires time information t at the communication terminal from the storage unit to acquire time indicating a point of time when the transceiving unit requests the delivery managing device for time information T step S . The transceiving unit then requests the transceiving unit for the time information T at the delivery managing device step S . In this case the time information t is transmitted together with a request for the time information T .

Next the time acquiring unit of the delivery managing device acquires time information T at the delivery managing device from the time managing unit to acquire time indicating a point of time when the transceiving unit receives the request made at above step S step S . Furthermore the time acquiring unit acquires the time information T at the delivery managing device from the time managing unit to acquire time indicating a point of time when the transceiving unit responds to the request made at above step S step

The time control unit of the communication terminal acquires time information t at the communication terminal from the storage unit to acquire time indicating a point of time when the transceiving unit receives the response made at above step S step S .

The time control unit of the communication terminal calculates a time difference between the delivery managing device and the communication terminal step S . This time difference is expressed by following Equation 1 . 2 2 1 

The time control unit then stores time difference information indicating time difference data in the storage unit step S . A series of time adjustment processing is performed for example every minute periodically.

Subsequently processing of line accommodation control of downlink data transmitted from the delivery managing device to the communication terminal is explained using . is a sequence diagram showing processing of line accommodation control of data transmitted from the delivery managing device to the communication terminal .

First the line accommodation controller calculates the production delay time information U indicating the reproduction delay time U to delay reproduction by performing buffering before the reproduction control unit of the communication terminal reproduces video sound data to output to the encoder bridge unit step S .

Next the transceiving unit acquires the reproduction delay time information U from the encoder bridge unit and transmits the reproduction delay time information U to the transceiving unit of the communication terminal step S . Thus the transceiving unit of the communication terminal receives the reproduction delay time information U . Moreover the encoder bridge unit adds time information T indicating time Tthat indicates a point of time of acquisition from the time managing unit to the video sound data A that has been acquired from the transmission FIFO and processed by encoding and the like as a time stamp step S . The transceiving unit transmits the video sound data and the time information T of the delivery managing device to the transceiving unit of the communication terminal step S . Thus the transceiving unit of the communication terminal receives the video sound data and the time information T of the delivery managing device and outputs the video sound data and the time information T to the reproduction control unit .

Next in the communication terminal the reproduction control unit waits until a time T U comes based on the reproduction delay time information U acquired at above step S the time information T acquired at above step S and the time difference information stored in the storage unit at step S in to output the video sound data to the decoding unit thereby causing the speaker to reproduce sound and the display unit to reproduce video through the rendering unit step S . Thus only the video sound data received by the communication terminal is to be reproduced within a range of the reproduction time U expressed in Equation 2 below and because video sound data out of the range is delayed too much it is deleted without being reproduced. 2 

Moreover the reproduction control unit reads from the storage unit the time tat a current time in the communication terminal step S . This time tindicates a time at the communication terminal at the time when video sound data is received from the delivery managing device by the communication terminal . Furthermore the reproduction control unit reads the time difference information indicating the time difference that is stored at step S in from the storage unit step S . The reproduction control unit then calculates the transmission delay time D indicating time from the video sound data is transmitted from the delivery managing device until received by the communication terminal step S . This calculation is done by Equation 3 below. When the communication network is busy the transmission delay time D1 is to be long. 1 3 

Next the delay information acquiring unit acquires the transmission delay time information D indicating the transmission delay time D from the reproduction control unit and holds it for a predetermined time and outputs when multiple pieces of the transmission delay time information D are acquired the transmission delay time information D indicating the frequency distribution information with the transmission delay times D to the transceiving unit step S . The transceiving unit then transmits the transmission delay time information D to the transceiving unit of the delivery managing device step S . Thus the transceiving unit of the delivery managing device receives the transmission delay time information D and outputs the transmission delay time information D to the line accommodation controller .

Next the line accommodation controller of the delivery managing device newly calculates a reproduction delay time U and calculates an operation condition such as a frame rate of the converting unit and a resolution of data based on the transmission delay time information D to output to the encoder bridge unit step S . That is the line accommodation controller changes the action of the encoder bridge unit based on the transmission delay time information D and a data size the number of bits the number of bites .

Next the transceiving unit acquires reproduction delay time information U indicating the reproduction delay time U newly calculated at above step S from the encoder bridge unit and transmits the reproduction delay time information U to the transceiving unit of the communication terminal step S . Thus the transceiving unit of the communication terminal receives the reproduction delay time information U .

Furthermore the converting unit in the encoder bridge unit changes the operation condition of the converting unit based on the line accommodation control signal indicating the operation condition step S . For example when the transmission delay time D is too long because the reproduction time at the speaker and the display unit is to be too long if the reproduction delay time U is increased according to the transmission delay time D there is a limit for increasing the reproduction delay time U. Accordingly the line accommodation controller deals with congestion of the communication network not only by causing the encoder bridge unit to change the reproduction delay time U to the reproduction delay time U but also by causing the converting unit to decrease the frame rate of video sound data or to decrease the resolution of video sound data. Therefore the encoder bridge unit adds the time information T at the current time to the video sound data A as a time stamp as indicated at above step S step S . The transceiving unit then transmits the video sound data and the time information T of the delivery managing device to the transceiving unit of the communication terminal step S . Thus the transceiving unit of the communication terminal receives the video sound data and the time information T of the delivery managing device and outputs the video sound data and the time information T to reproduction control unit .

Next in the communication terminal the reproduction control unit waits until the time T U at the communication terminal comes based on the reproduction delay time information U acquired at above step S the time information T acquired at above step S and the time difference information stored in the storage unit at step S in and then outputs the video sound data to the decoding unit thereby causing the speaker to reproduce sound and the display unit to reproduce video through the rendering unit step S . Thereafter the processing at above step S and later is subsequently performed. Thus the processing of downlink line accommodation control is successively performed.

Subsequently processing of the line accommodation control of uplink data to be transmitted to the delivery managing device from the communication terminal is explained using . is a sequence diagram showing processing of line accommodation control of data to be transmitted to the delivery managing device from the communication terminal .

First the encoding unit of the communication terminal encodes content data as the video sound data E that is input from the camera and the microphone step S . At this time the encoding unit acquires the time information T indicating the time t at the communication terminal at the current time and the time difference information indicating the time difference from the storage unit but does not perform encoding thereof. The transceiving unit transmits the video sound data E the time information t and the time difference information to the transceiving unit of the delivery managing device step S . Thus the transceiving unit of the delivery managing device receives the video sound data E the time information t and the time difference information .

Next in the delivery managing device the decoding unit reads the time Tindicating a point of time when the video sound data E and the like that are received at above step S from the time managing unit step S . The decoding unit then calculates the transmission delay time d that indicates a time period from transmission of the video sound data from the communication terminal until reception thereof at the delivery managing device step S . This calculation is performed by Equation 4 below. When the communication network is busy the transmission delay time d is to be long. 1 4 

Next similarly to the delay information acquiring unit of the communication terminal the delay information acquiring unit of the delivery managing device acquires the transmission delay time information d indicating the transmission delay time d from the decoding unit and holds it for a predetermined time and outputs when multiple pieces of the transmission delay time information d are acquired the transmission delay time information d that indicates the frequency distribution information with the transmission delay times d to the line accommodation controller step S .

Next the line accommodation controller calculates an operation condition of the encoding unit of the communication terminal based on the transmission delay time information d step S . The transceiving unit then transmits a line accommodation control signal indicating the operation condition such as a frame rate and a resolution of data to the transceiving unit of the communication terminal step S . Thus the transceiving unit of the communication terminal receives the line accommodation control signal. That is while for the line accommodation controller in a case of downlink the line accommodation control signal is output to the encoder bridge unit in the same delivery managing device for the line accommodation controller in a case of uplink the line accommodation control signal is transmitted to the communication terminal through the communication network from the delivery managing device .

Next the encoding unit of the communication terminal changes the operation condition of the encoding unit based on the operation condition that is indicated by the line accommodation control signal received by the transceiving unit step S . The encoding unit then performs processing similar to that at above step S according to the new operation condition step S . The transceiving unit transmits the video sound data E that has been acquired from the camera and the microphone and has been encoded the time information t that indicates the time tat the communication terminal at the current time acquired from the storage unit and the time difference information that indicates the time difference similarly acquired from the storage unit to the transceiving unit of the delivery managing device as indicated at above step step S . Thus the transceiving unit of the delivery managing device receives the video sound data E the time information t and the time difference information . Thereafter the processing at above step S and later is subsequently performed. Thus the processing of the uplink line accommodation control is successively performed.

Subsequently processing of the multi display is explained using to . to are sequence diagrams showing the processing of the multi display shown in .

Here an example of reproducing the video sound data XYZ that is reproduced at the communication terminal also on the respective communication terminals a in a divided manner is given.

Moreover in this example the browser to display a web content is expressed as a content browser and the browser to display a setting screen for a user is expressed as a setting browser . Processing corresponding to step S in is first explained.

First as shown in the content browser of the delivery managing device creates respective frame data as still image sound data by performing rendering of the web content XYZ acquired from the web server and outputs to the transmission FIFO step S . The converting unit of the encoder bridge unit encodes the video sound data stored in the transmission FIFO to convert into the video sound data XYZ in a data format that can be delivered to the communication terminal step S .

Next the transceiving unit of the delivery managing device transmits the video sound data XYZ converted by the converting unit described above to the transceiving unit of the communication terminal step S . Thus the transceiving unit of the communication terminal receives the video sound data XYZ to output to the reproduction control unit .

Next in the communication terminal the decoding unit acquires the video sound data XYZ from the reproduction control unit and performs decoding thereof step S . Thereafter the speaker reproduces sound based on the decoded sound data XYZ and the display unit displays video based on the video data XYZ that is acquired from the decoding unit and subjected to rendering by the rendering unit step S .

Next the screen that is displayed on the display unit is switched to a menu request screen not shown by a user of the communication terminal and the operating unit accepts depression of the delivery destination selecting menu not shown in the menu request screen step S . Thus the transceiving unit transmits a request for switching to the delivery destination selecting menu to the transceiving unit of the terminal managing device step S . Thus the transceiving unit of the terminal managing device receives the request for switching to the delivery destination selecting menu. In this request the terminal ID of the communication terminal is included.

Next the transceiving unit transmits an activation request for the setting browser to the transceiving unit of the delivery managing device step S . Thus the transceiving unit of the delivery managing device receives the activation request for the setting browser and gives the activation request for the setting browser to the browser managing unit .

Next the browser managing unit activates the setting browser step S . The creating selecting transferring unit of the encoder bridge unit switches an output to the converting unit for example the converting unit from the content browser to an output to the converting unit for example the converting unit from the setting browser step S . However when the communication terminal receives the video sound data by above step sharing the converting unit for example the converting unit with the other communication terminal for example the communication terminal the other communication terminal for example the communication terminal is using the converting unit for example the converting unit for the content browser . Accordingly the creating selecting transferring unit of the encoder bridge unit newly creates the converting unit for example the converting unit .

The transceiving unit then transmits a delivery destination selecting menu request to the transceiving unit of the terminal managing device according to an instruction from the setting browser step S . At this time the terminal ID of the communication terminal is also transmitted. Thus the transceiving unit of the terminal managing device receives the delivery destination selecting menu request and outputs the terminal ID of the communication terminal to the storage unit .

For this the storage unit of the terminal managing device searches the usable terminal managing table based on this terminal ID thereby extracting the corresponding shared ID step S . This shared ID indicates the communication terminal that can be used for the communication terminal to perform the remote sharing processing. For example when the terminal ID of the communication terminal is t by searching the usable terminal managing table the shared IDs v and v are extracted.

Furthermore the storage unit extracts display name information that indicates a corresponding display name by searching the terminal managing table based on the extracted shared IDs step S . In this example as shown in the display names corresponding to the shared IDs v and v are TOKYO HEADQUARTER 10F MFP and OSAKA EXHIBITION HALL 1F MULTI DISPLAY respectively.

The transceiving unit then transmits delivery destination selecting menu data M as content data to the transceiving unit of the delivery managing device to the setting browser of the delivery managing device step S . Thus the transceiving unit of the delivery managing device receives the delivery destination selecting menu data M to output to the setting browser . This delivery destination selecting menu data M is information to display the delivery destination selecting menu screen shown in and includes check boxes shared IDs and display names.

Next as shown in the setting browser creates respective frame data as still sound data by performing rendering of the content data indicating the delivery destination selecting menu data M that has been acquired from the terminal managing device to output to the transmission FIFO step S . Subsequently the converting unit of the encoder bridge unit encodes the respective frame data stored in the transmission FIFO thereby converting into video sound data M in a data format that can be delivered to the communication terminal step S .

Next the transceiving unit transmits the video sound data M converted by the converting unit described above to the transceiving unit of the communication terminal step S . Thus the transceiving unit of the communication terminal receives the video sound data M to output to the reproduction control unit .

Next in the communication terminal the decoding unit acquires the video sound data M from the reproduction control unit to perform decoding thereof step S . Thereafter the display unit reproduces video of the delivery destination selecting menu screen as shown in based on video data M that has been acquired from the decoding unit and subjected to rendering by the rendering unit step S .

Next in the delivery destination selecting menu screen shown in when a check box of the shared ID v is checked and the OK button is pressed by a user the operating unit accepts an operation input made by the user step S .

Next the transceiving unit transmits a check result to the transceiving unit of the delivery managing device as the operation data p step S . Thus the transceiving unit of the delivery managing device receives the check result as the operation data p to output to the setting browser

Next the setting browser selects a shared Id from the check result step S . The transceiving unit then transmits a delivery destination addition request to the transceiving unit of the terminal managing device according to an instruction from the setting browser step S . In this delivery destination addition request the shared ID selected at above step S is included. Thus the transceiving unit of the terminal managing device receives the delivery destination addition request and outputs the shared ID to the storage unit . Having fulfilled the role the setting browser is ended step S . Thereafter the creating selecting transferring unit of the encoder bridge unit switches the output from the setting browser to the converting unit back to the output from the content browser to the converting unit step S .

Next as shown in in the storage unit of the terminal managing device by searching the terminal managing table based on the shared ID that has been received at above step S a corresponding terminal ID and installed location information are extracted step S . The transceiving unit then transmits an addition request of a delivery destination to the transceiving unit of the delivery managing device step S . In this addition request of a delivery destination the terminal ID and the installed location information extracted at above step S are included. Thus the transceiving unit of the delivery managing device receives the addition instruction of a delivery destination and outputs the addition instruction of a delivery destination to the browser managing unit . In this example it is assumed that three sets of the terminal ID and the installed location information a terminal ID t and installed location information left a terminal ID t and installed location information middle and a terminal ID t and installed location information right are included.

Next the creating selecting transferring unit of the encoder bridge unit creates the converting unit for the multi display step S . In this case the creating selecting transferring unit acquires the terminal ID and the installed location information from the browser managing unit .

Subsequently the dividing unit of the converting unit created at above step S divides respective frame data XYZ as still image sound data stored in the transmission FIFO and the encoding unit encodes the divided respective frame data step S .

The transceiving unit transmits the video sound data X encoded by the encoder bridge unit to the transceiving unit of the communication terminal based on the terminal ID t and the installed location information left step S  . Thus the transceiving unit of the communication terminal receives the video sound data X to output to the reproduction control unit .

Next in the communication terminal the decoding unit acquires the video sound data X from the reproduction control unit and performs decoding thereof step S  . Thereafter the speaker reproduces sound based on decoded sound data X and the display unit reproduces video based on video data X that has been acquired from the decoding unit and subjected to rendering by the rendering unit step S  .

Moreover similarly the transceiving unit transmits video sound data Y encoded by the encoder bridge unit to the transceiving unit of the communication terminal based on the terminal ID t and the installed location information middle step S  . Thus the transceiving unit of the communication terminal receives the video sound data Y to output to the reproduction control unit .

Next in the communication terminal the decoding unit acquires the video sound data Y from the reproduction control unit and performs decoding thereof step S  . Thereafter the speaker reproduces sound based on decoded sound data Y and the display unit reproduces video based on video data Y that has been acquired from the decoding unit and subjected to rendering by the rendering unit step S  .

Furthermore similarly the transceiving unit transmits video sound data Z encoded by the encoder bridge unit to the transceiving unit of the communication terminal based on the terminal ID t and the installed location information right step S  . Thus the transceiving unit of the communication terminal receives the video sound data Z to output to the reproduction control unit .

Next in the communication terminal the decoding unit acquires the video sound data Z from the reproduction control unit and performs decoding thereof step S  . Thereafter the speaker reproduces sound based on decoded sound data Z and the display unit reproduces video based on video data Z that has been acquired from the decoding unit and subjected to rendering by the rendering unit step S  .

Subsequently processing of delivery of operation data is explained using to . is a sequence diagram showing drawing processing of non public operation data. The browser of the delivery managing device renders the content A to display as a background image of the communication terminal and the communication terminal to output step S . The encoder bridge unit of the delivery managing device encodes the rendered content A to transmit to the communication terminal and the communication terminal .

Next the transceiving unit of the delivery managing device transmits the encoded content A to the communication terminal step S . The transceiving unit of the communication terminal receives the encoded content A. The reproduction control unit of the communication terminal transmits the encoded content A to the decoding unit . The decoding unit of the communication terminal decodes the encoded content A to transmit to the rendering unit . The rendering unit of the communication terminal renders the decoded content A to display on the display unit as a background image step S .

Similarly the transceiving unit of the delivery managing device transmits the encoded content A to the communication terminal step S . The transceiving unit of the communication terminal receives the encoded content A. The reproduction control unit of the communication terminal transmits the encoded content A to the decoding unit . The decoding unit of the communication terminal decodes the encoded content A to transmit to the rendering unit . The rendering unit of the communication terminal renders the decoded content A to display on the display unit as a background image step S .

Next the operating unit of the communication terminal accepts setting information of operation data. In the example shown in the operating unit of the communication terminal accepts the non public setting of the operation data step S . A method of accepting the setting information of operation data is explained here.

Returning back to the operating unit of the communication terminal accepts operation data that indicates an operation input made by an electronic pen or the like step S . The operating unit of the communication terminal transmits the operation data to the drawing control unit . The drawing control unit instructs the rendering unit to perform rendering based on the operation data. Next the rendering unit displays local drawing information based on the operation data on the display unit step S . Next the operating unit of the communication terminal transmits terminal transmission information in which the operation data indicating the accepted operation input the setting information indicating the non public setting and the identification information to identify the communication terminal are associated with each other to the delivery managing device step S . As described above the drawing information is displayed only on the communication terminal being the own terminal and the drawing information of the communication terminal is not displayed on the communication terminal being the other terminal.

The browser managing unit of the delivery managing device receives terminal transmission information that includes the operation data of the communication terminal through the transceiving unit . The browser managing unit transmits the terminal transmission information including the operation data of the communication terminal to the browser . The browser creates a record of the drawing information table shown in from the terminal transmission information received from the communication terminal step S . Specifically the browser sets a drawing command information field and a coordinate information field based on the operation data of the terminal transmission information and sets a terminal information field based on the identification information of the communication terminal of the terminal transmission information and sets the setting information non public of the terminal transmission information to a setting information field non public .

The browser of the delivery managing device does not use records having the setting information field set to non public in the drawing information table when creating public display information. Note that records having the setting information field set to non public in the drawing information table can be used as a backup of the non public drawing information. This enables to recover non public drawing information even if the non public drawing information of the communication terminal is lost due to a power interruption.

Next the operating unit of the communication terminal accepts deletion of non public drawing information by the non public drawing information deletion button shown in step S . Subsequently the drawing control unit instructs the rendering unit to delete the local drawing information that is displayed at step S. Next the rendering unit deletes the local drawing information step S . As described above drawing information that has been drawn and displayed in an own terminal in this example the communication terminal for example is deleted from the own terminal.

Note that the steps at step S and step S can be omitted. That is the terminal transmission information is not required to be transmitted to the delivery managing device . In this case by holding the terminal transmission information only in the communication terminal the security can be assured.

Next processing of switching the setting information of delivery of operation data from the non public setting to the public setting is explained. is a sequence diagram showing processing of publishing the non public operation data. Because step S to step S are the same as step S to step S in explanation thereof is omitted.

Next the operating unit of the communication terminal detects depression of the public setting button in step S . Subsequently the operating unit of the communication terminal transmits a change notification of the setting information that includes the identification of the communication terminal to the delivery managing device through the transceiving unit step S .

Next the browser managing unit of the delivery managing device receives the change notification of the setting information through the transceiving unit . The browser managing unit transmits the change notification of the setting information to the browser . The browser searches for a record of the drawing information table that includes the terminal information corresponding to the identification information included in the change notification of the setting information and updates the setting information of the record from non public to public step S . Subsequently the browser creates public display information from the drawing information table and the background image content A step S . The browser outputs the public display information to the transmission FIFO . The encoder bridge unit reads the public display information from the transmission FIFO and performs encoding thereof. The encoder bridge unit transmits the encoded public display information to the communication terminal and the communication terminal through the transceiving unit step S and step S .

Next the transceiving unit of the communication terminal receives the encoded public display information. The reproduction control unit of the communication terminal transmits the encoded public display information to the decoding unit . The decoding unit of the communication terminal decodes the encoded public display information to transmit to the rendering unit . Subsequently the drawing control unit reads the reproduction delay time U from the storage unit and instructs the rendering unit to delete the local drawing information that is displayed at step S when the display scheduled time of the public display information has come. Next the rendering unit deletes the local drawing information step S . Subsequently the rendering unit performs rendering of the decoded public display information to display on the display unit step S .

Moreover the transceiving unit of the communication terminal receives the encoded public display information. The reproduction control unit of the communication terminal transmits the encoded public display information to the decoding unit . The decoding unit of the communication terminal decodes the encoded public display information to transmit to the rendering unit . Subsequently the rendering unit performs rendering of the decoded public display information to display on the display unit step S . As described above drawing information that has been drawn and displayed in an own terminal in this example the communication terminal for example is displayed on the own terminal and the drawing information is further displayed also on the other terminal in this example the communication terminal for example .

Note that the steps at step and step can be omitted. That is the terminal transmission information is not required to be transmitted to the delivery managing device . In this case by holding the terminal transmission information only in the communication terminal and by controlling to transmit the terminal transmission information to the delivery managing device when publication of the non public drawing information is accepted at step S the security can be assured.

As explained in detail with specific examples above in the delivery system of the present embodiment the delivery managing device has the browser and the encoder bridge unit that performs encoding and the like on the cloud. Thus the browser creates video data and sound data from content data that is described in a predetermined description language and the encoder bridge unit converts a data format so as to enable delivery through the communication network to deliver to the communication terminal . Therefore in the communication terminal a load of receiving content data described in a predetermined description language and a load of converting the data into video data and sound data after reception are reduced and therefore a problem of heavy loads to support rich contents can be solved.

Particularly the browser enables real time communication and the converting unit performs real time encoding on video sound data generated by the browser . Therefore for example unlike a case in which non real time that is encoded in advance video sound data is selected by a DVD player to be delivered as on demand delivery of video sound data processing of the delivery managing device enables delivery of video sound data having an excellent real time property because a content that is acquired right before delivery is rendered to create video sound data and then encoded.

According to the delivery system of the present embodiment drawing information that is displayed only at the own communication terminal and drawing information that is displayed also at the other communication terminal can be displayed on the terminals in a distinguished manner.

In the explanation of the delivery system of the present embodiment the operation step S in of the communication terminal transmitting terminal transmission information including operation data to the delivery managing device even when the setting information of the operation data of the communication terminal is non public has been explained. However when the setting information of operation data of the communication terminal is non public the communication terminal may operate so as not to transmit the operation data to the delivery managing device . That is when the setting information of operation data is non public the communication terminal displays drawing information based on the operation data on the own communication terminal as local drawing information. When the setting information of the operation data is changed from non public to public terminal transmission information including the operation data that has been displayed as the local drawing information is transmitted to the delivery managing device . Thus the delivery managing device delivers public display information including the operation data the setting information of which is changed from non public to public to the other communication terminal .

Although the terminal managing device and the delivery managing device are configured as independent devices separate from each other in the delivery system of the present embodiment the terminal managing device and the delivery managing device may be configured as an integrated device for example by causing the delivery managing device to have the function of the terminal managing device for example.

Moreover the delivery managing device and the terminal managing device in the above embodiment may be constituted of a single computer or may be constituted of multiple computers to which respective separated components functions units or storage units are arbitrarily allocated.

Furthermore both of a recording medium such as a compact disk CD ROM in which respective programs of the above embodiment are stored and the HDD in which these programs are stored can be provided in the country and abroad as a program product.

