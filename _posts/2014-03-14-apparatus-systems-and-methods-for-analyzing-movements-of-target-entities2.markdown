---

title: Apparatus, systems, and methods for analyzing movements of target entities
abstract: The present disclosure relates to apparatus, systems, and methods for providing a location information analytics mechanism. The location information analytics mechanism is configured to analyze location information to extract contextual information (e.g., profile) about a mobile device or a user of a mobile device, collectively referred to as a target entity. The location information analytics mechanism can include analyzing location data points associated with a target entity to determine features associated with the target entity, and using the features to predict attributes associated with the target entity. The set of predicted attributes can form a profile of the target entity.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09594791&OS=09594791&RS=09594791
owner: Factual Inc.
number: 09594791
owner_city: Los Angeles
owner_country: US
publication_date: 20140314
---
The entire content of each of the above referenced applications including both the provisional applications and the non provisional applications is herein incorporated by reference.

The present disclosure generally relates to data processing apparatus systems and methods for analyzing movements of target entities.

Many service providers have access to location information of many mobile devices. The service providers are in communication with mobile devices that are equipped with a geo location system such as a Global Positioning System GPS configured to determine the location of the associated mobile device and these mobile devices can share their location information with the service providers. The location information can be useful for service providers because the service providers can adapt the service based on the location of the mobile devices. For example mobile application that recommends restaurants can re rank a list of recommended restaurants based on the determined location of the mobile device running that application.

While the use of location information has increased significantly in recent years the use of location information is still quite limited. The location information is often deemed a time independent measurement. Therefore although service providers adapt their services based on the location of the mobile device at a particular time instance the service providers largely ignore the path over which the mobile device has traveled over a period of time. Thus the service providers largely ignore the rich contextual information embedded in the location information. There is a need to provide efficient mechanisms for extracting rich contextual information embedded in the location information.

In general in an aspect embodiments of the disclosed subject matter can include an apparatus. The apparatus includes one or more interfaces configured to provide communication with a computing device. The apparatus also includes a processor in communication with the one or more interfaces. The processor is configured to run one or more modules that are operable to cause the apparatus to receive from the computing device a time series of location data points corresponding to a target entity determine one or more attributes associated with the target entity based on the time series of location data points and provide a profile of the target entity based on the one or more attributes associated with the target entity.

In general in an aspect embodiments of the disclosed subject matter can include a method. The method can include receiving by a first computing device from a second computing device a time series of location data points corresponding to a target entity determining by the first computing device one or more attributes associated with the target entity based on the time series of location data points corresponding to the target entity and providing by the first computing device a profile of the target entity based on the one or more attributes associated with the target entity.

In general in an aspect embodiments of the disclosed subject matter can include a non transitory computer readable medium. The non transitory computer readable medium can include executable instructions operable to cause a data processing apparatus to receive from a computing device in communication with the data processing apparatus a time series of location data points corresponding to a target entity determine one or more attributes associated with the target entity based on the time series of location data points corresponding to the target entity and provide a profile of the target entity based on the one or more attributes associated with the target entity.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining an accuracy of the time series of location data points and discard based on the determined accuracy one or more of the location data points in the time series of location data points.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining the accuracy of the time series of location data points based on a time series of location data points associated with other target entities.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining the accuracy of the time series of location data points at a particular time instance based on location information associated with other target entities at the particular time instance.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining one or more sessions from the time series of location data points by grouping one or more of the time series of location data points that are bounded in space and or time and determining the one or more attributes associated with the target entity based on the one or more sessions.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining one or more sessions from the time series of location data points by grouping one or more of the time series of location data points that are bounded in space and or time determining one or more clusters based on the one or more sessions based on a physical proximity between sessions and determining the one or more attributes associated with the target entity based on the one or more sessions and the one or more clusters.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for associating one of the location data points the sessions or the clusters with annotation information associated with a geographical location of the location data points sessions or clusters and using the annotation information to determine the one or more attributes associated with the target entity.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining the one or more attributes associated with the target entity based on movements of the target entity between two or more clusters.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining a home location attribute based on at least in part statistical measures on the movements of the target entity and the annotation information associated with the target entity.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining a home location attribute based on at least in part a likelihood that a particular location is associated with a residence.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining a home location attribute based on at least in part timestamps of location data points associated with the target entity.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for receiving the time series of location data points in a batch mode wherein the computing device is a server operated by a service provider.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for receiving the time series of location data points in a streaming mode wherein the computing device is the target entity.

In any one of the embodiments disclosed herein the apparatus the method or the non transitory computer readable medium can include modules steps or executable instructions for determining a predictive model based on the one or more attributes wherein the predictive model is configured to predict a behavior of the target entity in a future.

The present disclosure relates to apparatus systems and methods for providing a location information analytics mechanism. The location information analytics mechanism is configured to analyze location information to extract contextual information e.g. profile about a mobile device or a user of a mobile device collectively referred to as a target entity. At a high level the location information analytics mechanism can include analyzing location data points associated with a target entity to determine features associated with the target entity and using the features to predict attributes associated with the target entity. The set of predicted attributes can form a profile of the target entity.

More particularly the location information analytics mechanism can analyze a time series of location information also referred to as location data points or simply as location information . Location information can include a geospatial coordinate an address or any location identifier that is capable of identifying a location. The location information analytics mechanism can analyze the time series of location information such as a time series of geospatial coordinates produced by a target entity to determine characteristics e.g. features associated with the target entity. Subsequently the location information analytics mechanism can use the determined features of the target entity to determine one or more profiles of the target entity. A profile can include a set of high level attributes that describes a target entity including categorizations based on the target entity s behavior. For example the location information analytics mechanism can generate a profile indicating that a particular mobile device is used by a person that has a primary residence in Beverly Hills Calif. and has a primary work place in Los Angeles Calif. The profile can be used by service providers such as publishers and developers that serve content on a target entity to personalize their applications and customize their content to the target entity.

In some embodiments a feature of an entity used by the location information analytics mechanism can include temporally independent information about an entity or a user of an entity . For example a feature can indicate that a user of a mobile device often visits a primary school that the user often visits a shopping mall and that the user s apartment is located near Los Angeles Calif. The feature of an entity can also provide temporal relationships between temporally independent information. Referring to the example provided above the feature can indicate that the user of the mobile device visit the school attended by the user s child in the morning that the user subsequently visits a shopping mall that the user returns to the school attended by the user s child in the afternoon and that the user subsequently returns to the user s apartment near Los Angeles. The location information analytics mechanism can use these features to predict information about the user for example that the user does not work full time during the day.

In some embodiments the profile can be used by service providers to predict future behaviors of the target entity and provide adapted services to the target entity based on the predicted future behaviors. For example the location information analytics mechanism can use one or more profiles to generate a predictive model that can predict the location and or the type of locations venues that a corresponding target entity may be located at any given time. These profiles can also be combined to determine the characteristics of a group of target entities as a whole.

In some embodiments the disclosed location information analytics mechanism can efficiently determine the one or more profiles of a target entity by representing a time series of location information using sessions and clusters. A time series of location information includes a sequence of location data points measured typically at successive temporal points. In some cases the successive temporal points can be uniformly spaced in other cases the successive temporal points can be non uniformly spaced. The disclosed location information analytics mechanism can segment the time series of location information to generate sessions and clusters. For example the location information analytics mechanism can group or segment geospatial coordinates into sessions and group the sessions into clusters. Such session and cluster based representation of the time series of location information can obviate the need to re compute or reprocess all the entire time series of location information when additional location information for new time instances are received.

In some embodiments the disclosed location information analytics mechanism can associate location data points sessions and or clusters of a target entity with annotation information which may provide metadata about the location data points sessions and or clusters. The annotation information can be one of the features used to determine attributes associated with the target entity. The annotation information can be received from external sources such as a website a database or any source information to which the disclosed location information analytics mechanism has access.

In some embodiments the disclosed location information analytics mechanism can provide a profile based on as few as 1 location data point. However the accuracy and contents of the generated profile can improve as the number of location data points increases. Therefore in some embodiments the disclosed location information analytics mechanism can provide a profile based on more than 3 location data points 5 location data points 10 location data points or any predetermined number of location data points.

In some embodiments one or more attributes in the profile can be associated with a confidence score indicating a confidence score or accuracy of the associated attributes. In some cases the confidence score can range between 0 and 1. However any other ranges can be used to represent the confidence score.

In some cases where the disclosed location information analytics mechanism has access to a large number of location data points over a long period of time the disclosed location information analytics mechanism can determine a time dependent or time bracketed profile of a target entity. For example the disclosed location information analytics mechanism can determine that a user of a mobile device enjoys having late night snacks at In N Out between 11 PM 1 AM around Los Angeles Calif.

In some embodiments the location information analytics mechanism can use one or more machine learning techniques to determine or refine attributes in one or more profiles. For example if a particular attribute of a profile of a target entity is missing then the location information analytics mechanism can fill in or predict the missing information based on known information about the target entity. In some embodiments this can be done using logistic regression. In other embodiments it can use other machine learning techniques such as but not limited to random forests linear regression hidden Markov models and neural networks.

A machine learning technique for the purpose of the location information analytics mechanism can include any function that receives a collection of training data for example specified as rows each of which contains multiple feature scalars and one or more target scalar and produces an estimator or model that predicts the target value from input features for new rows of data not comprising the training data. The quality of the estimator can be measured as for example loosely speaking its ability to predict a target value for new rows of data. For example given examples of golfers and a set of annotated sessions for known golfers i.e. the training data the system may determine that sessions on golf courses strongly correlate to golfers and assign a value to the sessions on golf courses feature that results in a more optimal target value prediction for golfer .

In practice as many as millions of such features can interact to create a model to predict such targets. In some embodiments the system can include machine learning techniques that cluster or group targets or profiles. In such cases the system can include any function that receives a collection of data for example specified as rows each of which contains multiple feature scalars and produces an estimator or model that predicts a cluster of targets. For example such functions can help identify similar features e.g. behavior patterns that appears to form a group. This grouping can be used to suggest new target profiles that can be given a subsequent name e.g. cluster 123 of similar things becomes dive bar lovers after a human interprets a common qualitative aspect that the cluster members possess . In addition the grouping can be correlated to desired behavior or qualities e.g. clicking on ads and other members of the cluster can be flagged as desirable for advertisers without necessarily interpreting what qualitative aspects make them so and targeted for ads.

In some embodiments the location information analytics mechanism can use a separate estimator for each profile e.g. each behavioral segment . For example the location information analytics mechanism can build feature scalars from observable attributes such as number of visits to a restaurant per week or number of visits to Starbucks and use a separate estimator for different variables such as user is a food connoisseur or user is especially affluent. 

The location information analytics mechanism can optionally include an intelligent data processing mechanism for cleaning or discarding inaccurate location data points. Location data points can be intermittent and of varying quality. The quality of location information can vary due to a large variance in its source and accuracy. For example the location information can be determined based on a large number of sources the Internet Protocol IP address of a mobile device the cell tower to which a mobile device is attached the WiFi access point to which a mobile device is attached and or a Global Positioning System GPS operating in the mobile device. However the accuracy of the determined location information can vary significantly. The location information determined from the IP address of a mobile device is generally highly inaccurate whereas the location information determined from the WiFi access point or the GPS is generally more accurate. To address this issue the disclosed location information analytics mechanism incorporates a number of data verification techniques that cleans the location information on submission. Depending on the application the location information analytics mechanism can discard optionally about 15 25 of location information as irrelevant to profile building. This data cleaning process can improve the accuracy of generated profiles of target entities.

The processor of the server can be implemented in hardware. The processor can include an application specific integrated circuit ASIC programmable logic array PLA digital signal processor DSP field programmable gate array FPGA or any other integrated circuit. The processor can also include one or more of any other applicable processors such as a system on a chip that combines one or more of a CPU an application processor and flash memory or a reduced instruction set computing RISC processor. The memory device of the processor can include a computer readable medium flash memory a magnetic disk drive an optical drive a programmable read only memory PROM and or a read only memory ROM .

The LIF module can be configured to receive a time series of location information of a target entity for example a temporal series of geo location coordinates corresponding to a target entity s movement and segment the time series of location information into sessions. Furthermore the LIF module can also group or merge two or more sessions into a cluster and optionally add annotation information to sessions and or clusters based on information from external data sources. In some embodiments the LIF module can extract from geo location coordinates associated with multiple target entities all geo location coordinates corresponding to a single target entity and generate sessions clusters and or annotation information corresponding to the single target entity. In some embodiments the annotation information can include one or more of demographic information such as census data on a location housing cost statistics of a location e.g. from public records to know average home sales price or rental cost ambient noise measurements collected from devices previously at the location at various times sentiment or keywords from social network data e.g. tweets or social network site posts originating at the location names and categories of nearby businesses keywords and ratings from reviews of nearby businesses crime statistics satellite imagery e.g. to determine if there s a pool lot line polygons from public records e.g. to determine size of a residence such as a house apartments or a condo accelerometer data collected from devices near the location e.g. to know whether it s foot traffic or vehicle .

In some embodiments the LIF module can receive geo location coordinates in a batch mode. In other embodiments the LIF module can receive the geo location coordinates in a streaming mode.

The LIA module can be configured to analyze the sessions clusters and or the annotation information generated by the LIF module to determine a profile of a target entity such as a client . The profile can include a set of high level attributes that describes a target entity. Depending on the associated high level attributes a profile can be characterized as a behavioral profile describing behavioral characteristics of a target entity a demographic profile describing a demographic grouping or a market segment corresponding to a target entity such as age bands social class bands and gender bands or a geographic profile describing locations of a connected series of events or locations visited by a target entity. One or more of the behavioral profile the demographic profile and the geographic profile can form a single aggregate profile for a target entity.

In some embodiments the LIA module can use a machine learning technique to generate a profile. For example the LIA module can use a random forest technique to determine attributes of profiles from the sessions clusters and or annotation information.

In some embodiments the LIF module and or the LIA module can be implemented in software stored in the non transitory memory device such as a non transitory computer readable medium. The software stored in the memory device can run on the processor capable of executing computer instructions or computer code.

In some embodiments the LIF module and or the LIA module can be implemented in hardware using an ASIC PLA DSP FPGA or any other integrated circuit. In some embodiments the LIF module and the LIA module can both be implemented on the same integrated circuit such as ASIC PLA DSP or FPGA thereby forming a system on chip.

In some embodiments the server can receive the location information of a target entity from a service provider . The service provider can communicate with one or more clients to receive location data points associated with the clients and provide the received location data points to the server . In some embodiments the service provider can aggregate the location data points over a predetermined period of time and provide the aggregated location data points in bulk. In other embodiments the service provider can stream the location data points or send location data points aggregated over a short period of time to the server . The service provider can include a software service provider an application provider a communication service provider a publisher or any other types of service providers.

In some embodiments the server can communicate with clients directly for example via a software application programming interface API to receive location information of the clients . The server can subsequently analyze the location information to compute profiles of the clients . Then the server can provide the computed profiles to service providers incrementally or in a bulk mode or when interesting new attributes are added to the profiles.

The server can include one or more interfaces . The one or more interfaces provide a communication mechanism to communicate internal to and external to the server . For example the one or more interfaces enable communication with clients and or the service provider over the communication network . The one or more interfaces can also provide an application programming interface API to other servers service providers or computers coupled to the network so that the server can receive location information such as geo location coordinates. The one or more interfaces are implemented in hardware to send and receive signals in a variety of mediums such as optical copper and wireless and in a number of different protocols some of which may be non transitory.

In some embodiments the server can operate using an operating system OS software. In some embodiments the OS software is based on a Linux software kernel and runs specific applications in the server such as monitoring tasks and providing protocol stacks. The OS software allows server resources to be allocated separately for control and data paths. For example certain packet accelerator cards and packet services cards are dedicated to performing routing or security control functions while other packet accelerator cards packet services cards are dedicated to processing user session traffic. As network requirements change hardware resources can be dynamically deployed to meet the requirements in some embodiments.

The server s software can be divided into a series of tasks that perform specific functions. These tasks communicate with each other as needed to share control and data information throughout the server . A task can be a software process that performs a specific function related to system control or session processing. Three types of tasks operate within the server in some embodiments critical tasks controller tasks and manager tasks. The critical tasks control functions that relate to the server s ability to process calls such as server initialization error detection and recovery tasks. The controller tasks can mask the distributed nature of the software from the user and perform tasks such as monitoring the state of subordinate manager s providing for intra manager communication within the same subsystem and enabling inter subsystem communication by communicating with controller s belonging to other subsystems. The manager tasks can control system resources and maintain logical mappings between system resources.

Individual tasks that run on processors in the application cards can be divided into subsystems. A subsystem is a software element that either performs a specific task or is a culmination of multiple other tasks. A single subsystem includes critical tasks controller tasks and manager tasks. Some of the subsystems that run on the server include a system initiation task subsystem a high availability task subsystem a shared configuration task subsystem and a resource management subsystem.

The system initiation task subsystem is responsible for starting a set of initial tasks at system startup and providing individual tasks as needed. The high availability task subsystem works in conjunction with the recovery control task subsystem to maintain the operational state of the server by monitoring the various software and hardware components of the server . Recovery control task subsystem is responsible for executing a recovery action for failures that occur in the server and receives recovery actions from the high availability task subsystem. Processing tasks are distributed into multiple instances running in parallel so if an unrecoverable software fault occurs the entire processing capabilities for that task are not lost.

Shared configuration task subsystem can provide the server with an ability to set retrieve and receive notification of server configuration parameter changes and is responsible for storing configuration data for the applications running within the server . A resource management subsystem is responsible for assigning resources e.g. processor and memory capabilities to tasks and for monitoring the task s use of the resources.

In some embodiments the server can reside in a data center and form a node in a cloud computing infrastructure. The server can also provide services on demand. A module hosting a client is capable of migrating from one server to another server seamlessly without causing program faults or system breakdown. The server on the cloud can be managed using a management system. Although represents the server as a single server the server can include more than one server.

A client which may be a target entity of the location information analytics platform can include a desktop computer a mobile computer a tablet computer a cellular device or any other computing devices having a processor and memory. The server and the one or more client devices can communicate via the communication network .

In some embodiments the client can include user equipment of a cellular network. The user equipment communicates with one or more radio access networks and with wired communication networks. The user equipment can be a cellular phone having phonetic communication capabilities. The user equipment can also be a smart phone providing services such as word processing web browsing gaming e book capabilities an operating system and a full keyboard. The user equipment can also be a tablet computer providing network access and most of the services provided by a smart phone. The user equipment operates using an operating system such as Symbian OS iPhone OS RIM s Blackberry Windows Mobile Linux HP WebOS and Android. The screen might be a touch screen that is used to location data to the mobile device in which case the screen can be used instead of the full keyboard. The user equipment can also keep global positioning coordinates profile information or other location information.

The client also includes any platforms capable of computations. Non limiting examples can include computers netbooks laptops servers and any equipment with computation capabilities. The client is configured with one or more processors that process instructions and run software that may be stored in memory. The processor also communicates with the memory and interfaces to communicate with other devices. The processor can be any applicable processor such as a system on a chip that combines a CPU an application processor and flash memory. The client can also provide a variety of user interfaces such as a keyboard a touch screen a trackball a touch pad and or a mouse. The client may also include speakers and a display device in some embodiments.

The communication network can include the Internet a cellular network a telephone network a computer network a packet switching network a line switching network a local area network LAN a wide area network WAN a global area network or any number of private networks currently referred to as an Intranet and or any other network or combination of networks that can accommodate data communication. Such networks may be implemented with any number of hardware and software components transmission media and network protocols. Although represents the network as a single network the network can include multiple interconnected networks listed above.

The server can be configured to identify and classify specific areas of activity AoA locations that a target entity visited in more than one occasion based on location information associated with the target entity. The server subsequently analyzes the AoAs collectively to determine patterns of behavior and reference and turn these patterns into geographic demographic and or behavioral profiles. illustrates an area of activity in accordance with some embodiments. In irregular and intermittent activities A C of a single target entity are normalized into an area of activity AoA .

The AoAs of a single target entity can be aggregated into a set of AoAs. illustrates a set of AoAs in accordance with some embodiments. The size of the AoAs A can indicate the relative frequency of activities within that AoA over a predetermined period of time. Once the set of AoAs is determined the server can analyze general patterns of movements between the AoAs and rank them by importance. illustrates patterns of movements between AoAs in accordance with some embodiments. For example shows using a line that the mobile device frequently travels between Santa Monica and Los Angeles . The frequency of the trip between two AoAs can be illustrated using a thickness of the line bridging the two AoAs or by using a color coding scheme. This analysis can enable the server to determine the zip code associated with the home residence typical commuting start and end times and diurnal behavior patterns to inform the predictive model.

In some embodiments user activities around an AoA can be summarized in a profile. illustrate a profile of user activities around AoAs in accordance with some embodiments. illustrates a profile of user activities around Santa Monica Calif. which the server identifies as home . The profile can include a map indicating one or more location data points contributing to the AoA . The profile can also include a time table indicating time instances at which location data points contributing to the AoA appeared in the vicinity of the AoA . The profile can further include a summary of the location data points contributing to the AoA . similarly illustrate a profile of user activities around Los Angeles Los Angeles identified as a work place. illustrates user activities associated with predetermined criteria. In this case the predetermined criteria are user activities around Los Angeles Los Angeles from noon to 1 PM at locations matching nearby restaurants. Such predetermined criteria allow the server to infer user s activities at predetermined locations.

In addition to the locations rank and business categories of these AoAs and their relative importance the server can provide a ranked breakdown of all cities regions countries metro areas and DMAs in a user profile. More particularly the server can be configured to determine whether a particular location is in a polygon or a region of interest corresponding to a particular city region country metro area and or a DMA and provide the determined information as a part of a user profile. For example the server is configured to use location information such as a latitude longitude pair to identify for all of the areas e.g. polygons that encompass the location associated with the location information. This allows the server to receive attributes associated with each of those areas including for example the name of the area the name of the regions that encompass the area and any metadata associated with the area or the region e.g. average income demographics . This information allows content providers to use location based contextual information effectively to customize content events when a geo signal is absent.

In some embodiments the LIF module can receive the location information in bulk e.g. an aggregated form . For example the service provider or the target entity can aggregate location information over time and provide the aggregated location information in bulk e.g. substantially at the same time to the LIF module . In other embodiments the LIF module can receive the location information as it becomes available e.g. in a streaming mode . For example the LIF module can receive from the service provider or the one or more the target entities over a representational state transfer REST interface the location information as it becomes available. In some embodiments the LIF module can receive the location information both in bulk and when it becomes available. For example the LIF module can receive in bulk the location information of the first mobile device and the LIF module can receive the location information of the second mobile device in a streaming mode e.g. as it becomes available .

Once the LIF module receives the location information the LIF module can preprocess the location information. In particular the LIF module can be configured to quantize the spatial dimension of the received location information. For example the LIF module can be configured to quantize the geospatial coordinate e.g. latitude longitude pair into a predetermined precision of coordinates. As another example the LIF module can be configured to quantize the geospatial coordinate into a geohash representation.

In some embodiments because the location information can be generated by a variety of sources for example an on device GPS system a web browser geotagged images and business check ins some of the received location data points may not be sufficiently accurate. If the geospatial coordinate in a location data point is not sufficiently accurate the LIF module can discard the location data point and the discarded location data point is not subject to further processing. This cleansing processes e.g. processes that discover and remove location data points from further processing can be performed across multiple user identifiers and can be done across multiple datasets for more accurate results.

In some cases some location data points are known to be bad or inaccurate. For example if a data point corresponds to a center of a nuclear plant or to desert with no access path then there is a high chance that the data point is bad or inaccurate. Therefore in some embodiments the LIF module can maintain a blacklist of data point characteristics that should be discarded. For example the LIF module can identify as black listed location data points that align to the coordinates of known geographical entities such as postcodes and city centroids or known cell tower locations because they may be too coarse for the application of interest.

In some embodiments the LIF module can discard the location data point if the confidence score representing the accuracy of a location data point is below a predetermined threshold. The confidence score of a location data point can be determined based on a variety of information. In some cases if a particular location is over represented at a particular time instance e.g. many IDs are associated with the same geographical coordinate at the same time then the confidence score of the location data point indicating that a target entity is located at that particular location at that particular time instance can be low.

For example if a town has 25 000 residents and if the aggregate location information indicates that 22 000 target entities are located at a particular location at the same time a location data point indicating that a target entity is located at that particular location is probably inaccurate. Therefore such a location data point can be associated with a low confidence score. As another example if the number of location data points associated with a particular location is more than 0.1 of the entire set of location data points then it s highly likely that location data points associated with the particular location is inaccurate. Therefore such a location data point can be associated with a low confidence score. In other words if the number of location data points associated with a particular location is greater than a predetermined threshold any location data point associated with the particular location can be deemed inaccurate and be associated with a low confidence score.

In some embodiments the predetermined threshold for discarding the location data point can be adapted to the characteristics of the location information data set. For example the predetermined threshold for a data set associated with a small town can be different from the predetermined threshold for a data set associated with Los Angeles Calif.

In some embodiments the LIF module can apply a variety of filters to further discard unwanted data points. For example target entities that do not have a sufficient volume of data can be eliminated from further processing.

In some embodiments the LIF module can reduce the noise in the location data points. Because a target entity s movement is expected to be smooth any rapid movements centered around a particular location can be considered as noise which may stem from the non ideal characteristics of the location sensing device such as a GPS jitter. Therefore the LIF module can model the temporal noise as a Gaussian distribution and temporally average the location data points to remove the temporal jitter from the location data points. For instance if a target entity goes to the same Starbucks every day at 7 PM and if location information of the target entity at 7 PM indicates that the user is close to the same Starbucks then the LIF module can temporally average the GPS coordinate so that the averaged GPS coordinate is more closely aligned with the same Starbucks. In some embodiments the LIF module can average location data points that are within a predetermined time window from the location data point of interest. For example the LIF module can average location data points that are within a 5 second window from the location data point of interest. In other embodiments the LIF module can average location data points that belong to the same time instance in previous days or months. For example in the above Starbucks example the LIF module can average location data points associated with 7 PM for the last 5 days to remove noise of today s location data point associated with 7 PM.

In step the LIF module can optionally determine sessions and clusters from the pre processed location information. A session is an abstraction used to remove redundancy from location data points. This abstraction can insulate the LIF module from rapid resubmissions of similar or identical location data points from the same target entity. For example if the LIF module receives a first location data point and a second location data point from the same target entity within a second of each other and from the same location the LIF module can fold those into a single session because the second data point does not provide any interesting information. Another way to view the session is that the session marks an event. The LIF module is essentially grouping a stream of location data points into high entropy events.

Based on this view of a session a session can include a set of location data points from the same target entity e.g. the same identifier bounded in space and or time. Therefore the LIF module can be configured to group any location data points that are bounded in space and or time and represent all grouped location data points using the temporally earliest location data point in that group. For example a session can include a group of location data points that are 1 within 5 miles from the center of Los Angeles and or that are 2 within a span of 10 minutes. Therefore the LIF module can be configured to group all data points that are 1 within 5 miles from the center of Los Angeles and or 2 that are within a span of 10 minutes and represent all these data points using the earliest location data point within that group of data points.

In some embodiments the session can be represented using a plurality of parameters. One of the plurality of parameters can represent a period of time corresponding to the session one of the plurality of parameters can represent a geographical bound corresponding to the session. Therefore as an example a single session can include all location data points collected while a particular user s mobile phone was at a particular location e.g. between 100 120 Main Street during a particular time interval e.g. from 10 00 AM to 10 15 AM on Jun. 12 2012 . The LIF module can therefore use the plurality of parameters to group location data points into one or more sessions. In some embodiments the bounds for the space and or time can be provided by an operator of the server . In other embodiments the LIF module can automatically determine the bounds for the space and or time using a clustering technique such as K means clustering.

In some embodiments a session can include an event. A rapid change in the entropy of a sequence of geolocation coordinates can be indicative of a transition between two distinct events. Therefore the LIF module can be configured to determine a rapid change in the entropy of a sequence of geolocation coordinates.

In some embodiments the LIF module can use geographical polygons to identify sessions from a sequence of geolocation coordinates. For example a geographical polygon can be associated with a particular building in Los Angeles. If a user is within the geographical polygon then all temporally bounded location data points associated with the geographical polygon can be deemed to belong to the same session. The LIF module can use a hierarchical mechanism to quickly determine whether a location data point is associated with a particular geographical polygon. For example the LIF module can use the polygon matching mechanism as disclosed in APPARATUS SYSTEMS AND METHODS FOR PROVIDING LOCATION INFORMATION supra.

During session processing a location data point may be associated with only one session. Conversely one session might be associated with any number of location data points provided they satisfy the space and or time session parameters. For example a session can include a single location data point.

After session processing location data points within a session can represent events or places visited by a particular ID.

In some embodiments the LIF module may not identify any sessions from the location data points. For example the LIF module can skip the session identification step. This scenario is identical to a scenario in which a session includes a single location data point. Therefore the forthcoming discussion of using sessions to determine clusters and or attributes can also be applicable to cases in which the LIF module does not identify any sessions.

Once the LIF module identifies one or more sessions from the time series of location data points the LIF module can determine one or more clusters based on the identified sessions. Clusters can include groupings of sessions which represent repeated behaviors over time. Conceptually any session with a new geo spatial location can correspond to a new cluster and later sessions can be added to one of existing clusters provided that these later sessions meet certain geographic criteria. Therefore the LIF module is configured to group one or more sessions into a single clusters by identifying sessions that are geographically close to a center of a cluster. As an example the first time John Doe s mobile phone moves to a new location e.g. 200 Main Street location data associated with that new location can be grouped into a new session. If that same mobile phone later returns to that location 200 Main Street data associated with that second visit can be grouped into another session. Then both sessions can be grouped into a single cluster because the sessions are associated with the same location.

In step the LIF module can designate the first session as a first cluster. In step the LIF module can analyze a subsequent session which is herein referred to as a candidate session. In particular the LIF module can determine the distance between the center of the candidate session and the center of the representative session of the existing cluster. In step the LIF module can determine whether the minimum of the distances computed in step is less than a predetermined threshold. If so in step the LIF module can associate the candidate session with the cluster corresponding to the minimum distance. If not in step the LIF module can create a new cluster for the candidate session and assign the candidate session as the representative session of the new cluster.

In some embodiments in step the LIF module can be configured to compute a distance between the center of the candidate session and the center of all sessions in the existing cluster instead of the distance between the center of the candidate session and the center of the representative session of the existing cluster. The center of all sessions in the existing cluster can include a center of the centroid formed by the sessions in the existing cluster. When a session is added to a cluster the LIF module can recomputed the center of all sessions in the cluster. In some embodiments the clusters can be used as AoAs illustrated in .

Clusters are generally weighted based on the number of sessions that they contain. Thus for a particular ID there is normally a main cluster which represents the most visited geographic location followed by any number of secondary clusters. In cluster 1 is the main cluster and has the highest weight. Clusters 2 and 3 are the secondary clusters.

Clusters can be constructed to compensate for small local movement e.g. noise associated with location data points while also accurately pinpointing the specific location with which this movement is associated. One way to achieve this is to divide geographic locations into overlapping tiles e.g. of 50 50 meter squares. illustrate such a division for a small geographic area in accordance with some embodiments. Each of the tiles shown in is a 50 50 meter square. The illustrated tiles are offset from one another by half the length of a tile i.e. by 25 meters. With the overlapping arrangement illustrated in any point within the defined area will fall within four tiles. For example the point with coordinates 10 10 falls within the tiles illustrated in . As another example the point with coordinates 49 49 falls within the tiles illustrated in and D. It will be appreciated that the tiles can be extended beyond the range illustrated in maintaining the overlapping pattern so as to cover a larger geographic area.

In some embodiments the LIF module can fine tune the determined clusters. In certain scenarios a target entity may visit two near by locations for two different reasons. For example on the way to work a target entity regularly visits 300 Greenwich Street N.Y. for a cup of coffee and on the way back home the target entity regularly visits 301 Greenwich Street N.Y. for a food pickup. If the location data is inaccurate then two entities would likely be merged into a single cluster and there would be no way to separate the merged entities.

The LIF module can address this issue by clustering sessions based on a variety of characteristics associated with sessions not simply based on location coordinates. For example the LIF module can create clusters based on the path or a temporal progression of coordinates or a time of visit. More particularly in steps the LIF module can identify clusters by considering not only the physical proximity but also other types of relevant information for example time information. This feature is useful in cases where two nearby locations have different semantic significance. For example this feature is useful when two floors at the same building hence the latitude longitude pair are operated by two different companies.

To this end in step the LIF module can quantize the time as well as the geographical coordinate of a session or if the LIF module does not identify sessions the geographical coordinate of a location data point . In particular the LIF module can be configured to identify common temporal patterns. For example that a session or a location data point is associated with end of a workday or Saturday morning. Then the LIF module can be configured to add the session or the location data point to either the last visited cluster or the last N visited clusters.

In some embodiments the LIF module can be configured to cluster events using a maximum likelihood model. The LIF module can be configured to characterize clusters based on an information gain along any of information axes for example time previous location . Then when the LIF module receives a new event to be added to one of the clusters the LIF module determines the likelihood that the new event is associated with the clusters and selects the cluster with the maximum likelihood.

More particularly to characterize a cluster based on an information gain the LIF module can be configured to receive all data points currently within a cluster and quantize field values e.g. attributes associated with the data points. Then the LIF module can construct histograms of these quantized fields and interpret them as statistical distributions. Subsequently when the LIF module receives a new event the LIF module can determine a cluster to which the new event shall be added by quantizing the fields in the new event determining probabilities e.g. P event cluster that the new event belongs to the clusters based on the histograms constructed previously and selecting the cluster with which the probability is the highest. In some embodiments to avoid cases where the probability P event cluster is zero the LIF module can add a noise floor to the histogram constructed for each cluster.

In some embodiments the LIF module can be configured to merge two or more clusters using a maximum likelihood model. In some cases the LIF module can be configured to merge clusters based on a joint entropy between clusters which can be measured based on Kullback Liebler KL divergence. In other cases the LIF module can merge clusters using any hierarchical clustering technique.

In step the LIF module can optionally annotate sessions and or clusters using information from external data sources. In this step sessions and clusters are enriched with outside data sources a process known as annotation. For example information that describes the surrounding business categories or demographics associated with a location are appended to the corresponding cluster or session at that location. Together these annotations create a rich dataset that are used to enrich the profile of a target entity and act as the foundation for further annotations.

In some embodiments the LIF module can receive annotation data from an external database. In other embodiments the LIF module can analyze the text on webpages to generate the annotation data.

In some embodiments some internal optimizations can be made to reduce the number of queries the LIF module makes to external data sources. These internal optimizations can include merging nearby sessions and reusing old queries by interpolating results.

In step the LIF module can provide the sessions clusters and or annotation data associated with a target entity to the LIA module so that the LIA module can determine one or more profiles for the target entity based on the sessions clusters and or annotation data.

In some embodiments the LIF module may not identify any clusters from the sessions and or location data points. For example the LIF module can skip the cluster identification step. This scenario is identical to a scenario in which a cluster includes a single session or a single location data point. Therefore the forthcoming discussion of using clusters to determine attributes can also be applicable to cases in which the LIF module does not identify any clusters.

The LIA module is configured to analyze the location data points sessions clusters and or annotation data over a period of time to build a general description of the target entity and provide the general description in the form of a profile. The profile can be a JavaScript Object Notation JSON hash. The profile can include 1 one or more attribute values describing the target entity and 2 one or more confidence scores associated with the one or more attribute values. In some embodiments the attribute values can include 1 areas of activity categorized by business type and summarized by country metro area and DMA 2 demographic information including household income where available and or 3 behavioral traits and classifications. The profile can be specifically designed to enhance the interaction between a service provider and individual users. The profile can help service providers to serve correct local news and more relevant information to customize information content by location and to ensure that only the most contextually relevant information is served to users at the right time.

In some embodiments the geographic attribute of a profile can provide an overview of locations that the target entity is most active. The locations can be represented at different physical scales for example at a hyper local a regional and or a national scale. The profile can also include specific hyper local places associated with the user activity including for example centroids of the hyper local places associated postcodes the type of hyper local places and or the commercial density of the area. illustrates the geographic attribute of a profile in accordance with some embodiments. The geographic attribute of a profile includes an Area of Activity AoA entry which includes an identifier of the AoA the center of the AoA the commercial density in the AoA which measures a portion of the AoA corresponding to a commercial area a postcode associated with the AoA the ranks of the AoA e.g. frequency or importance associated with the AoA and the type of the hyper local place e.g. away indicating that the AoA is not a primary area of activity. 

In some embodiments the profile can also include an attribute indicating a home location for the target entity. The LIA module can be configured to determine the home location also known as a home attribute of the profile by analyzing the movement patterns of the target entity between AoAs whether a particular location e.g. the AOA corresponding to the particular location is known to be or is likely to be a residence including for example a house an apartment and a condo a commercial residential density around the location a frequency of the particular location e.g. the AOA corresponding to the particular location relative to other AoAs and or the timestamps of location data points associated with the movement patterns. In some embodiments the home location can be represented as a postal code. In other embodiments the home location can be represented as a geospatial coordinate such as a GPS coordinate or a latitude longitude coordinate pair.

In some embodiments the LIA module can be configured to provide a list of location entities in which the user has been active. The location entities can include countries regions and or localities towns . The LIA module can provide the list of such location entities in the order of relative significance. In some cases the LIA module can determine the significance associated with the location entities based on the amount of time spent at a particular location entity. For example when a user stays at home 90 of the time home may be an important location entity. In some cases the LIA module can determine the significance associated with the location entities based on how informative the annotations associated with the particular location entity are. Also in some cases the LIA module can determine the significance associated with the location entities based on how important the behavior associated with the particular location entity is. For example when a user stays home 90 of the time but the user also spends 10 minutes at a school in the morning and afternoon this location entity can be important because it may tell us that the user is likely a parent.

In some embodiments when the target entity is associated with a location within the United States the profile can also include additional geographic summaries. The additional geographic summaries can include Nielsen s Direct Marketing Area DMA and or Metro formerly MSA as defined by the United States census in which the user is active. illustrate the DMA attribute and the Metro attribute in a profile of a target entity in accordance with some embodiments.

In some embodiments the LIA module can determine demographic attributes for the target entity s profile. In particular the LIA module can determine the demographic attributes based on the user s home location aggregated at the block group level by the US census data and or based on the user s activities. illustrates demographic attributes of a profile of a target entity in accordance with some embodiments. The demographic attributes can include an income level a gender age a household type and race. Also one or more of the demographic attributes can be associated with a confidence score.

In some embodiments the LIA module can determine behavioral attributes for the target entity s profile. The behavioral attributes can categorize target entities into one or more categories which can be used in online advertising. Target devices are categorized only when the confidence score is sufficiently high to qualify their presence in these categories. illustrates behavioral attributes of a profile of a target entity in accordance with some embodiments. Behavioral attributes can include one or more predetermined categories and a confidence score indicating the likelihood that the target entity is associated with the one or more predetermine categories. The predetermined categories can include whether the target entity is owned by a business traveler whether the target entity is owned by a leisure traveler whether the target entity is owned by a frequent traveler whether the target entity is owned by a health care provider whether the target entity is owned by a college student whether the target entity is owned by a person interested in buying a car whether the target entity is owned by a moviegoer whether the target entity is owned by a vacationer whether the target entity is owned by a live sports fan and or whether the target entity is owned by an affluent customer. Standard categories can be applied across the dataset to find groups of IDs that share tendencies or patterns.

In some embodiments the LIA module can determine the likelihood that a target entity is associated with a particular category also referred to as a category confidence score based on sessions clusters and or annotation data associated with the target entity. For example annotated clusters may indicate that an ID a target entity is biased to operate in more expensive demographic regions and annotated sessions may indicate that an ID has traveled from one location to another.

In some embodiments the attributes in the profile can be updated regularly so that the profile does not become stale or out of date . For example the LIA module can be configured to recompute attributes of a profile periodically. Also the LIA module can be configured to reduce a confidence score value for an attribute as the attribute ages e.g. as a function of the time instance at which the attribute was generated or computed .

In some embodiments the LIA module can use a cross validation mechanism to determine whether a target entity is associated with a particular attribute or category. At a high level the LIA module is configured to extract features that represent what the target entity is doing at any given moment. These features are generated from nearby places if there are any time localized events such as concerts and landmarks. For example when a target entity is going to the LA Dodgers stadium and if at that time instance the Dodgers stadium is hosting a rock concert then the target entity can be preferentially correlated with rock music. As another example the LIA module can determine the home location by determining the location to which a target entity returns or stays the most at night time such as after 8 PM.

To this end the LIA module can for example determine the business category each word in the business name and high level category information about events as individual features. Subsequently the LIA module weighs these features for example equally and use the norm e.g. an L1 norm of the resulting vector to perform the cross validation.

One of the challenges in categorizing the behavior of a target entity is making sure that the LIA module does not over fit the model. For example suppose the LIA module finds that a target entity is next to Starbucks on Friday July 17 at 15 38 pm only. While the physical location of the target entity corresponding to the target entity at that time instance is a remarkably strong signal spending effort narrowing down the time slice of that observation isn t particularly meaningful. As a result the LIA module can consider both the amount of effort it takes to describe the observation and the strength of the observation results when the LIA module draws conclusions about a target entity. So for example if the LIA module observes that the target entity is next to a Starbucks at 4 pm every Friday for four Fridays in a row that is a more valuable insight.

In some embodiments the LIA module is configured to determine behavioral categories of target entities based on a number of times a particular space time location data point or a cluster appears in the time series of location data points. To this end the LIA module is configured to 1 project time component of the location data point or the cluster into a cyclic space e.g. a 24 hour time span ignoring the date 2 determine a number of times a particular space projected time representation of the location data point or the cluster appears in the time series of location data points and 3 determine the K highest number of the space projected time in the time series of location data points. More particularly the LIA module is configured to 1 represent each of the location data point into a pair of space projected time 2 construct a frequency table of such pairs and optionally sort the entries in the frequency table by a descending frequency and 3 identify pairs from this frequency table whose frequency is greater than a predetermined threshold such as two.

Other types of categorization are possible and will in general be dependent on the quality of the location data and the types of annotations that have been annotated to the location information.

In some cases the LIA module can perform the profile computation in bulk. For example a service provider may have months or years of geospatial information for many users and devices and these can be processed by the LIA module in bulk to provide an analysis for the time span covered. In other cases the LIA module can perform the profile computation as new location data points become available. For example a service provider may not have detailed logs of location data points over a long period of time but may instead have access to an ephemeral stream of location data points in real time or a rolling log of the previous day s location data points. In these cases the service provider can utilize the LIF module and the LIA module by intermittently posting new location data to the LIF module as it becomes available.

In some embodiments the location data points can be processed in a batch or in a real time mode. In a real time mode the LIA module can collate the new information with past information to build a new profile. This collation can happen by any number of means for example key value lookup or table joining. In some cases the LIA module can perform a preliminary processing of new information to determine a priority of profile updates. For example when the LIA module determines that a mobile device is currently located within a bounding box of interest near a sporting event the LIA module can flag that a user corresponding to the mobile device is a high priority target for receiving a profile update.

Once the LIA module completes profile computations the LIA module can provide the computed profiles to a service provider. In some embodiments the service provider can receive the computed profiles in bulk. In other embodiments the service provider can query the LIF module and or the LIA module incrementally to get the computed profiles as needed or can receive bulk profile updates at scheduled intervals.

In some embodiments the profiles generated by the LIA module can be accessible only by the application that provided the location information to the LIA module . Also the target entities received by the LIF module and or the LIA module can be hashed or encrypted prior to the receipt by the LIF module and or the LIA module thereby providing anonymity of users. These features can allow the LIF module and or the LIA module to respect privacy of target entities that provided the location data points to the LIF module and or the LIA module .

In some embodiments the computed profile can be provided in a tabular form. illustrates a profile of a target entity in a tabular form in accordance with some embodiments.

In some embodiments the LIA module can be configured to learn a predictive model based on the computed profile that can predict a behavior of the target entity associated with the computed profile. In some cases the predictive model can be a non parametric model.

In step the LIA module can optionally associate the characteristic vector of the target entity with the location data points of the target entity to form a feature vector. For example the characteristic vector of the target entity can be concatenated with the location data points of the target entity to form the feature vector. In some cases the location data points can be represented as various spatial and temporal resolutions. For example the spatial coordinates of the location data points can be represented using geohashes having a predetermined precision e.g. anywhere between 20 to 40 bits of precision and the temporal information associated with the spatial coordinates can be represented at various temporal resolutions e.g. anywhere between 15 minutes to 6 hours .

In step the LIA module can cluster all feature vectors corresponding to all target entities in a dataset and average the feature vectors in each cluster to form an average vector for each cluster. Along with the average vector the LIA module can also maintain the number of target entities corresponding to each cluster. The average vector of a cluster and optionally the number of target entities corresponding to the cluster can form a non parametric predictive model for behavioral characteristics.

In some embodiments step is skipped and the characteristic vector is used as the feature vector for step .

In some embodiments the LIA module can use the predictive model to predict a behavior of the target entity associated with the computed profile. illustrates a process of using the predictive model to predict a behavior of the target entity associated with the computed profile. In step the LIA module is configured to determine a feature vector of the target entity. The feature vector can be formatted in accordance with the format vector used to train the predictive model in step . In step the LIA module can retrieve the predictive model and in step the LIA module is configured to determine an association between the feature vector of the target entity and clusters in the predictive model. The association can be determined by finding a set of weights to be applied to the average vector of clusters to represent the feature vector as a weighted average of average vector of clusters. The set of weights can identify the amount of shared information between the feature vector and the predictive model.

The terms a or an as used herein throughout the present application can be defined as one or more than one. Also the use of introductory phrases such as at least one and one or more should not be construed to imply that the introduction of another element by the indefinite articles a or an limits the corresponding element to only one such element. The same holds true for the use of definite articles.

It is to be understood that the disclosed subject matter is not limited in its application to the details of construction and to the arrangements of the components set forth in the following description or illustrated in the drawings. The disclosed subject matter is capable of other embodiments and of being practiced and carried out in various ways. Also it is to be understood that the phraseology and terminology employed herein are for the purpose of description and should not be regarded as limiting.

As such those skilled in the art will appreciate that the conception upon which this disclosure is based may readily be utilized as a basis for the designing of other structures methods and systems for carrying out the several purposes of the disclosed subject matter. It is important therefore that the claims be regarded as including such equivalent constructions insofar as they do not depart from the spirit and scope of the disclosed subject matter.

Although the disclosed subject matter has been described and illustrated in the foregoing exemplary embodiments it is understood that the present disclosure has been made only by way of example and that numerous changes in the details of implementation of the disclosed subject matter may be made without departing from the spirit and scope of the disclosed subject matter.

