---

title: Information processing apparatus and non-transitory storage medium storing instructions executable by information processing apparatus
abstract: An information processing apparatus includes a first communication interface for performing first wireless communication with an external device when a distance between the external device and the first communication interface becomes equal to or less than a first distance. The information processing apparatus executes: a first display control processing in which after the first wireless communication is started, the information processing apparatus displays an input screen which accepts input of related information relating to a processing for communication data; an obtaining processing in which after the first wireless communication is started, the information processing apparatus obtains the communication data transmitted from the external device; and a data-processing execution processing in which when the input of the related information and the obtainment of the communication data are completed, the information processing apparatus executes a data processing for the communication data based on the related information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09253362&OS=09253362&RS=09253362
owner: BROTHER KOGYO KABUSHIKI KAISHA
number: 09253362
owner_city: Nagoya-Shi, Aichi-Ken
owner_country: JP
publication_date: 20140318
---
The present application claims priority from Japanese Patent Application No. 2013 070033 which was filed on Mar. 28 2013 the disclosure of which is herein incorporated by reference in its entirety.

The present invention relates to an information processing apparatus configured to communicate with an external device and a non transitory storage medium storing a plurality of instructions executable by a processor of the information processing apparatus.

There is known a data processing system in which when a document to be uploaded to a server is selected on a client computer the server causes the client computer to display a list of upload candidate folders. The data processing system starts a document upload processing when an upload folder to which the selected documents are to be uploaded is selected from the list of upload candidate folders on the client computer.

In the above described data processing system the document upload processing is started after the selection of the upload folder. Thus in a case where it takes a relatively long time for an operation of selecting the upload folder for example a relatively long time is unfortunately required from the start of the operation of selecting the upload folder to a completion of the document upload processing leading to lower operability of a user.

The present invention provides an information processing apparatus including a first communication interface configured to carry out first wireless communication with an external device according to a first communication standard when a distance between the external device and the first communication interface becomes equal to or less than a first distance a processor and a memory configured to store a plurality of instructions. The plurality of instructions when executed by the processor cause the information processing apparatus to execute a first display control processing in which after the first wireless communication is started the information processing apparatus controls a display device thereof to display an input screen which accepts an input of related information that is information relating to a processing to be executed for at least one communication data set a first obtaining processing in which after the first wireless communication is started the information processing apparatus obtains the at least one communication data set transmitted from the external device and a data processing execution processing in which when the input of the related information and the obtainment of the at least one communication data set in the first obtaining processing are completed the information processing apparatus executes a data processing for the obtained at least one communication data set based on the related information.

The present invention also provides a non transitory storage medium storing a plurality of instructions executable by a processor of an information processing apparatus. The information processing apparatus includes a first communication interface configured to carry out first wireless communication with an external device according to a first communication standard when a distance between the external device and the first communication interface becomes equal to or less than a first distance and the processor. The plurality of instructions when executed by the processor cause the information processing apparatus to execute a first display control processing in which after the first wireless communication is started the information processing apparatus controls a display device thereof to display an input screen which accepts an input of related information that is information relating to a processing to be executed for at least one communication data set a first obtaining processing in which after the first wireless communication is started the information processing apparatus obtains the at least one communication data set transmitted from the external device and a data processing execution processing in which when the input of the related information and the obtainment of the at least one communication data set in the first obtaining processing are completed the information processing apparatus executes a data processing for the obtained at least one communication data set based on the related information.

The communication terminal includes an NFC communication interface which can communicate with an NFC communication interface of the MFP over wireless communication according to the NFC Near Field Communication standard hereinafter may be referred to as NFC wireless communication or NFC communication . In the present embodiment the NFC wireless communication is carried out according to ISO IEC 21481 or 18092.

The communication terminal includes a wireless LAN interface which can communicate with a wireless LAN interface of the MFP in an infrastructure mode over wireless communication according to the wireless LAN standard hereinafter may be referred to as wireless LAN communication . The wireless LAN interface can also communicate directly with the wireless LAN interface of the MFP over wireless communication according to the WiFi Direct WFD standard hereinafter may be referred to as WFD wireless communication or WFD communication . The communication terminal can establish a connection with the MFP according to the WFD standard to establish a WFD network. The WFD wireless communication is carried out according to IEEE the Institute of Electrical and Electronics Engineers 802.11 and standards equivalent to it e.g. 802.11a 11b 11g and 11n . That is the communication terminal can transmit one or more files as one example of data sets to the MFP over the wireless communication by executing a print and scan application . Also the communication terminal can cause the MPF to store and or print the transmitted files.

The communication terminal is a mobile device such as a mobile phone and a mobile terminal device. The communication terminal includes a display device a touch panel an input interface the wireless LAN interface the NFC communication interface a central processing unit CPU a read only memory ROM a random access memory RAM and a storage device . These devices are connected to each other via an input output port .

The display device receives an image signal from the CPU and displays an image based on the received image signal. Examples of the display device include a liquid crystal display LCD and an organic electroluminescent panel. The touch panel is formed of a transparent material and superposed on an upper surface of the display device . When touched with an input object such as a finger of a user or a stylus the touch panel detects a position of the touch and transmits information about the detected position to the CPU . The input interface is constituted by operation buttons for example.

The NFC communication interface is an interface for carrying out the NFC wireless communication . Various kinds of information about communication settings such as an IP address and an SSID Service Set Identifier is unnecessary for establishing the NFC wireless communication . The wireless LAN interface is an interface for carrying out the wireless LAN communication . A communicable distance or range within which the wireless LAN communication can be carried out is greater than that a communicable distance or range within which the NFC wireless communication can be carried out. Also a communication speed or rate in the wireless LAN communication is faster than that in the NFC wireless communication .

The CPU executes programs stored in the storage device . The RAM temporarily stores information required for processings to be executed by the CPU . The storage device is constituted by a flash memory a hard disc HDD a buffer in the CPU and other similar devices in combination. The storage device stores WFD connection setting information and various data files. The WFD connection setting information will be explained later. The storage device stores a program . The program includes the application and an operating system OS . The CPU executes processings according to the program .

The application causes the CPU to execute e.g. a processing for transmitting a print command from the communication terminal to the MFP for example. The OS is a program which provides basic functions and common services for the application and other programs and devices. The OS includes a program for causing the wireless LAN interface and the NFC communication interface to carry out wireless communication. The OS also provides an application programming interface API for causing each program to obtain information obtained by hardware or for causing each program to output a command to hardware.

There will be next explained a structure of the MFP . The MFP mainly includes a CPU a storage device an external storage device the wireless LAN interface the NFC communication interface a button input device a panel a printer and a scanner . These devices are communicable with each other via an input output port .

The CPU executes a program stored in the storage device . The storage device is constituted by a RAM a ROM a flash memory a hard disc HDD a buffer in a CPU and other similar devices in combination. The storage device stores the program . The program includes an OS . The storage device also stores information which will be explained later such as a file count value D a storage area count value U processing identification information designated storage area information and storing method identification information.

The storage device includes a normal storage area as one example of a first storage area a secure storage area as one example of a second storage area and a temporary storage area . Each of the normal storage area and the secure storage area is an area for storing various kinds of data files. Each of the normal storage area and the secure storage area may be a storage area in a non transitory memory such as a flash memory. The secure storage area is a storage area with higher security than the normal storage area . For example a preset password may need to be entered to access the files stored in the secure storage area . Alternatively the secure storage area may store for example first data as one example of first communication data which is data to be managed with higher security than second data as one example of second communication data stored in the normal storage area . The temporary storage area is an area in which data received from the communication terminal is temporarily stored before stored in an area such as the normal storage area the secure storage area and an external storage area . The temporary storage area may be a storage area in a transitory memory such as a RAM.

The external storage device is a demountable storage device. One Example of the external storage device is a non transitory memory such as a memory card and a USB memory. The external storage device includes the external storage area . The external storage area is an area for storing various kinds of data files.

The NFC communication interface is an interface for carrying out the NFC wireless communication . The wireless LAN interface is an interface for carrying out the wireless LAN communication . The button input device includes keys for various functions of the MFP . The button input device may be formed integrally with the panel as a touch panel. The panel displays various kinds of information about the functions of the MFP . The printer prints an image based on the file stored in the storage device . The scanner reads an image on a document.

There will be next explained a main processing to be executed by the MFP with reference to . A flow illustrated in begins when the MFP is turned on.

This flow begins with S at which the CPU displays a waiting screen on the panel . The CPU at S determines whether the communication terminal has touched the MFP or not. Specifically the CPU determines whether the NFC communication interface of the communication terminal has been brought into close proximity to the NFC communication interface of the MFP or not in other words the CPU determines whether the NFC communication interface of the communication terminal has been placed within a predetermined distance or range around the NFC communication interface or not. One example of the predetermined distance is about 10 cm. When a negative decision is made at S S NO the CPU repeats the processing at S. When a positive decision is made at S S YES this flow goes to S.

The CPU at S controls the NFC communication interface to establish the NFC wireless communication . The CPU at S transmits the WFD connection setting information to the communication terminal over the NFC wireless communication . The WFD connection setting information is used for establishing the WFD wireless communication . One example of information contained in the WFD connection setting information is a designated SSID. The designated SSID is an SSID which is designated by the MFP and whose character string changes upon each issue. A one time SSID may be used alternatively.

The CPU at S notifies the user that various kinds of information for establishing the WFD wireless communication is being transferred. For example the CPU may control the panel to display a character string WFD Wireless Communication is being Established . The CPU at S determines whether WFD connection start information has been received from the communication terminal over the NFC wireless communication or not. The WFD connection start information is information for notifying the MFP that a processing for establishing the WFD wireless communication has been started on the communication terminal . When a negative decision is made at S S NO the CPU repeats the processing at S. When a positive decision is made at S S YES this flow goes to S at which the CPU transmits a connection start response to the communication terminal over the NFC wireless communication . The connection start response is information for notifying the communication terminal that the MFP has started the processing for establishing the WFD wireless communication . The CPU at S establishes the WFD wireless communication .

The CPU at S determines whether the processing identification information has been received from the communication terminal over the WFD wireless communication or not. The processing identification information is information for identifying a type of the data processing to be executed by the MFP . The type of the data processing may be designated or selected by the user operating the communication terminal . Examples of the data processing include a file storing processing and a print processing. The file storing processing is a processing for storing a received file or files received from the communication terminal into a selected one of the plurality of storage areas. The print processing is a processing for causing the printer to print the received file or files. The processing identification information contains number of file information representative of the number of received files. The processing identification information may also contain security information indicative of a high security file. For example in a case where the number of received files is two or more the security information may indicate the ordinal numbers of files to be received as the high security files. The high security file is a file to be managed with higher security. One example of the high security file is a file containing personal information. The high security file may be set in advance by the user in creation of the file. When a negative decision is made at S S NO this processing repeats the processing at S. When a positive decision is made at S S YES this flow goes to S.

The CPU at S determines whether the data processing is the file storing processing or not. When a negative decision is made at S S NO this flow goes to S. The CPU at S controls the panel to display a print allowing screen for the user to allow execution of the print processing. The print allowing screen contains for example a button image indicating that the execution of the print processing is allowed and a button image indicating that the execution of the print processing is not allowed. When the button image indicating that the execution of the print processing is not allowed is selected this flow returns to S. When the button image indicating that the execution of the print processing is allowed is selected this flow goes to S. The CPU at S executes the print processing in which the printer prints an image or images based on the received file or files and this flow returns to S.

When a positive decision is made at S S YES this flow goes to S at which the CPU executes the file storing processing.

There will be next explained the file storing processing at S with reference to . The CPU at S stores the processing identification information received from the communication terminal into the storage device . The CPU at S determines whether or not the number of files to be received from the communication terminal is two or more. This determination is made based on the number of file information contained in the processing identification information. When a positive decision is made at S S YES this flow goes to S.

The CPU at S determines whether the high security file is included among the files to be received from the communication terminal or not. This determination is made based on the security information contained in the processing identification information. When a positive decision is made at S S YES this flow goes to S.

The CPU at S displays a first storing method designation screen on the panel . illustrates one example of the first storing method designation screen . The first storing method designation screen contains button images B B. The button image B is an image for the user to select a collectively storing processing. The collectively storing processing is a processing in which in the case where the number of the received files is two or more the plurality of received files are stored into the same storage area collectively. The button image B is an image for the user to select an individually storing processing. The individually storing processing is a processing in which in the case where the number of the received files is two or more the plurality of received files are individually stored into the individually designated storage areas more specifically the user designates for each of the plurality of received files one of the storage areas to which the received file is to be stored.

The first storing method designation screen also contains information indicating that the received files include the high security file or files. In the first storing method designation screen contains a region R on which is displayed a character string representative of the information. Upon completion of the processing at S this flow goes to S.

When a negative decision is made at S S NO this flow goes to S. The CPU at S displays a second storing method designation screen on the panel . illustrates one example of the second storing method designation screen . The second storing method designation screen contains the button images B B which are similar to those contained in the first storing method designation screen . It is noted that the second storing method designation screen does not contain the information indicating that the received files include the high security file or files. Upon completion of the processing at S this flow goes to S.

When the CPU at S determines that the number of files to be received from the communication terminal is one S NO the CPU determines that there is no need to designate the storing method and this flow goes to S. The CPU at S determines whether the file to be received from the communication terminal is the high security file or not. This determination is made based on the security information contained in the processing identification information. When a positive decision is made at S S YES this flow goes to S.

The CPU at S displays a first storage area selection screen on the panel . illustrates one example of the first storage area selection screen . The first storage area selection screen contains button images B B. The button image B is an image for the user to select the secure storage area as an area into which the received file is to be stored. The button image B is an image for the user to select the external storage area as an area into which the received file is to be stored.

When a negative decision is made at S S NO this flow goes to S. The CPU at S displays a second storage area selection screen on the panel . illustrates one example of the second storage area selection screen . The second storage area selection screen contains button images B B. The button image B is an image for the user to select the normal storage area as an area into which the received file is to be stored. The button image B is an image for the user to select the external storage area as an area into which the received file is to be stored. Upon completion of the processing at S or S this flow goes to S.

The CPU at S transmits a receivable state notification to the communication terminal over the WFD wireless communication . The receivable state notification is information for notifying the communication terminal that the MFP can receive data at this point in time.

The CPU at S resets each of the file count value D and the storage area count value U to one. The file count value D is a count value representative of the number of files received. The storage area count value U is a value representative of the number of selections of storage area by the user to store the received files. The MFP waits for a start of receipt of a file or files transmitted from the communication terminal and also waits for a user input to the button input device .

Processings at S S are for accepting selections of a data receiving processing S a storing method designating processing S and a storage area selecting processing S in parallel. Specifically the CPU at S waits for an occurrence of an event. When an event of receiving data has occurred this flow goes to S for the data receiving processing. When an event of accepting a user input for designating the storing method this flow goes to S for the storing method designating processing. When an event of accepting a user input for selecting a storage area has occurred this flow goes to S for the storage area selecting processing. Upon completion of the processing at S S or S this processing returns to S at which the CPU waits for the occurrence of the event.

The CPU at S determines whether an event has occurred or not. When a negative decision is made at S S NO the CPU repeats the processing at S. When a positive decision is made at S S YES this flow goes to S.

The CPU at S determines the type of the event having occurred. When the event having occurred is data receipt S DATA RECEIPT this flow goes to S at which the CPU executes the data receiving processing. The data receiving processing is a processing for receiving data from the communication terminal and stores the data into the temporary storage area . The data receiving processing will be described later in detail. When the event having occurred is an acceptance of a user input S ACCEPTANCE OF USER INPUT this flow goes to S.

The CPU at S determines what has been input by the user. When the storing method has been designated by the user S DESIGNATION OF STORING METHOD this flow goes to S at which the CPU executes the storing method designating processing. The storing method designating processing is a processing for accepting a designation of which of the collectively storing processing and the individually storing processing is to be executed. The storing method designating processing will be described later in detail. When the input operation is an operation for selecting the storage area or areas S SELECTION OF STORAGE AREA this flow goes to S at which the CPU executes the storage area selecting processing. The storage area selecting processing is a processing for accepting a selection of storage area or areas into which the received file or files are to be stored. The storage area selecting processing will be described later in detail.

Upon completion of the processing at S S or S this flow goes to S. The CPU at S determines whether or not the storage area has been selected for each of all the received files received from the communication terminal . When a negative decision is made at S S NO this flow returns to S. When a positive decision is made at S S YES the CPU determines that the user operation for selecting the storage area or areas is completed and the CPU waits for completion of receipt of the files and this flow goes to S.

The CPU at S notifies the user that the files are being received from the communication terminal . For example the CPU may control the panel to display a character string Files are being Received . The CPU at S whether all the files have been received or not. When a negative decision is made at S S NO this flow returns to S. When a positive decision is made at S S YES the CPU determines that receipt of all the files is completed and this flow goes to S.

The CPU at S stores into the storage area or areas selected in the storage area selecting processing all the received file or files temporarily stored in the file storage area of the temporary storage area . The CPU then deletes all the received files stored in the temporary storage area . As a result the processing for moving the received files is completed.

The CPU at S transmits a processing result notification to the communication terminal over the WFD wireless communication . The processing result notification is information for notifying the communication terminal of whether all the files transmitted from the communication terminal have been successfully received and stored or not. As a result the file storing processing S is finished and this flow returns to S.

There will be next explained the data receiving processing at S with reference to . In the data receiving processing one file is divided into a plurality of divided data pieces e.g. data packets and received. The CPU at S determines whether the first divided data piece of the file has been received or not. When a negative decision is made at S S NO the CPU determines that the MFP has received one of the divided data pieces constituting the file being received and this flow goes to S. When a positive decision is made at S S YES the CPU determines that the next new file has started to be received and this flow goes to S.

The CPU at S reads the file count value D and reserves a file storage area in the temporary storage area for storage of the Dth received file and this flow goes to S. The CPU at S stores the received data into the file storage area reserved at S.

The CPU at S determines whether all the divided data pieces of the Dth received file have been received or not. When a negative decision is made at S S NO this flow goes to S . When a positive decision is made at S S YES this flow goes to S.

The CPU at S transmits a receipt completion notification to the communication terminal over the WFD wireless communication . The receipt completion notification is information for notifying the communication terminal of a completion of receipt of a file by the MFP . The CPU at S adds a file name to the file stored in the file storage area of the temporary storage area . Various character strings may be used for the file name. For example the file name used on the communication terminal may be used. Alternatively the CPU automatically creates a file name using date or a consecutive number for example. The CPU at S increments the file count value D by one and this flow goes to S .

There will be next explained the storing method designating processing at S with reference to . The CPU at S temporarily stores into the storage device the storing method identification information indicative of the storing method designated at S. When the storing method designated by the user is Individual Storing at S S INDIVIDUAL STORING this flow goes to S. The CPU at S reads the storage area count value U and determines whether the Uth received file is a file to be managed with high security or not. This determination may be made based on the security information contained in the processing identification information. When a positive decision is made at S S YES this flow goes to S at which the CPU displays a third storage area selection screen see on the panel . The third storage area selection screen is similar to the first storage area selection screen and an explanation thereof is omitted. As illustrated in the third storage area selection screen contains a region R on which is displayed information indicating the Uth received file for which a storage area is to be selected. Upon completion of the processing at S this flow goes to S .

When a negative decision is made at S S NO this flow goes to S at which the CPU displays a fourth storage area selection screen see on the panel . The fourth storage area selection screen is similar to the second storage area selection screen and an explanation thereof is omitted. As illustrated in the fourth storage area selection screen contains a region R on which is displayed information indicating the Uth received file for which a storage area is to be selected. Upon completion of the processing at S this flow goes to S .

When the CPU determines at S that the storing method designated by the user is Collective Storing S COLLECTIVE STORING this flow goes to S. The CPU at S determines whether the high security file or files are included among the files to be received from the communication terminal or not. When a positive decision is made at S S YES this flow goes to S at which the CPU displays the first storage area selection screen see on the panel . When a negative decision is made at S S NO this flow goes to S at which the CPU displays the second storage area selection screen see on the panel . Upon completion of the processing at S or S this flow goes to S .

There will be next explained the storage area selecting processing at S with reference to . When the CPU determines at S that the storage area selected by the user is the external storage area S EXTERNAL STORAGE AREA this flow goes to S. The CPU at S determines whether the external storage device is being mounted on the MFP or not. When a positive decision is made at S S YES this flow goes to S. When a negative decision is made at S S NO this flow goes to S. The CPU at S promotes the user to mount the external storage device on the MFP . For example the CPU may control the panel to display a character string Insert Memory Card . Upon completion of the processing at S this flow returns to S.

When the storage area selected by the user is the normal storage area or the secure storage area S NORMAL STORAGE AREA OR SECURE STORAGE AREA this flow goes to S. The CPU at S determines whether the storing method designated by the user is Individual Storing or Collective Storing . This determination is made based on the storing method identification information stored in the storage device . When the designated storing method is Collective Storing S COLLECTIVE STORING this flow goes to S. The CPU at S stores into the storage device the designated storage area information indicating that all the received files are to be stored into the storage area designated by the user and this flow goes to S . In the present embodiment when a negative decision is made at S S NO that is when the number of files to be received is one the CPU at S determines that the designated storing method is Individual Storing .

When the designated storing method is Individual Storing S INDIVIDUAL STORING this flow goes to S. The CPU at S stores into the storage device the designated storage area information indicating that the Uth received file is to be stored into the storage area designated by the user. The CPU at S increments the storage area count value U by one.

The CPU at S determines whether there is any received file for which the storage area has not been designated. When a negative decision is made at S S NO this flow goes to S . When a positive decision is made at S S YES this flow goes to S. Processings at S S and S are similar to the respective processings at S S and S and an explanation thereof is omitted.

There will be next explained operations of the communication terminal with reference to . A flow illustrated in begins when the communication terminal is turned on. The CPU at S determines whether or not the user has activated the application and operated the touch panel to select a file to be transmitted. When a negative decision is made at S S NO the CPU repeats the processing at S. When a positive decision is made at S S YES this flow goes to S.

This flow begins with S at which the CPU determines whether the communication terminal has touched the MFP or not. Specifically the CPU determines whether the NFC communication interface of the MFP is located within a predetermined distance or range from the NFC communication interface of the communication terminal or not. When a negative decision is made at S S NO the CPU repeats the processing at S. When a positive decision is made at S S YES this flow goes to S. The CPU at S controls the NFC communication interface to establish the NFC wireless communication .

The CPU at S determines whether the WFD connection setting information has been received from the MFP over the NFC wireless communication or not. When a negative decision is made at S S NO the CPU repeats the processing at S. When a positive decision is made at S S YES this flow goes to S. The CPU at S stores the received WFD connection setting information into the storage device . When a positive decision is made at S S YES this flow goes to S. The CPU at S stores the received WFD connection setting information into the storage device .

The CPU at S transmits the WFD connection start information to the MFP over the NFC wireless communication . The CPU at S determines whether the connection start response has been received from the MFP over the NFC wireless communication or not. When a negative decision is made at S S NO the CPU repeats the processing at S. When a positive decision is made at S S YES this flow goes to S.

The CPU at S controls the wireless LAN interface to establish the WFD wireless communication . The WFD wireless communication is established based on the WFD connection setting information stored in S.

The CPU at S transmits the processing identification information to the MFP over the NFC wireless communication . The CPU at S determines whether the receivable state notification has been received from the MFP over the WFD wireless communication or not. When a negative decision is made at S S NO this flow repeats the processing at S. When a positive decision is made at S S YES this flow goes to S.

The CPU at S transmits one file to the MFP over the WFD wireless communication . The CPU at S determines whether the receipt completion notification has been received from the MFP over the WFD wireless communication or not. When a negative decision is made at S S NO the CPU repeats the processing at S. When a positive decision is made at S YES this flow goes to S. The CPU at S determines whether all the files have been transmitted or not. When a negative decision is made at S S NO this flow returns to S to start transmitting the next file. When a positive decision is made at S S YES this flow goes to S.

The CPU at S determines whether the processing result notification has been received from the MFP over the WFD wireless communication or not. When a negative decision is made at S S NO the CPU repeats the processing at S. When a positive decision is made at S S YES this flow goes to S. The CPU at S controls the display device to display a result of whether the file has been successfully transmitted to and processed by the MFP or not and this flow returns to S.

There will be next explained operations of the network with reference to by way of specific example. This specific example is explained assuming that the file storing processing is executed that two files are transmitted from the communication terminal to the MFP that the first one of the two files to be transmitted first is a file to be managed with high security and that each file is divided into a plurality of data packets and transmitted.

When the user has brought the communication terminal into contact with the MFP the contact or touch is detected S YES S YES . The NFC wireless communication is started S S and the WFD connection setting information is transmitted from the MFP to the communication terminal S S YES . The WFD connection start information is transmitted from the communication terminal to the MFP over the NFC wireless communication S S YES . The connection start response is transmitted from the MFP to the communication terminal over the NFC wireless communication S S YES . The WFD wireless communication is established S S .

The processing identification information is transmitted from the communication terminal to the MFP over the WFD wireless communication S S YES . In this specific example the processing identification information indicates that the data processing is the file storing processing. Also the processing identification information includes the number of file information indicating that two files are to be transmitted and the security information indicating that the first file is a high security file. The MFP determines that the data processing is the file storing processing S YES and starts the file storing processing S .

Since the number of files stored is a plural number S YES and the received files include the high security file S YES the MFP displays the first storing method designation screen see on the panel S . The receivable state notification is transmitted from the MFP to the communication terminal over the WFD wireless communication S S YES . The first file starts to be transmitted from the communication terminal to the MFP over the WFD wireless communication S . The MFP detects an occurrence of the event of receiving data S YES S DATA RECEIPT and starts the data receiving processing S .

Since the first data packet of the first file as a new file has been received S YES the file storage area for storing a received file whose file count value D is one i.e. the first communication file is reserved in the temporary storage area S . The received first data packet is stored into the reserved file storage area S . In a period in which the plurality of the data packets of the first file are being received S NO a loop processing for repeating receipt of the data packets is executed S NO S YES S DATA RECEIPT S NO S . When all the data packets of the first file have been received S YES the receipt completion notification is transmitted from the MFP to the communication terminal over the WFD wireless communication S S YES .

Here there will be explained a case where the user touches the button image B on the first storing method designation screen see during receipt of the first file. In this case the MFP detects an occurrence of an event of accepting the user input S YES S ACCEPTANCE OF USER INPUT and determines that the user input is an operation for designating the storing method S DESIGNATION OF STORING METHOD . Accordingly the storing method designating processing is executed S .

The MFP determines that the designated storing method is Individual Storing S INDIVIDUAL STORING and that the first received file is the high security file S YES . Thus the MFP displays the third storage area selection screen see on the panel S and waits for a user input. This third storage area selection screen in contains the region R on which is displayed information indicating the first received file for which a storage area is to be selected.

Here there will be explained a case where the user touches the button image B on the third storage area selection screen see . In this case the MFP detects an occurrence of an event of accepting the user input S YES S ACCEPTANCE OF USER INPUT and determines that the user input is an operation for selecting the storage area or areas S SELECTION OF STORAGE AREA . Accordingly the storage area selecting processing is executed S .

The MFP determines that the selected storage area is the secure storage area S SECURE STORAGE AREA and that the designated storing method is Individual Storing S INDIVIDUAL STORING . Thus the MFP stores into the storage device the designated storage area information indicating that the first received file is to be stored into the secure storage area S . Also the storage area count value U is incremented to two S . No storage area has been designated for the second received file S YES and the second received file is not the high security file S NO . Accordingly the MFP displays the fourth storage area selection screen see on the panel S and waits for a user input. This fourth storage area selection screen in contains the region R on which is displayed information indicating the second received file for which a storage area is to be selected.

Here there will be explained a case where the user touches the button image B on the fourth storage area selection screen see . In this case the MFP detects an occurrence of an event of accepting the user input S YES S ACCEPTANCE OF USER INPUT and determines that the user input is an operation for selecting the storage area or areas S SELECTION OF STORAGE AREA . Accordingly the storage area selecting processing is executed S .

The MFP determines that the selected storage area is the normal storage area S NORMAL STORAGE AREA and that the designated storing method is Individual Storing S INDIVIDUAL STORING . Thus the MFP stores into the storage device the designated storage area information indicating that the second received file is to be stored into the normal storage area S . Also the storage area count value U is incremented to three S . Since the storage area has been designated for all the two received files S NO S YES the MFP controls the panel to display a character string Data Receiving S .

When the receipt of the first file is completed S YES the receipt completion notification is transmitted from the MFP to the communication terminal S S YES . The second file is transmitted from the communication terminal to the MFP S S . A processing for transmitting the second file is similar to that for transmitting the first file and an explanation thereof is omitted.

When a receipt of the second file is completed a receipt of all the received files is completed S YES . The first received file stored in the file storage area of the temporary storage area is stored into the secure storage area . Also the second received file stored in the file storage area of the temporary storage area is stored into the normal storage area . The two received files are then deleted from the temporary storage area S . When the processing result notification is transmitted from the MFP to the communication terminal over the WFD wireless communication S S YES the communication terminal controls the display device to display information indicating that the two files have been successfully stored into the MFP S .

By bringing the communication terminal near the MFP the user can determine the MFP as a device to which the communication terminal transfers a file or files S S . The data receiving processing S can be then executed. Also the MFP can execute the storing method designating processing S and the storage area selecting processing S in parallel with the data receiving processing. As a result a period for executing the storing method designating processing and the storage area selecting processing can be used also as a period for executing the data receiving processing. In other words the period for executing the storing method designating processing and the storage area selecting processing overlaps with the period for executing the data receiving processing. Accordingly it is possible to shorten a total length of time required for communication in the data receiving processing resulting in improved operability of the user.

In the MFP according to the present embodiment when the CPU executes the file storing processing S for storing into the MFP the file or files received from the communication terminal any of the screens can be displayed on the panel . As a result each file received from the communication terminal can be stored into the storage area designated by the user S .

In the MFP according to the present embodiment when the high security file is received the CPU can control the panel to display the screen for accepting a user input for storing the received file into the secure storage area e.g. the first storage area selection screen and the third storage area selection screen S S S S . This control simplifies the processing for storing the high security file into the secure storage area enhancing the convenience of the user.

In the MFP according to the present embodiment when the number of received files is two or more S YES the CPU can control the panel to display the screen for accepting a user input for selecting the collectively storing processing or the individually storing processing e.g. the first storing method designation screen and the second storing method designation screen S S . As a result the user can select the collectively storing processing to simplify the operation for selecting the storage area into which the received files are to be stored.

In the MFP according to the present embodiment when the external storage device is not being mounted on the MFP S No the CPU can control the panel to display an image for prompting the user to mount the external storage device on the MFP S . This control results in reliable storage of the files into the external storage area .

In the MFP according to the present embodiment when all the files have been received S YES the processing result notification can be transmitted to the communication terminal S . As a result also in a case where the user of the communication terminal is located in a position where the user cannot view the panel of the MFP the MFP can notify the user of a completion of transmission of the file s S .

In the MFP according to the present embodiment when the communication method is switched from the NFC wireless communication to the WFD wireless communication S the CPU can control the panel to display a screen such as the first storing method designation screen the second storing method designation screen the first storage area selection screen and the second storage area selection screen S S S S . This control can notify the user of a start of the WFD wireless communication .

While the embodiment of the present invention has been described above it is to be understood that the invention is not limited to the details of the illustrated embodiment but may be embodied with various changes and modifications which may occur to those skilled in the art without departing from the spirit and scope of the invention.

When the NFC wireless communication is established S the CPU may control the panel to display a communication path selection accepting screen on which the user selects a communication path to be used for communication of files with the communication terminal between the NFC wireless communication and the WFD wireless communication . Examples of images displayed on the communication path selection accepting screen include a character string Select Communication Path and button images such as an NFC communication image and a WFD communication image. The MFP may be configured such that when the NFC wireless communication is selected the CPU may omit the execution of the processings at S S and may use the NFC wireless communication in the communication after the selection of the NFC wireless communication . The MFP may be configured such that when the WFD wireless communication is selected the flow goes to S. Thus the communication path to be used for the data communication can be determined by operation of the user. Also when files are transferred over the NFC wireless communication the CPU can omit the processing for establishing the WFD wireless communication making it possible to simplify the communication processing.

Communication standards other than the NFC may be used for communication started when the communication terminal is brought into contact with the MFP . For example standards such as TransferJet may be used. The communication path established at S is not limited to the WFD wireless communication and may be a communication path in the infrastructure mode via the wireless LAN communication .

The processings at S S may be omitted such that the flow goes from S to S. This modification allows the MFP to always execute the collectively storing processing in the case where the number of files to be received is two or more eliminating the need for the user to designate the storing method. Also the processings at S S and S may be omitted. Also the processings at S and S may be omitted such that the flow goes from S to S. As a result it is possible to shorten a length of time extending from the transmission of the WFD connection setting information S to the establishment of the WFD wireless communication S . In view of the above the CPU of the MFP only needs to execute at least a first display control processing a first obtaining processing and a data processing execution processing. For example the CPU only needs to execute at least one of the processings at S S S S S S S S S and S the processing at S and one of the processings at S and S.

A timing when the received files are stored into the storage area or areas selected in the storage area selecting processing is not limited to a timing when all the received files have been received from the communication terminal . For example when a storage area for one received file received from the communication terminal is selected in the storage area selecting processing the one received file may be stored into the selected storage area. In this configuration the processing for storing the received file into the storage area selected in the storage area selecting processing can be executed in parallel with the data receiving processing.

The storing method designating processing at S and the storage area selecting processing at S may be various processings. For example in a case where the data processing is the print processing the CPU may execute a setting accepting processing for accepting various settings for printing of the printer such as a sheet size a resolution and a print color i.e. print in color or print in black and white . The MFP may execute the setting accepting processing in parallel with the data receiving processing for receiving files for printing.

The communication of the file is not limited to the transmission of the file from the communication terminal to the MFP . For example the communication includes a transmission of the file from the MFP to the communication terminal . In this case processing identification information for commanding execution of a file transmission processing may be received from the communication terminal at S. The file transmission processing is a processing for sending the communication terminal a scan file created by the scanner and a file stored in the storage device . The MFP may execute the storing method designating processing S and the storage area selecting processing S in parallel with the processing for transmitting the file to the communication terminal .

The screens displayed on the panel in are illustrated by way of examples. Various images may be displayed on the panel . For example the button image B for selecting the normal storage area may be contained in the first storage area selection screen illustrated in and the third storage area selection screen illustrated in . In this display not only the secure storage area and the external storage area but also the normal storage area can be selected as a storage area for the received files including at least one high security file.

The communication terminal is one example of an external device. The NFC standard is one example of a first communication standard. The NFC wireless communication is one example of first wireless communication. Each of the NFC communication interfaces is one example of a first communication interface. The WFD standard is one example of a second communication standard. The WFD wireless communication is one example of second wireless communication. Each of the wireless LAN interfaces is one example of a second communication interface. Each of the CPUs is one example of a processor. The MFP is one example of an information processing apparatus. Each of the method designated as the storing method and the area selected as the storage area is one example of related information. Each of the first storing method designation screen the second storing method designation screen the first storage area selection screen the second storage area selection screen the third storage area selection screen and the fourth storage area selection screen is one example of an input screen. The panel is one example of a display device. The processings at S S S S S S S S S and S are one example of the first display control processing. The processing at S is one example of the first obtaining processing. Each of the file storing processing and the print processing is one example of the data processing. The processings at S S are one example of the data processing execution processing. The WFD connection setting information is one example of first setting information. The processing at S is one example of a communication processing. The processing at S is one example of a second obtaining processing. The normal storage area is one example of a first storage area. The secure storage area is one example of a second storage area. The high security file is one example of first communication data. The button image B is one example of a first image. The number of file information is one example of number of data set information. The processings at S is one example of a third obtaining processing. The processings at S is one example of a second display control processing. The processing result notification is one example of information indicating a completion of a processing for obtaining at least one communication data set. The printer is one example of a printing device.

