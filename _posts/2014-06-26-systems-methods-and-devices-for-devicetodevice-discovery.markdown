---

title: Systems, methods, and devices for device-to-device discovery
abstract: A user equipment (UE) includes a reference signal component, a guard period component, and a transmission component. The reference signal component is configured to randomly select a sequence for a reference signal for transmission in an open device-to-device discovery packet. The guard period component is configured to determine a first symbol signal for transmission during a first symbol of the device-to-device discovery packet. The first symbol comprises a partially punctured symbol. The transmission component is configured to transmit the device-to-device discovery packet. The device-to-device discovery packet includes the first symbol having the partially punctured symbol and a reference signal based on the randomly selected sequence.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09504088&OS=09504088&RS=09504088
owner: INTEL IP CORPORATION
number: 09504088
owner_city: Santa Clara
owner_country: US
publication_date: 20140626
---
This application claims the benefit under 35 U.S.C. 119 e of U.S. Provisional Application No. 61 883 127 filed Sep. 26 2013 which is incorporated by reference herein in its entirety.

Wireless mobile communication technology uses various standards and protocols to transmit data between a base station and a wireless communication device. Wireless communication system standards and protocols can include for example the 3rd Generation Partnership Project 3GPP long term evolution LTE the Institute of Electrical and Electronics Engineers IEEE 802.16 standard which is commonly known to industry groups as worldwide interoperability for microwave access WiMAX and the IEEE 802.11 standard which is commonly known to industry groups as Wi Fi. In a 3GPP radio access network RAN according to LTE the base station is termed Evolved Universal Terrestrial Radio Access Network E UTRAN Node B also commonly denoted as evolved Node B eNodeB or eNB . It may communicate with a wireless communication device known as user equipment UE . Although the present disclosure is presented with terminology and examples generally directed towards 3GPP systems and standards the teaching disclosed herein may be applied to any type of wireless network or communication standard.

The UEs may include a radio that is configured to transmit and receive signals in a licensed wireless spectrum corresponding to the eNodeBs . The UEs are in communication with an eNodeB using a Uu air interface on a licensed cellular spectrum. The UEs and eNodeBs may communicate control data and or user data with each other. A downlink DL transmission in an LTE network can be defined as a communication from the eNodeB to the UE and an uplink UL transmission can be defined as a communication from the UE to the eNodeB .

In addition to DL and UL transmissions over the Uu interface the UEs are also shown communicating directly with each other over a Ud air interface. Direct communication between devices is commonly known as proximity services ProSe device to device D2D communication or peer to peer P2P communication. In D2D a UE is able to communicate directly with another UE without routing communications via an eNodeB or the core network e.g. EPC as illustrated by the Ud D2D interface in . D2D is a powerful technique for increasing network throughput by enabling direct communications between mobile stations rather than using network infrastructure and has a wide variety of applications. For example D2D has been proposed for local social networks content sharing location based marketing service advertisements public safety networks mobile to mobile applications etc. D2D communications are of interest due to their ability to reduce load on a core network such as the EPC or a radio access network such as the E UTRAN increase data rates due to direct and short communication paths provide public safety communication paths and provide other functionality. In some embodiments the UEs may be connected to different eNodeBs or to completely different networks operated by different mobile network operators MNOs .

There are various alternatives to realize such a direct communication path between mobile devices. In one embodiment the D2D air interface Ud could be realized by some type of short range technology such as Bluetooth or Wi Fi or by reusing licensed LTE spectrum such as a UL spectrum. Furthermore D2D communications can be generally divided into two parts. The first part is device discovery whereby UEs are able to determine that they are within range and or available for D2D communication. Proximity detection may be assisted by network infrastructure may be performed at least partially by the UEs or may be performed largely independent of the network infrastructure . The second part is direct communication or D2D communication between UEs which includes a process to establish a D2D session between UEs as well as the actual communication of user or application data. D2D communication may or may not be under continuous control of an MNO. For example the UEs may not need to have an active connection with an eNodeB in order to take part in D2D communications.

For D2D discovery there are generally two different approaches restricted D2D discovery also known as closed D2D discovery and open D2D discovery also known as promiscuous D2D discovery . Restricted D2D discovery applies to use cases wherein a discoverable device may be discovered only by a select set of ProSe enabled discovering devices. For example only pre identified or selected devices may be allowed to connect such as devices identified or selected by the network a P2P server an application or a user. Thus for this use case a discovering device would be assumed to know in advance the ProSe enabled device it wishes to discover in its proximity including any corresponding identifiers.

On the other hand open device discovery considers use cases wherein a discoverable device may want itself to be discovered by any or all ProSe enabled devices in its proximity. From the perspective of the discovering device open device discovery implies that a discovering device may not be assumed to be aware of the identity of other ProSe enabled devices prior to discovery. Consequently the device discovery mechanism for open discovery may aim towards discovering as many ProSe enabled devices in its proximity as possible.

In certain situations such as for open D2D discovery using licensed resources an eNodeB has limited control of the discovery process among UEs. In particular an eNodeB may periodically allocate certain discovery resources in the form of D2D discovery regions e.g. time frequency resources such as resource blocks or subframes for UEs to transmit the discovery information. The discovery information may be in the form of a discovery sequence or discovery packet with payload information.

In this application applicants disclose systems methods and devices for D2D discovery and communication. In one embodiment a UE includes a reference signal component a guard period component and a transmission component. The reference signal component is configured to randomly select a sequence for a reference signal for transmission in a device to device discovery packet. The guard period component is configured to determine a first symbol signal for transmission during a first symbol of the device to device discovery packet. The first symbol may include a partially punctured symbol. The transmission component is configured to transmit the device to device discovery packet that includes the partially punctured symbol and a reference signal based on the randomly selected sequence.

The present disclosure also discusses locations of reference signals within the discovery packet such as an orthogonal frequency division multiplexing OFDM discovery packet. As used herein the term discovery packet is given to mean a packet of information comprising a preamble or header and payload data. The term discovery packet is to be broadly construed as referring not only to a logical data structure but also to a logical resource structure. For example the term discovery packet as used herein encompasses not only payload data but also physical layer signaling such as reference signals and control data.

As background a discussion of resource structure may be helpful. illustrates one embodiment of a basic structure for a time frequency resource as defined in LTE. The resource includes a plurality of radio frames with a length of about 10 milliseconds ms . Each radio frame includes a grid of subframes each with a length of about 1 ms. Each subframe includes a plurality of subcarriers and symbols which form resource elements. In one embodiment a subframe includes two slots or resource blocks which each span a plurality of symbols seven time periods and subcarriers e.g. twelve frequency bands . In a normal cyclic prefix case each resource block includes seven symbols as depicted.

The above embodiments are given by way of example only. Further details and example embodiments will be discussed below.

The communication mode component controls a communication mode of one or more radios of the UE . In one embodiment the UE may include one or more two way radios and or antennas for receiving and uploading data to the network infrastructure . In one embodiment the same radio or antenna may be used for both signal transmission and reception but generally not at the same time. The communication mode component is configured to switch the respective radios from a reception mode to a transmission mode and from a transmission mode to a reception mode as needed. The process of ramping up or ramping down power in a radio or on an antenna to place it in a desired mode takes some time and thus there is often a need for a guard period or puncturing of a resource structure to allow for the switch. According to agreement by the LTE radio layer 1 RAN1 working group T 624 is assumed for both transmission mode to reception mode switching and reception mode to transmission mode switching. This amount of time is meant to allow for communication mode switching times as well as propagation delays for receiving transmitted signals. Ts is the basic time unit with

The receiver component is configured to receive information or signals received by an antenna or radio of the UE . For example the receiver component may receive DL signals from an eNodeB or may receive signals transmitted by a peer UE when a corresponding radio is in a reception mode. In one embodiment the receive component may provide received information to other components as appropriate.

The scheduling component is configured to receive a message scheduling usage of one or more wireless resources. In one embodiment the scheduling component may receive a control message from an eNodeB indicating that a specific portion of licensed wireless resources is to be used for a specific purpose. For example the scheduling component may receive a message from 3GPP LTE network infrastructure allocating wireless resources licensed by an MNO for device to device discovery. The scheduling component may determine whether the UE needs to participate in device to device discovery. If the scheduling component determines a need to establish a D2D session the scheduling component may schedule the allocated resources for transmitting discovery information or listening for discovery information transmitted by a peer UE.

The reference signal component may determine or generate a reference signal for transmission. Reference signals are often included in wireless transmission to allow receiving devices to estimate the channel synchronize in time synchronize in frequency or the like. Example reference signals in LTE include sounding reference signals SRS and demodulation reference signals DM RS . In some cases reference signals include signals based on a basic sequence and modified by a cyclic shift or orthogonal cover code to reduce interference and allow a receiving device to distinguish the transmission from transmissions of other devices. Generally a sequence and modifications e.g. cyclic shift or orthogonal cover code are preconfigured or predefined e.g. by a communication standard or by previous physical layer or higher layer signaling such that a UE knows what reference signal sequence to use and devices or systems interested in receiving transmissions know what to expect.

However in some situations such as for open discovery devices may not be listening for a specific UE or reference signal sequence. Because the transmitting UE and the receiving UE may not even be aware of each other they may not be able to determine what sequence will be used for a reference signal. In one embodiment if no specific sequence is indicated the reference signal component randomly selects a sequence for transmitting a D2D discovery transmission. For example the reference signal component may randomly select a cyclic shift or an index for an orthogonal cover code and allow a receiving UE to blindly determine what cyclic shift or orthogonal cover code was used. In one embodiment a basic sequence may be configured by network infrastructure or by a protocol and the reference signal component may randomly select a modification to the basic sequence to transmit. In one embodiment the reference signal component may randomly select a sequence for a reference signal for transmission during a resource allocated by an eNodeB for device to device discovery. Further details of reference signals sequence selection and reference signal generation will be discussed in relation to the blind sequence detection component and later figures.

The guard period component is configured to determine a guard period for a D2D discovery period. For example the guard period component may determine a guard period for a first symbol of an OFDM resource allocated for discovery. In one embodiment resources allocated for D2D discovery may be located following another resource block or frame where a UE needs to switch a communication mode. For example the UE may be receiving a DL communication from an eNodeB in the previous subframe or frame and may need to ramp up power on the same radio to transmit a discovery packet during the resource allocated for D2D discovery. Similarly the UE may be transmitting a UL communication in the previous sub frame or frame and may need to ramp down power on the same radio to listen for a discovery packet during the resource allocated for D2D discovery.

In one embodiment the guard period component is configured to determine a first symbol signal for transmission during a first symbol of the device to device discovery packet. The guard period component may receive an indication of a reference signal and or data to be transmitted during the first symbol and generate the first signal or determine a structure of the first signal within the first symbol. In one embodiment the guard period component determines a signal for a partially punctured first symbol. The term punctured is given to mean that the basic resource structure is modified to prohibit or limit a requirement to transmit or receive data during the punctured portion of the resource. For example even if a signal is transmitted during a punctured portion a receiving device may be able to receive the same data during a non punctured portion of the resource structure. On the other hand transmission or reception during the punctured portion may be prohibited.

In one embodiment the guard period component determines the signal for the first symbol by determining or generating a repeating signal for the first symbol. For example the signal for the first symbol may include a repeating reference signal or a repeating data signal. The reference signal or data may be repeated twice within the first symbol to allow transmitting or receiving devices to transmit or receive the second transmission. For example if a UE was transmitting in a resource block immediately preceding a resource allocated for discovery the UE may finish transmission and the communication mode component may switch the corresponding radio to a reception mode. However due to the delay in switching the UE may not be able to receive a first portion of a signal transmitted in the first symbol. By the time the second iteration or repetition of the signal begins the UE is ready to receive the signal and no data or information is lost because the missed portion is repeated. In one embodiment the signal may be repeated two three or more times in the first symbol to allow for devices to switch if needed. In one embodiment the guard period component may drop a last repetition of a signal and move the signal backwards by the length of the dropped repetition to provide for a punctured first symbol e.g. see . For example a cyclic prefix CP and first repetition block may be moved backwards in time and a last repetition may be dropped from the first symbol.

In one embodiment the guard period component generates a guard period by determining a signal for the first symbol that does not include power or information in a first portion of the first symbol but has power or information during a second portion of the first symbol. For example the first portion may correspond to an amount of time that allows for communication mode switching such as T 624 as discussed above. In one embodiment the first portion has a length of about 20 ms or more. In one embodiment the first portion has a length corresponding to about one third of a time length of the first symbol. For example the first symbol may have a length of about 1 ms divided by 14 for 14 symbols or

In one embodiment the guard period component may also create a guard period in a last symbol of discovery to allow for timing changes or communication mode switches at an end of D2D discovery.

The transmission component is configured to transmit signals using a radio or antenna of the UE . In one embodiment the transmission component transmits a discovery packet based on information received or provided by other components of the UE . For example the transmission component may transmit a discovery packet during a resource scheduled by the scheduling component . In one embodiment the transmission component transmits reference signals determined by the reference signal component within a discovery packet. In one embodiment the transmission component receives data or signal information and maps the data or signals to appropriate blocks in a resource structure based on a physical layer protocol. For example the transmission component may transmit a discovery packet with reference signals data and or unused symbols as required by the LTE physical layer or as otherwise specified herein.

In one embodiment the transmission component is configured to transmit a D2D discovery packet with a guard period at the beginning of the transmission. For example the transmission component may transmit a D2D discovery packet in an OFDM structure such as in an OFDM resource block or subframe with a partially punctured first symbol. In one embodiment the transmission component transmits the first symbol of the discovery packet without power on one or more of the subcarriers during the first symbol. For example a fraction of the plurality of subcarriers may be unused during the whole first symbol. In one embodiment the fraction of unused subcarriers may be calculated by

In one embodiment the transmission component transmits a reference signal with a discovery packet. For example the transmission component may transmit the reference signal within an OFDM resource block comprising at least a portion of discovery information for the UE . In one embodiment the transmission component transmits the reference signal during the first symbol of the allocated discovery resource. For example the transmission component may transmit a reference signal based on a randomly selected sequence selected by the reference signal component during the first symbol. In one embodiment the transmission component transmits the reference signals during a first symbol of each resource block of the resources allocated for D2D discovery such as the first and eighth symbols of a subframe. In one embodiment the transmission component transmits the reference signals during a fourth symbol of each resource block of the resources allocated for D2D discovery such as the fourth and eleventh symbols of a subframe. In one embodiment the transmission component transmits a reference signal and discovery data as part of an open discovery packet.

The discovery information component is configured to obtain D2D discovery information. For example the discovery information component may receive a discovery packet for open D2D discovery transmitted by a peer UE during a resource allocated for D2D discovery. In one embodiment the discovery information includes an identifier for the peer UE that transmitted the discovery information. The identifier may be used by the UE to transmit a request to establish a D2D session with the corresponding UE. In one embodiment the discovery information includes a reference signal that was generated using a reference signal sequence that is unknown to the receiving UE . For example the transmitting UE may have transmitted the reference signal based on a randomly selected sequence as discussed above in relation to the reference signal component .

The blind sequence detection component is configured to determine an unknown sequence for a received reference signal. For example the blind sequence detection component may determine a cyclic shift or orthogonal cover code used to generate a reference signal received in a discovery packet. In one embodiment the blind sequence detection component determines the unknown sequence by comparing the received reference signal with reference signals generating known cyclic shifts or orthogonal cover codes. For example a basic sequence for the discovery packet may be known but the specific cyclic shift or orthogonal cover code may be unknown. In one embodiment if UL DM RSs are received as the reference signal for D2D discovery a DM RS blind detection algorithm which targets to find a candidate sequence with maximum correlation energy to the actual received reference signal can be employed to determine the cyclic shift of the DM RS sequence of the transmit UEs. In one embodiment the blind sequence detection component may determine the unknown sequence by attempting to interpret the reference signal using one or more potential cyclic shifts or orthogonal cover codes for a known basic sequence. For example the blind sequence detection component may attempt to interpret using a first potential cyclic shift and if unsuccessful try a second potential cyclic shift and so on until the correct cyclic shift is attempted. Similar attempts may be performed with potential orthogonal cover codes on a known basic sequence.

The channel component estimates a channel between the UE and a source UE based on the reference signal with the unknown sequence. In one embodiment the discovery information component receives a DM RS having an unknown randomly selected DM RS sequence. From the perspective of a receiving UE the blind sequence detection component performs blind detection of the DM RS sequence and the channel component performs estimation and synchronization to ensure an appropriate channel estimation timing and frequency offset compensation for the source UE.

In the case where a DM RS is transmitted during the first symbol the discovery DM RS sequence may reuse the existing Zadoff Chu ZC sequence. In one embodiment a different sequence can also be considered for the discovery DM RS sequence design. An example of preamble generation for the first OFDM symbol is described as follows. The reference signal sequence or modulated symbols in the first symbol may be multiplied with an amplitude scaling factor in order to conform to a transmit power Pand may be mapped in sequence starting with r 0 to resource elements k 0 according to 

Note that when discovery packet transmission occupies one resource block i.e. M 12 a new base sequence may be used. In general the new base sequence will have constant modulus in the frequency domain low peak to average power ratio PAPR low memory complexity requirements and good cross correlation properties. An example of a base sequence with six phase values which may be used is given below.

For M N 2 a base sequence is given by Eq. 3 where 0 n M 1 and n can be given as 0 . . . 5 1 1 3 3 3 3. Eq. 4 

In an IFDMA signal structure with an RPF of 3 is illustrated. In the frequency domain either data or reference symbols can be mapped onto every third subcarrier. As illustrated this would create three repeated blocks in the first OFDM symbol in the time domain. By puncturing the repetition block 3 and shifting the CP and first two repetition blocks as shown in the punctured first symbol an approximately 22 s guard period can be generated.

An example of preamble generation for the first OFDM symbol based on RPF 3 is described as follows. The reference signal sequence or modulated symbols may be multiplied with the amplitude scaling factor in order to conform to a transmit power Pand may be mapped in sequence starting with r 0 to resource elements k 0 according to 

It is worth mentioning that the structures of both and can be easily extended to support public safety specific use cases in partial and outside network coverage scenarios. For instance the last OFDM symbol may be punctured in the same way as the first OFDM symbol in order to accommodate an even larger synchronization error.

Turning now to physical layer structures for D2D discovery signals are proposed. For D2D discovery a certain number of primary resource block PRB pairs i.e. subframes mapped in a certain way frequency first time first or following a mixed mapping to time frequency resources can be used to carry the discovery packet. Let us denote N Nas the time frequency resources where Nis the number of resource blocks in the frequency domain and Nis the number of slots or subframes in the time domain. For instance for a 2 1 frequency domain resource allocation scheme each discovery packet transmission occupies subcarriers within one subframe. For a 1 2 time domain resource allocation scheme each discovery packet transmission spans two subframes and occupies subcarriers in each subframe. Note that when the discovery packet transmission spans more than one subframe guard periods in the first OFDM symbol of the second and subsequent subframes may not be needed which would provide a lower coding rate and thereby better link level discovery performance. cover four generally different physical layer structures for D2D discovery signal designs.

The discovery demodulation reference signal sequence r associated with layer 0 1 . . . v 1 is defined by Eq. 6 where m 0 and n 0 . . . M 1. 3GPP TS 36.211 Section 5.5.1 defines the sequence r 0 . . . r M 1 . The cyclic shift in a slot nis given as 2 n 12. n can be randomly chosen from a set or a subset of 0 1 2 . . . 11.

As mentioned in the proposed guard period generation procedure the length of a DM RS sequence would be reduced by half in the case of RPF 2 or in the case of RPF 3 for the first OFDM symbol. Furthermore data symbols may be generated by utilizing either single carrier FDMA SC FDMA or OFDMA transmission schemes.

Turning to a second example option for D2D discovery signal design is discussed. In the second example option the discovery DM RS occupies the centered OFDM symbol for each slot as well as the first OFDM symbol of the first slot slot 0 . The discovery DM RS allocated for the centered OFDM symbol can be generated according to 3GPP TS 36.211 Section 5.5.2.1. For open ProSe discovery the discovery DM RS can be generated as follows.

The discovery demodulation reference signal sequence r associated with layer 0 1 . . . v 1 is defined by Eq. 7 where m 0 1 and n 0 . . . M 1. 3GPP TS 36.211 Section 5.5.1 defines the sequence r 0 . . . r M 1 . The cyclic shift in a slot nis given as 2 n 12. n can be randomly chosen from a set or a subset of 0 1 2 . . . 11.

As mentioned in the proposed guard period generation procedure the length of a DM RS sequence would be reduced by half in the case of RPF 2 or two thirds in the case of RPF 3 for the first OFDM symbol. Furthermore data symbols may be generated by utilizing either SC FDMA or OFDMA transmission schemes.

Turning to discovery signal structures and represent a third example option for D2D discovery signal design. In the third example option the discovery DM RS occupies the centered OFDM symbols and for each slot. The discovery DM RS generation for the centered OFDM symbol is the same as discussed with reference to . In addition for the first OFDM symbols and data signals are mapped into every even subcarrier to generate guard periods within the first symbol. Furthermore the first data symbol is generated based on an OFDMA transmission scheme. illustrate the third example option discovery signal design with N 1 and 1 Ntime frequency resource mapping respectively.

Turning to a fourth example option for D2D discovery signal design is discussed. For the fourth example option the position of the discovery DM RS follows a similar principle to DM RS in DL subframes for transmission modes TM and physical DL shared channel PDSCH transmission. More specifically for restricted D2D discovery the discovery DM RS can be generated according to 3GPP TS 36.211 Section 6.10.3. For open D2D discovery the discovery DM RS can be generated as follows. Note that in this case ProSe enabled UE can randomly choose one antenna port for discovery signal transmission.

The pseudo random sequence c i is defined in 3GPP TS 36.211 Section 7.2. The pseudo random sequence generator will be initialized at the start of each subframe with 

The method begins and a reference signal component randomly selects a sequence for a reference signal. The reference signal component may select the sequence by selecting an index for a cyclic shift or an orthogonal cover code for a predetermined base sequence. The reference signal component may select the signal using a random number generator. In one embodiment the reference signal component selects the sequence for a reference signal for transmission in an open device to device discovery packet. The reference signal component selects the sequence for a DM RS or SRS.

A guard period component determines a guard period for the discovery transmission. For example the guard period component may determine a first symbol signal for transmission during a partially punctured first symbol of the device to device discovery packet. In one embodiment the guard period component determines the guard period by generating a punctured first symbol. The guard period component may generate a first symbol similar to the first symbols illustrated in .

A transmission component transmits a D2D discovery packet. In one embodiment the transmission component may transmit a D2D discovery packet that includes a guard period determined by the guard period component . In one embodiment the transmission component may transmit a D2D discovery packet that includes a reference signal generated based on the sequence selected by the reference signal component . In one embodiment the transmission component transmits a D2D discovery packet that includes a punctured first symbol. The punctured first symbol may include a reference signal or may include data.

The method begins and a receiver component receives a message from a base station allocating licensed wireless resources for D2D discovery. In one embodiment the receiver component receives the message from an eNodeB allocating one or more resource blocks for D2D discovery. In one embodiment the allocated wireless resources include licensed resources for a cellular network.

A reference signal component determines a random sequence for a reference signal for the licensed wireless resources. A transmission component transmits D2D discovery information during the allocated licensed resources and also transmits a reference signal based on the random sequence. For example the transmission component may transmit a reference signal and discovery information according to any of the embodiments of . The method may also include establishing a D2D session with one or more proximal UEs.

The method begins and a discovery information component receives open P2P discovery information. The discovery information includes a reference signal transmitted by a source device using an unknown reference signal sequence. For example the source device may have generated the reference signal based on a random cyclic shift index or orthogonal cover code index.

The blind sequence detection component determines the unknown reference signal sequence. For example the blind sequence detection component may determine the unknown sequence by identifying a candidate sequence with a maximum correlation energy to the actual received reference signal. The channel component estimates the channel between the source device and the UE based on the reference signal. In one embodiment the method includes transmitting a request to establish a D2D session with the source device.

The method begins and a receiver component receives with a radio in a reception mode a DL transmission from a radio access network. For example the receiver component may receive a DL transmission from an eNodeB .

A communication mode component switches the radio of the UE from the reception mode to a transmission mode. In one embodiment the communication mode component switches the communication mode in preparation for a resource allocated for D2D discovery. A transmission component transmits a D2D discovery packet during an OFDM resource block. The resource block may include a guard period in a first symbol of the OFDM resource block. In one embodiment the guard period provides enough time for the radio to ramp up power and transmit the discovery packet.

Example 1 is a wireless communication device configured to receive a message from a base station allocating licensed wireless resources for D2D discovery. The wireless communication device is configured to determine a random sequence for a reference signal for the licensed wireless resources. The reference signal comprises an LTE PUSCH DM RS. The wireless communication device is configured to transmit D2D discovery information during the allocated licensed resources. The wireless communication device is configured to transmit a reference signal based on the random sequence.

In Example 2 the reference signal of Example 1 is transmitted during a fourth symbol and tenth symbol of each resource block of the allocated licensed wireless resource in the normal cyclic prefix case and during a third symbol and ninth symbol of each resource block in the extended cyclic prefix case.

In Example 3 determining the random sequence in any of Examples 1 2 optionally includes randomly selecting an orthogonal cover code for a base sequence.

In Example 4 determining the random sequence in any of Examples 1 3 optionally includes selecting the random sequence comprises selecting a cyclic shift for a base sequence.

In Example 5 transmitting the D2D discovery information of any of Examples 1 4 optionally includes transmitting an open discovery packet.

Example 6 is a UE that includes a radio configured to transmit and receive signals in a licensed wireless spectrum as well as a receiver component a communication component and a transmission component. The receiver component is configured to receive with the radio in a reception mode a downlink transmission from a radio access network. The communication mode component configured to switch the radio from the reception mode to a transmission mode. The transmission component is configured to transmit a D2D discovery packet during an OFDM resource block. Transmitting the D2D discovery packet includes transmitting a first symbol of the OFDM resource block having a guard period.

In Example 7 transmitting the first symbol including a guard period in Example 6 optionally transmitting the first symbol with an unused first portion of the first symbol and a used portion of the first symbol wherein the first portion precedes the second portion in time.

In Example 8 the first portion of the first symbol of Example 7 optionally has a length of about 20 milliseconds or more.

In Example 9 the first portion of the first symbol of any of Examples 7 8 optionally includes about one third of the first symbol.

In Example 10 the first portion of the first symbol of any of Examples 7 8 optionally includes comprises about one half of the first symbol.

Example 11 is a device for open P2P discovery in a 3GPP LTE protocol that includes a discovery information component a blind sequence detection component and a channel component. The discovery information component is configured to receive open P2P discovery information. The discovery information includes a reference signal transmitted by a source wireless communication device using an unknown reference signal sequence. The blind sequence detection component is configured to determine the unknown reference signal sequence. The channel component is configured to estimate a channel between the device and the source wireless communication device based on the reference signal.

In Example 12 the device of Example 11 optionally further includes a scheduling component configured to receive a message from a 3GPP LTE network infrastructure allocating licensed wireless resources for P2P discovery. The discovery information component receives the open P2P discovery information during the allocated wireless resources.

In Example 13 the blind sequence detection component of any of Examples 11 12 is optionally configured to determine the unknown reference signal sequence by comparing the reference signal with one or more potential cyclic shifts for a base sequence.

In Example 14 the blind sequence detection component of any of Examples 11 13 is optionally configured to determine the unknown reference signal sequence by comparing the reference signal with one or more potential orthogonal cover codes for a base sequence.

In Example 16 the device of any of Examples 11 15 optionally includes one or more of a processor an antenna a display a speaker and a user input interface.

Example 17 is a UE that includes a reference signal component a guard period component and a transmission component. The reference signal component is configured to randomly select a sequence for a reference signal for transmission in an open D2D discovery packet. The guard period component is configured to determine a first symbol signal for transmission during a first symbol of the D2D discovery packet wherein the first symbol includes a partially punctured symbol. The transmission component is configured to transmit the D2D discovery packet. The D2D discovery packet includes the first symbol having the partially punctured symbol and a reference signal based on the randomly selected sequence.

In Example 18 the guard period component of Example 17 optionally determines the partially punctured symbol by determining a repeating signal during the first symbol.

In Example 19 the transmission component of any of Examples 17 18 optionally transmits the first symbol of the discovery packet without power on a fraction of the plurality of subcarriers based on a RPF wherein the fraction comprises RPF 1 RPF. The RPF corresponds to a number of times that the repeating signal repeats.

In Example 20 the reference signal of any of Examples 17 19 is transmitted during a first symbol of each resource block of the D2D discovery packet.

Example 21 is a method for D2D discovery. The method includes receiving a message from a base station allocating licensed wireless resources for D2D discovery. The method includes determining a random sequence for a reference signal for the licensed wireless resources. The reference signal includes an LTE PUSCH DM RS. The method includes transmitting D2D discovery information during the allocated licensed resources. The method includes transmitting a reference signal based on the random sequence.

In Example 22 the reference signal of Example 21 is transmitted during a fourth symbol and tenth symbol of each resource block of the allocated licensed wireless resource in the normal cyclic prefix case and during a third symbol and ninth symbol of each resource block in the extended cyclic prefix case.

In Example 23 determining the random sequence in any of Examples 21 22 optionally includes randomly selecting an orthogonal cover code for a base sequence.

In Example 24 determining the random sequence in any of Examples 21 23 optionally includes selecting the random sequence comprises selecting a cyclic shift for a base sequence.

In Example 25 transmitting the D2D discovery information of any of Examples 21 24 optionally includes transmitting an open discovery packet.

Example 26 is a method for D2D discovery. The method includes receiving with a radio in a reception mode a downlink transmission from a radio access network. The method includes switching the radio from the reception mode to a transmission mode. The method includes transmitting a D2D discovery packet during an OFDM resource block. Transmitting the D2D discovery packet includes transmitting a first symbol of the OFDM resource block having a guard period.

In Example 27 transmitting the first symbol including a guard period in Example 26 optionally transmitting the first symbol with an unused first portion of the first symbol and a used portion of the first symbol wherein the first portion precedes the second portion in time.

In Example 28 the first portion of the first symbol of Example 27 optionally has a length of about 20 milliseconds or more.

In Example 29 the first portion of the first symbol of any of Examples 27 28 optionally includes about one third of the first symbol.

In Example 30 the first portion of the first symbol of any of Examples 27 28 optionally includes comprises about one half of the first symbol.

Example 31 is a method for open P2P discovery in a 3GPP LTE protocol. The method includes receiving open P2P discovery information. The discovery information includes a reference signal transmitted by a source wireless communication device using an unknown reference signal sequence. The method includes determining the unknown reference signal sequence. The method includes estimating a channel between the device and the source wireless communication device based on the reference signal.

In Example 32 the method of Example 31 optionally further includes receiving a message from a 3GPP LTE network infrastructure allocating licensed wireless resources for P2P discovery. The open P2P discovery information may be received during the allocated wireless resources.

In Example 33 determining the unknown reference signal sequence of any of Examples 31 32 optionally includes comparing the reference signal with one or more potential cyclic shifts for a base sequence.

In Example 34 determining the unknown reference signal sequence of any of Examples 31 33 optionally includes comparing the reference signal with one or more potential orthogonal cover codes for a base sequence.

Example 36 is a method for D2D discovery. The method includes randomly selecting a sequence for a reference signal for transmission in an open D2D discovery packet. The method includes determining a first symbol signal for transmission during a first symbol of the D2D discovery packet wherein the first symbol includes a partially punctured symbol. The method includes transmitting the D2D discovery packet. The D2D discovery packet includes the first symbol having the partially punctured symbol and a reference signal based on the randomly selected sequence.

In Example 37 determining the first symbol of Example 16 optionally includes determining a repeating signal during the first symbol.

In Example 38 transmitting the first symbol of any of Examples 36 37 optionally includes transmitting the first symbol of the discovery packet without power on a fraction of the plurality of subcarriers based on a RPF wherein the fraction comprises RPF 1 RPF. The RPF corresponds to a number of times that the repeating signal repeats.

In Example 39 the reference signal of any of Examples 36 38 is transmitted during a first symbol of each resource block of the D2D discovery packet.

Example 41 is a machine readable storage including machine readable instructions when executed to implement a method or realize an apparatus of any of Examples 21 40.

Various techniques or certain aspects or portions thereof may take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives a non transitory computer readable storage medium or any other machine readable storage medium wherein when the program code is loaded into and executed by a machine such as a computer the machine becomes an apparatus for practicing the various techniques. In the case of program code execution on programmable computers the computing device may include a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. The volatile and non volatile memory and or storage elements may be a RAM an EPROM a flash drive an optical drive a magnetic hard drive or another medium for storing electronic data. The eNB or other base station and UE or other mobile station may also include a transceiver component a counter component a processing component and or a clock component or timer component. One or more programs that may implement or utilize the various techniques described herein may use an application programming interface API reusable controls and the like. Such programs may be implemented in a high level procedural or an object oriented programming language to communicate with a computer system. However the program s may be implemented in assembly or machine language if desired. In any case the language may be a compiled or interpreted language and combined with hardware implementations.

It should be understood that many of the functional units described in this specification may be implemented as one or more components which is a term used to more particularly emphasize their implementation independence. For example a component may be implemented as a hardware circuit comprising custom very large scale integration VLSI circuits or gate arrays off the shelf semiconductors such as logic chips transistors or other discrete components. A component may also be implemented in programmable hardware devices such as field programmable gate arrays programmable array logic programmable logic devices or the like.

Components may also be implemented in software for execution by various types of processors. An identified component of executable code may for instance comprise one or more physical or logical blocks of computer instructions which may for instance be organized as an object a procedure or a function. Nevertheless the executables of an identified component need not be physically located together but may comprise disparate instructions stored in different locations that when joined logically together comprise the component and achieve the stated purpose for the component.

Indeed a component of executable code may be a single instruction or many instructions and may even be distributed over several different code segments among different programs and across several memory devices. Similarly operational data may be identified and illustrated herein within components and may be embodied in any suitable form and organized within any suitable type of data structure. The operational data may be collected as a single data set or may be distributed over different locations including over different storage devices and may exist at least partially merely as electronic signals on a system or network. The components may be passive or active including agents operable to perform desired functions.

Reference throughout this specification to an example means that a particular feature structure or characteristic described in connection with the example is included in at least one embodiment of the present invention. Thus appearances of the phrase in an example in various places throughout this specification are not necessarily all referring to the same embodiment.

As used herein a plurality of items structural elements compositional elements and or materials may be presented in a common list for convenience. However these lists should be construed as though each member of the list is individually identified as a separate and unique member. Thus no individual member of such list should be construed as a de facto equivalent of any other member of the same list solely based on its presentation in a common group without indications to the contrary. In addition various embodiments and examples of the present invention may be referred to herein along with alternatives for the various components thereof. It is understood that such embodiments examples and alternatives are not to be construed as de facto equivalents of one another but are to be considered as separate and autonomous representations of the present invention.

Although the foregoing has been described in some detail for purposes of clarity it will be apparent that certain changes and modifications may be made without departing from the principles thereof. It should be noted that there are many alternative ways of implementing both the processes and apparatuses described herein. Accordingly the present embodiments are to be considered illustrative and not restrictive and the invention is not to be limited to the details given herein but may be modified within the scope and equivalents of the appended claims.

Those having skill in the art will appreciate that many changes may be made to the details of the above described embodiments without departing from the underlying principles of the invention. The scope of the present invention should therefore be determined only by the following claims.

