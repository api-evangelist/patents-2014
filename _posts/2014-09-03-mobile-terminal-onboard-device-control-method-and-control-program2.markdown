---

title: Mobile terminal, onboard device, control method, and control program
abstract: A mobile terminal that performs communication with an onboard device includes: a communication control unit configured to control reception of information instructing to switch a sound source which is transmitted from the onboard device, the information including information indicating an application program which is executed in the terminal serving as the sound source, and transmission of a sound, played by an application program operating in a foreground of the terminal, to the onboard device; a switching unit configured to switch an application program having been in operation in a foreground until immediately before, to a background, on the basis of the received information instructing to switch a sound source, and to switch an application program having been in operation in a background until immediately before, to a foreground; and a sound control unit configured to stop playing a sound of the application program having been in operation in a foreground until immediately before, and to start playing a sound of the application program having been in operation in a background until immediately before, subsequently to the stop.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09648155&OS=09648155&RS=09648155
owner: Pioneer Corporation
number: 09648155
owner_city: Kanagawa
owner_country: JP
publication_date: 20140903
---
The present invention relates to a mobile terminal an onboard device a control method and a control program.

Priority is claimed on Japanese Patent Application No. 2013 183416 filed Sep. 4 2013 the content of which is incorporated herein by reference.

In recent years multifunctional cellular phones as represented by a multifunctional cellular phone terminal smartphone have been in widespread use. A multifunctional cellular phone terminal realizes various functions by various types of applications being installed. In many cases such applications may have a function such as the playback of radio or music data these applications being incorporated into audio in the related art. In association therewith a desire to use functions of such audio and the like mounted on a multifunctional cellular phone terminal in an onboard device has recently increased.

In this connection a system has been known where a desired application is started up in a shorter period of time with less operation man hours when portable appliances and onboard appliances are used in conjunction with each other see for example Patent Document 1 . In addition a sound output control device has been known where a cellular phone connected to the sound output control device transmits audio data to the sound output control device in a streaming manner and the sound output control device automatically processes the transmitted audio data using an optimum application without manually selecting the audio data see for example Patent Document 2 .

However systems sound output control devices and the like of the related art have limited processes which are capable of being realized by various application programs during operation in an onboard device on the basis of information transmitted from the onboard device side to the mobile terminal side. For example when an application program that performs communication specified by a certain protocol performs communication with the onboard device control of an operation for an application program that performs communication specified by another protocol may not be able to be performed from the onboard device side. In addition there may be a case where one application program is given an exclusive right and operations of other application programs can only be controlled restrictively during the operation of the one application program.

An aspect according to the present invention is contrived in view of such problems of the related art and an object thereof is to provide a mobile terminal an onboard device a control method and a control program which are capable of smoothly switching an application program on a mobile terminal side on the basis of information which is acquired from an onboard device side.

Aspects according to the present invention adopt the following configurations in order to solve the above problems.

 1 According to an aspect of the present invention there is provided a mobile terminal that performs communication with an onboard device including a communication control unit configured to control reception of information instructing to switch a sound source which is transmitted from the onboard device the information including information indicating an application program which is executed in the terminal serving as the sound source and transmission of a sound played by an application program operating in a foreground of the terminal to the onboard device a switching unit configured to switch an application program having been in operation in a foreground until immediately before to a background on the basis of the received information instructing to switch a sound source and to switch an application program having been in operation in a background until immediately before to a foreground and a sound control unit configured to stop playing a sound of the application program having been in operation in a foreground until immediately before and to start playing a sound of the application program having been in operation in a background until immediately before subsequently to the stop.

 2 In the aspect of the above 1 after switching is performed by the switching unit the sound control unit may stop playing the sound of the application program having been in operation in a foreground until immediately before and start playing the sound of the application program having been in operation in a background until immediately before subsequently to the stop.

 3 In the aspect of the above 1 or 2 the sound control unit may start playing the sound through a dedicated application programming interface API .

 4 According to an aspect of the present invention there is provided a control method of a mobile terminal that performs communication with an onboard device including receiving information instructing to switch a sound source which is transmitted from the onboard device the information including information indicating an application program which is executed in the terminal serving as the sound source transmitting a sound played by an application program operating in a foreground of the terminal to the onboard device switching an application program having been in operation in a foreground until immediately before to a background on the basis of the received information instructing to switch a sound source and switching an application program having been in operation in a background until immediately before to a foreground and stopping playing a sound of the application program having been in operation in a foreground until immediately before and starting playing a sound of the application program having been in operation in a background until immediately before subsequently to the stop.

 5 According to an aspect of the present invention there is provided a control program causing a computer of a mobile terminal that performs communication with an onboard device to execute a procedure of receiving information instructing to switch a sound source which is transmitted from the onboard device the information including information indicating an application program which is executed in the terminal serving as the sound source a procedure of transmitting a sound played by an application program operating in a foreground of the terminal to the onboard device a procedure of switching an application program having been in operation in a foreground until immediately before to a background on the basis of the received information instructing to switch a sound source and switching an application program having been in operation in a background until immediately before to a foreground and a procedure of stopping playing a sound of the application program having been in operation in a foreground until immediately before and starting playing a sound of the application program having been in operation in a background until immediately before subsequently to the stop.

 6 According to an aspect of the present invention there is provided an onboard device that performs communication with a mobile terminal including a reception unit configured to receive a sound played by an application program operating in a foreground of the mobile terminal an output unit configured to output the sound received by the reception unit an acquisition unit configured to acquire information instructing to switch a sound source a transmission unit configured to transmit to the mobile terminal information including information indicating an application program which is executed in the mobile terminal the information being for switching an application program having been in operation in a foreground until immediately before in the mobile terminal to a background and switching an application program having been in operation in a background until immediately before to a foreground on the basis of the information instructing to switch a sound source acquired by the acquisition unit.

 7 In the aspect of any one of the above 1 to 3 the mobile terminal may further include a communication unit configured to transmit information indicating at least one or more application programs which are executed in the terminal to the onboard device.

 8 In the aspect of the above 6 the reception unit may receive information indicating at least one or more application programs which are executed in the mobile terminal from the mobile terminal.

According to the aspects of the above 1 4 and 5 the mobile terminal receives the information instructing to switch a sound source which is transmitted from the onboard device switches an application program having been in operation in the foreground until immediately before to the background on the basis of the received information instructing to switch a sound source switches an application program having been in operation in the background until immediately before to the foreground stops playing a sound of the application program having been in operation in the foreground until immediately before and starts playing a sound of the application program having been in operation in the background until immediately before. Therefore the application program on the mobile terminal side can be smoothly switched on the basis of the information acquired from the onboard device side without depending on the standard of the music application which is installed on the mobile terminal.

In the case of the above 2 the mobile terminal switches the application program having been in operation in the foreground until immediately before to the background switches the application program having been in operation in the background until immediately before to the foreground then stops playing the sound of the application program having been in operation in the foreground until immediately before and starts playing the sound of the application program having been in operation in the background until immediately before subsequently to the stop. Therefore it is possible to smoothly switch the application program on the mobile terminal side and to smoothly switch an application program which plays a sound on the mobile terminal side.

In the case of the above 3 the mobile terminal starts playing the sound of the application program having been in operation in the background until immediately before through the dedicated application programming interface API . Therefore even in the case of a situation where the playback of the sound of an application program is not able to be started in control based on the API specified for each mobile terminal it is possible to play the sound of the application program.

In the case of the above 6 the onboard device acquires information instructing to switch a sound source acquired within a vehicle transmits to the mobile terminal information for switching an application program having been in operation in a foreground until immediately before to a background and switching an application program having been in operation in a background until immediately before to a foreground on the basis of the acquired information instructing to switch a sound source to thereby stop playing the sound of the application program having been in operation in a foreground until immediately before in the mobile terminal and starts playing the sound of the application program having been in operation in a background until immediately before. Thereby the application program on the mobile terminal side can be smoothly switched on the basis of the information acquired from the onboard device side without depending on the standard of the music application which is installed on the mobile terminal.

Hereinafter an embodiment of the present invention will be described in detail with reference to the accompanying drawings. is a diagram illustrating an example of a use situation of an electronic communication system in a first embodiment. The electronic communication system in the first embodiment includes for example an onboard switch an onboard display device onboard device and a mobile terminal . The onboard switch is for example a steering switch or the like which is mounted on an automobile Car. The steering switch refers to a switch included in a steering strg of the automobile shown in . The onboard switch is communicably connected to the onboard display device through a steering electronic control unit ECU a bus BS within a vehicle or the like. Cable communication through the bus BS within a vehicle is performed by for example a controller area network CAN standard.

The onboard switch functions as a switch for switching a sound source of a sound which is played through the onboard display device when the onboard switch is connected to the onboard display device and functions as for example a switch or the like of an air conditioner when the onboard switch is not connected thereto. The sound source of a sound which is played through the onboard display device is for example a frequency modulation FM radio an amplitude modulation AM radio a compact disc CD Registered Trademark a MiniDisc MD Registered Trademark a digital versatile disc DVD Registered Trademark a Blu ray disc BD Registered Trademark a car navigation an application program for playing a sound which is installed on a multifunctional cellular phone terminal described later or the like.

The onboard display device is for example an onboard device which is mounted on the automobile Car and includes a display unit or a speaker. Specifically the onboard display device is an audio device with a display a car navigation device or the like but may also be used as an onboard television receiver or the like. The onboard display device is communicably connected to the mobile terminal by a plurality of communication specifications for example wireless communication or cable communication through a cable Cb . The wireless communication is performed by for example the standard of Bluetooth Registered Trademark . In addition the wireless communication may be performed by a wireless local area network LAN Wi Fi Direct Registered Trademark or the like. On the other hand the cable communication through the cable Cb is performed by for example the standard of a high definition multimedia interface HDMI Registered Trademark a universal serial bus USB or the like.

When the onboard display device acquires information instructing to switch a sound source from the onboard switch using the CAN communication from the automobile Car the device transmits the acquired information to the mobile terminal using the aforementioned wireless communication. In addition the onboard display device receives an input from a user in an input reception unit described later and outputs information indicating the received input from a user to the mobile terminal through the cable Cb. The information indicating the input from a user is for example information relating to coordinates in which a touch operation has been performed on a touch panel but may be information obtained by pressing down various types of buttons information obtained by turning on off various types of switches separate from the onboard switch or the like. In addition the onboard display device acquires various types of images or sounds from the mobile terminal and outputs the acquired images or sounds to a display unit or a speaker of the device which is described later.

The mobile terminal is for example a multifunctional cellular phone terminal smartphone but may be other types of portable information terminals such as a cellular phone terminal a tablet personal computer PC a notebook PC an electronic book reader or a personal digital assistant PDA . The mobile terminal has various types of application programs installed thereon and has various functions performed by various types of application programs starting up. An example of such functions includes an application program having an audio function of performing radio or music playback or an application program having a function of car navigation.

The mobile terminal acquires information instructing to switch a sound source from the onboard display device for example using the wireless communication switches an application program during startup in a foreground on the basis of the acquired information and plays a sound of the application program switched during startup in the foreground. In addition when the application program during startup in the foreground is switched the mobile terminal stops the sound which is played by the application program having started up in the foreground until immediately before. The mobile terminal transmits the sound which is played by the application program during startup in the foreground to the onboard display device for example using the cable communication performed through the cable Cb. In this manner the mobile terminal can acquire the information instructing to switch a sound source by the onboard switch from the onboard display device and switch the sound source for playing a sound on the basis of the acquired information. Meanwhile the information which is transmitted and received using the wireless communication and the cable communication may have a reverse relation for example a sound may be transmitted and received in a wireless manner and the information instructing to switch a sound source may be transmitted and received in a wired manner .

The vehicle side second communication unit includes for example hardware for performing communication based on the HDMI Registered Trademark standard. The vehicle side second communication unit includes for example an HDMI Registered Trademark terminal to which an HDMI Registered Trademark cable is connected and an interface unit which is capable of transmitting and receiving various types of information relating to an image signal a sound signal and an image format to and from a device that outputs an image or a sound. This interface unit has a plurality of channels and various types of images or sounds are transmitted and received using a transition minimized differential signaling TMDS channel.

In addition the vehicle side second communication unit further includes hardware for performing communication based on the USB standard. The vehicle side second communication unit includes a USB connector and an interface unit which is capable of transmitting and receiving various types of information relating to an image signal a sound signal and an image format to and from a device that outputs an image or a sound.

The processor is for example a central processing unit CPU of the onboard display device . The processor executes various types of programs which are stored in the vehicle side storage unit described later and thus realizes each of the following software function units. The processor includes a vehicle side input determination unit a vehicle side information provision unit a vehicle side first communication control unit a vehicle side second communication control unit and an output control unit for example as the software function units.

The vehicle side input determination unit determines that information indicating an input from a user acquired by the processor from the vehicle side input reception unit or the onboard switch input reception unit described later is information indicating an input from a user acquired from the vehicle side input reception unit the information indicating an input from a user acquired from the onboard switch input reception unit . When the information indicating an input from a user acquired by the processor is the information acquired from the onboard switch input reception unit the vehicle side input determination unit outputs the information as information instructing to switch a sound source to a sound source switching unit described later. In addition when the information indicating an input from a user acquired by the processor is the information acquired from the vehicle side input reception unit the vehicle side input determination unit outputs the information to the vehicle side second communication control unit . The information indicating an input from a user acquired from the vehicle side input reception unit refers to information for example information of coordinates in which a touch operation has been performed indicating an operation received from a user by the vehicle side input reception unit .

When information indicating various types of application programs which are visualized by a launcher application of the mobile terminal is acquired from the vehicle side second communication control unit the sound source switching unit stores the acquired information in the vehicle side storage unit . The information indicating various types of application programs refers to for example information indicating the capability of communicating with the vehicle side first communication control unit for each application program information relating to communication with the vehicle side first communication control unit for each application program or the like. The sound source switching unit generates a candidate of a switching destination of a sound source on the basis of this information.

In addition when the information instructing to switch a sound source is acquired from the vehicle side input determination unit the sound source switching unit switches a sound source of the onboard display device on the basis of the acquired information and the candidate of the switching destination of a sound source which is generated on the basis of the information indicating various types of application programs stored in the vehicle side storage unit . The sound source switching unit generates the FM radio the AM radio and various types of application programs of the mobile terminal for example as the candidate of the switching destination of a sound source. In addition when various types of application programs of the mobile terminal are selected during switching of a sound source the sound source switching unit outputs information instructing to switch a sound source to the selected application program to the vehicle side first communication control unit . The information instructing to switch a sound source to the selected application program includes for example information for identifying the selected application program and is hereinafter called selected application sound source switching information.

The vehicle side information provision unit is for example a function unit for providing vehicle information to the mobile terminal through the vehicle side first communication unit and performs an operation based on a dedicated protocol for transmitting and receiving vehicle information such as the selected application sound source switching information which is capable of being acquired from a vehicle using wireless communication. When the selected application sound source switching information from the sound source switching unit is acquired the vehicle side information provision unit outputs the acquired selected application sound source switching information to the mobile terminal . In this case the vehicle side information provision unit outputs the acquired selected application sound source switching information to the vehicle side first communication control unit converts the information into a protocol data unit PDU capable of being transmitted by the vehicle side first communication unit and then transmits the result to the mobile terminal . Meanwhile the vehicle side information provision unit and the vehicle side first communication control unit may be an integrated function unit.

The vehicle side first communication control unit converts the selected application sound source switching information acquired from the vehicle side information provision unit into a PDU capable of being transmitted by the vehicle side first communication unit . The vehicle side first communication control unit causes the mobile terminal to transmit the converted PDU to the vehicle side first communication unit .

The vehicle side second communication control unit converts the information converted into a PDU capable of being received by the vehicle side second communication unit the information being related to various types of images or sounds which are acquired from the mobile terminal into information of a format capable of being handled by the onboard display device . In addition the vehicle side second communication control unit converts the information indicating an input from a user which is acquired from the vehicle side input reception unit described later into a PDU capable of being received by the vehicle side second communication unit and causes the vehicle side second communication unit to transmit the converted PDU to the mobile terminal . In addition the vehicle side second communication control unit acquires the information indicating various types of application programs which are visualized by the aforementioned launcher application of the mobile terminal from the mobile side second communication unit communication unit of the mobile terminal through the vehicle side second communication unit and outputs the acquired information to the sound source switching unit .

The output control unit outputs an image converted into a format capable of being handled by the vehicle side second communication control unit to the display unit to display the output image and outputs the converted sound to the speaker to output the output sound. In addition when the sound source switching unit switches a sound source to the AM radio or the FM radio the output control unit acquires a sound signal of the AM radio or the FM radio from a radio reception unit and plays a sound in the speaker on the basis of the acquired sound signal.

The vehicle side storage unit includes for example a RAM a register a hard disk drive HDD a solid state drive SSD or the like. The vehicle side storage unit stores various types of programs which are executed by the processor .

The vehicle side input reception unit is for example a touch panel but may include various types of buttons or switches and the like which are mounted on the onboard display device . The vehicle side input reception unit receives an input from a user and outputs information for example information of coordinates in which a touch operation has been performed indicating the received operation to the processor .

The display unit is for example a liquid crystal display panel or an organic EL Electro Luminescence display panel. The display unit displays an image acquired from the output control unit .

The onboard switch input reception unit receives an input from a user from the onboard switch using the CAN communication and outputs information indicating the received input from a user to the processor .

The radio reception unit includes an antenna that receives a sound signal of radio broadcasting such as AM radio broadcasting or FM radio broadcasting an antenna circuit a tuning circuit a detector circuit and an output circuit and outputs the received sound signal of radio broadcasting to the processor .

The mobile terminal includes for example a mobile side first communication unit a mobile side second communication unit a processor a mobile side storage unit a mobile side input reception unit a display unit a speaker and an external communication unit . Similarly to the vehicle side first communication unit the mobile side first communication unit is a wireless communication module that performs wireless communication based on the Bluetooth standard and performs communication with the vehicle side first communication unit .

Similarly to the vehicle side second communication unit the mobile side second communication unit includes hardware for performing communication based on the HDMI Registered Trademark standard and hardware for performing communication based on the USB standard. That is the onboard display device and the mobile terminal have the vehicle side second communication unit and the mobile side second communication unit physically connected to each other by an HDMI Registered Trademark cable or a USB cable and thus can transmit and receive various types of images or sounds and information indicating an input from a user using communication based on the HDMI Registered Trademark standard or communication based on the USB standard.

The processor is for example a CPU. The processor executes various types of programs which are stored in the mobile side storage unit described later. Programs which are executed by the processor include for example various types of application programs which are executed by the processor as an application function unit .

The application function unit is various types of application programs which are executed by the processor . The application function unit performs the following operations on the basis of various types of information which are acquired from the mobile side first communication unit the mobile side second communication unit the mobile side input reception unit and the like. The application function unit generates an image for display on the display unit . In addition the application function unit generates a sound for emission in the speaker . The application function unit plays a sound of music data which is stored in the mobile side storage unit . Further the application function unit receives data of Internet radio broadcasting from the external communication unit and plays a sound of the received data. The application function unit displays the generated image on the display unit and outputs the played sound to the speaker to output the output sound.

The application function unit can simultaneously operate a plurality of application programs. Here an application program for generating an image which is displayed on the forefront of the display unit is called a foreground application. In addition although not displayed on the display unit an application program which is executed and operated in the processor is called a background application. The application function unit transmits an image and a sound of an application program which is in operation as the foreground application to the vehicle side second communication unit of the onboard display device through the mobile side second communication unit . In addition the application function unit transmits information for the processor to identify various types of application programs during execution to the vehicle side second communication unit through the mobile side second communication unit .

The mobile side storage unit includes for example a flash memory a random access memory RAM a register and the like. The mobile side storage unit stores various types of programs which are executed by the processor .

The mobile side input reception unit is for example a touch panel but may include various types of buttons or switches and the like. The mobile side input reception unit receives an input from a user and outputs information indicating the received operation to the processor .

The display unit is for example a liquid crystal display panel or an organic EL display panel. The display unit displays an image generated by the foreground application which is in operation in the application function unit . Meanwhile the mobile side input reception unit and the display unit may be an integrated display with a touch panel.

The speaker outputs a sound played by the foreground application which is in operation in the application function unit .

The external communication unit includes an antenna a modulation unit an encoding demodulation unit an up down converter and the like. The external communication unit performs communication through a moving object communication network or a wireless LAN and thus transmits and receives information to and from for example various types of servers present on the Internet.

Next reference will be made to to describe software structures of various types of application programs which are in operation in the application function unit . is a diagram illustrating an example of software structures of various types of application programs which are realized by the processor of the mobile terminal shown in . In the mobile terminal the processor executes various types of application programs and thus applications app to appN can operate. The application app is a launcher application and visualizes various types of application programs which are capable of communicating with the onboard display device as a link collection. That is the application app causes the display unit to display an image in which a link destination is represented by an icon or the like.

The application app is a music application program for transmitting a sound which is played by the application app to the onboard display device through a mobile side communication control unit APM described later included in the application app and is hereinafter called a dedicated communication control compatible music application. The application app is a music application program for transmitting a sound which is played by the application app to the onboard display device directly through the mobile side second communication unit without going through the application app and is hereinafter called a dedicated communication control incompatible music application. The application app performs communication with the onboard display device through the mobile side second communication unit using an independent protocol different from a dedicated protocol for specifying communication which is performed by the mobile side communication control unit APM. For this reason in an onboard display device of the related art when the application app of the mobile terminal is selected by a switching operation of a sound source by the onboard switch application programs other than an application program in which communication is performed by the aforementioned independent protocol are not able to be recognized in the onboard display device. Thereafter the dedicated communication control compatible music application disappears from a selection candidate due to the switching operation of a sound source by the onboard switch and thus is not able to be selected.

The application appN is a music application program which is built into the mobile terminal and transmits a sound which is played by the application appN to the onboard display device through the mobile side communication control unit APM similarly to the application app. In addition when the application appN is executed even once by the processor unlike applications for playing other sounds the sound which is played by the application appN may be output to the speaker or the onboard display device preferentially over the sounds which are played by the applications for playing other sounds regardless of the foreground application or the background application. Hereinafter this preferential sound output is referred to as the sound output priority of the application appN and the application appN will be described as having the sound output priority.

Since the application appN has the sound output priority the mobile terminal is not able to output a sound of a separate application program from the application appN to the speaker or the onboard display device insofar as the mobile terminal having operated the application appN does not terminate the operation of the application appN or stop including pause playing the sound of the application appN.

Meanwhile in the example shown in the application function unit is depicted so as to include only the music application program but may include for example a car navigation application an Internet radio application or the like without being limited thereto.

In addition in the example shown in the application app includes a mobile side information provision unit LPA a mobile side communication control unit APM communication control unit a mobile side input determination unit an application switching unit switching unit and a sound playback stop control unit sound control unit . The mobile side information provision unit LPA is a function unit for receiving the selected application sound source switching information through the mobile side first communication unit and is constituted by a dedicated protocol for transmitting and receiving vehicle information. The mobile side information provision unit LPA receives the selected application sound source switching information from the onboard display device through the mobile side communication control unit APM. Meanwhile the mobile side information provision unit LPA may transmit and receive not only the selected application sound source switching information but also other vehicle information for example the velocity rotational speed of an engine exhaust sound and the like of the automobile Car through the mobile side communication control unit APM.

The mobile side communication control unit APM receives the selected application sound source switching information converted into a PDU capable of being received by the wireless communication. In addition the mobile side communication control unit APM converts information for identifying various types of images or sounds and various types of application programs which are transmitted to the vehicle side second communication unit into a PDU capable of being received by the mobile side second communication unit that performs cable communication and transmits the converted PDU to the vehicle side second communication unit . In addition the mobile side communication control unit APM acquires the information indicating an input from a user the information being converted into a PDU capable of being received by the mobile side second communication unit from the vehicle side second communication unit through the mobile side second communication unit .

The application switching unit switches the foreground application on the basis of the selected application sound source switching information acquired by the mobile side information provision unit LPA. Specifically the application switching unit performs control for switching the applications app to appN which are in operation from the foreground application to the background application or from the background application to the foreground application on the basis of information for identifying an application included in the selected application sound source switching information. Meanwhile the application switching unit holds the foreground application when the information for the application switching unit to identify an application included in the selected application sound source switching information indicates an application program which is presently operating as the foreground application.

The application switching unit switches the foreground application on the basis of the information for identifying an application included in the selected application sound source switching information. Therefore even when the dedicated communication control incompatible music application such as the application app as the switching destination of a sound source by the onboard switch is once selected as the foreground application the mobile terminal can switch the foreground application to the dedicated communication control compatible music application through a switching operation of the next sound source.

The sound playback stop control unit stops playing a sound of the application program switched from the foreground application to the background application through the application switching unit and starts playing a sound of the application program switched from the background application to the foreground application. Here the sound playback stop control unit starts playing a sound for example using a dedicated application programming interface API capable of controlling a sound playback start unit sound control unit described later.

The applications app to appN have a function of the sound playback start unit . The sound playback start unit starts playing a sound when a request for sound playback start through the dedicated API used by the sound playback stop control unit is acquired from the sound playback stop control unit .

Even when a mobile terminal built in music application such as the application appN having the sound output priority as the switching destination of a sound source by the onboard switch is once selected as the foreground application the mobile terminal can stop playing a sound of the mobile terminal built in music application having the sound output priority through a switching operation of the next sound source using the functions of the sound playback stop control unit sound control unit and the sound playback start unit sound control unit which are described above. The mobile terminal can play a sound of the foreground application.

In this manner in the example shown in the application switching unit of the application app which is a launcher application switches the foreground application on the basis of the selected application sound source switching information acquired from the onboard display device . The sound playback stop control unit stops playing a sound of the background application and starts playing the sound of the foreground application.

The applications app to appN perform switching from the foreground application to the background application or from the background application to the foreground application on the basis of the acquired selected application sound source switching information. The applications app to appN stop playing a sound of the application program switched from the foreground application to the background application by the application switching unit the sound playback stop control unit and the sound playback start unit and start playing a sound of the application program switched from the background application to the foreground application.

In this manner in the example shown in the application app which is a launcher application acquires the selected application sound source switching information from the onboard display device but each of the application programs of the applications app to appN perform switching of the foreground application stopping playing the sound of the background application and starting playing the sound of the foreground application.

Next reference will be made to to describe flows of operations during sound source switching between the onboard display device and the mobile terminal in the electronic communication system . is a sequence diagram illustrating an example of flows of operations of the onboard display device and the mobile terminal during sound source switching when the foreground application of the mobile terminal is the application app which is the dedicated communication control incompatible music application.

 Step S First the onboard display device receives information instructing to switch a sound source from a user through the onboard switch input reception unit . Hereinafter the information received in step S by the onboard switch input reception unit will be described as indicating switching of a sound source to the FM radio.

 Step S Next the onboard display device starts playing a sound of the FM radio on the basis of the received information instructing to switch a sound source and outputs the sound of the FM radio from the speaker .

 Step S Next the onboard display device receives the information instructing to switch a sound source from a user again through the onboard switch input reception unit . Hereinafter the information received in step S by the onboard switch input reception unit will be described as indicating switching of a sound source to the application app which is the dedicated communication control incompatible music application.

 Step S Next the sound source switching unit of the onboard display device acquires information instructing to switch a sound source to the application app of the mobile terminal as the information instructing to switch a sound source and thus switches the sound source to a sound which is acquired from the mobile terminal .

The sound source switching unit of the onboard display device transmits the selected application sound source switching information including information for identifying the application app which has been acquired in step S to the mobile terminal .

 Step S Next the application switching unit of the mobile terminal acquires the received selected application sound source switching information but an application program which is presently operating as the foreground application is the application app and thus a current state is held.

 Step S Next the mobile terminal plays a sound of the application app operating as the foreground application and transmits the played sound to the onboard display device .

 Step S Next the onboard display device outputs a sound played by the application app which has been received from the mobile terminal to the speaker .

 Step S Next the onboard display device receives the information instructing to switch a sound source from a user again through the onboard switch input reception unit . Hereinafter the information received in step S by the onboard switch input reception unit will be described as indicating switching of a sound source to the application app which is a dedicated communication control compatible music application.

 Step S Next the sound source switching unit of the onboard display device acquires information instructing to switch a sound source to the application app of the mobile terminal as the information instructing to switch a sound source and thus holds the sound source as a sound which is acquired from the mobile terminal . The sound source switching unit of the onboard display device transmits the selected application sound source switching information including information for identifying the application app which has been acquired in step S to the mobile terminal .

 Step S Next the application switching unit of the mobile terminal switches the foreground application from the application app to the application app on the basis of the information for identifying the application app included in the received selected application sound source switching information.

 Step S Next the sound playback stop control unit of the mobile terminal stops playing the sound of the application app switched from the foreground application to the background application. The sound playback stop control unit and the sound playback start unit of the mobile terminal start playing the sound of the application app switched from the background application to the foreground application.

 Step S Next the mobile terminal operates as the foreground application and transmits the sound of the application app playing a sound to the onboard display device .

 Step S Next the onboard display device outputs the sound played by the application app which has been received from the mobile terminal to the speaker .

In this manner the mobile terminal can receive the selected application sound source switching information including information for identifying an application program through the switching operation of a sound source from a user which is received by the onboard display device and switch the foreground application which is executed in the mobile terminal by the application switching unit on the basis of the received selected application sound source switching information. Therefore even after the dedicated communication control incompatible music application is selected as a sound source the mobile terminal can switch the foreground application to the dedicated communication control compatible music application.

 Step S First the onboard display device receives information instructing to switch a sound source from a user through the onboard switch input reception unit . Hereinafter the information received in step S by the onboard switch input reception unit will be described as indicating switching of a sound source to the FM radio.

 Step S Next the onboard display device starts playing a sound of the FM radio on the basis of the received information instructing to switch a sound source and outputs the sound of the FM radio from the speaker .

 Step S Next the onboard display device receives the information instructing to switch a sound source from a user again through the onboard switch input reception unit . Hereinafter the information received in step S by the onboard switch input reception unit will be described as indicating switching of a sound source to the application appN which is a mobile terminal built in application.

 Step S Next the sound source switching unit of the onboard display device acquires information instructing to switch a sound source to the application appN of the mobile terminal as the information instructing to switch a sound source and thus switches the sound source to a sound which is acquired from the mobile terminal .

The sound source switching unit of the onboard display device transmits the selected application sound source switching information including the information for identifying the application appN which has been acquired in step S to the mobile terminal .

 Step S Next the application switching unit of the mobile terminal acquires the received selected application sound source switching information but an application program which is presently operating as the foreground application is the application appN and the a current state is held.

 Step S Next the mobile terminal plays a sound of the application appN operating as the foreground application and transmits the played sound to the onboard display device .

 Step S Next the onboard display device outputs a sound played by the application appN which has been received from the mobile terminal to the speaker .

 Step S Next the onboard display device receives the information instructing to switch a sound source from a user again through the onboard switch input reception unit . Hereinafter the information received in the step S by the onboard switch input reception unit will be described as indicating switching of a sound source to the application app which is a dedicated communication control compatible music application.

 Step S Next the sound source switching unit of the onboard display device acquires information instructing to switch a sound source to the application app of the mobile terminal as the information instructing to switch a sound source and thus holds the sound source as a sound which is acquired from the mobile terminal . The sound source switching unit of the onboard display device transmits the selected application sound source switching information including information for identifying the application app which has been acquired in step S to the mobile terminal .

 Step S Next the application switching unit of the mobile terminal switches the foreground application from the application appN to the application app on the basis of the information for identifying the application app included in the received selected application sound source switching information.

 Step S Next the sound playback stop control unit of the mobile terminal stops playing the sound of the application appN switched from the foreground application to the background application. The sound playback stop control unit and the sound playback start unit start playing the sound of the application app switched from the background application to the foreground application.

 Step S Next the mobile terminal operates as the foreground application and transmits the sound of the application app playing a sound to the onboard display device .

 Step S Next the onboard display device outputs the sound played by the application app which has been received from the mobile terminal to the speaker .

In this manner the mobile terminal can receive the selected application sound source switching information including information for identifying an application program through the switching operation of a sound source from a user which is received by the onboard display device . The mobile terminal can switch the foreground application which is executed in the mobile terminal by the application switching unit on the basis of the received selected application sound source switching information. In addition the mobile terminal causes the sound playback stop control unit to stop playing a sound of the application program switched from the foreground application to the background application. In addition the mobile terminal causes the sound playback stop control unit and the sound playback start unit to start playing a sound of the application program switched from the background application to the foreground application. Therefore the mobile terminal causes the display unit of the onboard display device to display only an image of the dedicated communication control compatible music application during switching of a sound source from the mobile terminal built in music application having the sound output priority to the dedicated communication control compatible music application and thus can prevent a sound of the mobile terminal built in music application from being played from the speaker .

Next reference will be made to to describe an effect obtained by the present invention by comparing an operation capable of being performed between a general mobile terminal of the related art and the onboard display device with an operation capable of being performed between the mobile terminal and the onboard display device which is an aspect of the present invention. is a diagram illustrating an example of operations capable of being performed between a general mobile terminal of the related art serving as a target for comparison and the onboard display device and the problems thereof.

Hereinafter a description will be given in which the mobile terminal is communicably connected to the onboard display device and then a launcher application is firstly started up. Meanwhile a flow of time is assumed to proceed to the observers right in . In addition actions act to indicate switching operations of a sound source performed on the onboard display device by a user and timings at which the operations are performed. Since the foreground application is a launcher application immediately after the launcher application is started up the mobile terminal has the launcher application displayed thereon.

Thereafter when a user performs an operation for switching a sound source to the dedicated communication control compatible music application on the onboard display device at the timing of the action act in the mobile terminal the launcher application is switched to the background application and the foreground application is switched to the dedicated communication control compatible music application. Therefore the mobile terminal also displays an image of the dedicated communication control compatible music application in association therewith. In this case a sound which is output in the onboard display device is sound played by the dedicated communication control compatible music application.

Next when a user performs an operation for switching a sound source to the FM radio on the onboard display device at the timing of the action act the sound source of the onboard display device is switched to the FM radio of the onboard display device. Since the playback of the FM radio is performed by the function of the onboard display device the foreground application of the mobile terminal is held as the dedicated communication control compatible music application and the display of the mobile terminal is also held as the image of the dedicated communication control compatible music application. In addition the background application is held as the launcher application. On the other hand the sound of the onboard display device is switched to the sound of the FM radio.

Next when a user performs an operation for switching a sound source to the dedicated communication control incompatible music application on the onboard display device at the timing of the action act the sound source of the onboard display device is switched to a sound which is played in the mobile terminal. In the mobile terminal since the dedicated communication control compatible music application is switched to the background application and the foreground application is switched to the dedicated communication control incompatible music application the mobile terminal also displays an image of the dedicated communication control incompatible music application in association therewith. In this case a sound which is played in the onboard display device is a sound played by the dedicated communication control incompatible music application.

When a user performs an operation for switching a sound source to the dedicated communication control compatible music application on the onboard display device at the timing of the action act the mobile terminal of the related art shown in may not be able to switch the foreground application to the dedicated communication control compatible music application. Such a phenomenon occurs as described above due to the fact that when the dedicated communication control incompatible music application is switched to the foreground application the onboard display device of the related art is not able to recognize the presence of the dedicated communication control compatible music application having operated as the foreground application until immediately before.

When a user performs an operation for switching a sound source to the mobile terminal built in application on the onboard display device at the timing of the action act the sound source of the onboard display device is switched to a sound which is played in the mobile terminal. In the mobile terminal the mobile terminal built in music application is started up as the background application and a sound is played. In addition in the mobile terminal the foreground application is held and the display of the mobile terminal is also held in association therewith. In this case a sound which is output in the onboard display device is a sound played by the mobile terminal built in music application.

When a user performs an operation for switching a sound source to the dedicated communication control compatible music application on the onboard display device at the timing of the action act in the mobile terminal of the related art shown in the foreground application is held as the dedicated communication control compatible music application. However since the mobile terminal built in music application has the sound output priority a sound which is played from the speaker of the onboard display device is held as the mobile terminal built in music application.

On the other hand is a diagram illustrating an example of operations which are performed between the mobile terminal which is an aspect of the present invention and the onboard display device . Hereinafter a description will be given in which the mobile terminal is communicably connected to the onboard display device and then a launcher application is firstly started up. Meanwhile a flow of time is assumed to proceed to the observers right in . In addition actions actto indicate switching operations of a sound source performed on the onboard display device by a user and timings at which the operations are performed. Here the description of the example shown in is the same as that in until immediately before the timing shown in action act the detailed description thereof will not be given.

When a user performs an operation for switching a sound source to the dedicated communication control compatible music application on the onboard display device at the timing of the action act the mobile terminal switches the dedicated communication control compatible music application having operated as the background application to the foreground application and switches the dedicated communication control incompatible music application having operated as the foreground application to the background application.

In addition the mobile terminal stops playing the sound of the dedicated communication control incompatible music application at the timing of the action act stops playing the sound of the dedicated communication control incompatible music application and then starts playing the sound of the dedicated communication control compatible music application.

In this manner the mobile terminal which is an aspect of the present invention and the onboard display device connected to the mobile terminal can solve a problem that the foreground application is not able to be switched to the dedicated communication control compatible music application in the mobile terminal of the related art shown in . In addition in the mobile terminal of the related art shown in since the mobile terminal built in music application has the sound output priority it is possible to solve a problem that a sound which is played from the speaker of the onboard display device is held as the mobile terminal built in music application.

Next reference will be made to to describe the switching operation of a sound source by the onboard switch and the transition of an image displayed on the onboard display device and a sound played therein before and after switching of a sound source. is a conceptual diagram illustrating switching operations of a sound source by the onboard switch and the transition of an image displayed on the onboard display device and a sound played therein before and after switching of a sound source.

For example referring to a row rw the onboard display device before switching of a sound source is set to be in a state where an image of navigation onboard navigation in operating in the onboard display device is displayed on the screen of the display unit and the FM radio is played from the speaker . In addition the foreground application of the mobile terminal at this point in time is a music application for example dedicated communication control compatible music application . Here when a user switches a sound source to the music application of the mobile terminal through the onboard switch the onboard display device after switching of a sound source is set to be in a state where the screen of the display unit is held as the image of the onboard navigation and a sound which is played from the speaker is switched from the FM radio to the music application operating as the foreground application of the mobile terminal .

In addition referring to a row rw the onboard display device before switching of a sound source is set to be in a state where information FM source in of the FM radio operating in the onboard display device is displayed on the screen of the display unit and the FM radio is played from the speaker . In addition the foreground application of the mobile terminal at this point in time is a navigation application navigation application in operating in the mobile terminal . Here when a user operates the onboard switch so that the sound source of the onboard display device is switched to a sound which is played from the mobile terminal by the onboard switch in the onboard display device a sound which is played by the mobile terminal is not included in a candidate of a switching destination of a sound source and thus a user is not able to switch the sound source to the sound which is played by the mobile terminal . Such a phenomenon occurs due to the foreground application of the mobile terminal not being a music application.

In this manner the mobile terminal which is an aspect of the present invention receives information instructing to switch a sound source acquired within a vehicle by the onboard display device switches an application program having been in operation in the foreground until immediately before to the background on the basis of the received information instructing to switch a sound source switches an application program having been in operation in the background until immediately before to the foreground stops playing a sound of the application program having been in operation in the foreground until immediately before and starts playing a sound of the application program having been in operation in the background until immediately before. Therefore the application program of the mobile terminal can be smoothly switched on the basis of the information acquired from the onboard display device without depending on the standard of the music application which is installed on the mobile terminal .

In addition the mobile terminal switches the application program having been in operation in the foreground until immediately before to the background switches the application program having been in operation in the background until immediately before to the foreground then stops playing the sound of the application program having been in operation in the foreground until immediately before and starts playing the sound of the application program having been in operation in the background until immediately before subsequently to the stop. Therefore it is possible to smoothly switch the application program of the mobile terminal and to smoothly switch an application program which plays a sound in the mobile terminal .

In addition the mobile terminal starts playing the sound of the application program having been in operation in the background until immediately before through the dedicated application programming interface API . Therefore even in the case of a situation where the playback of the sound of an application program is not able to be started in control based on the API specified for each mobile terminal it is possible to play the sound of the application program.

As stated above the embodiment of the present invention have been described in detail with reference to the accompanying drawings but specific configurations are not limited to these embodiment and may be changed substituted deleted and the like without departing from the scope of the present invention.

