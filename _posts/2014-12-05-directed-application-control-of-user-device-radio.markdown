---

title: Directed application control of user device radio
abstract: Techniques described herein provide coupling an application to a radio of a user device to, for example, optimize media streaming services. Implementations include receiving, by a user device, first data of a file and second data of the file. The user device may present the first data of the file using an application implemented by the user device. In response to a determination that an amount of data in the second data is greater than a predetermined threshold, the user device may invoke a command associated with a radio of the user device by calling a radio API to place the radio into a dormant state. The radio API may be configured to couple the application to the radio.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09445452&OS=09445452&RS=09445452
owner: T-Mobile U.S.A. Inc.
number: 09445452
owner_city: Bellevue
owner_country: US
publication_date: 20141205
---
Today s mobile devices are often equipped with processors that may perform many tasks such as running various applications recording data playing media and performing other tasks for a user. Mobile devices include telecommunication devices Wi Fi devices and other devices having connectivity to a network. Although these devices have powerful processing capabilities they often have limited onboard resources such as limited energy sources in the form of batteries. With the increasing data usage the operation time of a mobile device is significantly affected by how effective the mobile device handles its power consumption.

In telecommunications networks typically wait for a predefined amount of time before transiting a user device from a higher energy state to a lower energy consumption state. This may be performed to avoid increased signaling due to unnecessary transitions between the states and to avoid increased delays which may result in a negative user experience. However such an approach has a negative impact on battery performance of the user device. To address this problem the user device may adopt fast dominancy a feature intended to enhance the battery performance of the user device.

Under conventional techniques entering fast dormancy on a user device does not rely on information associated with an application such as a media application implemented by the user device. The information may include for example whether the application has actually finished transmitting or receiving data or whether the application is paused and will continue transmitting or receiving data. Examples herein describe a user device that has an internal connection between an application and a radio such that the application may cause the radio to enter a dormant state in response to a determination that the application has neither transmitted nor received data for a predetermined time which may be determined by the application or another component associated with the user device.

The user device may exchange data with other computing devices through a network . The network may include a plurality of hardware software and other infrastructure. The environment shows an illustrative arrangement of the network however other arrangements may be used to facilitate transmission of data between the user device and other computing devices.

The network may include various configurations of telecommunications networks that include radio access networks RANs used for mobile communications. The telecommunications networks may include an access gateway device and may include a number of different types of components which may be provided by various companies. In some instances the telecommunications networks may conform to Universal Mobile Telecommunications System UMTS technologies that employ UMTS Terrestrial Radio Access Network UTRAN . In some instances the UTRAN may share a several components like a Circuit Switch CS and a Packet Switch PS core network with a GSM EDGE Radio Access Network GERAN Global System for Mobile Communications GSM Enhanced Data rates for GSM Evolution EDGE . In various instances long term evolution LTE networks may be employed to transmit data for the telecommunications networks besides UMTS. Thus UTRAN and GERAN networks and other possible RANs may coexist to process telecommunications traffic. In some instances communications may be handed off between UTRAN and GERAN networks or other networks and still maintain a communication with a common core network such as when the user device leaves a range of access zone of a UTRAN and enters a range of access of a GERAN. Handoffs may further occur between different types of hardware such as different manufacturers versions for a same network type such as UTRAN GERAN. In addition other types of networks RANs and or components hardware and or software may be employed which enable the user device to communicate with the core network to facilitate activities such as voice calling messaging emailing accessing the Internet or other types of data communications. For example the network is at least in part a Wi Fi based network a Bluetooth network or other type of wireless network. The access gateway device may include a gateway server that perform some or all of the functions of the access gateway device .

In accordance with various implementations the access gateway device may be in communication with the Internet which may include Internet servers. The access gateway device and the Internet may be in communication with the RANs . The user device may upload data to the RANs via an uplink communication and may download data from the RANs via a downlink communication. In some implementations the user device may be in communication with the internet via a wired connection.

During an interaction the user may conduct media streaming such as video streaming by implementing an application . In some implementations the user device may receive data streams associated with a media file and implement the application to present the data streams in a user interface . For example the user device may receive and discriminate between the data streams in forms of radio data streams on a single radio frequency RF channel or on multiple RF channels. The application may present the received data streams to the user in the user interface . In some implementations the application may directly control a radio component of the user device such as to optimize media streaming services.

In some implementations an individual data stream of the data streams may contain data of at least a portion of the media file . The data includes for example video recordings audio recordings multimedia presentations slide presentations and or online content. The media file may include a video file an audio file a multimedia file and or a text file. For example the media file may include multiple frames of video content and an individual frame of the multiple frames may represent an instance of the video content for example a picture.

In some implementations the media file may be maintained by a server associated with a service provider . The service provider may provide media services including media streaming of the content data such as the media file access to the Internet and or access to other services such as value added services. The content data may include an electronic medium including video recordings audio recordings multimedia presentations slide presentations CD ROM and or online content. The content data is in either analog electronic data or digital electronic data format.

In some implementations the user device may include a memory the memory storing an operating system OS the application program data and or other component such as a dormancy module . The user device may further include a processor interfaces a display output devices input devices a camera and drive unit which may include a machine readable medium . The user device may further include a radio interface layer RIL and a radio . The radio may include a modem and a radio . In some implementations the processor is a central processing unit CPU a graphics processing unit GPU or both CPU and GPU or other processing unit or component known in the art.

In various implementations memory generally includes both volatile memory and non volatile memory. Such as RAM ROM EEPROM Flash Memory miniature hard drive memory card CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium. Additionally in some implementations memory includes a SIM subscriber identity module card which is a removable memory card used to identify a user of the user device to a service provider network.

Memory may further be described as computer storage media. Computer readable media may include at least two types of computer readable media namely computer storage media and communication media. Computer storage media may include volatile and non volatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules program data or other data. The system memory the removable storage and the non removable storage are all examples of computer storage media. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium that may be used to store the desired information and which may be accessed by the user device . Any such computer storage media may be part of the user device . Moreover the computer readable media may include computer executable instructions that when executed by the processor s perform various functions and or operations described herein.

In contrast communication media may embody computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other mechanism. As defined herein computer storage media does not include communication media.

In various implementations the interfaces may include various types of interfaces. For example the interfaces include any one or more of an Ethernet interface wireless local area network LAN interface a near field interface a DECT chipset or an interface for an RJ 11 or RJ 42 port. The a wireless LAN interface may include a Wi Fi interface or a Wi Max interface or a Bluetooth interface that performs the function of transmitting and receiving wireless communications using for example the IEEE 802.11 802.16 and or 802.20 standards. For instance the user device may use a Wi Fi interface to communicate directly with a nearby device. The near field interface may include a Bluetooth interface or radio frequency identifier RFID for transmitting and receiving near field radio communications via a near field antenna. For example the near field interface may be used for functions as is known in the art such as communicating directly with nearby devices that are further for instance Bluetooth or RFID enabled. A reader interrogator may be incorporated into user device .

In various implementations the display is a liquid crystal display or any other type of display commonly used in telecommunication devices. For example display may be a touch sensitive display screen and may then further act as an input device or keypad such as for providing a soft key keyboard navigation buttons or the like.

In some implementations the output devices include any type of output devices such as a display already described as display speakers a vibrating mechanism or a tactile feedback mechanism. The output devices further include ports for one or more peripheral devices such as headphones peripheral speakers or a peripheral display.

In various implementations the input devices include any type of input devices. For example the input devices may include a microphone a keyboard keypad or a touch sensitive display such as the touch sensitive display screen described above . A keyboard keypad may be a push button numeric dialing pad such as on a typical telecommunication device a multi key keyboard such as a conventional QWERTY keyboard or one or more other types of keys or buttons and may further include a joystick like controller and or designated navigation buttons or the like.

The machine readable medium stores one or more sets of instructions such as software embodying any one or more of the methodologies or functions described herein. The instructions may further reside completely or at least partially within the memory and within the processor during execution thereof by the user device . Portions of the memory as accessed by the processor may further constitute machine readable media .

The RIL may include an interface layer for mobile operations and connections between mobile operation system and radio hardware. In some implementations the RIL may include an application programming interface API set that provides a level of abstraction between a radio and an application of the user device . In some implementations the RIL may reside in the OS and or is a layer that provides an interface to the radio . For example the RIL may provide an interface to the modem and or a radio transceiver of the user device . The modem may receive data from the application and produce a signal or signals that may be transmitted by the radio transceiver over the network . The modem may be aware of an uplink scheduling ability and other network metrics associated with the network . The modem may have a buffer by which the modem may store data prior to the data being transmitted through the network via the radio transceiver .

The radio transceiver may include a radio transceiver and an interface that performs the function of transmitting and or receiving radio frequency communications via an antenna of the user device . The radio interface facilitates wireless connectivity between the user device and various cell towers base stations and or access points that are associated with the RANs .

In some implementations the application may include various component such as a presentation module a communication module a radio module and or a context module . The communication module may be configured to receive first and second data of a file such as the media file . For example the communication module may receive a first data stream segment of the media file such as a video file and a second data stream segment of the media file such as a subsequent data stream segment of the video file.

The presentation module may be configured to present the first and or second data of the media file to the user . For example the application may present one or more data streams of the data streams to the user in the user interface on the user device .

The radio module may be configured to invoke a command associated with the radio of the user device . In some implementations the radio module may call a radio API to place the radio into a dormant state in response to one or more determinations. In some instances a determination may be associated with an amount of data received by the application . For example the amount of the second data received by the application is greater than a predetermined threshold. For example an amount of the first data and the second date received by the application is greater than a predetermined threshold. In some instances a determination may be associated with status of data transmission performed by the application . For example the application stops requesting the additional data of the file in the predetermined time period. In some instances the radio API may be exposed implemented by the RIL to couple the application and the radio .

In some implementations to conserve the battery power of the user device the user device may be transited from a connected state to a dormant state when no further data transfer is anticipated. For example the user device may place the radio into the dormant state such that the radio does not communicate such as transmitting receiving data with the RANs . In other examples while the radio may still communicate with the RANs in the dormant state the data connection speed in the dormant state is reduced as compared to the one in the connected state.

In some implementations the radio module may cause the user device to enter a dormant state such that user device may reduce power consumption of the user device . For example the dormancy module may be configured to apply fast dormancy to place the user device into a radio resource control RRC state. In some implementations the fast dormancy may be implemented by sending a radio release signal from the user device to the RANs . The RANs may then trigger a RRC state transition of the user device from a first state to a second state. The second state is more battery efficient than the first state. For example the first state may include various RRC states such as a Cell DCH state a Cell FACH state a Cell PCH state or a URA PCH state. The second state may include various RRC states such as a Cell FACH state a Cell PCH state or a URA PCH state in 3G or an idle mode in 4G LTE.

In some implementations the context module may be configured to determine context associated with the wireless communication that the user device is engaged. Based on the determined context the application may determine whether to invoke the command associated with the radio to place the user device into a dormant state. The determined context may indicate whether the application expects data transmission for a predetermined time period.

For example the context module may determine that the user has sent out an email and is working on another email using the application . The application may place the user device into the dormant state for a predetermined time period via the radio since the application may not request data transmission in the predetermined time period in light of the context.

In some implementations the context module may obtain information of user behavior habits associated with the user with respect to multiple wireless communications associated with the user device . For example the user behavior habits may be tracked for the application or another application implemented by the user device . In these instances based on the determined context and the information of user behavior habits the application may determine whether to invoke the command associated with the radio to place the user device into a dormant state.

In some implementations the context module may determine that the user is visiting a website using the application and then determine a website parameter of the website such as a uniform resource locator URL of the website and or a website design. The website parameter may indicate whether the user stays on a webpage of the website for a certain time period. For example the website design may include a summary and a link in a webpage of the website wherein the link leads to a story of the summary in another webpage of the website. In these instances based on the website parameter and a user action the application may determine whether to place the user device into the dormant state for a predetermined time period via the radio .

In some implementations a software development kit SDK associated with the radio API may be provided by the user device the access gateway device and or third party service providers. In these instances the SDK may provide a plurality of application programming interfaces APIs or developer tools related to optimization of streaming media services.

In various implementations the gateway server may include at least one processing unit and system memory . Depending on the exact configuration and type of computing device system memory may be volatile such as RAM non volatile such as ROM flash memory or some combination of the two. The system memory may store an operating system one or more program modules and may include program data .

The gateway server may further include additional data storage devices removable and or non removable such as for example magnetic disks optical disks or tape. Such additional storage is illustrated in by storage . Computer storage media may include volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. The system memory and storage are all examples of computer readable storage media. Computer readable storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which may be used to store the desired information and which may be accessed by the gateway server . Any such computer readable storage media may be part of the gateway server .

In various embodiment any or all of the system memory and the storage may store programming instructions which when executed implement some or all of the above described operations of the access gateway device or other components described in the environment shown in .

The gateway server may further have input device s such as a keyboard a mouse a touch sensitive display voice input device. Output device s such as a display speakers and a printer may further be included. The gateway server may further contain communication connections that allow the device to communicate with other computing devices .

In various implementations the gateway server may be configured to communicate and exchange data with the RANs and or the Internet as part of the network . The gateway server may manage bandwidth allocations perform bandwidth and scheduling analyses and or provide data to the user device including and in addition to the data exchanged between the user device and the server .

At one or more processors of the user device may receive first data of the media file . For example the one or more processors may receive a first portion of the data streams from the server via the RANs .

At the one or more processors may present the first data using the application implemented by the user device . For example the one or more processors may present the first portion of the data streams in the user interface of the application .

At the one or more processors may receive second data of the media file . For example the one or more processors may receive a second portion of the data streams from the server via the RANs .

At the one or more processors may determine that an amount of data in the second data received by the application is greater than a predetermined threshold.

At in response to a determination that an amount of data in the second data received by the application is greater than a predetermined threshold the one or more processor may invoke a command associated with the radio by calling the radio API to place the radio into a dormant state. In some implementations the radio API is configured to couple the application to the radio .

In some implementations the one or more processors may apply fast dormancy to the user device to transit from a connected state to a dormant state for example in response to a determination that the amount of data in the second data is greater than a predetermined threshold and or that the application stopped transmitting data to and receiving data from the network . In these instances a power consumption of the user device at the dormant state is less than a power consumption of the user device at the connected state. For example the connected state may include at least one of a Cell DCH state a CellACH state a Cell PCH state or a URA PCH state. The dormant state may include at least one of a Cell FACH state a Cell PCH state a URA PCH state or a 4G LTE idle mode.

In some implementations the one or more processors may enable an access of the radio API in response to a user selection or a determination that a remaining battery level of the user device is less than a predetermined threshold. In these instances the radio API may be implemented exposed by the RIL .

In other implementations the one or more processors may further monitor data transmission between an additional application and the network . In these instances the one or more processors may invoke the command associated with the radio by calling the radio API to place the radio into the dormant state in response to a determination that there is no data transmission between the additional application and the network .

At one or more processors of the user device may receiving first data of the media file . For example the application may receive the first data from the server via the network .

At the one or more processors may present the first data using the application . For example the one or more processors may present a first portion of the data streams to the user in the user interface .

At the one or more processors may determine whether the application continues to request additional data of the media file in a predetermined time period. In some implementations the one or more processors may receive second data of the media file and determine that the application stopped requesting the additional data of the file in the predetermined time period in response to a determination that an amount of the second data is greater than a predetermined threshold and or that a ratio of an amount of the first data and the second data to an amount of data in the media file is greater than a predetermined value.

In response to a determination that the application stopped requesting the additional data of the media file in the predetermined time period i.e. the branch of No of the operation the one or more processors may invoke a command associated with the radio by calling the radio API to place the radio into a dormant state at . In some implementations the radio API is configured to couple the application to the radio.

In response to a determination that the application continues to request the additional data of the file in the predetermined time period i.e. the branch of Yes of the operation the one or more processors may request the additional data of the media file at .

At the one or more processors may receive the additional data of the media file . In some instances the operation may be performed by a loop process via a dashed line from the operation to the operation .

In some implementations the one or more processors may determine that the application stopped requesting the additional data of the file in the predetermined time period in response to a determination that the presenting the file in the application has not been intervened by the user in an additional predetermined time period.

In some implementations the one or more processors may trigger the user device to enter a RRC state associated with fast dormancy in response to a predetermined condition such as a determination that the application stopped transmitting and receiving data from the network .

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts are disclosed as example forms of implementing the claims.

