---

title: Automatic selection of SIM card for multi-SIM mobile devices
abstract: A mobile device includes multiple subscriber identification module (SIM) cards. When a user of the mobile device requests to call a phone number, the mobile device determines a mobile telecommunications service provider of the phone number, based on service provider information received for the phone number from a service mapping server. The mobile device selects for the call a SIM card from the multiple SIM cards that is associated with the determined service provider of the phone number. The mobile device places the call to the phone number using the selected SIM card.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08983545&OS=08983545&RS=08983545
owner: BMobile LLC
number: 08983545
owner_city: Wilmington
owner_country: US
publication_date: 20140519
---
This application is a continuation of U.S. patent application Ser. No. 13 929 583 filed Jun. 27 2013 which is a continuation of U.S. patent application Ser. No. 13 481 728 filed May 25 2012 which claims the benefit of U.S. Provisional Application No. 61 563 768 filed Nov. 26 2011. Each of these applications is incorporated by reference herein in their entirety.

This invention pertains in general to mobile devices and more specifically to mobile devices with multiple subscriber identification module SIM cards multi SIM mobile devices .

Many mobile devices such as cell phones smart phones and the like include a subscriber identification module SIM card. The SIM card of a cell phone for example stores information that allows the phone to access the network of a service provider to communicate with other devices. When a user uses the cell phone to call a phone number that is associated with a different service provider than that of the SIM card the call has to traverse between service provider networks. In some countries service providers charge inter carrier fees to users for calls that traverse between service provider networks. Thus there is a need for a way for users to avoid having to pay inter carrier fees for calls that traverse between service provider networks.

Methods computer program products and computer systems are described for processing requests to place calls on mobile devices having multiple subscriber identification module SIM cards. When a user of the mobile device requests to call a phone number the mobile device determines a mobile telecommunications service provider of the phone number based on service provider information received for the phone number from a service mapping server. The mobile device selects for the call a SIM card from the multiple SIM cards that is associated with the determined service provider of the phone number. The mobile device places the call to the phone number using the selected SIM card. In this manner since the call is made using the determined service provider of the phone number inter carrier charges to the caller are avoided.

The figures depict an embodiment for purposes of illustration only. One skilled in the art will readily recognize from the following description that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles described herein.

The mobile devices are devices that are configured to make and receive calls over the wireless network . The mobile devices can also be used to access the Internet via the wireless network . Each mobile device includes an operating system such as Android iOS Nucleus Brew ThreadX or Infineon OS.

In one embodiment each mobile device of the mobile communications environment includes multiple subscriber identity module SIM cards. For example various mobile devices are available that have capacity for two or four SIM cards. Each SIM card is associated with a specific individual mobile telecommunications service provider also known as a Multiple Network Operator or MNO and stores identifying information e.g. an IMSI of the subscriber an authentication key and or a phone number of the subscriber that allows a mobile device to access the network of the mobile telecommunications service provider. As an example a mobile device may include two SIM cards. SIM Card may be for accessing the network of service provider A and SIM Card may be for accessing the network of service provider B.

In one embodiment when a mobile device receives a request from a user to call a phone number either through direct keypad entry of the phone number selection of a contact in the mobile device s contact directory or selection of a phone number via hyperlink or other means the mobile device determines the service provider of the phone number using the phone number itself. More specifically the mobile device determines the service provider by transmitting all or part of the phone number to the service mapping server . The service mapping server maintains a service provider database that associates e.g. indexes or cross references phone numbers with the service provider that controls that network to which phone numbers are assigned. The mapping server thus uses the received information to lookup the service provider associated with the phone number. The service mapping server returns service provider information e.g. an identifier of the service provider to the mobile device . The mobile device activates the SIM card for the identified service provider and places the call to the phone number using that the activated SIM card.

Continuing with the example from above assume the mobile device receives a request to place a call to the phone number 999 321 9876. The mobile device can transmit this phone number or a portion thereof such as area code and exchange and additional information to the service mapping server which in turn can determine that the phone number is assigned to service provider B. In this example the mobile device would place the call using the SIM card for service provider B. If the mobile device does not have a SIM card for the identified service provider another SIM card can be selected such as the user s home SIM card a default alternative SIM card or the like.

The ability of a mobile device to automatically select the SIM card for a call based on service provider information received from the service mapping server is referred to as automatic SIM card selection feature. With the automatic SIM card selection since a call is made to a phone number using the network of the call recipient s service provider it allows the user of the device to avoid fees charged when calls traverse between multiple service provider networks i.e. inter carrier fees .

In one embodiment a user of a mobile device can enable or disable the automatic SIM card selection feature. For example a user can enable or disable the feature for all calls placed by a mobile device . In one embodiment the feature can be enabled or disabled on an individual basis for particular phone numbers as selected by the user. For example a user may enable the feature for phone number A and disable the feature for phone number B. Further the feature can be enabled or disabled for individual contacts of the user with respect to all of contact s phone numbers. For example the user can enable the feature to be used with all of the numbers of contact X and none of the phone numbers of contact Y.

The service mapping server provides service provider information to mobile devices of the mobile communications environment . The service mapping server includes a service provider database that stores phone numbers in association with service provider information. The service provider information of a phone number includes information that indicates the servicer provider of the phone number and optionally applicable communication rate codes or tariffs network access information and the like.

In one embodiment a request received by the service mapping server from a mobile device for service provider information of a phone number includes the phone number and identifying information of the mobile device making the request e.g. International Mobile Subscriber Identity IMSI of a SIM card of the device and a phone number or area code of the SIM card . In one embodiment when the service mapping server receives a request from a mobile device for service provider information of a phone number the service mapping server searches the database for the service provider using the phone number and optionally an IMSI associated with the phone number.

If the database does not have the phone number service mapping server transmits a message to the mobile device indicating that service provider information is not available for the phone number. On the other hand if the phone number is indentified in the database the service mapping server retrieves from the database service provider information of the phone number and transmits the information to the mobile device .

In one embodiment accounting information is stored of the transmittal for charging a user of the mobile device . Accounting information may include for example a time and date of the transmittal the phone number for which service provider information was provided and identifying information of the mobile device .

In one embodiment a user of a mobile device is charged a fee by an administrative entity of the server each time service provider information of a phone number is provided to the device . In one embodiment a user of a mobile device is charged a fee each time the mobile device communicates with the service mapping server . In another embodiment a user of a mobile device is charged a periodic fee e.g. a monthly fee or a onetime fee for having access to the service mapping server .

The wireless network is a communication pathway for mobile devices . In one embodiment the wireless network is one or more cellular networks that include multiple base stations controllers and one or more core networks that typically includes multiple switching entities and gateways. In one embodiment a cellular network uses one or more of the following technologies GERAN Global System for Mobile Communications GSM Edge Radio Access Network U TRAN Universal Mobile Telecommunications System UMTS Terrestrial Radio Access Network E UTRAN Evolved UTRAN Worldwide Interoperability for Microwave Access WiMAX and Long Term Evolution LTE . Gateways are provided from these radio access networks to the Internet such as via a Service GPRS Support Node Mobile Management Entity for a GERAN or a Serving Gateway and Packet Data Network Gateway for a UTRAN.

In one embodiment mobile devices communicate in a cellular network via radio frequencies. In one embodiment each mobile telecommunications service provider is allocated certain frequencies to allow subscribers of the service provider to communicate. The frequencies allocated to a service provider are referred to collectively as the network of the service provider herein.

The processor processes instructions and may comprise various computing architectures including a complex instruction set computer CISC architecture a reduced instruction set computer RISC architecture or an architecture implementing a combination of instruction sets. The processor comprises an arithmetic logic unit a microprocessor or some other information appliance equipped to transmit receive and process electronic data signals from the memory the input device the output device the transceiver device or the SIM cards .

The input device is a device configured to provide user inputs to the mobile device . In one embodiment the input device is an alphanumeric input device such as a QWERTY keyboard a key pad or representations of such created on a touch screen adapted to communicate information and or command selections to the processor . In one embodiment the input device is a user input device equipped to communicate positional data as well as command selections to the processor such as a trackball a stylus a pen a touch screen cursor direction keys or other mechanisms to cause movement adjustment of an image.

The output device is a device equipped to display electronic images and data as described herein. Output device may be for example a liquid crystal display LCD light emitting diode display LED or any other similarly equipped display device. In one embodiment the output device is equipped with a touch screen in which a touch sensitive transparent panel covers the screen of output device .

The transceiver device is a device that receives and transmits information via the wireless network . The information received and transmitted by the transceiver device is carried in radio frequency signals. The transceiver device allows the mobile device to communicate with other mobile devices the service mapping server and other devices connected to the wireless network and the Internet .

The SIM cards are integrated circuits that store information. In one embodiment each SIM card stores identifying information that identifies a subscriber of a mobile telecommunications service provider. In one embodiment the identifying information includes an IMSI of the subscriber an authentication key and or a phone number of the subscriber. The identifying information allows the mobile device to access the network of the service provider. Other information that may be stored in a SIM card includes information that uniquely identifies the SIM card e.g. integrated circuit card identifier ICCID network state information configuration information and account information. In one embodiment each SIM cards can be removed from the mobile device .

The memory stores instructions and data that may be executed by the processor for performing the techniques described herein. The memory is a non transitory computer readable storage medium such as a dynamic random access memory DRAM device a static random access memory SRAM device Flash RAM non volatile storage combinations of the above or some other memory device known in the art. The memory includes a contacts module a sync management module a call module and a contacts database . As used herein the term module refers to computer program instruction and other logic for providing a specified functionality. The processor is adapted to execute modules for providing the functionality described herein.

The sync management module generally manages the functionality of associating phone numbers and contacts with individual SIM cards in the mobile device . More specifically the sync management module manages use cases including making a telephone call adding editing a phone number for a contact configuring the sync management module s own functionality as further described below. In one embodiment the sync management module is an installable application that can be for example retrieved from online application store.

The contacts module manages a contact database of the mobile device . In one embodiment the contacts database stores phone numbers of contacts. A contact is an entity such as a person or a business.

The contacts module receives requests to add phone numbers to the database for contacts. A request may be for example to add a phone number for a new contact to add a new phone number for an existing contract or for a phone number to replace a stored number of a contact. When a user of the mobile device requests to add a phone number for a new contact the contacts module stores the name of the contact and the phone number in the contacts database . Other contact information of the contact may also be stored such as a job title and an e mail address of the contact. When a user of the device requests to add a new phone number for an existing contact the contacts module stores the phone number in the contacts database as being a number of the contact. When a user of the device requests for a phone number to replace a stored phone number of a contact the contacts module identifies the contact in the database and replaces the currently stored phone number of the contact in the database with the phone number received.

In one embodiment when a user requests to add a phone number for a contact the sync management module presents an interface to the user inquiring whether the user would like to activate the automatic SIM card selection feature for the phone number. Activating the automatic SIM card selection feature for a phone number is referred to herein as syncing. Syncing the phone number with the feature signifies that the mobile device will automatically select a SIM card for a call to the phone number based on service provider information provided by the service mapping server for the phone number. In one embodiment the user is notified that there is a fee associated with syncing the phone number. In one embodiment if the user requests to sync the phone number with the feature the sync management module causes the contacts module to store an indicator with the phone number in the database indicating that the phone number is synced with the feature. As indicated above the sync management module can also enable the user to sync all of the phone numbers of a given contact.

In one embodiment if the user requests to sync the phone number with the feature the sync management module transmits to the service mapping server through the transceiver device a request for service provider information of the phone number. In one embodiment in addition to the phone number identifying information of a SIM card of the device is transmitted with the request e.g. identifying information of a SIM card in a first slot of the device or a default SIM card .

If the requested service provider information is received from the service mapping server the sync management module causes the contacts module to store the service provider information in the database along with the phone number. In one embodiment when requesting service provider information of the added phone number the sync management module also requests service provider information of any other phone numbers that are synced for purposes of updating the service provider information of the phone numbers in the database .

In one embodiment the sync management module periodically updates service provider information for the synced phone numbers in the contacts database . In one embodiment periodically e.g. once a month the sync management module identifies each phone number in the database synced with the automatic SIM card selection feature. The sync management module requests and receives service provider information for each identified phone number from the service mapping server . If the stored service provider information of a phone number has changed the sync management module causes the contacts module to update the database to include the latest service provider information received by the contacts module from the service mapping server .

The contacts module receives requests for phone numbers of contacts. In one embodiment when a user of the mobile device request the phone number of a contact the contacts module identifies the phone number of the contact in the contacts database . The contacts module retrieves the phone number from the database and presents the number to the user via the output device .

The sync management module allows a user to enable or disable the automatic SIM card selection feature for the mobile device . In one embodiment if a user of the mobile device requests to edit the settings of the automatic SIM card selection feature the sync management module presents an interface to the user where the user can request to enable or disable the sync feature for the device . If the user requests to disable the feature when a request is made to place a call to a phone number a SIM card is not automatically selected for the call even if the phone number is synced with the feature. In other words disabling the feature for the device overrides the syncing of the phone number. On the other hand if the user requests to enable the feature when a request is made to place a call to a phone number that is synced with the feature one of the multiple SIM cards is automatically selected for the call based on information provided by the service mapping server .

The call module enables the placement of calls using the mobile device . In one embodiment when a user of the mobile device request to call a phone number the sync management module determines whether the automatic SIM card selection feature is enabled for the device . If the feature is disabled the sync management module presents an interface to the user asking the user to select one of the SIM cards of the device for the call. The sync management module instructs the call module to use the selected SIM card for the call. The call module retrieves identifying information from the selected SIM card and places the call through the transceiver device using the retrieved identifying information.

If the feature is enabled the sync management module determines whether the phone number being called is synced with the automatic SIM card selection feature. In one embodiment if the phone number is not synched the sync management module presents the interface to the user that asks the user to select a SIM card for the call as described above. In one embodiment information is stored as to which SIM card is selected by the user so that next time the user requests to call the phone number the same SIM card is automatically used for the call by the call module . In another embodiment if the phone number is not synced the sync management module presents an interface asking the user whether to sync the number. If the user requests to sync the number the sync management module syncs the number as described above by obtaining service provider information for the phone number. Once the phone number is synched the call is made as described below. If the user requests not to sync the number the sync management module presents the interface asking the user to select a SIM card as described above.

In one embodiment if the feature is enabled and the phone number is synced the sync management module retrieves from the contacts database service provider information obtained from the service mapping server for the phone number. If the service provider information in the database for the phone number has not been updated within a certain period of time or if there is no service provider information in the database for the phone number the sync management module requests and receives the information for the number from the service mapping server . Alternatively the sync management module requests and receives service provider information from the server regardless of whether the contacts database currently includes information for the phone number. This could be done for example to make sure the call module has the latest information.

The synch management module determines the service provider of the phone number based on the service provider information obtained from the service mapping server . The synch management module selects a SIM card for the call storing identifying information of a subscriber of the phone number s service provider. The synch management module instructs the call module to use the selected SIM card for the call. The call module retrieves the identifying information from the selected SIM card and places the call to the phone number using the retrieved identifying information.

In this embodiment when the sync management module determines the service provider of a phone number that a user requested be called based on information provided by the service mapping server the call module retrieves identifying information of a subscriber of the phone number s service provider from the identifying database . The call module places the call to the phone number through the transceiver device using the retrieved identifying information. In this embodiment the feature of automatically selecting the identifying information for the call from the identifying database based on information obtained from the service mapping server is referred to as the automatic selection feature.

The embodiments described above have described the mobile device automatically selecting which SIM card or identifying information to use for a call based on information received from the service mapping server . However in other embodiments the selection may be made by the service mapping server . For example when a user of a mobile device with multiple SIM cards requests to place a call to a phone number the mobile device can provide the phone number to the service mapping server and the server can select which of the multiple SIM cards to use for the call based on information stored in the service provider database . The service mapping server instructs the mobile device to use the selected SIM card for the call.

If the user requests to sync the phone number the mobile device communicates with the service mapping server to obtain service provider information for the phone number. The mapping server accesses its internal database and lookups the service provider information associated with the phone number and returns this information to the mobile device . The mobile device stores the phone number along with the service provider information. On the other hand if the user requests not to sync the phone number the mobile device skips to step and stores the phone number.

The service mapping server can be populated with the associations between phones and service providers using manual data entry bulk uploads of data retrieved from various services provides as well as a combination of these approaches. The service mapping server is configured to expose application programming interfaces by which service providers can upload the lists of telephone numbers of subscribers to their respective networks.

The mobile device receives a request to place a call to a phone number. If the automatic SIM card selection feature is enabled and the phone number is synced the mobile device determines a service provider of the phone number based on service provider information received from the service mapping server . The mobile device selects a SIM card for the call based on the service provider of the phone number. In one embodiment the mobile device selects the SIM card storing indentifying information of a subscriber of the determined service provider. The mobile device places the call using the selected SIM card.

On the other hand if the automatic SIM card selection feature is not enabled or the phone number is not synced the mobile device presents an interface asking the user to select a SIM card for the call. The mobile device places the call using the selected SIM card.

The mobile device receives a request to place a call to a phone number. If the automatic selection feature is enabled and the phone number is synced the mobile device determines a service provider of the phone number based on service provider information received from the service mapping server . The mobile device retrieves identifying information of a subscriber of the determined service provider from the internal database of the device . The mobile device places the call using the retrieved identifying information.

On the other hand if the phone number is not synced or the automatic selection feature is not enabled the mobile device presents an interface asking the user to select a service provider for the call. The mobile device retrieves identifying information of a subscriber of the selected service provider. The mobile device places the call using the retrieved identify information.

Those of skill in the art will recognize that other embodiments can performs the steps of in different orders than described. Additionally other embodiments may include different and or additional steps than described.

Some portions of above description present the features of the present invention in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. These operations while described functionally or logically are understood to be implemented by computer programs. Furthermore it has also proven convenient at times to refer to these arrangements of operations as modules or by functional names without loss of generality.

Unless specifically stated otherwise as apparent from the above discussion it is appreciated that throughout the description discussions utilizing terms such as processing or computing or calculating or determining or displaying or the like refer to the action and processes of a computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within the computer system memories or registers or other such information storage transmission or display devices.

Certain aspects of the present invention include process steps and instructions described herein in the form of an algorithm. It should be noted that the process steps and instructions of the present invention could be embodied in software firmware or hardware and when embodied in software could be downloaded to reside on and be operated from different platforms used by real time network operating systems.

The disclosure of the present invention is intended to be illustrative but not limiting of the full scope of the invention which is set forth in the following claims.

