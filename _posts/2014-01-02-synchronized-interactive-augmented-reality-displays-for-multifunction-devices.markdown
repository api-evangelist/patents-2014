---

title: Synchronized, interactive augmented reality displays for multifunction devices
abstract: A device can receive live video of a real-world, physical environment on a touch sensitive surface. One or more objects can be identified in the live video. An information layer can be generated related to the objects. In some implementations, the information layer can include annotations made by a user through the touch sensitive surface. The information layer and live video can be combined in a display of the device. Data can be received from one or more onboard sensors indicating that the device is in motion. The sensor data can be used to synchronize the live video and the information layer as the perspective of video camera view changes due to the motion. The live video and information layer can be shared with other devices over a communication link.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09305402&OS=09305402&RS=09305402
owner: Apple Inc.
number: 09305402
owner_city: Cupertino
owner_country: US
publication_date: 20140102
---
This application is a continuation of and claims the benefit of priority under 35 U.S.C. 120 to U.S. patent application Ser. No. 13 768 072 filed on Feb. 15 2013 which is a continuation of and claims the benefit of priority under 35 U.S.C. 120 to U.S. patent application Ser. No. 12 652 725 filed on Jan. 5 2010 the benefit of priority of each of which is claimed hereby and each of which are incorporated herein by reference in its entirety.

Augmented Reality AR technology combines a live view of a real world physical environment with computer generated imagery. Information about the real world environment can be stored and retrieved as an information layer which can be overlaid on the live view and interacted with by a user. Despite strong academic and commercial interest in AR systems many existing AR systems are complex and expensive making such systems unsuitable for general use by the average consumer.

A device can receive images and or live video of a real world physical environment on a touch sensitive surface. One or more objects can be identified in the live video. One or more information layers can be generated related to the objects. In some implementations an information layer can include annotations made by a user through the touch sensitive surface. The information layer and live video can be combined in a display of the device. Data can be received from one or more onboard sensors indicating that the device is in motion. The sensor data can be used to synchronize the live video and the information layer as the perspective of video camera view changes due to the motion. The live video and information layer can be shared with other devices over a communication link.

In one embodiment a device can provide a split screen display that can include a first display area for displaying the live video combined with the information layer and a second display area for displaying computer generated imagery representing objects in the live video. The computer generated imagery can be combined with the information layer in the second display area. A navigation control for allowing the user to navigate the computer generated imagery can be provided with the split screen display. Alternatively the user can navigate the computer generated imagery by physically moving the device.

In the example shown the user is holding device over a circuit board. A live video of the circuit board is shown on surface . Various objects are shown in live video . For example the circuit board shown includes processor chip capacitor memory cards and other components. The circuit board also includes bar code and markers . Virtual button can be used to capture one or more frames of live video.

Annotations can include text images or references to other information e.g. links . The annotations can be displayed proximate to their corresponding objects in live video . Annotations can describe or otherwise provide useful information about the objects to a user e.g. a computer technician . In the example shown balloon call out identifies memory cards balloon callout identifies capacitor balloon callout identifies processor and balloon call out identifies the circuit board. Additional related information such as the manufacturer and part number can be included in the balloon callouts. Information layer can display annotations automatically or in response to trigger events. For example the balloon call outs may only appear in live video when the user is touching the corresponding annotated component.

Before an information layer can be generated the objects to be annotated can be identified. The identification of objects in live video can occur manually or automatically. If automatically a frame of live video can be snapped e.g. by pressing button and processed using known object recognition techniques including but not limited to edge detection Scale invariant Feature Transform SIFT template matching gradient histograms intraclass transfer learning explicit and implicit 3D object models global scene representations shading reflectance texture grammars topic models window based detection 3D cues context leveraging Internet data unsupervised learning and fast indexing. The object recognition can be performed on device or by a network resource e.g. AR service of .

To assist in identification barcode can be identified by an image processor and used to retrieve a predefined information layer. To assist in overlaying the information layer onto live video and to align the annotations to the correct components the image processor can identify marker as indicating the top left corner of the circuit board. One or more markers can be used for an object. A location of a given annotation e.g. dashed line in live video can be a fixed distance and orientation with respect to marker

The information layer can include a variety of information from a variety of local or network information sources. Some examples of information include without limitation specifications directions recipes data sheets images video clips audio files schemas user interface elements thumbnails text references or links telephone numbers blog or journal entries notes part numbers dictionary definitions catalog data serial numbers order forms marketing or advertising and any other information that may be useful to a user. Some examples of information resources include without limitation local databases or cache memory network databases Websites online technical libraries other devices or any other information resource that can be accessed by device either locally or remotely through a communication link. In the example shown balloon call out includes a manufacturer Acme name of component Capacitor and part number C10361 .

Magnifying glass tool can be manipulated by a user to magnify or zoom an object in live video . For example if the user wanted to see a detail of processor the user could move the magnifying glass tool over processor and live video would zoom on processor resulting in more detail. The view of the magnifying glass tool can be sized using for example pinch gestures.

In some implementations current video camera view angles can be used to index a look up table of information layer data e.g. annotations for generating overlays that align correctly with objects in the live video. The video camera view angles can be represented by yaw pitch and roll angles in a reference coordinate frame. For example if we assume the yaw pitch and roll angles are all zero when the video camera is pointing directly over the circuit board as shown in then the angle set 0 0 0 can be associated with the particular annotations shown in . If the user pitches the video camera up by 90 degrees then the angle set 0 90 0 can be associated with the annotations shown in . The look up table can be stored on the device or provided by a network resource.

In some implementations the sensor output data e.g. video camera view angles can be communicated to device over the communication link so that the current orientation of the video camera on device relative to the object is known to device . This sensor data can be used by device to regenerate the information overlay on device without sending device the actual information layer data.

In some implementations the user of either device or device can use touch input or gestures to generate new annotations e.g. a draw a circle around a component and those annotations can be shared with the other device through the communication link. In some implementations a gesture itself can indicate desired information. For example drawing a circle around processor in live video can indicate that the user wants more information about processor . As a user draws annotations on live video those annotations can be reflected to live video . This feature allows users of devices to interact and collaborate through the information layer. In some implementations if devices have telephony capability the users can speak to each other while observing live video and the information layer.

In one example application device can capture images or live video of a document and the text of the document can be recognized in the images or the live video. An information layer e.g. an answer sheet can be generated and combined with the live video. For example a teacher can hold device over a student s exam paper and an outline showing incorrect answers to exam questions can be displayed in the live video to assist the teach in grading the exam paper.

In another example device can capture a live video of an engine of a car or other vehicle and the parts of the engine can be recognized from the live video. An information layer e.g. a manual excerpt can be generated and combined with the live video. For example a car mechanic can hold device over a car engine and an outline identifying parts and providing excerpts from a repair manual or schematics can be displayed in the live video to assist the mechanic in repairing the engine.

Device can be used in a variety of medical applications. In some implementations a doctor can use device to capture a live video of the patient s face. Using pattern recognition and or other information e.g. a bar code or other patient identifier information related to the patient e.g. medical history drug prescriptions can be displayed on device . In other implementations a live video of a body part that needs medical attention can be captured and augmented with annotations that can help the doctor make a diagnosis. The video can be shared with other doctors who can generate annotations on their respective devices to assist the doctor in a diagnosis. Pattern matching or other image processing can be used to identify problems with the injured body part based on its visual appearance e.g. color . In one example application an x ray or MRI video can be displayed with the live video.

In some implementations the live video scene can be determined and object recognition assisted by using an onboard positioning system e.g. GPS WiFi Cell ID . For example a frame of captured video of downtown San Francisco can be transmitted to a network resource together with the current geographic coordinates of device received from the onboard positioning system. Additionally motion sensor data e.g. angle data can be sent to the network service that defines the current view of the onboard video camera capturing the live video. The motion sensor can be used to select a subset of pre computed computer generated imagery of downtown San Francisco that is relevant to the current view of the onboard video camera.

Second display area of the split screen display can show computer generated imagery of the objects e.g. buildings in the images e.g. live video of display area . In some implementations the computer generated imagery can be created on the fly or can be retrieved from a repository. For example once the live video has been identified as downtown San Francisco computer generated imagery of downtown San Francisco can be downloaded from a network resource. Alternatively known real time rendering techniques can be used to generate 3D computer generated imagery that can be navigated by the user. For example 3D models of recognized objects of downtown San Francisco can be constructed out of geometrical vertices faces and edges in a 3D coordinate system. The models can be rendered using known real time rendering techniques e.g. orthographic or perspective projection clipping screen mapping rasterizing and transformed into the current view space of the live video camera. Transforming models into the current view space can be accomplished using sensor output from onboard sensors. For example gyroscopes magnetometers and other motion sensors can provide angular displacements angular rates and magnetic readings with respect to a reference coordinate frame and that data can be used by a real time onboard rendering engine to generate 3D imagery of downtown San Francisco. If the user physically moves device resulting in a change of the video camera view the information layer and computer generated imagery can be updated accordingly using the sensor data. In some implementations the user can manipulate navigation control to navigate the 3D imagery e.g. tilting zooming panning moving .

In some implementations the current location of device can be used to compute a route for display in the 3D computer generated imagery. In the example shown marker e.g. a pushpin can be used to identify the current location of device in this example indicated as You and second marker can be used to identify a destination or another device in this example indicated by Joe . A route can then be computed and overlaid on the 3D computer generated imagery as shown in . Touching markers can invoke various applications on device such as a communication application e.g. text messaging chat session email telephony for allowing communication between device and device

When a user moves device resulting in a change in the video camera view motion sensor data can be used to update the computer generated imagery in display areas thus maintaining synchronization between display areas and display areas . In some implementations share button can be used to initiate sharing of live video the information layer and computer generated imagery with another device.

In some implementations process can begin on a device e.g. device or by capturing live video of a real world physical environment . One or more objects in the live video can be identified . The objects can be identified manually e.g. by user selection using touch input or automatically using known object recognition techniques. An information layer related to the one or more objects is generated and can include one or more annotations . The information layer and live video are combined in a display . Sensor data generated by one or more onboard sensors is received . The data can be angle data from a gyro for example. The live video and information layer are synchronized using the sensor data . Optionally computer imagery can be generated representing objects in the live video . The computer imagery can be pre computed and retrieved from a repository or generated on the fly using known real time rendering techniques. Optionally the annotated live video computer generated imagery and information layer can be displayed in a split screen display as described in reference to . Optionally the annotated live video computer generated imagery and information layer can be shared with one or more other devices and the AR displays of the devices can be synchronized to account for changes in video views.

Sensors devices and subsystems can be coupled to peripherals interface to facilitate multiple functionalities. For example motion sensor light sensor and proximity sensor can be coupled to peripherals interface to facilitate various orientation lighting and proximity functions. For example in some implementations light sensor can be utilized to facilitate adjusting the brightness of touch screen . In some implementations motion sensor can be utilized to detect movement of the device. Accordingly display objects and or media can be presented according to a detected orientation e.g. portrait or landscape.

Other sensors can also be connected to peripherals interface such as a temperature sensor a biometric sensor a gyroscope magnetometer or other sensing device to facilitate related functionalities.

For example positioning information can be received by device from positioning system . Positioning system in various implementations can be a component internal to device or can be an external component coupled to device e.g. using a wired connection or a wireless connection . In some implementations positioning system can include a GPS receiver and a positioning engine operable to derive positioning information from received GPS satellite signals. In other implementations positioning system can include a compass e.g. a magnetic compass and an accelerometer as well as a positioning engine operable to derive positioning information based on dead reckoning techniques. In still further implementations positioning system can use wireless signals e.g. cellular signals IEEE 802.11 signals to determine location information associated with the device Hybrid positioning systems using a combination of satellite and television signals.

Broadcast reception functions can be facilitated through one or more radio frequency RF receiver s . An RF receiver can receive for example AM FM broadcasts or satellite broadcasts e.g. XM or Sirius radio broadcast . An RF receiver can also be a TV tuner. In some implementations RF receiver is built into wireless communication subsystems . In other implementations RF receiver is an independent subsystem coupled to device e.g. using a wired connection or a wireless connection . RF receiver can receive simulcasts. In some implementations RF receiver can include a Radio Data System RDS processor which can process broadcast content and simulcast data e.g. RDS data . In some implementations RF receiver can be digitally tuned to receive broadcasts at various frequencies. In addition RF receiver can include a scanning function which tunes up or down and pauses at a next frequency where broadcast content is available.

Camera subsystem and optical sensor e.g. a charged coupled device CCD or a complementary metal oxide semiconductor CMOS optical sensor can be utilized to facilitate camera functions such as recording photographs and video clips.

Communication functions can be facilitated through one or more communication subsystems . Communication subsystem s can include one or more wireless communication subsystems and one or more wired communication subsystems. Wireless communication subsystems can include radio frequency receivers and transmitters and or optical e g infrared receivers and transmitters. Wired communication system can include a port device e.g. a Universal Serial Bus USB port or some other wired port connection that can be used to establish a wired connection to other computing devices such as other communication devices network access devices a personal computer a printer a display screen or other processing devices capable of receiving and or transmitting data. The specific design and implementation of communication subsystem can depend on the communication network s or medium s over which device is intended to operate. For example device may include wireless communication subsystems designed to operate over a global system for mobile communications GSM network a GPRS network an enhanced data GSM environment EDGE network 802.x communication networks e.g. WiFi WiMax or 3G networks code division multiple access CDMA networks and a Bluetooth network. Communication subsystems may include hosting protocols such that Device may be configured as a base station for other wireless devices. As another example the communication subsystems can allow the device to synchronize with a host device using one or more protocols such as for example the TCP IP protocol HTTP protocol UDP protocol and any other known protocol.

Audio subsystem can be coupled to speaker and one or more microphones . One or more microphones can be used for example to facilitate voice enabled functions such as voice recognition voice replication digital recording and telephony functions.

I O subsystem can include touch screen controller and or other input controller s . Touch screen controller can be coupled to touch screen . Touch screen and touch screen controller can for example detect contact and movement or break thereof using any of a number of touch sensitivity technologies including but not limited to capacitive resistive infrared and surface acoustic wave technologies as well as other proximity sensor arrays or other elements for determining one or more points of contact with touch screen or proximity to touch screen .

Other input controller s can be coupled to other input control devices such as one or more buttons rocker switches thumb wheel infrared port USB port or a pointer device such as a stylus. The one or more buttons not shown can include an up down button for volume control of speaker and or microphone .

In one implementation a pressing of the button for a first duration may disengage a lock of touch screen and a pressing of the button for a second duration that is longer than the first duration may turn power to device on or off. The user may be able to customize a functionality of one or more of the buttons. Touch screen can for example also be used to implement virtual or soft buttons and or a keyboard.

In some implementations device can present recorded audio and or video files such as MP3 AAC and MPEG files. In some implementations device can include the functionality of an MP3 player such as an iPhone .

Memory interface can be coupled to memory . Memory can include high speed random access memory and or non volatile memory such as one or more magnetic disk storage devices one or more optical storage devices and or flash memory e.g. NAND NOR . Memory can store operating system such as Darwin RTXC LINUX UNIX OS X WINDOWS or an embedded operating system such as VxWorks. Operating system may include instructions for handling basic system services and for performing hardware dependent tasks. In some implementations operating system can be a kernel e.g. UNIX kernel .

Memory may also store communication instructions to facilitate communicating with one or more additional devices one or more computers and or one or more servers. Communication instructions can also be used to select an operational mode or communication medium for use by the device based on a geographic location obtained by GPS Navigation instructions of the device. Memory may include graphical user interface instructions to facilitate graphic user interface processing sensor processing instructions to facilitate sensor related processing and functions phone instructions to facilitate phone related processes and functions electronic messaging instructions to facilitate electronic messaging related processes and functions web browsing instructions to facilitate web browsing related processes and functions media processing instructions to facilitate media processing related processes and functions GPS Navigation instructions to facilitate GPS and navigation related processes and instructions e.g. mapping a target location camera instructions to facilitate camera related processes and functions e.g. live video and augmented reality instructions to facilitate the processes and features described in reference to . Memory may also store other software instructions not shown such as web video instructions to facilitate web video related processes and functions and or web shopping instructions to facilitate web shopping related processes and functions. In some implementations media processing instructions are divided into audio processing instructions and video processing instructions to facilitate audio processing related processes and functions and video processing related processes and functions respectively.

Each of the above identified instructions and applications can correspond to a set of instructions for performing one or more functions described above. These instructions need not be implemented as separate software applications procedures or modules. Memory can include additional instructions or fewer instructions. Furthermore various functions of device may be implemented in hardware and or in software including in one or more signal processing and or application specific integrated circuits.

Devices and can also establish communications by other means. For example wireless device can communicate with other wireless devices e.g. other devices or cell phones etc. over wireless network . Likewise devices and can establish peer to peer communications e.g. a personal area network by use of one or more communication subsystems such as a Bluetooth communication device. Other communication protocols and topologies can also be implemented.

Devices or can for example communicate with one or more services over one or more wired and or wireless networks . These services can include for example navigation services messaging services media services location based services syncing services and AR services . Syncing services can support over network syncing of AR displays on two or more devices. AR services can provide services to support the AR features and processes described in reference to .

Device or can also access other data and content over one or more wired and or wireless networks . For example content publishers such as news sites RSS feeds web sites blogs social networking sites developer networks etc. can be accessed by Device or . Such access can be provided by invocation of a web browsing function or application e.g. a browser in response to a user touching for example a Web object.

The features described can be implemented in digital electronic circuitry or in computer hardware firmware software or in combinations of them. The features can be implemented in a computer program product tangibly embodied in an information carrier e.g. in a machine readable storage device for execution by a programmable processor and method steps can be performed by a programmable processor executing a program of instructions to perform functions of the described implementations by operating on input data and generating output. Alternatively or addition the program instructions can be encoded on a propagated signal that is an artificially generated signal e.g. a machine generated electrical optical or electromagnetic signal that is generated to encode information for transmission to suitable receiver apparatus for execution by a programmable processor.

The described features can be implemented advantageously in one or more computer programs that are executable on a programmable system including at least one programmable processor coupled to receive data and instructions from and to transmit data and instructions to a data storage system at least one input device and at least one output device. A computer program is a set of instructions that can be used directly or indirectly in a computer to perform a certain activity or bring about a certain result. A computer program can be written in any form of programming language e.g. Objective C Java including compiled or interpreted languages and it can be deployed in any form including as a stand alone program or as a module component subroutine or other unit suitable for use in a computing environment.

Suitable processors for the execution of a program of instructions include by way of example both general and special purpose microprocessors and the sole processor or one of multiple processors or cores of any kind of computer. Generally a processor will receive instructions and data from a read only memory or a random access memory or both. The essential elements of a computer are a processor for executing instructions and one or more memories for storing instructions and data. Generally a computer will also include or be operatively coupled to communicate with one or more mass storage devices for storing data files such devices include magnetic disks such as internal hard disks and removable disks magneto optical disks and optical disks. Storage devices suitable for tangibly embodying computer program instructions and data include all forms of non volatile memory including by way of example semiconductor memory devices such as EPROM EEPROM and flash memory devices magnetic disks such as internal hard disks and removable disks magneto optical disks and CD ROM and DVD ROM disks. The processor and the memory can be supplemented by or incorporated in ASICs application specific integrated circuits .

To provide for interaction with a user the features can be implemented on a computer having a display device such as a CRT cathode ray tube or LCD liquid crystal display monitor for displaying information to the user and a keyboard and a pointing device such as a mouse or a trackball by which the user can provide input to the computer.

The features can be implemented in a computer system that includes a back end component such as a data server or that includes a middleware component such as an application server or an Internet server or that includes a front end component such as a client computer having a graphical user interface or an Internet browser or any combination of them. The components of the system can be connected by any form or medium of digital data communication such as a communication network. Examples of communication networks include e.g. a LAN a WAN and the computers and networks forming the Internet.

The computer system can include clients and servers. A client and server are generally remote from each other and typically interact through a network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client server relationship to each other.

One or more features or steps of the disclosed embodiments can be implemented using an Application Programming Interface API . An API can define on or more parameters that are passed between a calling application and other software code e.g. an operating system library routine function that provides a service that provides data or that performs an operation or a computation.

The API can be implemented as one or more calls in program code that send or receive one or more parameters through a parameter list or other structure based on a call convention defined in an API specification document. A parameter can be a constant a key a data structure an object an object class a variable a data type a pointer an array a list or another call. API calls and parameters can be implemented in any programming language. The programming language can define the vocabulary and calling convention that a programmer will employ to access functions supporting the API.

In some implementations an API call can report to an application the capabilities of a device running the application such as input capability output capability processing capability power capability communications capability etc.

A number of implementations have been described. Nevertheless it will be understood that various modifications may be made. For example elements of one or more implementations may be combined deleted modified or supplemented to form further implementations. As yet another example the logic flows depicted in the figures do not require the particular order shown or sequential order to achieve desirable results. In addition other steps may be provided or steps may be eliminated from the described flows and other components may be added to or removed from the described systems. Accordingly other implementations are within the scope of the following claims.

