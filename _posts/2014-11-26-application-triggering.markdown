---

title: Application triggering
abstract: An apparatus, method, system and computer-readable medium are disclosed for, in one aspect, determining when a trigger, such as an application trigger, should be generated. In some embodiments, the application trigger may be generated when a frame included in a feed (e.g., a content feed) matches a specified or indicated frame. In some embodiments, a comparison between the feed and the specified or indicated frame may be based on one or more tolerances or thresholds. In some embodiments, the feed may be split and content (e.g., video) obtained via the split may be combined (e.g., multiplexed) with a trigger. The combined content and trigger may be transmitted to one or more devices, such as one or more user devices.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09485547&OS=09485547&RS=09485547
owner: Comcast Cable Communications, LLC
number: 09485547
owner_city: Philadelphia
owner_country: US
publication_date: 20141126
---
This application is a continuation of U.S. patent application Ser. No. 13 217 342 filed Aug. 25 2011 which is incorporated herein by reference.

Advancements in technology have changed the way users consume and interact with content and other users. For example a user might not want to be restricted to a passive viewing experience and may want to interact with content or other users. Interactive television and applications are examples allowing users to interact with one another and with content.

Traditional techniques for providing or running applications or interactive content may be prone to error and improvements are needed.

This summary is not intended to identify critical or essential features of the disclosure provided herein but instead merely summarizes certain features and variations thereof.

In some illustrative embodiments an application author or provider may specify one or more frames of a content item that is to be associated with an application trigger. Frames associated with the content item may be monitored to determine whether a frame associated with an application trigger is being transmitted to a user device. If a frame associated with an application trigger is being transmitted to a user device the application trigger may be transmitted to and or executed at the user device.

In some embodiments a device e.g. a streamer device may decode and monitor frames received with a feed e.g. a video feed . The streamer may use a comparison algorithm e.g. an image comparison algorithm to determine if a current frame matches a frame corresponding to a trigger. If there is a match a trigger may be transmitted. In some embodiments the determination of whether a match exists may be based on one or more thresholds or tolerances.

In some embodiments an event associated with a trigger may execute until a condition occurs. The condition may comprise a receipt of a cancel frame. The condition may comprise an expiration of the trigger for the content.

In some embodiments frame based trigger techniques may be used in combination with time based trigger techniques or other techniques.

Various connections between elements are discussed in the following description. These connections are general and unless specified otherwise may be for example direct or indirect wired or wireless and this specification is not intended to be limiting in this respect.

In the following description of various illustrative embodiments reference is made to the accompanying drawings which form a part hereof and in which is shown by way of illustration various embodiments in which aspects of the disclosure may be practiced. It is to be understood that other embodiments may be utilized and structural and functional modifications may be made without departing from the scope of the present disclosure.

There may be one line originating from the central office and it may be split a number of times to distribute the signal to various premises in the vicinity which may be many miles of the central office . The lines may include components not illustrated such as splitters filters amplifiers etc. to help convey the signal clearly but in general each split introduces a bit of signal degradation. Portions of the lines may also be implemented with fiber optic cable while other portions may be implemented with coaxial cable other lines or wireless communication paths.

The central office may include a termination system TS such as a cable modem termination system CMTS in some types of networks which may be a computing device configured to manage communications between devices on the network of lines and backend devices such as servers to be discussed further below . The termination system TS may be as specified in a standard such as the Data Over Cable Service Interface Specification DOCSIS standard published by Cable Television Laboratories Inc. a.k.a. CableLabs or it may be a similar or modified device instead. The termination system TS may be configured to place data on one or more downstream communications lines and or frequencies to be received by modems at the various premises and to receive upstream communications from those modems on one or more upstream frequencies. The central office may also include one or more network interfaces which can permit the central office to communicate with various other external networks . These networks may include for example networks of Internet devices telephone networks cellular telephone networks fiber optic networks local wireless networks e.g. WiMAX satellite networks and any other desired network and the interface may include the corresponding circuitry needed to communicate on the network and to other devices on the network such as a cellular telephone network and its corresponding cell phones.

As noted above the central office may include or have access to a variety of servers that may be configured to perform various functions. For example the central office may include a push notification server . The push notification server may generate push notifications to deliver data and or commands to the various premises in the network or more specifically to the devices in the premises that are configured to detect such notifications . The central office may also include a content server . The content server may be one or more computing devices that are configured to provide content to users in the homes. This content may be for example video on demand movies television programs songs text listings etc. The content server may include software to validate user identities and entitlements locate and retrieve requested content encrypt the content and initiate delivery e.g. streaming of the content to the requesting user and or device.

The central office may also include one or more application servers . An application server may be a computing device configured to offer any desired service and may run various languages and operating systems e.g. servlets and JSP pages running on Tomcat MySQL OSX BSD Ubuntu Redhat HTML5 JavaScript AJAX and COMET . For example an application server may be responsible for collecting television program listings information and generating a data download for electronic program guide or interactive program guide listings. Another application server may be responsible for monitoring user viewing habits and collecting that information for use in selecting advertisements. Another application server may be responsible for formatting and inserting advertisements in a video stream being transmitted to the premises . Another application server may be responsible for receiving user remote control commands and processing them to provide an intelligent remote control experience.

An example premises may include an interface device . In one aspect the interface device may comprise a modem which may include transmitters and receivers used to communicate on the lines and with the central office . The modem may be for example a coaxial cable modem for coaxial cable lines a fiber interface node for fiber optic lines or any other desired modem device. The interface device may also be connected to or be a part of a gateway interface device . The gateway interface device may be a computing device that communicates with the modem to allow one or more other devices in the premises to communicate with the central office and other devices beyond the central office. The gateway may be a set top box STB digital video recorder DVR computer server or any other desired computing device. The gateway may also include not shown local network interfaces to provide communication signals to devices in the premises such as televisions additional STBs personal computers laptop computers wireless devices wireless laptops and netbooks mobile phones mobile televisions personal digital assistants PDA etc. and any other desired devices. Examples of the local network interfaces include Multimedia Over Coax Alliance MoCA interfaces Ethernet interfaces universal serial bus USB interfaces wireless interfaces e.g. IEEE 802.11 Bluetooth interfaces and others.

This disclosure identifies and addresses an issue associated with absolute time based triggers. For example if a trigger that causes an application to provide an output or stimulus e.g. an interactive poll to a user is specified as being transmitted or executed at an absolute time e.g. 10 28 AM on Sunday based on a scheduled transmission of content and then a scheduling change causes the content to be transmitted at a time different from what was initially specified an event associated with the trigger may execute at an unintended time. In other words due to a change in the scheduled transmission of the content the trigger might not be synchronized to the underlying content.

To address the above noted problem issue related to absolute time based triggers relative triggering may be used. In relative triggering an application author provider may specify that a trigger is to be transmitted or executed at a time that is offset relative to a reference time associated with the content e.g. the start or end of the content . In this manner even if the transmission of the content changes relative to an initial schedule the trigger may be synchronized with the content. Relative triggering might be counter intuitive from an application author or provider s perspective. For example an application author or provider may have to engage in a time consuming trial and error process to determine the appropriate location or spot in the content to which the trigger should be associated. Aspects of this disclosure may address problems issues associated with relative triggering.

Aspects of this disclosure may be implemented to synchronize one or more application triggers to one or more content items e.g. television programs advertisements movies computer programs text files audio files i.e. music etc. . An application authoring process may be streamlined and more intuitive using one or more of the techniques described herein.

As shown in a device such as a splitter may receive a feed such as a content feed from one or more sources. In some embodiments the feed may be generated by for example a broadcast source or a narrowcast source e.g. a multicast source or a unicast source . For purposes of illustrative simplicity the feed is discussed below as pertaining to video. Alternatively or additionally other types of content or data may be used or included in some embodiments. Splitter may generate or output video which may be provided to a streamer server and a multiplexer .

Also shown in is an application server . Server or another computing device may receive an input that may specify or identify one or more frames or an identification of a point in time within a piece of content to be associated with a trigger for a particular application or group of applications for example. The input may be generated by or received from a user a network operator a content creator an independent developer etc. The specified or identified frame s may for example coincide with one or more frames of video output by splitter . Server may access or generate an application such as an enhanced television ETV application and output the application. The application output by server may include one or more triggers. In some embodiments a trigger may be embedded in an application. For example multiplexing may be used to embed a trigger in an application. In some embodiments a trigger may be sent or transmitted separate from an application. The application output by server may also include video frame information. The application may adhere to one or more standards specifications or protocols such as TRU2WAY OCAP Enhanced TV Binary Interchange Format EBIF ETV Integrated Signaling Stream EISS etc.

Streamer server or another computing device may monitor video from splitter for one or more frames that may correspond to one or more frames that may be specified via the input to server and included in the application output by server . In some embodiments streamer server may include comparison logic circuits or software to facilitate a comparison between one or more frames included in the video and the specified one or more frames included in the application. In some embodiments the frame comparison may take place on a pixel by pixel basis. In some embodiments color comparison techniques may be used. In some embodiments macro block level techniques may be used. For example in some embodiments MPEG video streams may be encoded using macro blocks. If a certain e.g. a predetermined number of macro blocks correspond or agree it may be concluded that a test frame matches a reference frame. In some embodiments facial recognition techniques may be used. In some embodiments hashing fuzzy recognition algorithms such as eigenvectors may be used. In some embodiments open source techniques such as those used in a comparison of audio may be used. In some embodiments off the shelf components or circuits may be used to facilitate the frame comparison.

In some embodiments a comparison performed by streamer server may be based at least in part on a predetermined tolerance or threshold to determine whether a match exists. For example if a frame of video output by splitter is within y of a frame specified in the application output by server then a match may be said to exist. In some embodiments other criteria e.g. other imaging criteria may be used to determine whether a match exists. For example in some embodiments rather than determining whether a particular frame matches a portion of a frame may be examined to determine whether a match exists. For example if a logo or other graphic e.g. a particular score associated with a particular football game is included in a particular frame that may suffice as a match.

When a match is found to exist e.g. when one or more frames included in the video correspond to one or more frames specified in the application optionally within one or more thresholds or tolerances streamer server may generate a trigger to signal that a client application running at a user device for example should perform some function or activity. For example a trigger may signal the client application that user device should display a menu play a ring tone transmit a message launch a website e.g. a social networking website launch an advertisement e.g. a commercial etc.

As an example involving advertisements a computing device e.g. streamer server may detect a frame with an actor drinking a particular brand of soda. In response to such a detection an interactive advertisement related to the actor and or the soda may be launched.

In some embodiments a trigger may be a do it now type of trigger such that the client application and or user device performs whatever task is associated with the trigger upon receipt of the trigger. Alternatively or additionally the trigger may include a specification of an offset. The offset may be based on time or frames for example. For example the trigger may specify that the client application and or user device should perform a task x minutes after receipt of the trigger where x is a number. The offset may be based on an event. For example the trigger may specify that the client application and or user device should perform a task after receiving one or more user inputs at device .

In some embodiments a trigger may specify that the client application should cease running or executing. For example if a frame is received that indicates that a particular show or program is ending e.g. a frame corresponds to the credits that are displayed at the end of a television show or movie a cancel trigger may be generated to indicate that any applications related to that show or program should be terminated. In some embodiments a cancel trigger may be generated based on time such as absolute time. For example a cancel trigger based on time may be used to ensure that an application terminates at a specified time. In an illustrative scenario a cancel trigger based on time may be used to ensure that an application suitable for an adult audience terminates at 6 AM when children are expected to first start waking up from a given night s sleep.

In some embodiments an action different from terminating an application may be taken in response to a cancel trigger. For example and referring to the above described scenario related to children waking up at 6 AM an application may replace adult themed displayed data with child friendly displayed data starting at 6 AM in response to receiving a cancel trigger or another trigger.

Various types of triggers may be used in some embodiments. Various triggers or types of triggers may be combined in some embodiments. For example in some embodiments stacked triggers may be used. The stacked triggers may be based on a particular combination or sequence of frames occurring presently or in the future. For example if frame X is detected application 1 may be launched whereas if frame Y is detected application 2 may be launched. The stacked triggers may be configured to support any level or degree of complexity or specificity. As yet another illustrative example using stacked triggers logic e.g. at server or may specify that if frame Z and frame A are detected and frame B is not detected some action or task is to be performed. Alternatively or additionally the logic may specify that if frame Z is present capture the frame that is some specified amount of time before or after frame Z if that earlier or later frame is frame C then perform some action or task.

In some embodiments a rules engine may be used to determine what action task or event should be triggered in response to a detected frame or combination sequence of frames. The rules engine may be in servers or or in another computing device.

Streamer server may generate or output enhanced video. Enhanced video may comprise video applications or triggers or any combination thereof in some embodiments. The enhanced video output by streamer server may include triggers generated by the streamer server as described above. The enhanced video output by streamer server may include a blue screen or dummy video as those terms are understood in the art. The blue screen or dummy video may be used to facilitate trouble shooting by a technician or other operator. The enhanced video output by streamer server may include timing information. The timing information may be used to align or synchronize data e.g. triggers to video that is received at multiplexer .

Multiplexer or another computing device may combine the video received from splitter with the enhanced video received from server to generate output video. In some embodiments the output video from multiplexer may correspond to an enhanced MPEG stream. In some embodiments multiplexer may discard a blue screen or dummy video that may be included in the enhanced video received from server when performing the combination. In some embodiments multiplexer may transmit the output video to user device or another point in a network.

In some embodiments multiplexer may transmit the enhanced video e.g. the triggers or application data via in band communications. For example if an application is geared or directed to a particular channel or particular content e.g. an application relates to a game show that is televised on a particular channel then the use of in band communications may ensure that the application cannot be accessed from other channels. In some embodiments multiplexer may transmit the enhanced video e.g. the triggers or application data via out of band communications. Out of band communications may be used for example when an application is intended to be available for use irrespective of a channel or content selection by a user an example may relate to an electronic programming guide EPG or other general information where data for an EPG application may be desirable irrespective of what program or channel a user has currently selected.

The architecture described above is illustrative. In some embodiments components and devices shown in might not be included. In some embodiments additional components and devices not shown in may be included. For example routers may be located between multiplexer and user device to facilitate the transmission of video and triggers from multiplexer to user device . Also while a single user device is shown in some embodiments any number of user devices may be included. In some embodiments a number of user devices may be grouped into one or more service groups.

In some embodiments functionality described above with respect to each of the components or devices may be partially or completely reallocated to other devices in some embodiments. For example a comparison that may be performed by streamer server as described above may be performed at user device and as such triggers may be internally generated within user device or another associated device. Such a re allocation of functionality may be suited to user devices with greater processing capabilities such as next generation set top boxes or gateways. In such embodiments one or more reference frames may be transmitted to the user device . In some embodiments a hash or digest of the one or more reference frames may be transmitted to the user device . Use of a hash or digest may help to preserve bandwidth e.g. downstream transmission bandwidth .

In some embodiments streamer server and multiplexer may be combined into a single unit casing or housing. However maintaining streamer server and multiplexer as separate or distinct entities may be beneficial. For example multiplexer may correspond to an off the shelf type of component that may have legacy properties or characteristics associated with it. In this regard maintaining streamer server and multiplexer as separate or distinct entities may provide benefits in terms of lower costs by allowing a network or service provider to take advantage of economies of scale in terms of components or devices by leveraging existing infrastructure.

A network or service provider may prefer to maintain isolation or independence between the enhanced video or application data shown as having been generated by streamer server in and the video shown as having been output by splitter in for as long as possible. For example maintaining independence between the video and the enhanced video until they are received at multiplexer may facilitate trouble shooting activities in the event of component or device failure. Furthermore the network or service provider may want to ensure that the video that is associated with the output video produced by multiplexer can be provided to the user device irrespective of application data e.g. triggers that may be included in the enhanced video this may be particularly true when the application or the enhanced video is generated by a third party developer and or when the network or service provider has limited control over the application or the enhanced video. Maintaining isolation or independence between the enhanced video and the video or other data may help to ensure that at least the video is provided to the user device if the enhanced video has design bugs or flaws associated with it or fails in some other way.

In step an input identifying one or more frames or one or more portions thereof may be received. The input may serve to identify that an event or an action should be taken by one or more applications running or executing at a device such as a user device relative to the one or more frames for example.

In step one or more feeds or representations thereof may be received. In some embodiments the one or more feeds may include audio content e.g. music a siren visual content e.g. a text file a presentation etc. audio visual content e.g. a television show or program or other data.

In step a comparison may take place to determine whether a match exists. For example a match may exist if a frame included in the feed received in connection with step corresponds to a frame identified in connection with step . In some embodiments tolerances or thresholds may be used to determine whether a match exists. For example a match may exist if a frame included in the feed received in connection with step corresponds to a frame identified in connection with step within y . In some embodiments the comparison or detection may be based on one or more audio frames. For example audio may be monitored for a particular sequence of sounds. In the context of a football game audio corresponding to the play by play may be monitored for a statement similar to e.g. within a threshold of Team GHI just scored a field goal 3 points 

In some embodiments the comparison or determination associated with step may be associated with a timeout or expiration. Continuing the above example if the football game has ended or team GHI does not have possession of the ball the monitoring may be stopped or cutoff so as to reduce the likelihood that a false positive will be triggered in response to a similar enough frame being detected e.g. in another show or as a result of team JKL having scored a field goal .

If a match does not exist e.g. the NO path is taken out of step then the method flow may proceed back to step to continue receiving and monitoring the feed. In this respect a loop may be established to monitor a received feed until a match occurs.

If a match does exist e.g. the YES path is taken out of step then the method flow may proceed to step . In step one or more triggers may be generated or otherwise associated with the frames or content. The one or more triggers may be of any type or combination of types. The one or more triggers may direct a client application executing or running at a device e.g. a user device to take one or more actions. As part of step enhanced video may be generated. The enhanced video may include the one or more triggers. The enhanced video may include a blue screen or dummy video. The enhanced video may include timing information. Referring to the example provided above regarding monitoring audio play by play for a team GHI field goal in response to having detected the field goal a pop up box may be generated transmitted and or displayed that provides statistics regarding team GHI e.g. team GHI s placekicker s accuracy on field goal attempts from various distances .

In step one or more outputs may be generated. The one or more outputs may include video in some embodiments. The one or more outputs may include a combination e.g. multiplexing of content and triggers in some embodiments. As part of step the generated output s may be transmitted to one or more devices such as one or more user devices. The method flow may return to step for purposes of continuing to monitor the received feed.

The method described above in connection with is illustrative. In some embodiments some of the steps or portions thereof may be optional. In some embodiments the order of the steps or portions thereof may be rearranged or executed in a sequence different from what is shown. In some embodiments one or more of the steps or portions thereof may execute in parallel. In some embodiments additional steps not shown may be included.

While some examples have been described above in the context of television technology and communications aspects of this disclosure may readily be applied to and adapted to be operative on one or more other communication systems. Those communication systems may include computer networks satellite networks cellular networks and the like.

Although not required various aspects described herein may be embodied as a method a data processing system and or as a transitory and or non transitory computer readable medium storing executable instructions. Accordingly those aspects may take the form of an entirely hardware embodiment an entirely software embodiment an entirely firmware embodiment or an embodiment combining software firmware and or hardware. The functionality may be resident in a single computing device or application or may be distributed across multiple computing devices platforms or applications the multiple computing devices platforms optionally being connected to one another via one or more networks. Moreover the structural components described herein may be distributed amongst one or more devices optionally within a common housing or casing.

Various signals representing content data or events as described herein may be transferred between a source and a destination in the form of electromagnetic waves traveling through signal conducting media such as metal wires optical fibers and or wireless transmission media e.g. air and or space .

The various methods and acts may be operative across one or more computing servers and one or more networks. The functionality may be distributed in any manner or may be located in a single computing device e.g. a server a client computer etc. . As described herein one or more triggers may be generated in response to one or more frames or one or more portions of one or more frames matching a frame or portion thereof optionally within a specified threshold or tolerance. In this manner applications may be authored or provided in an easy and intuitive way.

The methodological acts and processes described herein may be tied to particular machines or apparatuses. For example as described herein applications may execute on one or more devices such as servers and user devices. The applications may be formatted in accordance with one or more communication techniques specifications types or protocols. More generally one or more apparatuses may include one or more processors and memory storing instructions that when executed cause the one or more apparatuses to perform the methodological acts and processes described herein. Furthermore the methodological acts and processes described herein may perform a variety of functions including transforming an article e.g. a feed such as a content feed and an application such as a client application into a different state or thing e.g. content supplemented by an application with triggers based at least in part on a determination that a frame matches a specified frame optionally within a given tolerance or threshold .

Aspects of the disclosure have been described in terms of illustrative embodiments thereof. While illustrative systems and methods as described herein embodying various aspects of the present disclosure are shown it will be understood by those skilled in the art that the disclosure is not limited to these embodiments. Modifications may be made by those skilled in the art particularly in light of the foregoing teachings. For example each of the features of the aforementioned illustrative examples may be utilized alone or in combination or subcombination with elements of the other examples. For example any of the above described systems and methods or parts thereof may be combined with the other methods and systems or parts thereof described above in any order. It will also be appreciated and understood that modifications may be made without departing from the true spirit and scope of the present disclosure. The description is thus to be regarded as illustrative instead of restrictive on the present disclosure.

