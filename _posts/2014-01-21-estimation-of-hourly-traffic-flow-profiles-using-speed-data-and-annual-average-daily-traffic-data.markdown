---

title: Estimation of hourly traffic flow profiles using speed data and annual average daily traffic data
abstract: A framework for performance evaluation and active management of a transportation network infrastructure reconstructs traffic flow profiles by modeling annual average daily traffic data and collected traffic speed data to estimate an hourly traffic flow profile for a roadway segment, or link. Total daily flow for a link is derived from the corresponding annual average daily traffic data for that link, and is adjusting by the day of week and the monthly seasonal factors. An hourly flow distribution profile for a roadway link is then constructed using the traffic speed data relative to that link.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09123239&OS=09123239&RS=09123239
owner: ITERIS, INC.
number: 09123239
owner_city: Santa Ana
owner_country: US
publication_date: 20140121
---
The present invention relates to performance evaluation and active management of a transportation network infrastructure. Specifically the present invention relates to the use of annual average daily traffic data and collected traffic speed data to reconstruct traffic flow profiles and estimate an hourly traffic flow profile.

Traffic speed data and travel time estimates are becoming widely available from commercial vendors. However these are not sufficient for a proper performance evaluation and active management of a transportation network infrastructure since effective road network planning and traffic operation requires the knowledge of traffic flows. Information currently available in the market does not properly represent accurate traffic flow data.

Traffic flow can be measured from annual average daily traffic AADT figures which are a measure used primarily in transportation planning and transportation engineering. AADT is the total volume of vehicle traffic of a roadway for a year divided by 365 days and provides a simple measurement for how busy a roadway is in terms of such volume. Each year every state in the United States submits a Highway Performance Monitoring System HPMS report that contains transportation network information roadway links and their shapes comprising each state s network with assigned AADT values. HPMS links are bidirectional and thus the AADT volume in each HPMS report is a sum of daily flows in both directions for each roadway link. In general AADT values can be roughly divided by 2 in order to obtain daily flow for a single direction. However determining average daily flows to describe traffic volumes on a particular day is also not enough of a sufficient measure of traffic flow.

That is because traffic volume at any given location depends on the season day of week and other factors such as whether the day is holiday or not and the time of day. shows the dynamics of monthly flows collected from a vehicle detector station VDS representing a fixed location of California s Interstate 5 for both directions North and South. From it is evident that the monthly flows are nearly equal in both directions but this plot does not account for any of the other characteristics noted above.

Traffic speed data is derived from many different sources such as for example from roadway sensors such as radar and video systems. Traffic speed data may also be derived from data collected from providers of Global Positioning Systems GPS services and the like. Data from GPS services is sold in bulk by the number of data points per day or per month and may be packaged in different ways. For example GPS probe data may be in the form of raw or unprocessed probe data points or in the form of processed probe data that reflects traffic speed on a roadway network. Regardless of the source the traffic speed data derived from this collected GPS data provides an indication of traffic speed at a given point in time but does not produce an indication of traffic flow. Therefore more is needed for effective planning and operation of traffic in a transportation network.

Accordingly traffic flow determinations purely from available traffic speed data or from available AADT are insufficient by themselves to provide an accurate indication of traffic flows and reasons for them. They are also insufficient to provide an accurate estimation of hourly traffic flows. Knowledge of both traffic flows generally and estimates of hourly traffic flows is very helpful in transportation network infrastructure planning management.

It is therefore one objective of the present invention to provide a system and method of using annual average daily traffic data and traffic speed data to reconstruct traffic flow profiles. It is another objective of the present invention to estimate an hourly traffic flow profile from reconstructed traffic flow profiles derived from traffic speed data and annual average daily traffic data. It is yet another objective of the present invention to improve performance evaluation and active management of a transportation network using estimates of hourly traffic flow profiles. It is still another objective of the present invention to provide a system and method of modeling annual average daily traffic data and traffic data to compute daily traffic flow values determine hourly flow distribution profiles and calculate hourly traffic flow profiles to estimate hourly traffic flow profiles for roadway segments.

The present invention is a system and method of determining the flow in vehicles hour on every section of a roadway network in each direction. This enables computation of the number of people being affected by traffic congestion which is typically reported as roadway delay . Speed data provided by third parties does not include volume it only has speeds and hence delay cannot be accurately computed. The present invention solves this problem by generating a typical value of volume for each roadway link for each time period to produce a data set that is comprised of freeway section ID day of week hour of day typical flow or volume components by direction. This is accomplished by converting daily traffic flow data into a directional flow by the day of the week and the hour of the day by computing a directional split and an hourly split by time of day extracting from the third party speed only data which direction on the roadway is the peak direction and which direction has the largest flows by time of day. The present invention therefore scans for recurrent bottlenecks in the speed data and then marks those sections of roadway by time of day as having peak flow. The present invention then breaks down the flow by hour of day using typical profiles and computes delay by combining this with reported real time speeds.

The present invention discloses in one embodiment a system and method of estimating directional hourly flow profiles using Annual Average Daily Traffic AADT values which are extracted from data collected by the state Departments of Transportation that is subsequently submitted to the Federal Highway Administration FHWA and published in HPMS reports for locations where such data is available and using traffic speed data that are either provided by third party commercial vendors or collected using one or more sensors or both. This is accomplished by reconstructing traffic flow profiles by deriving total daily flow for a link from the corresponding AADT value for that link in a given direction and for a given date and adjusting the total daily flow by the day of week and the monthly seasonal factors. At the same time a flow distribution profile for a given direction on a roadway link is constructed using the traffic speed data relative to that link for the same location direction and day. An hourly traffic flow profile is then estimated by multiplying the flow distribution profile by the total daily flow value for a given link.

In one exemplary embodiment of the present invention a method of estimating an hourly traffic flow profile for a roadway segment comprises one or more of the elements of computing a daily traffic flow value at a location on a roadway segment and for a specified direction at a specified date from annual average daily traffic data determining an hourly flow distribution profile for the location and for the specified direction at the specified date from collected traffic speed data by 1 constructing temporal templates to detected traffic flows values 2 developing one or more speed profiles from the collected traffic speed data and 3 assigning a temporal template to a speed profile and calculating hourly traffic flow profiles by multiplying the hourly flow distribution profile by the daily flow value.

In another exemplary embodiment a system comprises one or more of the elements of a computer readable storage medium operably coupled to at least one computer processor and having program instructions stored therein the computer processor being operable to execute the program instructions to perform one or more data processing functions in a plurality of modules the plurality of modules including a data ingest module configured to ingest input data that at least includes annual average daily traffic data detected traffic flow values and collected traffic speed data a daily traffic flow module configured to normalize the annual average traffic data with a monthly seasonal factor and a day of the week factor for each location on a roadway segment for a specified direction and a specified date to formulate a daily traffic flow value an hourly flow distribution profile module configured to assign temporal templates developed from detected traffic flow values to speed profiles representative of collected traffic speed data to determine an hourly flow distribution profile for each location for the specified direction at the specified date and a classification module configured to categorize the average annual daily traffic data with the collected traffic speed data to allocate the average annual daily traffic data into a time period that includes a morning peak an afternoon peak a Saturday period a Sunday period and a double peak by multiplying the hourly flow distribution profile by the daily traffic flow value.

In yet another exemplary embodiment a method comprises on or more of the elements of ingesting input data that at least includes annual average daily traffic data detected traffic flow values and collected traffic speed data modeling the input data to construct estimates of hourly traffic flow profiles by normalizing the annual average traffic data with a monthly seasonal factor and a day of the week factor for each location on a roadway segment for a specified direction and a specified date to formulate a daily traffic flow value assigning temporal templates constructed from detected traffic flow values to speed profiles representative of collected traffic speed data to determine an hourly flow distribution profile for each location for the specified direction at the specified date and categorizing the average annual daily traffic data with the collected traffic speed data to allocate the average annual daily traffic data into a time period that includes a morning peak an afternoon peak a Saturday period a Sunday period and a double peak and generating output data representative of estimations of hourly traffic flow profiles.

Other objects embodiments features and advantages of the present invention will become apparent from the following description of the embodiments taken together with the accompanying drawings which illustrate by way of example the principles of the invention.

In the following description of the present invention reference is made to the exemplary embodiments illustrating the principles of the present invention and how it is practiced. Other embodiments will be utilized to practice the present invention and structural and functional changes will be made thereto without departing from the scope of the present invention.

The present invention is a system and method of estimating directional hourly traffic flow profiles for a specified roadway link. is a systemic block diagram showing an hourly traffic flow profile development framework of the present invention that models annual average daily traffic data and collected traffic speed data in an approach that computes a daily directional traffic flow for a given location given direction and given date determines an hourly flow distribution profile for the same location direction and day from collected traffic speed data and calculates hourly traffic flow profiles by multiplying the hourly flow distribution profile by the daily directional traffic flow .

This approach accomplishes these functions by taking the annual average daily traffic value for a given location and multiplying it by monthly seasonal factor . The resulting value is then multiplied by a day of week factor and the result of this is then divided two to arrive at an estimate of the total daily volume in given direction for a given day represented by the daily directional traffic flow . The hourly traffic flow profile development framework then determines how this value is distributed over 24 hours of that day by applying temporal profiles obtained by analyzing data from detectors that measure flow to group hourly distribution profiles according to temporal templates . For each hourly distribution profiles morning peaks afternoon peaks double peaks weekends holidays the hourly traffic flow profile development framework normalizes by dividing the profile represented as a time series of flow values by the sum of these values averaging the hourly flow distribution profiles by summing up all the temporal profiles in the group and then dividing the sum by the number of profiles . Next the present invention analyzes speed profiles at the same location as annual average daily traffic value was collected to determine which of the generic grouping the real hourly flow distribution belongs to. One of the hourly flow distribution profiles is selected by analyzing how speed was changing during the day and finally multiplied by the total daily directional traffic flow computed earlier to produce an hourly flow profile .

These functions are performed in one or more data processing modules within a computing environment that includes one or more processors in a plurality of software and hardware components that form at least a part of the hourly traffic flow profiles development framework . The one or more processors are configured to execute program instructions in the one or more data processing modules to perform the approach above. Also included is a data ingest module configured to receive input data from many different sources also as further described herein and one or more modules configured to generate output data for consumptive utility also as further described herein.

The hourly traffic flow profile development framework produces output data representative of estimations of hourly traffic flow profiles . These estimations are distributed to one or more API application programming interface modules for development of downstream uses of the output data such as for example an animation and visualization module that converts the output data for use on a graphical user interface. Another module performs computations using the output data that are vital to management of a transportation network infrastructure such as for example computing roadway network throughput computing delay in vehicle hours imposed by a traffic condition and a degree of roadway utilization as a measure of productivity. Still another module may be configured to utilize output data for generating real time traffic control and route recommendations and other customized content for web distribution accessibility using applications on mobile devices tablets or personal computers and broadcast media distribution.

As noted above one function performed by the present invention is to compute a daily directional traffic flow for a given location and direction of a roadway segment and for given date. As noted above average daily flows describing traffic volumes on a particular day do not provide enough information for traffic engineers and agencies to conduct sufficient performance evaluation and management of a transportation network because traffic volume at any given location depends at least on the season day of week and whether or not the day is a holiday. In order to achieve a more accurate picture of traffic volumes the present invention must therefore generate a daily directional traffic flow value from the annual average daily traffic data provided by governmental entities. Daily traffic volume at a given location is estimated by applying the following formula in a daily traffic flow module Daily Directional Flow Monthly Seasonal Factor Day Of Week Factor AADT

The data ingest module provides values for monthly seasonal factors and day of the week factors for the function s performed by the daily traffic flow module . These values are obtained from publicly available sources such as the Federal Highway Administration of the United States Department of Transportation such as from http www.fhwa.dot.gov policyinformation travel monitoring tvt.cfm . For example monthly figures for Vehicle Miles Traveled VMT are reported by individual states and collected and published by the FHWA. is a graph showing an example of monthly seasonal factors for the state of California in 2012 for traffic flows collected from a vehicle detector station for a fixed location.

Another function performed in the present invention is to determine hourly flow distribution profiles in an hourly flow distribution module within the computing environment . It is generally the case that traffic flow patterns fall into five major temporal profile categories morning peak afternoon peak double peak morning and afternoon and Saturday and Sunday and or holiday.

For each of the categories from above the hourly traffic flow profile development framework of the present invention constructs templates of hourly distribution profiles . This is accomplished by selecting locations with proper flow detection grouping together traffic flow data falling into each category and averaging those values over a significant specified time period such as for example one year . This generates five temporal templates of hourly flow distribution profiles for further use in estimating an hourly traffic flow profile .

Next the hourly traffic flow profile development framework develops a speed profile from the collected traffic speed data for the given location direction and day to be analyzed. The speed profile is a series of speed values with timestamps so that for example an hourly speed profile for a particular day is a sequence of 24 speed values each corresponding to its respective hour of the day. In real time speed measurements for a given link are provided every minute and for each hour the present invention takes the 60 speed values and average them to give an average speed for that hour. The present invention then compares the speed profile with the hourly distribution profile and assigns a temporal template from the hourly distribution profiles to this location direction and day to further categorize the collected traffic speed data .

The present invention then applies an assessment of ground truth to compare the temporal template assigned to the speed profile . is a comparison of two graphical plots one of a speed profile for traffic speed reflected by collected traffic speed data and actually measured traffic flow in ground truth . It is assumed that traffic speed drops the most in the period of the day when volume is the largest. Examining the period between 6 00 AM and 10 00 AM the speed profile in indicates that this location direction and day is classified as a morning peak and assigned a temporal template for an hourly distribution profile for that time period. The ground truth which is the actual flow measurement of traffic flow agrees with the assessment of the speed profile .

The present invention then applies an algorithm to classify the computed daily directional traffic flows from analyzing annual average traffic data and the hourly distribution profiles from analyzing the collected traffic speed data in a classification module . The classification module multiplies the hourly distribution profiles with the daily directional traffic flows . Next if the traffic speed profile has been identified as a Saturday Sunday or holiday a corresponding hourly traffic flow profile is assigned and the classification module terminates.

Otherwise the hourly traffic flow profile development framework of the present invention proceeds by determining an appropriate candidate template profile for the free flow traffic speed by looking at the average speed between 11 pm and 5 am. The present invention determines when a maximum speed drop occurs between 5 am and 12 noon or after 12 pm. A maximum speed drop between 5 am to 12 noon makes the morning peak a candidate and after 12 pm makes the afternoon peak a candidate. After determining the candidate template profile the present invention checks or compares the traffic speed dynamics for an opposing period of the day for morning peak candidate afternoon speed is analyzed and for the afternoon peak candidate vice versa and if there is also a speed drop that is 85 or above of the maximum speed drop then a double peak template is assigned as the hourly distribution profile . Otherwise the present invention keeps the candidate template profile as the final hourly traffic flow speed .

It should be noted that it may not always be possible to infer anything from a traffic speed profile . The classical example is when speed always stays free flow. and are graphical plots demonstrating how similar almost constant speed profiles flows can differ essentially. is a graphical plot comparing actual free flow speed in a ground truth and the morning temporal period profile showing a peak flow for an hourly flow distribution profile . meanwhile is a graphical plot comparing actual free flow speed in a ground truth and the afternoon temporal period profile showing a peak flow for an hourly flow distribution profile .

The function performed by the classification module therefore also tries to ensure that the temporal template for the hourly flow distribution profile has been correctly assigned. The classification module proceeds by assigning a confidence level factor when assigning templates to hourly flow distribution profiles . For instance in the case of traffic speed profiles such as the ones shown in and the confidence level factor is 0 in other words the assigned template for the hourly flow distribution profile is a pure guess whereas the assignment of the morning peak profile from the speed profile in may be assigned a much higher confidence level factor for example 0.7.

For those assignments with confidence level factors of 0 the present invention looks at the opposite direction of traffic flow as well as at upstream and downstream neighboring links of the roadway. It is expected that the opposite direction would have a symmetrical profile for example if direction North exhibits morning peak then direction South must have the afternoon peak and vice versa and if North has the double peak South must also have double peak . It is also expected that the upstream and downstream neighboring links should have the same template as the location in question.

Where these opposing directions and or neighboring roadway links have high confidence level factors assigned to them and confirm the assignment of the correct temporal template for the hourly distribution profile for the location in question it is the case that hourly flow distribution profiles assigned with high confidence level factors can be smeared to their upstream and downstream neighboring links with 0 confidence level factors and be used to infer an hourly flow distribution profile for the opposite direction at the same location.

The methodology described herein for estimating hourly traffic flows may be tested at places where a ground truth is available such as where there is known freeway data. At such places the hourly traffic flow profile development framework selects all healthy detectors for example those detector stations providing observability above 80 and retrieves traffic flow data . The present invention then constructs daily directional traffic flows and hourly flow distribution profiles respectively from annual average daily traffic values and collected traffic speed data as described above and compares those with the ground truth to determine an amount of error.

The hourly traffic flow profile development framework may therefore include in a further embodiment one or more protocols to overcome errors in the modeling described above. The present invention contemplates that errors have three components. One component is the seasonal monthly factor and a second of which is the day of the week factor both of which are quantitative. The distribution template is the third component and this is qualitative. Our current research is aimed at reducing this component.

For the quantitative components any error in the monthly seasonal and day of week factors are minimized by computing these factors by geographical area to introduce more accuracy than for example simple utilization of nation wide factors. In a first step of refinement the present invention computes these factors by state and then in further steps of refinement by more localized geographical limitations such as county region city town etc. Regarding the qualitative component of flow distribution classification in the distribution template the hourly traffic flow profile development framework proceeds as noted above by assigning confidence level factors to hourly flow distribution profiles and comparing with either upstream and downstream neighboring links in the same direction of travel or with the opposite direction of travel at the same location to draw inferences about the amount of error.

The systems and methods of the present invention may be implemented in many different computing environments . For example they may be implemented in conjunction with a special purpose computer a programmed microprocessor or microcontroller and peripheral integrated circuit element s an ASIC or other integrated circuit a digital signal processor electronic or logic circuitry such as discrete element circuit a programmable logic device or gate array such as a PLD PLA FPGA PAL and any comparable means. In general any means of implementing the methodology illustrated herein can be used to implement the various aspects of the present invention. Exemplary hardware that can be used for the present invention includes computers handheld devices telephones e.g. cellular Internet enabled digital analog hybrids and others and other such hardware. Some of these devices include processors e.g. a single or multiple microprocessors memory nonvolatile storage input devices and output devices. Furthermore alternative software implementations including but not limited to distributed processing parallel processing or virtual machine processing can also be configured to perform the methods described herein.

The systems and methods of the present invention may also be partially implemented in software that can be stored on a storage medium executed on programmed general purpose computer with the cooperation of a controller and memory a special purpose computer a microprocessor or the like. In these instances the systems and methods of this invention can be implemented as a program embedded on personal computer such as an applet JAVA or CGI script as a resource residing on a server or computer workstation as a routine embedded in a dedicated measurement system system component or the like. The system can also be implemented by physically incorporating the system and or method into a software and or hardware system.

Additionally the data processing functions disclosed herein may be performed by one or more program instructions stored in or executed by such memory and further may be performed by one or more modules configured to carry out those program instructions. Modules are intended to refer to any known or later developed hardware software firmware artificial intelligence fuzzy logic expert system or combination of hardware and software that is capable of performing the data processing functionality described herein.

It is to be understood that other embodiments will be utilized and structural and functional changes will be made without departing from the scope of the present invention. The foregoing descriptions of embodiments of the present invention have been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Accordingly many modifications and variations are possible in light of the above teachings. It is therefore intended that the scope of the invention be limited not by this detailed description.

