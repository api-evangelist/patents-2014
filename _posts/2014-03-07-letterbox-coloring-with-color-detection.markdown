---

title: Letterbox coloring with color detection
abstract: A system comprising a computer-readable storage medium storing at least one program, and a computer-implemented method for generating background for an image. A graphical interface module arranges an image in a display element. The arrangement of the image in the display element defines a space between the perimeters of image and the display element. A color detection module determines an estimate of a color of the image about the perimeter of the image. A background generator module determines a variation of color of the image about the perimeter of the image. The background generator module determines a background based at least on the estimate of the color and the variation of color. A display module provides the arrangement of the image in the display element with the background at least filling a portion of the space defined between the perimeters.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09519977&OS=09519977&RS=09519977
owner: eBay Inc.
number: 09519977
owner_city: San Jose
owner_country: US
publication_date: 20140307
---
The present application claims the priority benefit under 35 U.S.C. 119 e of U.S. Provisional Patent Application Ser. No. 61 822 846 titled SMART LETTERBOX COLORING WITH EDGE DETECTION filed May 13 2013 which is incorporated herein by reference in its entirety.

Example embodiments of the present application generally relate to graphical interfaces and more particularly to a system and method for providing images.

Marketplaces can be online and or real world e.g. brick and mortar . Online marketplaces can include websites or mobile applications where users may buy or sell goods or services referred to collectively as items from a provider of the online marketplace or other users of the online marketplace. The goods or services referred to collectively as items are described in a published listing. Similar to online marketplaces real world marketplaces may have websites that allows users to view inventory or interact with the real world marketplace.

Consumers can be exposed to a variety of advertisements and item listings throughout the consumers online experience. Given the rapid increase in the number of online marketplaces customers may become overwhelmed by the number of shopping options and online advertisements. As a result some marketplaces may not be able to effectively market to consumers.

Reference will now be made in detail to specific example embodiments for carrying out the inventive subject matter. Examples of these specific embodiments are illustrated in the accompanying drawings. It will be understood that they are not intended to limit the scope of the claims to the described embodiments. On the contrary they are intended to cover alternatives modifications and equivalents as may be included within the spirit and scope of the disclosure as defined by the appended claims. In the following description specific details are set forth in order to provide a thorough understanding of the subject matter. Embodiments may be practiced without some or all of these specific details. In addition well known features may not have been described in detail to avoid unnecessarily obscuring the subject matter.

In accordance with the present disclosure components process steps and or data structures may be implemented using various types of operating systems programming languages computing platforms computer programs and or general purpose machines. In addition those of ordinary skill in the art will recognize that devices of a less general purpose or nature such as hardwired devices field programmable gate arrays FPGAs application specific integrated circuits ASICs or the like may also be used without departing from the scope and spirit of the concepts disclosed herein. Embodiments may also be tangibly embodied as a set of computer instructions stored on a computer readable medium such as a memory device.

Example methods and systems displaying images are described. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of example embodiments. It will be evident however to one skilled in the art that the present invention may be practiced without these specific details.

An online marketplace is a website or mobile application where a user may buy or sell goods or services referred to collectively as items from a provider of the online marketplace or other users of the online marketplace. The items are described in a published listing. The listing may indicate various properties or characteristics of the good service or proposed transaction such as brand make model year category price e.g. a current high bid reserve price or buy it now price color size condition sale type e.g. auction or buy it now seller shipping availability and details location keywords categories or identifiers e.g. UPC or ISBN code . The listing may include one or more pictures or images of the item being sold.

The online marketplace publishes the listing in a view item page or another webpage. In example embodiments the view item page includes the description of the good or service and a number of options that can be selected by the user viewing the page. The options may include an option to purchase or bid on the item an option to watch the item an option to send a link to the listing in an electronic message e.g. email text message private message within a social network or to share a link to the listing via a social network. Social networks include but are not limited to TWITTER FACEBOOK LINKEDIN PINTEREST meet up sites dating sites and other sites where users can post content or replies to content.

In some instances the images may be displayed at different sizes. For example the images may be viewed on more than one type of device such as desktop computers and mobile devices including smartphones tablet computers and wearable computer devices. These mobile devices may have a smaller display area than more conventional computers. The smaller display area may require that less content be displayed on the device at a particular time or be laid out in an alternate arrangement to increase ease of use.

Furthermore the images may be displayed on various types of webpages. One example as stated is the view item page. A second example is a web page that presents at least a portion of a plurality of listings based on a search result and or browsing activity listings page . The listings page may provide a smaller display area for the image than the view item page. For example the display areas for images of the listings page may be a size suitable for displaying thumbnail images. Moreover the display area of the graphical interface for the image on the listings page may be a different shape than the display area of the view item page. In particular display elements of a listings page may have uniform aspect ratios and sizes which may be in contrast to the various aspect ratios of images to be displayed. Accordingly the images are to be displayed on a variety of display sizes and within a variety of sizes of display elements of the graphical interface.

The images of the items described in the published listings may be provided to the marketplace or other publication service by a user of the marketplace such as a seller. The seller may capture the image of the item using a camera or a digital image capture device. To take a picture of the item the user can place the item against a background that may be more or less uniform. For example some users construct a photo light box or photo studio by draping fabric over a frame and positioning the item in the light box to provide a uniform background. Other sellers may simply place the item on a surface having a uniform color e.g. a white tablecloth placed on a table top and capture a picture from a desired angle so that the item appears to be in a light box or other more sophisticated piece of equipment. As such images of items can take on a wide range of background colors and sizes.

When rendered on a device or in a display element having a smaller display the captured image may be resized to fit within a designated area of the display display element . The dimensions of the image may be proportionally shrunk or cropped to fit within the display element. Particularly when the image is proportionally shrunk the shape of the image may not match the shape of the display element for the image e.g. thereby producing a letterbox . As a result when the display area is rendered the picture may be by default bordered on one or more sides by a solid black or white border. The solid border may distract from the image for the user or not otherwise complement the image causing fewer people to be interested in the item. As a result sellers and buyers may both be discouraged from using the marketplace.

Systems and methods described herein automatically without human intervention determine a background fill and or coloring scheme used to fill in the letterbox area of the display. As stated the letterbox area is the area that is designated to include the image that is not actually occupied by the image. The resulting letterbox area may include one or more colors and or various patterns shading shadowing or other visual effects background or background fill .

For example an example embodiment includes a border color averaging and border variance detection algorithm. Both the border color averaging and the border variance detection may be determined or computed in a perceptually linear color space. By way of example perceptually linear color spaces include color spaces in which a change of an amount in a color value should produce a change approximately proportional to the visual importance. Examples of perceptually linear color space include but is not limited to International Commission on Illumination CIE 1931 color space CIE 1976 color space CIE 1976 L u v color space CIELUV CIE 1976 L a b color space CIELAB or CIE 1964 U V W color space CIEUVW . Perceptually linear color spaces can have an advantage that changes in color approximately matches the change perceived by humans.

Determining an average color of the border pixels can serve as an estimate of the background color of image. In turn a version of the estimate may serve as a pleasing background fill for an image under certain scenarios. Border color averaging may be performed by calculating an average pixel color from the border pixels. As stated the average is computed in a perceptually linear color. Thus if the image is not characterized in a perceptually linear color space e.g. instead characterized with an RGB type color space luma plus chroma chrominance type color space hue and saturation type color space CMYK color space or the like color spaces then the image may be converted into one of the perceptually linear color spaces before computing the average.

In some cases the average color of the border may not be a reliable indication of the background color. For example the background of the image may contain a pattern of multiple bright colors. Thus the average color may be very different from any of the actual background colors and or the average color may be a muddied color that may not look pleasing applied as the background. Accordingly in some implementations images having high border variance may cause the background fill to be a desaturated version of the average color. A standard deviation calculation may be used as the variance detector. Alternates could include statistical variance average absolute deviation median absolute deviation or any other statistical measure or approximation of variance or dispersion.

The level of desaturation may be based on a relationship of the amount of border variance to the amount of desaturation. This process of desaturating the average color of the border by may be implemented with linear proportional desaturation an exponential like desaturation or a threshold based desaturation. Once the letterbox coloring is achieved e.g. achieved by applying a desaturation of the average color the background fill may be added to the display to be rendered in the letterbox. With the background fill the image may be rendered without distracting borders as described below.

Additionally or alternatively the variance measure may be used to determine whether an image should be smoothly matted or displayed with an alternate presentation e.g. displaying with a drop shadow or border . In one embodiment the background is desaturated to approximately a fully desaturated color and a drop box is placed around the image if the variance of color is greater than a predetermined threshold.

An Application Program Interface API server and a web server are coupled to and provide programmatic and web interfaces respectively to one or more application servers . The application servers host one or more marketplace applications and payment applications . The application servers are in turn shown to be coupled to one or more databases servers that facilitate access to one or more databases .

The marketplace applications may provide a number of marketplace functions and services to users that access the networked system . The payment applications may likewise provide a number of payment services and functions to users. The payment applications may allow users to accumulate value e.g. in a commercial currency such as the U.S. dollar or a proprietary currency such as points in accounts and then later to redeem the accumulated value for items that are made available via the marketplace applications .

Further while the system shown in employs a client server architecture the present invention is of course not limited to such an architecture and could equally well find application in a distributed or peer to peer architecture system for example. The various marketplace and payment applications could also be implemented as standalone software programs which do not necessarily have networking capabilities.

In addition while the various marketplace and payment applications have been described above as having separate functionalities in alternative embodiments these functionalities may be performed by any one or more of the various marketplace and payment applications .

The web client accesses the various marketplace and payment applications and via the web interface supported by the web server . Similarly the programmatic client accesses the various services and functions provided by the marketplace and payment applications and via the programmatic interface provided by the API server . The programmatic client may for example be a seller application e.g. the TURBOLISTER application developed by EBAY INC. of San Jose Calif. to enable sellers to author and manage listings on the networked system in an off line manner and to perform batch mode communications between the programmatic client and the networked system .

Accordingly the modules of the display system may be hosted on dedicated or shared server machines that are communicatively coupled to enable communications between server machines. Each of the modules are communicatively coupled e.g. via appropriate interfaces to each other and to various data sources so as to allow information to be passed between the modules or so as to allow the modules to share and access common data. The various modules may furthermore access one or more databases servers that facilitate access to one or more databases .

The display system may provide a one or more images for display on a user device. As stated the images may be displayed in respective display elements or containers display elements that may not have similar shapes as the respective image to be displayed e.g. an image and its display container may be rectangles of different aspect ratios . For example each of the images can correspond to an image supplied by a user e.g. seller for display on the user s webpage listing and or search results. Because the image may be displayed on a variety of devices e.g. desktop laptop mobile device wearable computing devices such as an optical head mounted display and because the image may be displayed for a variety of purposes e.g. a large display on the view item page or a smaller thumbnail displayed as part of a listings page it may be difficult for the seller determine an appropriate size of the image to properly fit each of the potential display elements. Moreover changes to the graphical interface over time e.g. due to updates and new version may produce changes to the sizes of the display elements. As a result the image may not always entirely fill the associated display element. Accordingly the perimeters of the image and the display element may define a space. The display system may automatically determine a background fill e.g. a color matte and or border to fill the space. The determination of the background fill may be performed dynamically in response to a user request such as a request to render the corresponding view item page or a search request. In one aspect coloring the space may provide a visually appealing look that may increase web traffic to the user s web page.

To this end the display system is shown to include the graphical interface module operatively coupled to the communication module the data storage interface module the color detection module s the background generator module s the color space converter modules s and the display module s . The graphical interface module may be a hardware implemented module which may control the operation of the various modules as well as the flow of information data and or signals between the modules for providing a graphical interface to be displayed on a user s device. For example the graphical interface module may be configured to arrange an image in a display element of the graphical interface. The graphical interface may for instance correspond to the view page and or a display of multiple listings e.g. a search results page . The arrangement of the image in the display element may define a space between the perimeter of the image and the perimeter of the display element. For example the space may correspond to a letterbox formed by fitting an image in a display element of a different aspect ratio. The graphical interface module will be described in greater detail later in connection with .

The communication module may be a hardware implemented module which may facilitate the flow of the information data and or signals between the modules in accordance with the graphical interface module . In addition the communication module can be configured to support communication of the display system between the servers and client machines of .

The data storage interface module may be a hardware implemented module which may store data and provide access to the stored data. Data may be related to parameters of background fill and or related to the data of the graphical interface elements for display. One embodiment of an example data structure that may be stored and provided by the storage interface module will be described in greater detail later in connection with .

The color detection module may be a hardware implemented module which may determine an estimate of a color of the image. For example the estimate may correspond to a color about the perimeter or some portion of the perimeter of the image. In one embodiment the color detection module determines the estimate of the color by determining a central tendency of a portion of the image about the perimeter of the image. Examples of central tendencies can include one or more of an average mean a median a mode and the like measures suitable for characterizing the collective color of the portion of the image. Below embodiments will be described by way of example in the context of determining an average color. However it will be appreciated that any suitable central tendency measure of the color can be used.

The average color may be determined in a perceptually linear color space such as but is not limited to CIE 1931 color space CIE 1976 color space. CIELUV color space CIELAB color space or CIEUVW color space. As stated a perceptually linear color space may be a color space in which a change of an amount in a color value should produce a change of about the same visual importance. Perceptually linear color spaces can have an advantage of approximately matching changes in color to changes in human color perception. Accordingly the color detection module may determine a basis of a color of the background fill that may result in a pleasing appearance. The color detection module will be described in greater detail later in connection with .

The background generator module may be a hardware implemented module which may determine a variation of color of the image about the perimeter of the image. For example background generator module may determine a variance of the color of the portion about the perimeter that is associated with the estimate of the color generated by the color detection module . Below embodiments will be described by way of example in the context of determining a variance of color. However it will be appreciated that any suitable measure can be used for determining a variance or distribution of color about the estimate of the color.

After the average color and the variation of color have been determined the background generator module may determine a background based at least on the estimate of the color and the variation of color. The background may be used to fill the space between the image and the perimeter of the display element. The background generator module will be described in greater detail later in connection with .

The color space converter module may be a hardware implemented module which may convert the image to a perceptually linear color space. For example the seller may upload the image in a digital image file format such as a Joint Photographic Experts Group JPG file format that uses an RGB based non perceptually linear color space instead of a perceptually linear color space. In this case the color space converter module may serve to convert the image to a selected perceptually linear color space. In an alternative embodiment the display system may omit the color space converter module and may instead modify the averaging and variance algorithms to include a transformation in order to determine the average and variance in the appropriate perceptually linear color space.

The display module may be a hardware implemented module which may provide for display on a device the arrangement of the image in the display element with the background fill filling at least a portion of the space defined between the image and the display container. It will be appreciated that providing for display may mean providing data associated with a web page to a client device for displaying the webpage one the client device. Alternatively it may mean rendering or causing a display of the client device to render the webpage on a display of the device.

As shown if the image and the display element have different aspect ratios the perimeters define a space between the perimeters . In order to improve the display of the display element on the user s device the display system may automatically determine a background fill for example a background color to fill the space based on the colors of the image . For example as will be described in greater detail below the color detection and background generation modules can be configured to determine the background fill based on determining one or more averages and one or more corresponding variances of a portion of the image . In an example embodiment a portion around the perimeter having a width W can be used to determine the background fill. In one example embodiment the width can be about 1 to about 5 of a height or width of the image. Additionally or alternatively the width W can be selected from a range of about 2 pixels to about 10 pixels. It will be appreciated that any suitable width W may be used in alternative embodiments. The portion is shown by way of example as a connected subset of the image that runs completely around the perimeter . However in alternative embodiments portion may not completely cover the perimeter and or may be formed from one or more connected or unconnected subsets of the image .

For example in an alternative embodiment the background fill may be determined by analyzing the portion one side at a time. For example separate averages and variances can be determined for the respective sides AB for example the pixels of the portion that are most W pixels from the side defined by the line formed between point A and point B BC for example the pixels of the portion that are most W pixels from the side defined by the line formed between point B and point C CD for example the pixels of the portion that are most W pixels from the side defined by the line formed between point C and point D and or DC for example the pixels of the portion that are most W pixels from the side defined by the line formed between point A and point D . In one embodiment if the sides AB and CD extend to the perimeter of the display element thus there is no space defined between those sides and the display element then the averages and variances of the part of the portion corresponding to sides BC and AD can be used to the determine the background fill and sides AB and CD may be omitted from the calculation .

In an example embodiment a gradient background fill can be determined. For example in some situations for example due to uneven lighting the image may display a background having a gradient like background. For example the lighting of the background of the image may be brighter at one corner of the image e.g. point B then at another corner e.g. point C . The display system may generate a background fill having a gradient that matches for a pleasing aesthetic approximately the gradient of the background of the image . In one embodiment the color detection module and the background generator model may be configured to generate background colors e.g. the product of adjusting the saturation level of the estimate of color for a plurality of points along an edge. In the illustrated embodiment the color detection module in the background generator module may be configured to generate background colors for each of the segments BB BB BB BB and BC. Each of the background colors may correspond to the respective sub background fills for the corresponding segments. Additionally or alternatively a background fill corresponding to the whole side BC and having a smooth gradient may be provided by interpolating the plurality of background colors that were determined for the segments BB BB BB BB and BC.

The illustrated embodiment of shows that the image . of Item 1 does not completely fill the display element . in either the vertical or horizontal dimensions or axis . Accordingly. Item 1 defines a letterbox defining space between all sides of the image . and the display element .. Alternatively the image . of Item 2 does not completely fill the display element . in the vertical axis but fills the display element . in the horizontal axis . For example the graphical interface module may be configured to expand the image . until the image . extends to the display element . along the axis . Accordingly Item 2 defines a letterbox defining space between the top and bottom sides of the image . and the display element .. Alternatively the image .N of Item N does not completely fill the display element .N in the horizontal axis but fills the display element .N in the vertical axis . For example the graphical interface module may be configured to expand the image .N until the image .N extends to the display element .N along the axis . Accordingly Item N defines a letterbox defining space between the left and right sides of the image .N and the display element .N.

It will be understood by a person of ordinary skill that other embodiments of the user interfaces A B C need not include each element of and other embodiments may include more or less elements.

The illustrated data structure of includes a detection parameters data field a threshold data field a border data field a theme data field a palette data field and a background cache data field and the like data related to a determining background fill. The detection parameters data field can correspond to one or more parameters of the color detection module such as the coefficients or weights used for determining an average color. The threshold data field can correspond to one or more thresholds that can be used to determine a background fill as will be described in connection with . The border data field can correspond to specifying the width W of the portion about the perimeter of the image as well as data indicative of how the sides will be partitioned for determining the average color and the color variation e.g. around the complete perimeter one or more sides sub portions of along the sides etc. . The theme data field can correspond to data indicative of a theme of the graphical user interface. In some embodiments the indication of the theme may serve to determine the background fill. For example the display system may determine a color for the background fill that is consistent with the color scheme of the theme of the user interface. The palette data filed can correspond to one or more selectable colors for the background fill. As will be discussed below the display system may select a background color from one or more colors. The background cache data field may correspond to previous background fill determinations. In an example embodiment the background cache data field may include one or more pairs of picture identification data and background fill data. Accordingly background fill for an image received for display in a display element may be determined by searching the background cache data filed for a background fill that was previously determined for that image.

At operation the method starts at block and proceeds to block for arranging an image in a display element of a graphical interface. The arrangement of the image in the display element may define a space between the perimeter of the image and the perimeter of the display element. For example the graphical interface may correspond to any of the user interfaces A C described in . In some embodiments the graphical interface module can perform block . Furthermore the image may be received by the communication module . The image may correspond to a product image taken and provided by a user e.g. a seller .

The method can proceed from block to block for determining an estimate of a color of the image. For example the color detection module may determine an average color of a portion of the image about the perimeter of the image. As stated the portion of the image can correspond to a portion of a side of the image one complete side of the image or the complete perimeter of the image. For example the portion may correspond to the portion described in connection with and having a width W. In one embodiment the average color is determined in a perceptually linear color space. If the image does not color in a linear color space then the color space converter module may serve to convert the image to a linearly perceptive color space.

At block the method can include determining a variation of color of the image about the perimeter. The variation can correspond to any suitable measure of dispersion of the color of the image. For instance in an example embodiment the background generator module can determine a standard deviation or a variance for example a statistical variance of the color of the portion used in block . Like block the variation can be determined in a linearly perceptive color space.

At block the method can determine a background fill based at least on the estimate of the color and the variation of color. For example the background generator module can be configured to generate the background as an output. As stated the level of desaturation may be based on a relationship of the amount of border variance to the amount of desaturation. This process of desaturating the average color of the border by may be implemented with linear proportional desaturation an exponential like desaturation or a threshold based desaturation. Additionally or alternatively if the variance of color is greater than a predetermined threshold then the background generator module can be configured to generate a border to be placed around the perimeter of the image.

Additionally or alternatively the method can repeat blocks for a plurality of portions about the perimeter of the image in order to detect a plurality of background colors. For example the plurality of average colors may be used to determine a background fill having a color gradient in order to match a color gradient of the image as described in connection with . Accordingly the background generator module can be configured to determine the background fill by generating a background fill having a gradient that is generated by interpolating the plurality of background colors.

After determining the background fill the method proceeds to block for providing the arrangement of the image in the display element for display on a user device. In particular the background fill may fill at least a portion of the space defined between the image and the perimeter of the display element. In one embodiment the providing of the block can be performed by display module .

At operation User 1 transmits a request that causes one or more images to be displayed on the device of the user. For example the request can correspond to action that causes a view item page to be presented. Alternatively the request may correspond to a search request or browsing activity wherein a listings page is displayed on the user s device. Each of the pages may include a display element for displaying the one or more images.

At operation a graphics interface module accesses the images for display on the user s device. For example the graphic interface module can be configured to access the images from the database of . If the images are not in a perceptually linear color space at operation the graphic interface module provides the color space converter module the images for conversion to a perceptually linear color space. For example images may be stored in the database as JPEG image files using an RGB type color space. After the color space converter module converts the color spaces of the images the color space converter module returns the images in the converted color space to the graphical interface module .

At operation the graphical interface module calls the color detection module for determining an average color of the image. For example as stated the color detection module can determine an average color along a portion of a perimeter of the image. At operation the color detection module returns the average color value to the graphical interface module .

At operation the graphical interface module calls the background generator module for determining the background fill. For example the graphical interface module can provide the background generator module the image in the perceptually linear color space and the average color determined at operation as inputs. At operation the background generator module can determine a variation of the color of the image. For example the background generator module can determine a standard deviation of the color of the portion of the image about the average color determined at operation . The background generator module can determine the background fill based at least on the average color and the variation of color. For example the background generator module can set the background fill to a color corresponding to the average color desaturated by an amount based on the variation of color.

In one embodiment the amount of desaturation varies substantially monotonically with the variation of color. For example the amount desaturation can vary substantially linearly with the variation of color. It will be appreciated however that other relationships can be used to the amount desaturation based on the variation of color. In alternative embodiments the relationship may be nonlinear such as exponentially related as well as continuous or discontinuous relationships.

Additionally or alternatively the amount of desaturation can be determined by comparing the amount of color variation to a predetermined threshold. For example in an embodiment the threshold can correspond to a measured standard deviation of greater than about 25 of the color space numeric range. In an alternative embodiment the threshold can be selected from a range of about 20 to about 80 of the color space numeric range. If the threshold is exceeded then the background fill can be selected to be a substantially desaturated color such as gray beige tan or the like colors. Alternatively if the amount of variation of color is below the predetermined threshold then the average color may be selected to be used as the background fill without any desaturation applied.

Additionally or alternatively the background fill may be determined based on selecting one of a plurality of candidate background fill colors. The candidate background fill color may be selected based on the average color in the variation of color. For example the candidate background fill colors can be included in a lookup table indexed by the average color and the variation of color. Moreover one example embodiment the theme of the graphical interface may serve as a third index into the lookup table of candidate background fill colors. In this way background fill colors can be selected in a way that is coherent with the theme of the graphical interface.

Yet another embodiment the background generator module may be configured to generate a background fill having a color gradient. For example the color gradient can be determined based on the plurality of average colors and variations of colors determined over a plurality of subsets of a portion about the perimeter of the image. The subsets can correspond to a partition of a side of the image for example as shown in e.g. as delineated by points B B1 B4 and C . Accordingly background colors may be determined for each of the subsets. The background fill can have a gradient as determined by interpolating the background colors of the subsets.

At operation the background generator module returns the background fill data to the graphical interface module . At operation the graphical interface module provides the image with the background fill to the User 1. For example the graphical interface module provides the display element with the image contained inside and the background fill cover at least a portion of the space between the image and the perimeter of the display element.

The method starts at block and proceeds to block for accessing a portion of the image about the perimeter of the image. For example graphical interface module may access the image for display via the database. At block the method includes converting the portion to a perceptually linear color space. For example the color space converter module may receive the image from the graphical interface module as an input and return the converted image to the graphical interface module as an output. At block the method can include determining the average color of the portion of the image about the perimeter in the perceptually linear color space. For example the color detection module can receive the image in the converted color space as an input and can provide the average color as an output. The average color can serve as an estimate of a color of the image about the first perimeter.

The method can start at block and proceeds to block for accessing a portion of the image about the perimeter. The portion of the image can correspond to substantially the same portion that was used in determining the estimate of the color of the image about the first parameter at block of . For example the graphical interface module can access the image from a database. The image may be provided to the background generator module as an input. At block the method includes determining a characteristic of variation of the color of the portion of the image. For example the background generator module can receive as inputs the image and the estimate of the color of the image about the perimeter and can provide background fill as an output. As stated the background generator module can determine the variance of color about the average color over the portion of the image. In other embodiments the background generator module can compute standard deviation instead of a variance. At block the method may end.

The method can start at block and proceeds to block for adjusting the saturation of the estimate of the color. For example the estimate of the color can be provided in accordance with the method of block described in connection with . At block the method includes selecting the background color as the estimate of the color with the adjusted saturation. At block the method includes determining a border to be placed about the perimeter of the image. For example in an example embodiment if the variation of color of the portion about the perimeter exceeds a predetermined threshold then a border such as a 2 D border or a drop shadow border may be positioned about the perimeter of the image. For example in one embodiment a border may be applied if the measured standard deviation is greater than a threshold corresponding to greater than about 25 of the color space numeric range. The background generator module may provide the graphical interface module the background fill as determined by blocks . At block the method may end.

Certain embodiments are described herein as including logic or a number of components modules or mechanisms. Modules may constitute either software modules e.g. code embodied 1 on a non transitory machine readable medium or 2 in a transmission signal or hardware implemented modules. A hardware implemented module is tangible unit capable of performing certain operations and may be configured or arranged in a certain manner. In example embodiments one or more computer systems e.g. a standalone client or server computer system or one or more processors may be configured by software e.g. an application or application portion as a hardware implemented module that operates to perform certain operations as described herein.

In various embodiments a hardware implemented module may be implemented mechanically or electronically. For example a hardware implemented module may comprise dedicated circuitry or logic that is permanently configured e.g. as a special purpose processor such as a field programmable gate array FPGA or an application specific integrated circuit ASIC to perform certain operations. A hardware implemented module may also comprise programmable logic or circuitry e.g. as encompassed within a general purpose processor or other programmable processor that is temporarily configured by software to perform certain operations. It will be appreciated that the decision to implement a hardware implemented module mechanically in dedicated and permanently configured circuitry or in temporarily configured circuitry e.g. configured by software may be driven by cost and time considerations.

Accordingly the term hardware implemented module should be understood to encompass a tangible entity be that an entity that is physically constructed permanently configured e.g. hardwired or temporarily or transitorily configured e.g. programmed to operate in a certain manner and or to perform certain operations described herein. Considering embodiments in which hardware implemented modules are temporarily configured e.g. programmed each of the hardware implemented modules need not be configured or instantiated at any one instance in time. For example where the hardware implemented modules comprise a general purpose processor configured using software the general purpose processor may be configured as respective different hardware implemented modules at different times. Software may accordingly configure a processor for example to constitute a particular hardware implemented module at one instance of time and to constitute a different hardware implemented module at a different instance of time.

Hardware implemented modules can provide information to and receive information from other hardware implemented modules. Accordingly the described hardware implemented modules may be regarded as being communicatively coupled. Where multiple of such hardware implemented modules exist contemporaneously communications may be achieved through signal transmission e.g. over appropriate circuits and buses that connect the hardware implemented modules. In embodiments in which multiple hardware implemented modules are configured or instantiated at different times communications between such hardware implemented modules may be achieved for example through the storage and retrieval of information in memory structures to which the multiple hardware implemented modules have access. For example one hardware implemented module may perform an operation and store the output of that operation in a memory device to which it is communicatively coupled. A further hardware implemented module may then at a later time access the memory device to retrieve and process the stored output. Hardware implemented modules may also initiate communications with input or output devices and can operate on a resource e.g. a collection of information .

The various operations of example methods described herein may be performed at least partially by one or more processors that are temporarily configured e.g. by software or permanently configured to perform the relevant operations. Whether temporarily or permanently configured such processors may constitute processor implemented modules that operate to perform one or more operations or functions. The modules referred to herein may in some example embodiments comprise processor implemented modules.

Similarly the methods described herein may be at least partially processor implemented. For example at least some of the operations of a method may be performed by one or processors or processor implemented modules. The performance of certain of the operations may be distributed among the one or more processors not only residing within a single machine but deployed across a number of machines. In some example embodiments the processor or processors may be located in a single location e.g. within a home environment an office environment or as a server farm while in other embodiments the processors may be distributed across a number of locations.

The one or more processors may also operate to support performance of the relevant operations in a cloud computing environment or as a software as a service SaaS . For example at least some of the operations may be performed by a group of computers as examples of machines including processors these operations being accessible via a network e.g. the Internet and via one or more appropriate interfaces e.g. Application Program Interfaces APIs . 

Example embodiments may be implemented in digital electronic circuitry or in computer hardware firmware software or in combinations of them. Example embodiments may be implemented using a computer program product e.g. a computer program tangibly embodied in an information carrier e.g. in a machine readable medium for execution by or to control the operation of data processing apparatus e.g. a programmable processor a computer or multiple computers.

A computer program can be written in any form of programming language including compiled or interpreted languages and it can be deployed in any form including as a stand alone program or as a module subroutine or other unit suitable for use in a computing environment. A computer program can be deployed to be executed on one computer or on multiple computers at one site or distributed across multiple sites and interconnected by a communication network.

In example embodiments operations may be performed by one or more programmable processors executing a computer program to perform functions by operating on input data and generating output. Method operations can also be performed by and apparatus of example embodiments may be implemented as special purpose logic circuitry e.g. a field programmable gate array FPGA or an application specific integrated circuit ASIC .

The computing system can include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client server relationship to each other. In embodiments deploying a programmable computing system it will be appreciated that that both hardware and software architectures require consideration. Specifically it will be appreciated that the choice of whether to implement certain functionality in permanently configured hardware e.g. an ASIC in temporarily configured hardware e.g. a combination of software and a programmable processor or a combination of permanently and temporarily configured hardware may be a design choice. Below are set out hardware e.g. machine and software architectures that may be deployed in various example embodiments.

The example computer system includes a processor e.g. a central processing unit CPU a graphics processing unit GPU or both a main memory and a static memory which communicate with each other via a bus . The computer system may further include a video display unit e.g. a liquid crystal display LCD or a cathode ray tube CRT . The computer system also includes an alphanumeric input device e.g. a keyboard or a touch sensitive display screen a user interface UI navigation device e.g. a mouse a disk drive unit a signal generation device e.g. a speaker and a network interface device .

The disk drive unit includes a machine readable medium on which is stored one or more sets of instructions and data structures e.g. software embodying or utilized by any one or more of the methodologies or functions described herein. The instructions may also reside completely or at least partially within the main memory and or within the processor during execution thereof by the computer system the main memory and the processor also constituting machine readable media.

While the machine readable medium is shown in an example embodiment to be a single medium the term machine readable medium may include a single medium or multiple media e.g. a centralized or distributed database and or associated caches and servers that store the one or more instructions or data structures. The term machine readable medium shall also be taken to include any non transitory tangible medium that is capable of storing encoding or carrying instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies of the present invention or that is capable of storing encoding or carrying data structures utilized by or associated with such instructions. The term machine readable medium shall accordingly be taken to include but not be limited to solid state memories and optical and magnetic media. Specific examples of machine readable media include non volatile memory including by way of example semiconductor memory devices e.g. Erasable Programmable Read Only Memory EPROM Electrically Erasable Programmable Read Only Memory EEPROM and flash memory devices magnetic disks such as internal hard disks and removable disks magneto optical disks and CD ROM and DVD ROM disks.

The instructions may further be transmitted or received over a communications network using a transmission medium. The instructions may be transmitted using the network interface device and any one of a number of well known transfer protocols e.g. HTTP . Examples of communication networks include a local area network LAN a wide area network WAN the Internet mobile telephone networks Plain Old Telephone POTS networks and wireless data networks e.g. WiFi and WiMax networks . The term transmission medium shall be taken to include any intangible medium that is capable of storing encoding or carrying instructions for execution by the machine and includes digital or analog communications signals or other intangible media to facilitate communication of such software.

Although an embodiment has been described with reference to specific example embodiments it will be evident that various modifications and changes may be made to these embodiments without departing from the broader spirit and scope of the invention. Accordingly the specification and drawings are to be regarded in an illustrative rather than a restrictive sense. The accompanying drawings that form a part hereof show by way of illustration and not of limitation specific embodiments in which the subject matter may be practiced. The embodiments illustrated are described in sufficient detail to enable those skilled in the art to practice the teachings disclosed herein. Other embodiments may be utilized and derived therefrom such that structural and logical substitutions and changes may be made without departing from the scope of this disclosure. This Detailed Description therefore is not to be taken in a limiting sense and the scope of various embodiments is defined only by the appended claims along with the full range of equivalents to which such claims are entitled.

Such embodiments of the inventive subject matter may be referred to herein individually and or collectively by the term invention merely for convenience and without intending to voluntarily limit the scope of this application to any single invention or inventive concept if more than one is in fact disclosed. Thus although specific embodiments have been illustrated and described herein it should be appreciated that any arrangement calculated to achieve the same purpose may be substituted for the specific embodiments shown. This disclosure is intended to cover any and all adaptations or variations of various embodiments. Combinations of the above embodiments and other embodiments not specifically described herein will be apparent to those of skill in the art upon reviewing the above description.

