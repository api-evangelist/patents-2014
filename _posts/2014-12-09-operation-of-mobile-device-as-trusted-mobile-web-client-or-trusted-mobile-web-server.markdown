---

title: Operation of mobile device as trusted mobile web client or trusted mobile web server
abstract: A method of operating a mobile device comprises executing a trusted service application in a trusted operating system through secure access, executing a trusted web server module in the trusted operating system, wherein the trusted web server module is configured to transfer information using an internet protocol and the information is generated by execution of the trusted service application, and executing a user application in a rich operating system through normal access, wherein the user application is configured to relay communication between a remote web server and the trusted web server module through a security session.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09356922&OS=09356922&RS=09356922
owner: Samsung Electronics Co., Ltd.
number: 09356922
owner_city: Suwon-si, Gyeonggi-do
owner_country: KR
publication_date: 20141209
---
This application is a Continuation application of U.S. application Ser. No. 13 714 786 filed Dec. 14 2012 which claims priority under 35 USC 119 to Korean Patent Application No. 10 2012 0028689 filed on Mar. 21 2012 the subject matter of which is hereby incorporated by reference.

The inventive concept relates generally to electronic communication. More particularly certain embodiments of the inventive concept relate to methods of operating a mobile device as a trusted mobile web client system or a trusted mobile web server system to exchange information between a mobile device and a remote device in a secured fashion.

Mobile electronic devices commonly use wireless communication to perform various private transactions. For example smart phones and tablet personal computers PCs are often used to perform financial transactions mobile shopping and mobile information searches to name but a few.

To provide security for these transactions mobile devices often include various forms of software and or hardware for protecting access to secured data or other resources. Examples of security mechanisms include password protection secured communication interfaces and many others. Due to the small size and unique interfaces of many mobile devices certain conventional security features such as user password entry may be difficult to implement in these devices. In addition certain hardware mechanisms such as smartcard interfaces may be expensive and cumbersome to operate.

In view of these and other potential shortcomings of conventional technologies there is a general need for improved forms of security in mobile electronic devices.

In one embodiment of the inventive concept a method of operating a mobile device comprises executing a trusted service application in a trusted operating system through secure access executing a trusted web server module in the trusted operating system wherein the trusted web server module is configured to transfer information using an internet protocol and the information is generated by execution of the trusted service application and executing a user application in a rich operating system through normal access wherein the user application is configured to relay communication between a remote web server and the trusted web server module through a security session.

In another embodiment of the inventive concept a method of operating a mobile device comprises executing a trusted service application in a trusted operating system through secure access executing a trusted web server module in the trusted operating system wherein the trusted web server module is configured to transfer information using an internet protocol and the information is generated by executing the trusted service application executing a user application in a rich operating system through normal access and executing a rich web server module in the rich operating system wherein the rich web server module is configured to relay communication between a remote device and the trusted web server module through a security session.

In yet another embodiment of the inventive concept a mobile device comprises a trusted operating system configured to execute a trusted service application through secure access and further configured to execute a trusted web server module wherein the trusted web server module is configured to transfer information using an internet protocol and the information is generated by execution of the trusted service application and a rich operating system configured to execute a user application through normal access wherein the user application is configured to relay communication between a remote web server and the trusted web server module through a security session.

These and other embodiments of the inventive concept can potentially improve the security of mobile devices without significantly diminishing device performance or compatibility.

Embodiments of the inventive concept are described below with reference to the accompanying drawings. These embodiments are presented as teaching examples and should not be construed to limit the scope of the inventive concept.

In the description that follows the terms first second third etc. may be used to describe various features but the described features should not be limited by these terms. Rather these terms are used merely to distinguish one feature from another. Thus a first feature discussed below could be termed a second feature without materially changing the meaning of the relevant description. As used herein the term and or indicates any and all combinations of one or more of the associated listed items.

Where a feature is referred to as being connected or coupled to another feature it can be directly connected or coupled to the other feature or intervening features may be present. In contrast where a feature is referred to as being directly connected or directly coupled to another feature there are no intervening features present. Other words used to describe the relationship between features should be interpreted in a like fashion e.g. between versus directly between adjacent versus directly adjacent etc. .

The terminology used herein is for the purpose of describing certain embodiments and is not intended to limit the scope of the inventive concept. As used herein the singular forms a an and the are intended to encompass the plural forms as well unless the context clearly indicates otherwise. Terms such as comprises comprising includes including having etc. where used in this specification indicate the presence of stated features but do not preclude the presence or addition of other features.

In various alternative embodiments certain functions operations illustrated in flowcharts or blocks may occur out of the illustrated order. For example two blocks shown in succession may be executed substantially concurrently or the blocks may be executed in the reverse order depending upon the functionality operations involved.

Unless otherwise defined all terms including technical and scientific terms used herein have the same meaning as commonly understood by one of ordinary skill in the art. Terms such as those defined in commonly used dictionaries should be interpreted as having a meaning that is consistent with their meaning in the context of the relevant art and will not be interpreted in an idealized or overly formal sense unless expressly so defined herein.

Referring to mobile device is coupled to a remote device which is a remote web server RWS using a wireless internet communication protocol such as transfer control protocol internet protocol TCP IP . Mobile device may comprise for instance a smart phone or a tablet personal computer PC . It comprises a trusted web server module TWS to exchange private data with remote web server .

Mobile device comprises a rich region R REG and a trusted region T REG . Accordingly mobile device may operate in a rich environment or normal environment or in a trusted environment or secured environment .

Rich region is a non private region in which at least one of multiple user applications UA1 through UAn is executed by a rich operating system ORS through a normal access. User application may be referred to as trusted client application TCA . User application relays communication between remote web server and trusted web server module through a security session that is formed as will be described below. Rich operating system may be for instance Android IOS Bada Blackberry Symbian Linux or Windows CE.

Trusted region is a private region in which at least one of trusted service applications TSA1 through TSAn is executed under a trusted operating system TOS through secure access. Trusted region comprises a trusted web server module that links user application and the corresponding trusted service application .

Rich region exchanges information and or data with trusted region through a first application programming interface TAPI1 that functions to provide a trusted execution environment TEE . First application programming interface is connected to trusted web server module through a first secure channel driver SCD1 a domain conversion software DCS and a second secure channel driver SCD2 . Accordingly trusted region is protected from illegal access by malware because rich region accesses trusted region only through first application programming interface . Domain conversion software performs a switching operation that determines whether mobile device operates under rich operating system or trusted operating system .

Trusted web server module exchanges information and or data with trusted service application through a second application programming interface TAPI2 and illegal access through trusted service application may be blocked by second application programming interface . Trusted web server module is connected to crypto hardware CHW through a crypto driver CD and is further connected to secure storage hardware SSHW through a storage driver SD . Secure storage hardware comprises storage regions and for storing private movie data PMD other private data PD public key certificate data PKC and private ID and password PIN .

Crypto driver supports encryption and decryption of data within trusted region . Storage device stores data by encrypting the data using an encryption key that is accessible only in trusted region and it decrypts the stored data using a decryption key that is accessible only in trusted region when the data read request is received from trusted region . Trusted web server module supports data communication between user application and trusted service application using an internet protocol such as a hypertext transfer protocol HTTP with a hyper text markup language creator . Accordingly a system developer may avoid defining an additional communication protocol between user application and trusted service application to allow use of the existing web application in mobile device .

The user or an owner of mobile device may install user application that is downloaded from a remote web server and then may perform the initialization process as illustrated in for a secure login. The initialization process generally comprises an application certification negotiation S and a trusted environment login scheme S .

User application performs a user certificate procedure for a secure login by registering a user identification and a password in trusted operating system through trusted service application as described below.

Referring to the application certification negotiation S begins when the user touches a corresponding icon displayed on a touch screen of mobile device to execute user application S . User application requests through TEE functional API a handler of trusted service application S that is to be linked to trusted operating system . TEE functional API corresponds to first application programming interface in . When requesting the handler S TEE functional API transfers a unique user identification UUID and an electronic signature to trusted operating system to execute trusted service application corresponding to the UUID S . Trusted service application checks whether user application is authorized based on the UUID and the electronic signature from user application S . When user application is an authorized application trusted service application returns the handler to TEE functional API S for providing a control handler to user application . User application requests resource for pushing secret data to TEE functional API S TEE functional API acquires a write memory address S and transfers the acquired write memory address to user application . As such user application in rich region and trusted service application in trusted region may be linked through the application certification negotiation S .

The trusted environment login scheme S begins when user application requests a secure user interface to TEE functional API S . TEE functional API transfers the request of the secret user interface to trusted service application S . Trusted service application executes the secret user interface S and then a login page of the secret user interface is displayed as a popup window on mobile device through user application S as illustrated in . The user inputs the identification ID and the password PW through the displayed secret user interface S . Trusted operating system transfers the input ID and PW to trusted service application S and trusted service application compares the transferred ID and PW S with the ID and PW stored in storage region of secure storage hardware in . Trusted service application executes trusted web server S and uploads a trusted service web page S . TEE functional API acquires a login result message from trusted service application S and transfers the acquired login result message to user application S . User application displays the trusted service web page S as the result of the successful login as illustrated in .

In certain embodiments for safe data transfer a security session may be formed using an internet protocol based on HTTP between a remote device that is a remote web server and trusted web server in mobile device operating in a client mode. Remote web server may provide a web service to mobile device and mobile device may provide private information to remote web server through the security session.

Remote web server forms a transport layer security TLS session according to the request from user application in mobile device . Also user application in mobile device forms a security session with trusted web server . User application may receive a crypto key from remote web server and transfer the received crypto key to trusted web server . Trusted web server may encrypt data using the crypto key provided from user application where trusted web server transfers the data to be open only to remote web server . For example the security session forming process may be performed as illustrated in .

Referring to a security session forming process S forms a TLS session between remote web server and mobile device . The security session forming process S comprises an external session negotiation SA between remote web server and rich region and an internal session negotiation SB between rich region and trusted region in mobile device .

Remote web server transfers an access service web page message to rich operating system S . User application under rich operating system transfers client hello message to remote web server S . Remote web server in response to a client hello message transfers server hello server certificate server key exchange client certificate request and server hello done messages to user application S . User application transfers the client hello message to trusted web server through TEE functional API S S and then trusted web server executes the server hello server certificate server key exchange client certificate request and server hello done S messages. TEE functional API acquires server security message from trusted web server S and returns the acquired server security message to user application S . User application executes client certificate client key exchange remote server key exchange certificate verify change cipher specification and client finished messages to store a crypto key in the public key certificate data region of secure storage hardware and transfers generated data and message to TEE functional API S . TEE functional API transfers client security message to trusted web server S . TEE functional API acquires change cipher specification and server finished messages from trusted web server S and returns the acquired change cipher specification and server finished messages to user application S . User application executes the client certificate client key exchange remote server key exchange certificate verify change cipher specification and client finished messages to transfer the generated data and message to remote web server S and the security session forming process is finished when remote web server transfers session finished message to user application S .

In certain embodiments where a user of mobile device registers at an external website the registration process may be performed automatically by transferring private information stored in advance in a trusted region of mobile device to the external website that is remote web server .

Referring to sequences S S S S and S are the same as described with reference to . In a registering process S remote web server which is authorized by forming the above described security session through sequences S S S S and S requests create profile web page that is a request of registering a new user to user application S and then user application is executed to display a selection page of a registration type S on a screen of mobile device as illustrated in . Where the user selects and touches AUTOMATIC button to select an automatic registration mode user application transfers enrolled profile request message to TEE functional API S . Where the user selects and touches MANUAL button the user may input necessary information such as a name a residential address a social security number a phone number etc. using a touchpad or a keypad. TEE functional API transfers enrolled profile web page request message to trusted operating system S and trusted operating system requests the enrolled profile web page to trusted service application S . The trusted service application is executed to read private profile data stored in private data region of secure storage hardware in and encrypt the private profile data using the crypto key S . Trusted service application generates the enrolled profile web page including the encrypted private profile data and upload the enrolled profile web page to trusted web server S . TEE functional API acquires requested profile web page from trusted web server S and returns the acquired requested profile web page to user application S . User application uploads creating profile data based on the requested profile web page to remote web server S . That is trusted web server provides an encrypted user profile in a form of a web page to user application and user application uploads the encrypted user profile to remote web server .

As such the private information may be transferred automatically and safely through the formed security session without the input operation by the user through the keypad.

In certain embodiments where a user of mobile device performs a login at an external website the login process may be performed automatically by transferring user identification and password ID PW stored in advance in a trusted region of mobile device to the external website that is remote web server .

Referring to sequences S S S S and S are the same as described with reference to . In a login process S remote web server which is authorized by forming the above described security session through sequences S S S S and S requests login web page to user application S and then user application is executed to display a selection page of a login type S on a screen of mobile device as illustrated in . Where the user selects and touches AUTOMATIC button to select an automatic login mode user application transfers enrolled ID PW of accessed URL request message to TEE functional API S . The accessed URL may be provided by the input operation of the user. Where the user selects and touches MANUAL button the user may input ID PW using a touchpad or a keypad. TEE functional API transfers enrolled ID PW of accessed URL request message to trusted operating system S and trusted operating system requests the enrolled ID PW to trusted service application S . Trusted service application is execute to check the accessed URL read the corresponding ID PW stored in private data region of secure storage hardware in and encrypt the ID PW using the crypto key S . Trusted service application generates the encrypted enrolled ID PW and uploads the enrolled ID PW to trusted web server S . TEE functional API acquires requested ID PW from trusted web server S and returns the acquired requested ID PW to user application S . User application uploads the requested ID PW to remote web server S . As such the encrypted ID PW may be transferred automatically and safely through the formed security session without the input operation by the user through the keypad.

In certain embodiments a user of mobile device may access an external website that is a remote web server and may encrypt private data such as movie files photos secured documents electronic signature etc. to upload the encrypted private data to remote web server .

Referring to sequences S S S and S are the same as described with reference to . In an uploading process S remote web server which is authorized by forming the above described security session requests data upload web page to user application S and then user application is executed to display a selection page of an upload type S on a screen of mobile device as illustrated in . Where the user selects and touches ALL button to select a trusted upload mode user application requests uploadable file list to TEE functional API S . Where the user selects and touches RICH button the data files stored only in rich region may be selected to be uploaded.

TEE functional API transfers request uploadable file list message to trusted web server S and trusted web server requests the uploadable file list to trusted service application S . Trusted service application is executed in response to the uploadable file list request to generate requested file list and upload the requested file list to trusted web server S . TEE functional API acquires requested file list from trusted web server S and returns the requested file list to user application S . User application displays a selection page of an upload file as illustrated in . The user selects the upload file S on the display screen as illustrated in and then user application requests selected file to TEE functional API S .

TEE functional API transfers request selected file message to trusted web server S and trusted web server requests selected file to trusted service application S . Trusted service application is executed to read the selected file from private data region of secure storage hardware in . Trusted service application encrypts the selected file using the crypto key S and uploads the encrypted file to trusted web server S . TEE functional API acquires requested file from trusted web server S and returns requested file to user application S . User application uploads the encrypted requested file to remote web server S .

In certain embodiments a user of a mobile device may access an external website that is a remote web server and may download private data such as movie files photos secured documents electronic signature etc. from remote web server and store the downloaded data in a trusted region of mobile device .

Referring to sequences S S S and S are the same as described with reference to . In a downloading process S remote web server which is authorized by forming the above described security session requests data download web page to user application S and then user application is executed to display a selection page of a download type S on a screen of mobile device as illustrated in . Where the user selects and touches TRUSTED button to select a trusted download mode user application requests downloading web page in the trusted region to TEE functional API S . Where the user selects and touches RICH button the data files provided from remote web server may be stored in rich region . TEE functional API transfers request downloading web page message to trusted web server S and trusted web server requests the downloading web page to trusted service application S . trusted service application is executed in response to the downloading web page request to upload requested web page to trusted web server S . TEE functional API acquires downloading web page from trusted web server S and returns the downloading web page to user application S . User application displays a download execution page as illustrated in . It the user touches DOWNLOAD button S on the display screen as illustrated in and then user application requests save the downloaded data file to TEE functional API S . TEE functional API transfers request to save the downloaded data file message to trusted web server S and trusted web server requests save requested data file to trusted service application S . Trusted service application is executed to encrypt the downloaded data file and store the encrypted data file in private data region of secure storage hardware in . TEE functional API acquires storage finished message from trusted web server S and returns storage finished message to user application S . User application uploads the storage finished message to remote web server S .

Referring to mobile device is similar to mobile device of except that it further comprises a rich web server module . Accordingly a repeated description of similar features will be omitted in order to avoid redundancy. In the embodiment of remote device may operate as both a client and a server.

Mobile device comprises rich web server module in rich region and trusted web server module in the trusted region . The web services of lower security level may be served through rich web server module and the web services of higher security level may be served through trusted web server module .

Referring to the user of mobile device may enable user application S for example by touching a corresponding icon displayed on a touch pad of mobile device . Where user application is enabled the application certification negotiation S and the trusted environment login scheme S may be performed as described with reference to . User application requests rich operating system to enable rich web server S and then rich operating system executes rich web server S . Rich web server performs the internal session negotiation SB as described with reference to to exchange the crypto key with trusted web server in trusted region . The crypto key is exchanged between rich web server and trusted web server in whereas the crypto key is exchanged between user application and trusted web server in . After the internal security session is formed between rich web server and trusted web server TEE functional API uploads an application web page to rich web server S .

In some embodiments for safe data transfer a security session may be formed using an internet protocol based on HTTP between a remote device and trusted web server in mobile device operating in a server mode.

Referring to a security session forming process S forms a TLS session between remote web server and mobile device . A remote user application of remote device transfers access service web page message to rich web server S . Remote user application transfers client hello message to rich web server S . Rich web server in response to the client hello message transfers request server security message to TEE functional API S and TEE function API transfers server security message to trusted web server S .

TEE functional API transfers server hello server certificate server key exchange client certificate request and server hello done messages to rich web server S . Rich web server transfers server hello server certificate server key exchange client certificate request and server hello done messages to remote user application S . Remote user application transfers client certificate client key exchange certificate verify change cipher specification and client finished messages to rich web server S and rich web server transfers the messages from remote user application to TEE functional API S . TEE functional API transfers client security message to trusted web server S . Trusted web server executes the client certificate client key exchange certificate verify change cipher specification and client finished messages S to store a crypto key in the public key certificate data region of secure storage hardware . TEE functional API acquires change cipher specification and server finished messages from trusted web server S and returns session finished messages to rich web server S . The security session forming process S is finished when rich web server transfers session finished message to remote user application S .

Referring to sequences S S SB and S are the same as described with reference to . In a registering process S remote user application of remote device which is authorized by forming the above described security session through sequences S S SB S transfers enrolment page for new remote user message to rich web server S . Rich web server opens an enrolment web page for new remote device and transfers open enrolment web page to remote user application S . Remote user application transfers new remote user profile data message to rich web server S and rich web server transfers request to enroll new remote user message to TEE functional API S . TEE functional API transfers pre enroll new remote user message to trusted web server S . Rich web server transfers request manager web page message to TEE functional API S and TEE functional API transfers request manager web page message to trusted web server S . Trusted service application transfers manager web page message to trusted web server S . TEE functional API acquires manager web page from trusted web server S and returns manager web page to user application S . The user application displays the manage web page S on the display screen of mobile device . The user of mobile device inputs a registration command on the displayed manager web page S and then rich web server transfers approval message to remote user application S .

Referring to sequences S S SB and S are the same as described with reference to . In a login process S remote user application of remote device which is authorized by forming the above described security session through sequences S S SB S transfers access login page message to rich web server S and then rich web server opens the login web page and transfers open remote login page message to remote user application . Remote user application transfers ID PW of remote user message to rich web server S and the rich web server transfers request to verify ID PW of remote user message to TEE functional API S . TEE functional API transfers ID PW of remote user message to trusted web server S and trusted web server transfers ID PW of remote user data to trusted service application S . Trusted service application is executed to verify the receive ID PW of remote user based on the stored data in secure storage hardware in . TEE functional API acquires verification result message from trusted web server S and returns the verification result message to rich web server S . The login process S is finished when rich web server transfers login approval message to remote user application S .

Referring to sequences S S SB S and S are the same as described with reference to . In an upload process S remote user application of remote device which is authorized by forming the above described security session through sequences S S SB S transfers request data uploading web page message to rich web server S and then rich web server opens a data uploading web page and transfers open data uploading web page message to remote user application S . Remote user application or a user of remote device selects a trusted upload type S and transfers request to upload file from remote to trusted region message to rich web server S . Rich web server transfers upload requested file message to TEE functional API S and TEE functional API transfers request to upload file message to trusted web server S . Trusted web server transfers the request to upload file message to trusted service application and trusted service application is executed S to store the provided file in secure storage hardware in and transfer result message to trusted web server S . TEE functional API acquires result message from trusted web server S and returns result message to rich web server S . The upload process S is finished when rich web server transfers upload result message to remote user application S .

Referring to in a download process S remote user application of remote device which is authorized by forming the above described security session transfers request data downloading web page message to rich web server S . Rich web server opens a data downloading web page and transfers open data downloading web page message to remote user application S . Remote user application or a user of remote device selects a trusted download type S and transfers request downloadable file list in trusted region message to rich web server S . Rich web server transfers request downloadable file list in trusted region message to TEE functional API S and TEE functional API transfers request downloadable file list in trusted region message to trusted web server S . The trusted web server requests the downloadable file list to trusted service application S and trusted service application uploads the requested file list to trusted web server S . TEE functional API acquires requested file list message from trusted web server S and returns requested file list message to rich web server S . The rich web server opens a file list web page and transfers open file list web page message to remote user application S . User application selects a file from the file list S and transfers request selected file message to rich web server S . Rich web server transfers request selected file message to TEE functional API S and TEE functional API transfers request selected file message to trusted web server S . The trusted web server requests the selected file to trusted service application S and trusted service application uploads the requested file to trusted web server S . TEE functional API acquires requested file message from trusted web server S and returns requested file message to rich web server S . The download process S is finished when rich web server requested file message to remote user application S .

As indicated by the foregoing a mobile device operating as a trusted mobile web client and a server system may include a trusted web server module operating in a trusted region to support a trusted region such that private information such as ID PW private pictures private movies secret documents etc. may be conveniently and safely managed in the trusted region without being accessed undesirably. By forming the above mentioned security session the registering process and the login process may be performed automatically without the user s input operation though the keypad or the touchpad. The trusted service application and the user application may be linked through the typical internet protocol such as HTTP and thus development of application programs may be performed efficiently. The above described mobile devices and the associated methods can be used in various applications such as mobile financial transactions mobile shopping mobile information search and access to mobile contents to name but a few.

The respective blocks or the assembly of the two or more blocks in may be implemented in a form of hardware software or combination of hardware and software. The trusted mobile web client and server systems described above may be implemented based on software. In this case the mobile device may be implemented with a computing system including a general purpose processor GPP and or a special purpose processor SPP configured to execute programs for realizing the above described functions or operations.

The foregoing is illustrative of embodiments and is not to be construed as limiting thereof. Although a few embodiments have been described those skilled in the art will readily appreciate that many modifications are possible in the embodiments without materially departing from the novel teachings and advantages of the inventive concept. Accordingly all such modifications are intended to be included within the scope of the inventive concept as defined in the claims.

