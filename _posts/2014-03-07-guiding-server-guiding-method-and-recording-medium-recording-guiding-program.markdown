---

title: Guiding server, guiding method and recording medium recording guiding program
abstract: A guiding server according to this application includes an image storing unit, a retrieving unit, and a generating unit. The image storing unit stores a signboard image of a signboard. The retrieving unit retrieves, from the image storing unit, a signboard image of a signboard on a way to a destination based on location information and destination information of a user terminal. The generating unit generates guiding information including the signboard image based on the retrieved signboard image, the location information and the destination information and transmits the guiding information to the user terminal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09354076&OS=09354076&RS=09354076
owner: YAHOO JAPAN CORPORATION
number: 09354076
owner_city: Tokyo
owner_country: JP
publication_date: 20140307
---
The present application claims priority to and incorporates by reference the entire contents of Japanese Patent Application No. 2013 060624 filed in Japan on Mar. 22 2013.

The present invention relates to a guiding server a guiding method and a recording medium recording a guiding program.

Conventionally in navigation hereinafter also referred to as guiding using a mobile terminal or the like a route to a destination is displayed on a screen of the terminal. Further there has been proposed a navigation device with a HUD Head up Display that employs Augmented Reality AR that displays route information a business sign and the like overlapping on the actual scenery. This navigation device creates an AirTag associated with a location to an image taken by a camera and displays the AirTag with the image taken with a camera for example see Cyber Navi AVIC VH99HUD AVIC ZH99HUD Online searched on Feb. 1 2013 .

The navigation device displays a business or the like by using a business logo a map symbol or the like as an AirTag. In this case a user looks for a business or the like by using a signboard as a landmark in actually seen scenery however the user sometimes misses the signboard since the image of the signboard is different with a logo or a map symbol. For example when the user desires to make a right turn by using a business as a landmark the user may pass though and get lost if the signboard of the business is not seen.

It is an object of the present invention to at least partially solve the problems in the conventional technology.

According to one aspect of an embodiment a guiding server includes an image storing unit configured to store a signboard image of a signboard a retrieving unit configured to retrieve from the image storing unit the signboard image of the signboard existing on a way to a destination based on location information and destination information of a user terminal and a generating unit configured to generate guiding information including the signboard image based on the retrieved signboard image the location information and the destination information and transmit the guiding information to the user terminal.

The above and other objects features advantages and technical and industrial significance of this invention will be better understood by reading the following detailed description of presently preferred embodiments of the invention when considered in connection with the accompanying drawings.

An embodiment for implementing a guiding server a guiding method and a recording medium recording a guiding program according to this application hereinafter referred to as an embodiment will be explained in detail with reference to the drawings. However the guiding server the guiding method and the recording medium recording the guiding program according to this application are not limited by this embodiment. In the following embodiments same parts are described with same reference numbers and redundant explanation will be omitted.

Firstly with reference to an example of a guiding process according to the embodiment will be explained. is an explanatory view illustrating an example of a guiding process according to the embodiment. In the example of a user having a user terminal approaches to a traffic intersection from street R1 and tries to proceed to a destination beyond street R2 as checking guiding information displayed on the user terminal .

Firstly the user operates the user terminal in advance and transmits location information and destination information to a later described search server . Receiving the location information and destination information the search server executes a route search to the destination. The search server starts to transmit route information to the user terminal . The search server also starts to transmit the route information to a later described guiding server .

Based on the route information the guiding server sets a guiding flag that indicates the location where guiding information is generated. Here in the guiding server various locations where guiding flags are set and signboard images of signboards near those locations are previously stored in an image storing unit. Based on the route information the guiding server retrieves from the image storing unit a signboard image of a signboard existing on the route to the destination. The guiding server generates guiding information using the location where the guiding flag is set and the retrieved signboard image.

The user having the user terminal starts to travel toward the destination. The user terminal transmits location information to the guiding server and the search server on a regular basis or according to a traveling amount. Further the search server transmits route information to the user terminal according to the location information received from the user terminal . In other words the user terminal receives navigation hereinafter also referred to as guiding by receiving route information from the search server .

Determining based on the location information of the user terminal that the user approaches to the traffic intersection to which the guiding flag is set the guiding server transmits guiding information corresponding to the guiding flag to the user terminal . In this case as the guiding information an arrow indicating a right turn at the traffic intersection and signboard images of business B and business D existing at corners in a direction to turn are displayed for example. Here as the signboard images images of signboards actually taken as approaching from the same direction are displayed. As seeing the guiding information displayed on the user terminal the user can recognize the signboards of the business B and business D at first sight and find out street R2 to proceed.

When it is determined based on the location information that the user approaches the guiding flag the user terminal switches the display from the guiding information to the route information. Every time the user terminal approaches a guiding flag the guiding server transmits guiding information corresponding to the guiding flag to the user terminal until the user arrives at the destination and the navigation ends.

In this manner in the guiding process according to the embodiment the guiding server stores signboard images which are photos of signboards in the image storing unit and retrieves from the image storing unit a signboard image of a signboard existing on the route to the destination based on the location information and destination information of the user terminal . Further based on the retrieved signboard image and the location information and the destination information the guiding server generates guiding information and transmits the guiding information to the user terminal to display on the user terminal . This allows for the user having the user terminal to display signboard images which are relevant to the signboard actually seen by the user on the user terminal . The user terminal the guiding server and the search server that execute the above guiding process will be explained in detail.

Next a guiding system according to the embodiment will be explained with reference to . is a block diagram illustrating a configuration example of the guiding system according to the embodiment. As illustrated in the guiding system includes the user terminal the guiding server and the search server . The user terminal the guiding server and the search server are communicably connected via a network N in a wired or wireless manner. Further the guiding server and the search server are communicably connected in a wired or wireless manner. Here illustrates an example that the guiding system includes one single user terminal however the guiding system may include more user terminals .

Next a configuration of the user terminal will be explained. The user terminal is an information processing device used by a user and may be a mobile phone for example smartphone a PDA Personal Digital Assistant and the like for example. As illustrated in the user terminal has a communication unit a display unit an input unit a positioning unit a storage unit and a control unit .

The communication unit is realized by a NIC Network Interface Card and the like for example. The communication unit is connected to the guiding server and the search server via the network N and transmits and receives information to and from the guiding server and the search server . The communication unit is wirelessly connected to the network N. The wireless connection of the communication unit is realized by a cell phone line and a public wireless LAN Local Area Network and the like for example.

The display unit is a display device for displaying various information. The display unit is realized by a liquid crystal display and the like for example. The input unit is an input device for receiving various information from a user. For example the input unit is realized by cursor keys a numeric keypad and the like. Here when the user terminal includes a touch panel the display unit and the input unit are integrally formed.

The positioning unit receives signals from a satellite positioning system. As a satellite positioning system the positioning unit performs positioning by receiving signals of a global navigation satellite system such as GPS Global Positioning System GLONASS Global Navigation Satellite System Galileo Compass and the like. When positioning is requested by a search unit the positioning unit performs positioning and outputs a positioning result as location information based on a geographical coordinate system such as a WGS World Geodetic System and the like. Further when a continuous positioning is requested by the search unit the positioning unit performs a continuous positioning and continues to output location information until a discontinuation is requested from the search unit . Here as a satellite positioning system the positioning unit may receive signals from a regional navigational satellite system such as Quasi Zenith Satellite System Indian Regional Navigational Satellite System DORIS Doppler Orbitography and Radio positioning Integrated by Satellite and BeiDou Navigation Satellite System.

When the GPS is used as the satellite positioning system the positioning unit may use AGPS Assisted GPS in order to shorten the time for positioning with the GPS. Further the positioning unit may use DGPS Differential GPS which receives radio waves from a ground based reference station in order to improve accuracy of positioning. Further the positioning unit may perform a VRS RTK Virtual Reference Station Real Time Kinematic positioning in order to perform positioning even at a location such as an urban area where the sky is obscured.

Further in a case of a place such as an underground mall where the GPS is not available the positioning unit may perform positioning by using a base station and the like of a public wireless LAN. For example the positioning unit can estimate the location of the user terminal by combining one or more of a communication rate an electric field intensity and the like of each access point by previously storing the location information of the access point of the public wireless LAN in the storage unit or by receiving the location information from the access point.

The storage unit is realized by for example a semiconductor memory element such as RAM Random Access Memory Flash Memory and the like or a memory device such as a hard disk an optical disk and the like. The storage unit stores information used in a process in the control unit .

The control unit is realized by executing a program stored in an internal memory device using RAM as a work area by a CPU Central Processing Unit an MPU Micro Processing Unit and the like for example. Further the control unit is realized by an integrated circuit such as an ASIC Application Specific Integrated Circuit an FPGA Field Programmable Gate Array and the like for example.

As illustrated in the control unit has the search unit and a guiding unit and realizes or executes functions and behavior of later described information processing. Here an internal configuration of the control unit is not limited to the configuration illustrated in and may be other configurations if those configurations can execute the later described information processing.

When a route search request including a destination is input by a user via the input unit the search unit requests a continuous positioning to the positioning unit . The search unit transmits a user ID location information input from the positioning unit and destination information to the search server via the communication unit . Further while the guiding unit is receiving route information from the search server via the communication unit the search unit continues to transmit the user ID and location information regularly or corresponding to the movement of the user terminal to the search server .

The guiding unit starts to receive route information from the search server via the communication unit as a result of the route search requested by the search unit . The guiding unit displays the received route information on the display unit . Further the guiding unit receives guiding information from the guiding server via the communication unit and displays the information on the display unit . Upon receiving end information from the search server the guiding unit ends the navigation guiding for the user.

Next a configuration of the guiding server will be explained. The guiding server is a server device for receiving the user ID and route information from the search server generating guiding information to be displayed on the user terminal according to guiding flags set on ways and delivering the information. As illustrated in the guiding server includes a communication unit a storage unit and a control unit . Here the guiding server may include an input unit for example a keyboard a mouse and the like for receiving various operations from an administrator or the like of the guiding server or a display unit liquid crystal display or the like for displaying various information.

The communication unit is realized by a NIC or the like for example. The communication unit transmits and receives information to and from the user terminal via the network N.

The storage unit is realized by for example a semiconductor memory element such as RAM Flash Memory and the like or a memory device such as a hard disk an optical disk and the like. The storage unit includes an image storing unit a guide database and a guide storage unit . Further the storage unit stores an OS Operating System and various programs which are executed by the control unit and various data.

The image storing unit stores signboard images which are images of actual signboards taken in advance as signboard images used in guiding information. is an explanatory view illustrating an example of the image storing unit according to the embodiment. As illustrated in the image storing unit includes items such as signboard ID image ID image data location information camera to subject distance and image shooting direction. 

The signboard ID identifies signboards. For example a signboard ID is allocated to a business signboard and identifies the business signboard. Further the signboard ID may be allocated based on an attribute indicated by the signboard in addition to business. Regarding the signboard ID a given ID may be allocated to a vicinity guide signboard which does not indicate specific business or a sightseeing signboard such as Welcome to Michinoku for example. The image ID identifies signboard images. Plural image IDs may be associated with a single signboard ID. Regarding the image ID for example image IDs A01 and A02 correspond to a signboard ID 001A. Here for example the image ID A01 is a signboard image seeing the signboard from the south and the image ID A02 is a signboard image seeing the signboard from the north. The image data indicate an image file corresponding to the image ID. An image file may be a moving image in addition to a still image. The moving image is for example preferable to show a rotating signboard. The location information indicates location information of a location where the signboard exists. The camera to subject distance indicates a distance taken when an image of the signboard image is taken. The image shooting direction indicates which direction the signboard image of a signboard is taken.

The guide database stores entering and exiting patterns into and from a guiding flag an image ID corresponding to each pattern and location information of the guiding flag for each guiding flag where guiding information is generated. is an explanatory view illustrating an example of the guide database according to the embodiment. As illustrated in the guide database has items such as guiding flag pattern ID pattern image ID and location information. 

The guiding flag indicates a location to generate guiding information. A guiding flag can be for example an intersection of streets a crossroad in an underground mall a business which can be a land mark and the like. Further the guiding flag may be a location of a signboard itself for example. The pattern ID identifies entering and exiting patterns at a guiding flag. The pattern indicates entering and exiting patterns at a guiding flag. A pattern is for example expressed as R1 X R2 in a case of a traffic intersection X where a guiding flag is set when entering from street R1 and exiting to street R2. The image ID indicates a signboard image to be included in guiding information generated in each pattern. The location information indicates a location of a guiding flag.

The guide storage unit stores the user ID of the user terminal to which guiding information is transmitted and a guiding flag existing on the way of route information. is an explanatory view illustrating an example of the guide storage unit according to the embodiment. As illustrated in the guide storage unit has items such as user ID midway guiding flag and the like.

The user ID identifies the user terminal to which guiding is being performed. The midway guiding flag indicates a guiding flag existing as a via point on a way for the user terminal to which guiding is being performed. The midway guiding flag stores guiding flags in the order to be passed by in a manner of G001 G002 . . . for example.

Returning to the explanation of the control unit is realized by executing a program stored in an internal memory device using RAM as a work area by a CPU an MPU and the like for example. Further the control unit is realized by an integrated circuit such as an ASIC an FPGA or the like for example.

As illustrated in the control unit includes a retrieving unit and a generating unit and realizes or executes functions and behavior of later described information processing. Here an internal configuration of the control unit is not limited to the configuration illustrated in and may be other configurations if those configurations can execute the later described information processing.

When a user ID and route information are received from the search server the retrieving unit refers to the guide database based on the route information and stores a guiding flag which the user terminal identified by the user ID passes by in the guide storage unit . The retrieving unit refers to the guide storage unit and the guide database and retrieves from the image storing unit signboard images of signboards existing on the way to the destination. Here the route information includes destination information. Further the retrieving unit may be made to retrieve a signboard image according to the distance between the guiding flag and the user terminal based on the location information of the user terminal . Further the retrieving unit may be made to retrieve a signboard image according to the direction that the user terminal approaches to the guiding flag based on the location information of the user terminal . Here the retrieving unit can retrieve a plurality of signboard images taken at different distances and in different directions based on one or more of the distance and direction between the user terminal and the guiding flag. Further the retrieving unit can use the location of a signboard as a guiding flag. The retrieving unit stores the image ID of the retrieved signboard image in the guide database and notifies a completion of retrieving to the generating unit .

When the completion of retrieving is notified by the retrieving unit the generating unit refers to the guide storage unit and reads a guiding flag at a via point. Based on the guiding flag to be passed by the generating unit refers to the guide database and reads the pattern image ID location information and the like of the guiding flag. The generating unit generates guiding information including signboard information based on the user ID location information destination information of the user terminal and the pattern image ID location information of the guiding flag. Here based on the location information of the user terminal and the guiding flag the generating unit can generate guiding information with a size changed signboard image corresponding to the distance between the user terminal and the guiding flag. Further for example when the distance between the user terminal and the guiding flag is large by using plural signboard images the generating unit can generate guiding information which displays the signboard image of the signboard located in front of the guiding flag larger and displays the signboard image of the signboard located behind the guiding flag smaller. With this user can easily find from a distance the traffic intersection or the like to which the guiding flag is set. Further for example when the distance between the user terminal and the guiding flag is small the generating unit can generate guiding information which displays the signboard image of the signboard in front of the guiding flag smaller and displays the signboard image of the signboard behind of the guiding flag larger. This prevents the user from mistakenly passing though the traffic intersection or the like to which the guiding flag is set.

The generating unit transmits guiding information to the user terminal based on the location information of the user terminal . The generating unit generates guiding information corresponding to all guiding flags on the way in advance so that when the user terminal approaches to each guiding flag guiding information corresponding to the guiding flag can be transmitted to the user terminal . Further the generating unit may generate and transmit guiding information corresponding to the guiding flag to the user terminal after the user terminal approaches to each guiding flag. In this case the generating unit may transmit guiding information corresponding to next guiding flag on the way when the user of the user terminal passes by the guiding flag which guiding information is already transmitted. This can reduce the possibility that the user gets lost since guiding information of next guiding flag can be displayed on the user terminal even in a condition that location information of the user terminal cannot temporarily be received due to a communication failure or the like.

Next a configuration of the search server will be explained. As illustrated in the search server has a search database . The search server executes a route search to a destination based on the location information and destination information.

The search server is connected to the user terminal via the network N and receives a user ID location information and destination information from the user terminal . The search server is also connected to the communication unit of the guiding server and transmits the user ID of the user terminal for which a route search is being executed and route information to the guiding server . The search server searches a most preferable route from the current location based on location information of the user terminal to a destination. When the user travels on foot for example the search server can search a most preferable route for traveling on foot and when traveling a great distance the search server can search the use of public transportation such as train and the like. When the user travels by car for example the search server can search a most preferable route for traveling by car and can search a route with a consideration of whether to use expressways information related to traffic jams and the like. The search server starts to transmit the current location destination information and route search result such as a route to the user terminal and the guiding server as route information. Further the search server transmits the user ID of the user terminal to the guiding server to identify the user to whom the navigation is being performed.

Here the search server receives the user ID and location information from the user terminal regularly or corresponding to the movement of the user terminal . Upon receiving the user ID and location information the search server transmits corresponding route information to the user terminal so that route information based on updated location information is always transmitted to the user terminal . In other words the search server continuously transmits route information to the user terminal . Upon receiving location information of the destination from the user terminal the search server generates end information which indicates an end of the navigation. The search server transmits the user ID and end information to the guiding server and transmits the end information to the user terminal .

The search database stores information such as streets underground malls railroads and the like. The information of streets includes street types locations connected streets traffic intersections buildings along streets names of places and the like. The search database also stores a map to be displayed on the user terminal . The map is stored for example in a raster format and a vector format. The map in a raster format includes a raster map image and a list of latitude and longitude coordinates. The map in a vector format has a layered structure in each section and includes information such as streets borders of municipalities riverine systems railroads points of interest parks buildings names of places and the like.

Next a guiding process by the guiding system according to the embodiment will be explained. is a sequence diagram illustrating an example of navigation by the guiding system according to the embodiment.

Firstly the user operates the user terminal and performs a route search request by inputting a destination step S . When the destination is input and the route search request is performed the search unit of the user terminal requests a continuous positioning to the positioning unit . The search unit transmits the user ID the location information output from the positioning unit and the destination information to the search server via the communication unit step S .

Upon receiving the user ID location information and destination information the search server searches a most preferable route to the destination from the current location based on the location information step S . The search server starts to transmit the result of the route search as route information to the user terminal and the guiding server step S . The search server transmits the user ID of the user terminal and the route information to the guiding server step S . Further the search server transmits the route information to the user terminal step S .

Upon starting the reception of the route information from the search server the guiding unit of the user terminal displays the received route information on the display unit step S . Upon receiving the user ID and the route information the retrieving unit and the guiding server refers to the guide database based on the route information and sets a guiding flag which the user terminal identified by the user ID passes by as a via point by storing the guiding flag in the guide storage unit step S . The retrieving unit refers to the guide storage unit and the guide database and retrieves from the image storing unit a signboard image of the signboard existing on the way to the destination. The retrieving unit stores the image ID of the retrieved signboard image in the guide database and notifies a search completion to the generating unit .

When the search completion is notified from the retrieving unit the generating unit refers to the guide storage unit and reads the guiding flag which is to be passed by as a via point. Based on the guiding flag to be passed by as a via point the generating unit refers to the guide database and reads a pattern an image ID location information and the like of the guiding flag. Based on the user ID location information and destination information of the user terminal and the pattern image ID location information and the like of the guiding flag the generating unit generates guiding information including signboard information step S .

The user terminal starts to transmit the user ID and location information to the guiding server and the search server regularly or when the user starts to move step S . When the user having the user terminal approaches to the guiding flag step S the generating unit of the guiding server determines that the user terminal approaches to the guiding flag based on the location information of the user terminal step S . Upon determining that the user terminal approaches to the guiding flag the generating unit transmits guiding information to the user terminal step S . The user terminal displays the received guiding information on the display unit step S .

Here referring to an example of a traffic intersection to which a guiding flag is set and corresponding guiding information will be explained. is an explanatory view illustrating an example of a traffic intersection to which a guiding flag is set. In the example of a guiding flag G001 is set at the center of a traffic intersection X. Further at four corners of the traffic intersection X there are businesses A B C and D. Further the streets that enter and exit to and from the traffic intersection X are explained as streets R1 R2 R3 and R4.

The user having the user terminal is traveling on the street R1 upward from the bottom in . Firstly a case that the user makes a right turn at the traffic intersection X will be explained. The user enters from the street R1 into the traffic intersection X and exits to the street R2. This is referred to as a pattern ID P01. In this case the user can uses the signboards of the business B and business D as landmarks to find the street R2 to make a right turn. Thus the guiding information can be guiding information including at least one of a signboard image B01 seen from the street R1 and a signboard image D01 seen from the street R1. In this case regarding the signboard images B01 and D01 the size of those signboard images may be changed according to the distance between the signboards and the user terminal .

Next when the user travels straight through the traffic intersection X the user enters from the street R1 into the traffic intersection X and exits to the street R3. This is referred to as a pattern ID P02. In this case the user can use the signboards of the business A and business B as landmarks to see if it is the place to pass through. Thus the guiding information can be guiding information including at least one of the signboard image A01 seen from the street R1 and the signboard image B01 seen from the street R1.

Further when the user makes a left turn at the traffic intersection X the user enters from the street R1 into the traffic intersection X and exits to the street R4. This is referred to as a pattern ID P03. In this case the user can use the signboards of the business A and business C as landmarks to find the street R4 to make a left turn. Thus the guiding information can be guiding information including at least one of the signboard image A01 seen from the street R1 and the signboard image C01 seen from the street R1.

Subsequently an example that the user having the user terminal proceeds on the street R2 from the right in to the left in will be explained. The user enters from the street R2 into the traffic intersection X and exits to the street R3. This is referred to as a pattern ID P04. In this case the user can use the signboards of the business A and business B as landmarks to find the street R3 to make a right turn. Thus the guiding information can be guiding information including at least one of the signboard image A02 seen from the street R2 and the signboard image B02 seen from the street R2. In other words the user uses the signboard of the business B as a landmark both in the case of entering from the street R1 into the traffic intersection X and exiting to the street R2 and the case of entering from the street R2 into traffic intersection X and exiting to street R3. However the signboard of the business B seen from the street R1 and the signboard of the business B seen from the street R2 look different in general. Thus the signboard images which are photos of the signboard are signboard images taken from different directions. With this configuration the user can see guiding information including signboard images which look the same as images actually seen at the location.

Returning to the explanation of the user having the user terminal passes though the guiding flag according to the route information and guiding information step S . When determining that the user passes though the guiding flag based on the location information that the positioning unit positions and outputs the user terminal switches the display from the guiding information to the route information step S . After that when the user arrives at the destination step S the user terminal transmits the user ID and location information to the guiding server and the search server step S .

Upon receiving the user ID and the location information the search server generates end information since the location information and the destination information indicate substantially the same location step S . The search server transmits the user ID and the end information to the guiding server step S . The search server also transmits the end information to the user terminal step S . Upon receiving the user ID and the end information the guiding server ends guiding to the user ID and deletes information related to the user ID from the guide storage unit . Further upon receiving the end information the user terminal ends the navigation guiding for the user step S .

In this manner the guiding server stores a signboard image which is a photo of a signboard in an image storing unit retrieves from the image storing unit a signboard image of a signboard existing on a way to a destination based on location information and destination information of the user terminal and generates guiding information including the signboard image based on the retrieved signboard image and the location information and destination information to transmit to the user terminal . With this configuration the guiding server can display on the user terminal the signboard image which looks the same as the signboard actually seen by the user.

Further upon determining that the user terminal approaches to the signboard based on the location information the guiding server transmits guiding information to the user terminal . With this configuration when the user terminal approaches to the signboard the guiding server can display on the user terminal the signboard image which looks the same as the signboard actually seen by the user.

Further the guiding server generates as guiding information guiding information in which the size of signboard image is changed according to the distance between the signboard and the user terminal . With this configuration since the guiding server changes the size of the signboard image according to the distance of the signboard and the user terminal the signboard image which looks the same as the signboard actually seen by the user can be displayed on the user terminal .

Further the guiding server generates as guiding information guiding information in which plural signboard images are included and the size of each signboard image is changed according to the distance between the signboard and the user terminal . With this the guiding server can display on the user terminal guiding information that helps the user easily find the signboard from a distance. Further the guiding server can display on the user terminal guiding information that prevents the user from mistakenly passing through the signboard.

Further the guiding server stores as signboard images the signboard images which are taken from different directions and retrieves as the signboard image a signboard image corresponding to the distance between the signboard and the user terminal . With this configuration the guiding server can display on the user terminal a signboard image including surrounding environment of the signboard which is not a single signboard image simply enlarged or reduced.

Further when the user of the user terminal passes through the signboard for which guiding information is generated on the way the guiding server transmits as guiding information next guiding information on the way. With this configuration even in a condition that the guiding server cannot receive the location information of the user terminal temporarily due to a communication failure or the like the user terminal can display guiding information for the next signboard.

Further the guiding server generates as guiding information guiding information in which the signboard image is a moving image. With this the guiding server can display on the user terminal a signboard image which is further similar to the signboard seen by the user in the actual location.

Further the guiding server associates and stores as signboard images respective images seen from different directions and the directions from which the respective images are seen by associating them with each signboard and retrieves as a signboard image a signboard image according to the direction from which the user terminal approaches to the signboard. With this configuration the guiding server can display on the user terminal a signboard image corresponding to the shape of the signboard seen from the user.

Here referring to the signboard image seen from different directions and the directions from which the respective images are seen regarding a single signboard will be explained. are explanatory views illustrating examples of manners of mounting a signboard. is an example of a signboard mounted projectingly from a building on the left. illustrates the same signboard of and the building is on the right. In other words is an example of the signboard seen when a user turns around and sees the signboard of after passing by. In short although the signboard of are the same signboard the relation with the building differs according to the direction from which the user approaches to the signboard. In this case the guiding server stores as a signboard image signboard images of for a single signboard by associating with the directions approaching to the signboard respectively. The guiding server determines from which direction the user approaches to the signboard based on the location information of the user terminal and includes the signboard image of the direction seen from the user in the guiding information. Here the respective faces of the signboard illustrated in may display the signboard of the same business F or may display signboards of different businesses for example. At a place where businesses are concentrated such as an underground mall for example the signboards are often placed at a border of businesses and the businesses displayed on the respective faces are different. In such a case by associating the orientation of the signboard with the content of the signboard the signboard image of the guiding information can be changed according to the direction from which the user approaches to the signboard. With this even with the same signboard the guiding server can display on the user terminal guiding information including the signboard image with surround environment which looks the same as seen from the user. Further regarding signboards at a place such as an underground mall there are signboards flatly mounted on a wall as illustrated in . The signboard as illustrated in is sometimes mounted at an end of a T shaped intersection in an underground mall or the like for example. In this case the signboard is preferable as a landmark since it stands out when seen from the street that ends at the T shaped intersection.

Further in the above embodiment an operation at a traffic intersection to which a single guiding flag is set has been explained however the number of the guiding flag is not limited to one. Steps from S to S in are repeated every time each guiding flag is passed by. At each guiding flag the guiding server transmits corresponding guiding information to the user terminal .

Further regarding the above described guiding server the guiding information has been explained to be guiding information including at least one of the signboard image B01 seen from the street R1 and the signboard image D01 seen from the street R1 however it is not limited by this. For example in the guiding information the distance between the user terminal and the signboard is calculated based on the location information of the user terminal and the signboard and the ratio of the sizes of the signboard images B01 and D01 can be changed based on the distance so that those images become the same images as the user sees the signboards of the business B and business D from the street R1 respectively.

Further the above described guiding server changes in guiding information the size of the signboard image which is the signboard image B01 or D01 according to the distance between the signboard and the user terminal however it is not limited by this. For example considering the distance between the traffic intersection X and the user at a point away from the traffic intersection X the user proceeding on the street R1 can easily see the signboard of the business D which is close to the user. Further at a point close to the traffic intersection X it is necessary that the user pays an attention to the signboard of the business B which is further than the business D so as not to mistakenly pass through the traffic intersection X. Thus based on the location information of the user terminal and the traffic intersection X the signboard the guiding server generates and transmits as guiding information guiding information to the user terminal to display the signboard image of the business D larger at the point the user is away from the traffic intersection X and displays the signboard image of the business B larger at the point the user is close to the traffic intersection X. The user terminal can display the signboard image of the business D larger at the point the user is away from the traffic intersection X and display the signboard image of the business B larger at the point the user is close to the traffic intersection X.

Further the above described guiding server has been described so as to display the signboard images as guiding information however it is not limited by this. For example as guiding information when the signboard cannot be seen because of a structure of streets it may display why the signboard cannot be seen. For example when a tree on the street in front covers a signboard and the signboard cannot be seen the guiding server generates guiding information in which the tree in front is transparently displayed as overlapping and blinking on the signboard image and transmits the guiding information to the user terminal . This can prevent that the user cannot find the signboard and gets lost. Here for example the guiding server can generate a guiding image that displays in the same manner in a case of a place such as an underground mall where signboards of many businesses overlap on each other.

Further the above described guiding server uses a photo image as a signboard image however it is not limited by this example. For example with cooperation of facilities such as businesses and the like photos of signboards with actual size information image data for making a signboard or the like can be introduced. With this configuration guiding information can be generated using signboard images with more accurate sizes and designs.

Further the above described guiding server may use a signboard image to which seasonally changing decoration is applied. For example based on date and time information the guiding server may use a signboard image of a signboard to which decoration is applied for an event such as Christmas holiday sale and the like before Christmas season. With this even in a place such as an underground mall where the scenery significantly changes in each season guiding information with preferable signboard images can be provided to a user.

Further the above described guiding server may be realized by a plurality of server computers or may be realized by a single server computer. Further the configuration can be flexibly changed such that some functions are realized by calling an external platform or the like via an API Application Programming Interface or network computing.

Further the unit used in the claims can be read as section module or circuit. For example a retrieving unit can be read as a retrieving section or a retrieving circuit.

The guiding server according to this application can display on the user terminal a signboard image which looks the same as the signboard actually seen by the user.

Although the invention has been described with respect to specific embodiments for a complete and clear disclosure the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the art that fairly fall within the basic teaching herein set forth.

