---

title: Apparatus and methods for antenna correlation estimation in a multi-antenna system
abstract: Disclosed apparatuses obtain real-time performance measurements and adaptively select multiple-input, multiple-output (MIMO) antennas to improve MIMO antenna performance. A correlation estimator determines an approximation of instantaneous antenna correlation values. One method includes obtaining a channel quality indicator (CQI) measurement for first and second antennas of a mobile device. The method determines a composite CQI for the two antennas and estimates the antenna correlation for the first and second antennas based on the composite CQI. The method can include performing a lookup operation in a CQI table mapping composite CQI to coding rates. The method can include obtaining a signal-to-noise ratio (SNR) measurement for the first and second antennas of the mobile device, and estimating the antenna correlation for the first and second antennas based on the composite CQI and the SNR measurement.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09608711&OS=09608711&RS=09608711
owner: GOOGLE TECHNOLOGY HOLDINGS LLC
number: 09608711
owner_city: Mountain View
owner_country: US
publication_date: 20140807
---
The present disclosure relates generally to antennas and multiple input multiple output MIMO antennas systems with diversity reception and more particularly to mobile devices employing such MIMO antenna systems.

Mobile devices may incorporate multiple antennas or an antenna array for diversity reception and for implementing spatial multiplexing. Spatial multiplexing involves splitting a high data rate signal into two or more separate data streams that are intended to arrive at a receiver antenna array with different spatial signatures such that the two or more separate data streams can be reassembled to construct the high data rate signal. At least two separate mobile device antennas or two antenna elements of an antenna array each receive one of the separate data streams. Therefore spatial multiplexing may be considered a form of antenna diversity reception.

The goal of antenna diversity reception is to take advantage of decorrelation between the diversity antennas. The decorrelation may be achieved by physical placement polarization or by using differing antenna beam patterns. Mobile device diversity and MIMO multiple input multiple output antenna systems have been developed based on static figure of merit FoM requirements total efficiency gain imbalance and envelope correlation coefficient values i.e. antenna correlation that are fixed regardless of prevalent operating parameters or the environment in which the mobile device is operating.

Performance of the MIMO system may be negatively impacted by changes in the radiated channel conditions and the user s position and handgrip on the mobile device because the hand position may impair radio frequency RF reception by the MIMO antennas. For this and other reasons challenges exist for achieving good performance of diversity antenna systems in a mobile device.

Briefly the disclosed embodiments provide apparatuses and methods that obtain real time performance measurements and adaptively select MIMO antennas in response to the real time performance measurements to improve MIMO antenna performance under given conditions. In one embodiment a correlation estimator is operative to determine an approximation of instantaneous antenna correlation values.

One disclosed method of operation includes obtaining a channel quality indicator CQI measurement for a first antenna and a second antenna of a mobile device in a MIMO multiple input multiple output system. The method proceeds by determining a composite CQI for the two antennas and estimating the antenna correlation for the first antenna and second antenna using the composite CQI. The method may further include performing a table lookup operation in a CQI table. In accordance with the embodiments the CQI table maps composite CQI including at least a first and second multiple input multiple output MIMO stream to coding rates. The method may further include obtaining a signal to noise ratio SNR measurement for the first antenna and the second antenna of the mobile device and estimating the antenna correlation for the first antenna and second antenna using the composite CQI and the SNR measurement.

In one embodiment the method also includes providing a feedback signal to antenna tuning and selection logic based on the estimated antenna correlation. The method may also proceed by switching from the first antenna and the second antenna to a third antenna and a fourth antenna in response to the antenna correlation estimate for the first antenna and the second antenna. Alternatively the method may proceed by deactivating the second antenna and activating a third antenna to pair the third antenna with the first antenna in response to the antenna correlation estimate for the first antenna and the second antenna.

An apparatus is disclosed that includes at least one transceiver a multi input multi output MIMO antenna system and a correlation estimator that is operatively coupled to the at least one transceiver. The correlation estimator is operative to obtain a channel quality indicator CQI measurement for a first antenna and a second antenna of the MIMO antenna system determine a composite CQI for the two antennas and estimate the antenna correlation for the first antenna and second antenna using the composite CQI.

In one embodiment the apparatus includes non volatile non transitory memory that is operatively coupled to the correlation estimator. The memory stores a CQI table that maps composite CQI including at least a first and second MIMO stream to coding rates. In that embodiment the correlation estimator is further operative to obtain the antenna correlation estimate by performing a table lookup operation in the CQI table using the composite CQI. The correlation estimator may also obtain a signal to noise ratio SNR measurement for the first antenna and the second antenna of the mobile device and estimate the antenna correlation for the first antenna and second antenna using the composite CQI and the SNR measurement.

In one embodiment the apparatus also includes antenna tuning and selection logic that is operatively coupled to the MIMO antenna system to the at least one transceiver and to the correlation estimator. In that embodiment the correlation estimator is further operative to provide a feedback signal to the antenna tuning and selection logic based on the estimated antenna correlation. The antenna tuning and selection logic is operative to switch from the first antenna and the second antenna to a third antenna and a fourth antenna in response to the feedback signal. The antenna tuning and selection logic is also operative to deactivate the second antenna and activate a third antenna to pair the third antenna with the first antenna in response to the feedback signal.

The present disclosure also provides a mobile device that includes at least one transceiver a MIMO antenna system that is operatively coupled to the at least one transceiver and a CQI table stored in non volatile non transitory memory. The CQI table maps a composite CQI that includes at least a first and second MIMO stream to coding rates. The mobile device also includes a correlation estimator that is operatively coupled to the at least one transceiver and to the memory. The correlation estimator is operative to obtain a CQI measurement for a first antenna and a second antenna of the MIMO antenna system determine a composite CQI for the two antennas and estimate the antenna correlation for the first antenna and second antenna using the composite CQI by performing a table lookup operation in the CQI table.

Another disclosed method includes measuring a plurality of antenna pairs having known antenna correlations in a MIMO test chamber and developing a CQI table mapping composite CQI to MIMO coding rates for each of the antenna pairs. The method may further include developing the CQI table using quantized SNR values and relating the quantized SNR values to CQI and antenna correlation percentages. The method may also include accounting for percentage utilization of dual stream and single stream MIMO transmissions in the composite CQI based on coexistence of dual stream and single stream transmissions. The method also includes storing the CQI table in a non volatile non transitory memory of a mobile device.

Another disclosed method includes detecting that a mobile device has entered a geo location based on mobile device location information predicting that the mobile device will have a given antenna correlation by checking historical data related to the geo location identified by the mobile device location information and adjusting the mobile device antennas based on the predicted antenna correlation. The method may further include sending location information from the mobile device to a server and receiving antenna correlation prediction information by the mobile device in response to sending the location information. In some embodiments the method may also include detecting a modality of the mobile device and adjusting the mobile device antennas based on the modality in addition to using the predicted antenna correlation.

Turning now to the drawings is a block diagram of a mobile device that includes a MIMO antenna system . The MIMO antenna system includes antennas which may be an antenna array that are operatively coupled to antenna tuning and selection logic by RF coupling. The antenna tuning and selection logic is further operatively coupled to one or more transceivers that demodulate received radio frequency RF signals for voice and data communication processed by audio and other processing . The transceivers are operatively coupled to the audio and other processing for sending and receiving bidirectional data such as full duplex voice channels data channels command and control channels etc. The MIMO antenna system may be considered to be an adaptive antenna system that may be implemented using for example antenna placement switching parasitic resonators variable phase shifters transmission line switching etc. or any other suitable components as understood by those of ordinary skill.

It is to be understood that RF coupling may include but is not limited to transmission lines and matching networks as understood by those of ordinary skill. For example the transmission lines may be implemented using microstrip stripline or any suitable RF circuit technology as understood by those of ordinary skill and may include transmission line elements such as capacitances or inductances discrete components or combinations thereof as needed to implement matching networks between the various components.

The antennas are operative such that at least two antennas i.e. a MIMO diversity antenna pair are used to obtain spatially multiplexed signals. That is as shown in the antennas are operative to receive a transmission that includes a first stream and a second stream using any combination of two antennas from antennas Ant0 Ant1 Ant2 through Antn . In a UMTS long term evolution LTE system the first stream and second stream are referred to as layers such that the transmission is a rank 2 transmission based on it having two layers i.e. the first stream and second stream. Thus for a rank 2 transmission two codewords may be received by the mobile device when a single codeword is mapped to a single layer.

In LTE operation an open loop feedback system is utilized in which a mobile device calculates CQI based on defined algorithms and based on the rank of the transmission. The CQI information may be sent as feedback to the transmitting base station for further adjustments of the transmitted streams. In accordance with the embodiments the mobile device includes a correlation estimator that is operatively coupled to the transceivers to obtain signal quality metrics including signal to noise ratio SNR and CQI information . The correlation estimator uses the SNR and CQI information in conjunction with a CQI table that may be stored in memory . Memory is non volatile non transitory memory and is either operatively coupled to the correlation estimator or is integrated into the correlation estimator . The correlation estimator is operative to determine an effective SNR and an effective CQI using the SNR and CQI information . These values are then used by the correlation estimator to determine a MIMO conditioner metric that is used to perform a table lookup operation using the CQI table to obtain a corresponding antenna correlation value. In other words the correlation estimator is operative to estimate antenna correlation for the operating antennas of antennas . This estimated correlation may then be used to generate an appropriate closed loop feedback signal to the antenna tuning and selection logic to improve antenna correlation for the existing transmission being received.

In some embodiments the memory may also store a modality table. The modality table maps various pretested uses case modalities using antennas of known correlation such as various handgrips positions of the mobile device with respect to a user s head dock mode concealed mode etc. so as to map these modalities to changes in SNR and CQI information . This mapping may then be used to anticipate antenna correlation changes and adjust accordingly by tuning or by selecting appropriate antenna pairs. For example the correlation estimator may receive sensor data and use the sensor data to determine the modality. The correlation estimator may then obtain SNR and CQI information from the modality table and antenna correlation from the CQI table.

The terms antenna correlation also correlation and gain imbalance are each referred to herein individually as a figure of merit or as a figure of merit type. In other words antenna correlation is one example of a figure of merit or figure of merit type and gain imbalance is another example of a figure of merit or figure of merit type. As understood by those of ordinary skill it is preferable to have low correlation and low gain imbalance however a tradeoff must be made in any design because of limitations related to MIMO antenna system placement user head and hand effect mismatch and insertion losses source pull complex mismatch among other design restrictions imposed on a mobile device. The correlation estimator estimates the antennas correlation using a predetermined CQI table and may provide the feedback signal to the antenna tuning and selection logic for the purpose of making adjustments to achieve low antenna correlation to the extent possible.

The terms high and low as used herein are relative terms that are to be construed such that a given MIMO antenna when paired with another exhibits a better i.e. lower correlation or worse i.e. higher correlation performance with respect to another MIMO diversity antenna pairing by comparison of measured performance values between the two antennas or between two different antenna pairs but irrespective of the actual numerical range of any such measured performance value. More particularly a MIMO diversity antenna pair exhibiting a low correlation is herein considered as exhibiting a better correlation than a MIMO diversity antenna pair exhibiting a high correlation i.e. worse . A MIMO diversity antenna pair exhibiting a low gain imbalance is herein considered as exhibiting a better gain imbalance than a MIMO diversity antenna pair exhibiting a high gain imbalance i.e. worse . Therefore by comparison of correlation and gain imbalance measurements for a first MIMO diversity antenna pair and a second MIMO diversity antenna pair one of the two antenna pairs may be found to have a high or higher correlation and a low or lower gain imbalance and the other may be found to have a low or lower correlation and a high or higher gain imbalance with respect to each other by the comparison.

In accordance with the embodiments the correlation estimator generates a metric referred to herein as the MIMO conditioner metric which quantifies the changes in antenna correlation due to changes in the mobile device environment including changes in modality. This metric is generated by using filtered values. The MIMO conditioner metric may be further used to generate the feedback signal to the antenna tuning and selection logic .

The relationships used by the correlation estimator have been determined through empirical measurements. More specifically various reference antennas with known correlation have been measure in a MIMO test chamber using a channel model reflective of real world conditions. For example an employed test environment was Band 13 DL EARFCN 5230 EUTRA Absolute Radio Frequency Channel using 3GPP LTE Transmission Mode 4 Closed Loop Spatial Multiplexing and using the 3GPP Uma channel model. Various signal levels were then selected as reference points to compare various reference antennas with correlations of 0.1 0.5 and 0.9. It was found that MIMO performance was highly statistically correlated with SINR and therefore SINR was bucketized quantized into six levels which are illustrated in and . For the test channel model the maximum observed SINR was approximately 18 dB. For a MIMO spatial multiplexing system the antenna correlation is important toward determining an overall channel quality score and CQI takes into account both SINR and antenna correlation. illustrates that for an antenna system with high efficiency but poor antenna correlation i.e. high correlation the gains in SINR do not translate to high CQI.

As known by those of ordinary skill standards map CQI to coding rate. The 3GPP TS 36.213 V12.1.0 2014 03 3rd Generation Partnership Project Technical Specification Group Radio Access Network Evolved Universal Terrestrial Radio Access E UTRA Physical layer procedures Release 12 2014 which is hereby incorporated by reference herein defines the Channel Quality Indicator CQI and provides a table mapping CQI index to coding rate for a SISO Single Input Single Output system. In accordance with the embodiments is a mapping adapted to a rank 2 MIMO transmission and therefore represents the composite CQI described above. The coding rates translates to throughput in bits per symbol bps . The bar graph in illustrates percentage antenna correlation based on the combined CQI for the various quantized SINR levels level 1 through level 6 for a low medium and high antenna correlations such as for example may be attributed to the tested reference antennas with correlations of 0.1 0.5 and 0.9. An example lookup table is shown in . By using a calculated percentage value and locating the appropriate SNR quantization level based on the measured SNR the estimated antenna correlation may be obtained. For example 97.5 at level 2 SNR implicates an antenna correlation estimate of 0.3.

The flowchart of provides further details of a method of operation for determining a MIMO conditioner metric in accordance with the embodiments. The MIMO conditioner metric is used to map the equivalent CQI composite CQI to an approximate correlation value with for example a resolution of 1 10 0.1 . A data channel is established in operation block and in operation block the correlation estimator obtains SNR and CQI information for two streams on any two antennas of antennas that are operating for example Ant0 and Ant1. In operation block one second averaged samples of SNR Ant0 SNR Ant1 are calculated. From the empirical data and statistical correlation estimates weighting factors are generated for SNR per antenna. The effective SNR may then be calculated as for example if one MIMO antenna is represented by Ant0 and another MIMO antenna is represented by Ant1 then an effective SINR may be calculated as SINReff wt1 SINR ant0 wt2 SINR ant1 where wt1 and wt2 are weighting factors calculated by statistical correlation of SINR Ant0 to effective CQI channel quality indicator and SINR Ant1 to effective CQI using empirical data collected using reference MIMO antennas with known antenna correlation. One specific example is Effective SNR 0.94 SNR Ant0 0.95 SNR Ant1 2.

The correlation estimator also calculates one second averaged gain imbalance between the two MIMO antennas such that Gain Imb RSSI Ant0 RSSI Ant1. In operation block for CQI CW1 second channel all zeroes are averaged in as well to account for the cases when rank 1 single stream or channel MIMO is active. Thus CQI CW0 and CQI CW1 are calculated. The equivalent CQI composite is calculated from the CQI CW0 and CQI CW1. As mentioned above is an extension of the standard table and accommodates rank 2 cases to create a composite CQI value which encodes rank utilization cases where rank 1 and rank 2 co exist . Thus the correlation estimator performs a lookup in operation block i.e. CQI composite lookup CQI CW0 CQI CW1 .

The correlation estimator may then generate the MIMO conditioner metric as CQI composite CQI target 100. The CQI target for an SNR quantization level is calculated as the channel quality determined by the antenna with least correlation of 0.1. The MIMO conditioner metric is then used to find the correlation per .

In the SNR quantization level 2 dB steps is checked and the CQI composite ref value is checked for each of reference antennas high medium low. The MIMO conditioner metric is generated using the CQI composite ref low correlation divided by the CQI composite device. The is done because the mobile device most typically has much higher correlation than the CQI composite ref for the low correlation reference antenna. Therefore the value is between 0 and 1. The MIMO conditioner metric is also available for the high correlation and medium correlation reference antenna. The percentage deltas between the values will estimate the approximate antenna correlation of the mobile device. For example if the CQI Composite low correlation 16.1 the MIMO conditioners for medium and high correlation antennas are 0.96 15.4 and 0.82 11.1 and CQI Composite device is at 13.4 then the MIMO conditioner of the mobile device is at 0.84. This indicates that the antenna correlation is about 0.82. The exact quantification can be facilitated by linear interpolation between the points. This can be used in operation block to provide feedback to the antenna tuning and selection logic . The method may continue to loop to operation block and make adjustments as needed until the channel is terminated in decision block .

Therefore the MIMO conditioner metric described herein is the quantification of the approximate antenna correlation of the mobile device. This quantification is related to the modality of the device such as hand grips of a specific user dock mode or other detectible conditions that may be detected using various sensors. In addition the MIMO conditioner can also be related to the geo location of the mobile device. Geolocation and the MIMO conditioner may be aggregated per 100 maccuracy. In some embodiments mobile devices may use location information from the location detection logic and generate geo tagged MIMO conditioner values at various locations that are stored in a user profile and or that are sent to a cloud server for storage and aggregation.

In some embodiments a mobile device may predict the environmental SNR and trigger MIMO antenna adaptation in response to such predictions. Turning to another example mobile device is illustrated and which is one example apparatus in accordance with the embodiments. The mobile device includes a MIMO antenna system that includes antennas operatively coupled to transceivers by RF coupling . The MIMO diversity antennas of antennas are operatively coupled to antenna selection and tuning logic by RF coupling and to the transceivers by RF coupling which provides a switched output of antenna selection and tuning logic . In some embodiments the antennas may include one or more antenna arrays. Each antenna array may be evaluated by a FoM or by signal quality metrics.

The mobile device also includes a set or an array of touch sensors that are positioned about the mobile device housing and that are operative to sense the user s fingers and hand when the user grips the mobile device housing. The touch sensors may be but are not limited to infrared IR touch sensors capacitive touch sensors or combinations thereof. The touch sensors are operatively connected to condition prediction logic by coupling and provide sensor outputs to the condition prediction logic as inputs . The condition prediction logic may also be operatively coupled to location detection logic by coupling such that the condition prediction logic is operative to receive location data. The condition prediction logic is operatively coupled to memory by read write connection such that the condition prediction logic may read from and write to a user profile stored in the memory . The memory is a non volatile non transitory memory.

The condition prediction logic is operatively coupled to the antenna selection and tuning logic by coupling to send prediction data to the antenna selection and tuning logic . For example the condition prediction logic receives sensor data from the touch sensors and may determine the position of the user s fingers and hand on the mobile device housing. Because the user s hand position may cause impairment to RF reception by the MIMO diversity antennas the condition prediction logic may predict that a low or high SNR condition will result and may send a flag low SNR predict flag or high SNR predict flag to the antenna selection and tuning logic . The antenna selection and tuning logic may then use the prediction to switch to the appropriate MIMO diversity antenna pair as an initial setting i.e. prior to determination of the actual SNR condition .

In some embodiments the condition prediction logic may obtain additional data in addition to data received from the touch sensors and may create a user profile that includes the obtained data for use in predictions. For example the condition prediction logic may collect user history for data call and voice calls including time stamps and location data stamps and store this history information in the user profile . The condition prediction logic may also obtain SNR measurement data from the antenna selection and tuning logic for these data calls and voice calls. Based on past activities the condition prediction logic may therefore then predict the SNR based on past SNR measurements associated with these past activities by reading the user profile . For example if the user profile data shows that the user routinely makes a data call at 3 00 pm on a certain day and time and at a certain location and the measured SNR indicated selection of a certain MIMO diversity antenna the condition prediction logic will make this prediction determination and will send the appropriate SNR predict flag to the antenna selection and tuning logic . In this way the MIMO diversity antenna appropriate for the predicted condition can be selected in advance which enhances the mobile device performance and the user s experience with the device.

A correlation estimator is operatively coupled to the memory by a read connection to access and read a CQI table and in some embodiments a modality table . The condition prediction logic is operatively coupled the correlation estimator by coupling to provide a modality predict flag. The modality predict flag may be used to perform a lookup operation in the modality table for values mapped to given modalities by empirical measurements. The correlation estimator may obtain a predicted antenna correlation by using the CQI table and send a feedback signal to the antenna selection and tuning logic . The correlation estimator is also operatively coupled to the transceiver s to obtain SNR and CQI information for the two MIMO streams as described above with respect to . The correlation estimator operates similar to what was described in and estimates antenna correlation using values obtained from the transceivers and by using the CQI table .

In another example mobile device includes at least one internal communication bus which provides operative coupling between the various components. Each of the various components of the mobile device that are operatively coupled to the communication bus may accordingly send information to or receive information from a processor . In addition to the processor the mobile device components include but are not limited to transceivers antenna selection and tuning logic antennas location detection logic such as but not limited to a GPS receiver display and user interface audio equipment memory and a sensor hub .

The sensor hub is operatively coupled to a plurality of sensors which may include thermal sensors proximity sensors accelerometers gyroscopic sensors light sensors etc. The sensor hub is also operatively coupled to a set of touch sensors which are position about the housing of the mobile device and which are operative to sense the user s hand and fingers when placed upon the housing and to send data to the sensor hub . The touch sensors may be optical sensors capacitive sensors or combinations of both. The sensor hub is a low power processor that offloads the processor from some tasks such as obtaining data from the sensors and from touch sensors . The sensor hub may provide functions while the processor is placed in a sleep mode in order to conserve mobile device battery power. The sensor hub is operative to receive data from the various sensors and to convey the data to the processor over the internal communication bus . The data is therefore related to the mobile device modality at any given point in time.

Similar to the mobile device in the mobile device includes antennas having various MIMO diversity antennas. The antennas are operatively coupled to the transceivers by RF coupling . The MIMO diversity antennas of antennas are operatively coupled to antenna selection and tuning logic by RF coupling and to the transceivers by RF coupling which provides the switched output of antenna selection and tuning logic . In some embodiments the antennas may include one or more antenna arrays. Each antenna array may be evaluated by a FoM or by signal quality metrics for the antenna array.

The processor is operative to execute executable instructions also referred to as executable code or code stored in memory including operating system executable code to run at least one operating system wireless protocol stack code to run one or more wireless protocol stacks and application or user space executable code to run one or more applications . In accordance with the embodiments the processor is also operative to execute condition prediction code to implement condition prediction logic and to execute correlation estimator code to implement correlation estimator .

The condition prediction logic may interact and communicate with the operating system by one or more APIs of a suite of APIs application programming interfaces or by other appropriate operative coupling. The condition prediction logic is operative to communicate with the sensor hub to obtain data from the touch sensors the sensors or combinations thereof. This modality data may include information about the position of the mobile device such as whether the mobile device is stationary in a docking station placed flatly on a table surface etc. and other information related to the ambient environment surrounding the mobile device . The location detection logic may also be accessed by the condition prediction logic to obtain location information for the mobile device . The condition prediction logic may collect and aggregate this data into a user profile stored in memory .

The data contained in the user profile is time and date stamped and geotagged using location data from the location detection logic . The operation of the condition prediction logic is similar to the condition prediction logic operation described with respect to . That is the condition prediction logic may obtain data from the touch sensors and from position sensors and other sensors or sensors and may create the user profile that includes the obtained data for use in predictions.

In the example mobile device the condition prediction logic may obtain SNR or SINR measurement data from the antenna selection and tuning logic over the internal communication bus . The method of operation described with respect to may therefore also be performed by the example mobile device .

The correlation estimator communicates with the operating system using an API and is operative to obtain SNR and CQI measurements form the transceiver s for at least two MIMO streams in a rank 2 transmission. The correlation estimator may access a CQI table stored in memory and also a modality table in some embodiments. The correlation estimator is operative to determine the MIMO conditioner metric discussed above and estimate the antenna correlation of the mobile device while in any of various modalities. The correlation estimator may provide feedback information to the antenna selection and tuning logic so that adjustments may be made or different antenna pairs may be selected to improve the antenna correlation under a given modality.

In some embodiments the correlation estimator may interact with the condition prediction logic to obtain predicted modality information and may send feedback to the antenna selection and tuning logic based on these predictions by accessing a modality table and a CQI table and obtaining an expected antenna correlation for the predicted modality.

It is to be understood that any of the above described software components i.e. executable instructions or executable code in the example mobile device or any of the above described components of example mobile device or mobile device may be implemented as software or firmware or a combination of software and firmware executing on one or more processors or using ASICs application specific integrated circuits DSPs digital signal processors hardwired circuitry logic circuitry state machines FPGAs field programmable gate arrays or combinations thereof. Therefore the mobile devices illustrated in the drawing figures described herein provide examples of a mobile device and are not to be construed as a limitation on the various other possible mobile device implementations that may be used in accordance with the various embodiments.

More particularly condition prediction logic and or the correlation estimator may be a single component or may be implemented as any combination of DSPs ASICs FPGAs CPUs running executable instructions hardwired circuitry state machines etc. without limitation. Therefore as one example the condition prediction logic may be implemented using an ASIC or an FPGA. In another example the antenna selection logic may be a combination of RF hardware for implementation of switching between MIMO diversity antennas and software or firmware executed by a processor that makes the decision regarding when to switch to a given antenna etc. These example embodiments and other embodiments are contemplated by the present disclosure.

It is to be understood that although the present disclosure discusses SNR as a signal quality metric used to determine a dominant FoM for an antenna pair or for an antenna system SINR signal to interference plus noise ratio or signal to noise plus interference ratio may be also be used interchangeably with SNR. In other words a relationship may be shown between SINR and FoM values and throughput and therefore an inflection point in such relationship plots may be used as the threshold as disclosed and described in detail herein to make antenna pair or antenna system selection decisions to improve throughput under the given environmental conditions i.e. SINR conditions . The relationship involves a deterministic correlation between SINR and FoM values and throughput which was discovered by analysis of empirically collected data for antennas of known correlation.

In other words collected antenna correlation values may be geo tagged and also tied to given mobile device modalities such that the mobile device may anticipate and adjust for expected throughput reductions based on past historical data of antenna correlations occurring at given locations and for given modalities when such information is available . The mobile device may do this independently using the modality table and user profile or may obtain assistance from the server and the geotagged statistics database . That is the geotagged statistics database includes an aggregation of collected antenna correlation values that may also be related to mobile device modalities collected from various reporting mobile devices which may be used to predict antenna correlation and therefore predict the level of throughput that may be obtained as a mobile device moves through various geo locations.

The mobile device may establish an IP connection through either its subscribed wide area network through a wireless local area network or etc. The mobile device may be only one of various mobile devices that send information updates to the server . Therefore the server may maintain or may be integrated with an aggregated geotagged statistics database a network information database and a mobile device information database . The mobile device information database may contain information about the antenna types employed in a given mobile device and in some embodiments this information may be reported to the server by the mobile devices in an information update . The geotagged statistics database may contain MIMO conditioner values or antenna correlation values that have been collected from various reporting mobile devices. This information may be collected and aggregated by the server such that antenna correlation for any mobile device entering a given geo location may be predicted by referencing the statistics of the geotagged statistics database . In one embodiment the server is a cloud based server that resides in the Internet along with the various databases. The databases may also be cloud based and may be distributed among several physical locations.

The aggregated geotagged statistics database is used by the server to create various mappings of network performance metrics to geographic locations and to infer network topographies for such regions including inferring specific network cell coverage in given regions for various heterogeneous networks. Using these mappings and inferred topographies the server is operative to suggest connectivity and or other services to mobile devices in order to optimize data throughput battery life and other performance characteristics of the mobile devices. More particularly by receiving information updates from the mobile device and from other mobile devices the server is operative to construct and maintain the geotagged statistics database for the purpose of improving the connectivity and or data throughput of mobile devices as the mobile devices move through various geographic locations having different levels of RF coverage and varying levels of service. Therefore the server is operative to predict antenna correlation for a given mobile device based on statistics data and to suggest antenna adjustments to subscribed mobile devices in order to improve antenna correlation and to help the mobile device obtain better throughput.

The various embodiments have described methods and apparatuses for estimation of antenna correlation for a mobile device. It is to be understood that various applications of the antenna correlation estimation described herein may be used to improve performance of a mobile device and that these various applications are contemplated by and are within the scope of the present disclosure. Therefore while various embodiments have been illustrated and described it is to be understood that the invention is not so limited. Numerous modifications changes variations substitutions and equivalents will occur to those skilled in the art without departing from the scope of the present invention as defined by the appended claims.

