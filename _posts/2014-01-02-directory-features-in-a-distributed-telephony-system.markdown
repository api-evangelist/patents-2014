---

title: Directory features in a distributed telephony system
abstract: A telephony system is presented that enables a phone to access a directory and use the directory in conjunction with other phone functions. The system includes a server with a telephony management software (TMS) unit, a telephony application programming interface (TAPI) unit, and an application unit. The application unit includes a control module, a function module, a filter module, a presentation module, a phone interface module, and a storage interface module. A server sends a signal to a phone regarding the contents of a directory. A server also enables a user to navigate through the directory, filter the directory, and perform call functions on phone numbers associated with directory entries.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09509841&OS=09509841&RS=09509841
owner: Shortel, Inc.
number: 09509841
owner_city: Sunnyvale
owner_country: US
publication_date: 20140102
---
This application is a continuation of and claims priority under 35 USC 120 to U.S. application Ser. No. 11 110 293 filed Apr. 19 2005 entitled Directory Features in a Distributed Telephony System the contents of which are incorporated herein by reference in its entirety.

Applicants hereby rescind any disclaimer of claim scope in the parent application namely U.S. application Ser. No. 11 110 293 or the prosecution history thereof and advise the US Patent and Trademark Office USPTO that the claims in this continuation application may be broader than any claim in the parent application. Accordingly Applicants notify the USPTO of a need to re visit the disclaimer of claim scope in the parent application and to further re visit all prior art cited in the parent application including but not limited to cited references over which any disclaimer of claim scope was made in the parent application or the prosecution history thereof. See PLC 479 F.3d 1313 Fed. Cir. 2007 . Moreover any disclaimer made in the current application should not be read into or against the parent.

This invention relates generally to distributed telephony and more particularly to features associated with a directory accessed using a phone

Telephones have been in use for over a century. Over that time the length of each telephone number in addition to the total amount of telephone numbers has steadily increased. As a result callers have had to use more and longer phone numbers.

A caller will often know the name of the person she wants to reach but not his phone number. In order to determine the phone number the caller can consult a directory or phone book which lists people s phone numbers in order based on their names. Initially such directories existed in paper form. Later they became available via automated voice messaging systems such as voicemail . Recently directories have become electronic such as software applications running on a computer or personal digital assistant PDA .

While a caller can use various devices to access an electronic directory it is most convenient if she can use her phone to access the directory. For example the caller could use her phone to determine a person s phone number and then use the phone again to call the person or execute another desired function. What is needed is a directory that can be accessed using a phone and that is integrated with other phone functions such as Dial Transfer Conference Pickup Park and Unpark.

Computer integrated functionality is implemented using a server in a distributed telephony environment. The server includes a telephony management software TMS unit a telephony application programming interface TAPI unit and an application unit which are communicatively coupled. The server is coupled to one or more endpoints such as analog phones IP based phones and software phones. The server is also coupled to one or more software applications that control these endpoints. These software applications can be for example desktop software applications employed by end users to perform specific tasks or server side applications that enable higher levels of functionality.

In one embodiment an application unit enables a phone to access a directory and use the directory in conjunction with other phone functions. The application unit can include several interconnected modules such as a control module a function module a filter module a presentation module a phone interface module and a storage interface module.

A phone is associated with a directory. In one embodiment a directory includes one or more entries an entry includes one or more fields and a field includes no more than one value. A server receives a directory request from the phone and sends a signal to the phone. This signal causes the phone to display information from the directory. In one embodiment the phone displays one or more field values of one or more directory entries. For example the phone displays for each directory entry the person s name and phone number.

In one embodiment the directory is integrated with other phone functions such as Dial Transfer Conference Pickup Park and Unpark. In this embodiment a user can specify a directory entry and a call function in either order and the call function will be performed using a phone number from the directory entry. For example a user can navigate to a directory entry and then instruct the phone to dial a phone number from the entry. Similarly a user can navigate to a directory entry and then instruct the phone to transfer an active or held call to a phone number from the entry.

In one embodiment a phone enables a user to filter the directory so that only information from particular entries is displayed. In general a user can filter the directory by specifying one or more filters for one or more fields of an entry. Then only information from entries matching those criteria will be displayed. In one embodiment a filter comprises one or more characters where a character can be a digit 0 9 an asterisk or a hash mark . In one embodiment an entry satisfies a filter if a field value of the entry begins with the filter. In order to accommodate field values with alphabetic characters in one embodiment a numeric filter character between 2 and 9 inclusive matches not only that number but also the alphabetic characters that are usually on the corresponding phone key. For example the filter character 2 matches not only 2 but also a b and c .

Further features of the invention its nature and various advantages will be more apparent from the accompanying drawings and the following detailed description.

The present invention is now described more fully with reference to the accompanying figures in which several embodiments of the invention are shown. The present invention can be embodied in many different forms and should not be construed as limited to the embodiments set forth herein. Rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the invention to those skilled in the art.

One skilled in the art will recognize that methods apparatus systems data structures and computer readable media implement the features functionalities or modes of usage described herein. For instance an apparatus embodiment can perform the corresponding steps or acts of a method embodiment.

A phone enables a user to access a directory. A directory comprises one or more entries and an entry comprises one or more fields. In one embodiment entry fields for a person fall into three categories name fields e.g. first name middle name last name work fields e.g. company name phone number cell phone number fax number pager number street address and email address and personal fields e.g. phone number cell phone number fax number pager number street address and email address . In one embodiment a field can have no more than one value and this value can be a string of characters including e.g. letters numbers and or symbols .

In one embodiment when a user accesses the directory the phone displays a portion of the directory. For example the phone displays information from one or more entries. This information can be an entire entry or a portion thereof e.g. the values of only the name fields or the values of only the name fields and work phone number field . If the directory has too many entries for all of their information to be displayed at once the user can navigate within the directory so that information from different directory entries is displayed. If an entry contains more information than that which is displayed the user can select the entry to view the additional information.

In one embodiment directory access via phone can be customized in various ways. This includes for example which information is displayed for each entry e.g. which fields and which directory should be accessed e.g. if more than one were available . Customizations can be specified for example by using the device itself or by using a software application that runs on a general purpose computer such as a server.

In one embodiment the directory is integrated with other phone functions. For example if a directory entry is selected a phone number from the entry can be automatically input into a phone function such as Dial Transfer Conference Pickup Park or Unpark. Since the phone number is input automatically it is unnecessary for the user to enter it herself. In one embodiment the user first navigates to an entry and then specifies a function. For example the user can navigate to an entry and then instruct the phone to dial a phone number in that entry. In another embodiment the user first specifies a function and then navigates to an entry. For example the user can instruct the phone to transfer a call and then navigate to an entry containing a phone number. The call will then be transferred to that phone number.

If the directory contains several entries it can be time consuming to navigate to the desired entry. In one embodiment a phone enables a user to filter the directory so that only information from particular entries is displayed thereby decreasing the size of the directory portion that is available for navigation. For example the directory could be filtered to display only information from entries where the person s first name starts with the letter M. As another example the directory could be filtered to display only information from entries where the person works at a specific company. In general a user can filter the directory by specifying one or more filters for one or more fields of a directory entry. Then only information from entries matching those criteria will be displayed. Filtering will be further discussed below.

In general directory features are implemented as follows A directory is stored for example on a server. A phone is associated with the directory. When a user provides input to the phone e.g. via a touchscreen microphone dedicated key or soft key a signal is sent from the phone to a server. This server may or may not contain the associated directory. The signal causes the server to perform certain actions. These actions can include for example sending a signal to the phone e.g. to cause information to be displayed or sending a signal to a switch e.g. to perform a call function e.g. Dial Transfer Conference Pickup Park or Unpark . Specific examples of signals sent from the phone to the server and actions performed by the server will be discussed below.

Enterprises often have several offices or call centers that are located in a plurality of disparate locations. To interconnect all of these sites enterprise telephony systems have been developed. Enterprise telephony systems which comprise a distributed set of voice switches and servers offer enterprise applications enabled by the integration of computer systems with telephony services. The software that supports the computer integrated functionality is generally implemented as a client server environment in which the participants or clients distributed telephony users communicate with a server. Computer integrated features rely not only on a server s application platform but also on the availability of the network that connects the switches servers and application services.

The first site A includes a server a switch A three endpoints analog phone A IP phone and software phone a device running a call manager software application and a storage device . The switch A represents a Voice over Internet Protocol VoIP device to which a number of endpoints can be coupled such as analog phones IP phones and software phones softphones . In the illustrated embodiment the switch A is coupled to the network . The switch A is also coupled to the public switched telephone network PSTN via an analog or digital trunk line e.g. a T1 or E1 interface . In the illustrated configuration the switch A provides an interface for calls originating from or terminating on the PSTN .

An endpoint enables a user to carry on a phone call. Although in the illustrated embodiment the first site A has three endpoints one analog phone A one IP phone and one softphone in other embodiments the first site A has different numbers and types of endpoints. An endpoint is coupled to a switch a server or both.

An endpoint has a user interface to send data to and receive data from a user. The analog phone A has for example a Telephone User Interface TUI that sends data through a speaker and receives data through a microphone and a keypad. The IP phone has for example both a TUI and a graphical user interface that sends data through a display device associated with the IP phone . In one embodiment the IP phone s graphical user interface also receives data from a touchscreen display device associated with the IP phone . The softphone has for example a software application that runs on a computer and sends data through a display device and a speaker and receives data through a microphone a keyboard and a pointing device.

A device running a call manager software application such as a computer controls one or more endpoints with which it is associated. Call manager offers a user an interface through which he can perform call related functions.

Although in the illustrated embodiment the first site A has only one call manager in other embodiments the first site A has a different number of call managers . Also more than one call manager can control the same endpoint. The association between a call manager and an endpoint that it controls is accessed through the server .

The server is configured to implement features or functions of the present invention. The server is coupled to the network and can also be coupled to one or more endpoints such as IP phone and softphone . The server will be further discussed below with reference to .

The storage device contains directory information including directory entries and associations between directories and phones. In one embodiment the storage device also contains information regarding the directory context of a phone. Alternatively this information can be stored in the server . In one embodiment directory context information includes one or more of the following 1 a portion of a directory that is currently available for presentation the portion could include e.g. information from all entries versus information from entries that meet certain criteria 2 a filter if any that was used to determine the entries in 1 3 of the entries in 1 which entries are currently being presented by the phone 4 of the entries in 3 which entry is currently navigated to 5 what call function if any the directory was invoked during. Note that since the directory context specifies the information presented by the phone storing the directory context enables later determination of what information is being presented by the phone.

Also note that directory context information need not include all items 1 5 . For example if the entire directory and the filter 2 are known the directory portion available for presentation 1 can be determined. Directory context information will be further explained below. In the illustrated embodiment the storage device is directly coupled to the server . In an alternate embodiment the storage device is coupled to the server via the network .

One skilled in the art will appreciate that additional networking devices not shown can be added to the first site A for example if needed to support additional endpoints servers or other systems. For example the first site A can include a second switch and an edge router to couple the first site A to the network and to provide local area connectivity for the first and second switches A B. One skilled in the art will also recognize that numerous configurations of switches and communications links are contemplated. For example PSTN links can be coupled to multiple switches at several points within the topology and softswitches can also be used.

The second site B similarly includes an endpoint analog phone B and a switch B. The configuration of the second site B demonstrates that a server is not required for each site. Switch B of the second site B can be managed by server that is illustrated in the first site A. A call can involve more than one switch. For example a call that originates from the PSTN and terminates on an endpoint that is communicatively coupled to switch B of the second site B involves two switches switch A of the first site A and switch B of the second site B. In addition each switch can be managed by a different server .

In one embodiment of the present invention the network is a partially public or a wholly public network such as the Internet. The network can also be a private network or include one or more distinct or logical private networks e.g. virtual private networks or wide area networks . Additionally the communication links to and from the network can be wireline or wireless i.e. terrestrial or satellite based transceivers . In one embodiment of the present invention the network is an IP based wide or metropolitan area network.

Server also includes a memory . The memory includes program instructions or functional units that implement features of the present invention. Specifically the memory includes a telephony management software TMS unit and a telephony application programming interface TAPI unit .

In one embodiment the memory also includes one or more application units that interact with the TMS unit and the TAPI unit to enable a specific computer integrated function. An application unit uses the TAPI unit to exchange data with the TMS unit . The TMS unit is able to communicate with and manage one or more switches. For example with reference to the TMS unit included in the server can manage the switches A B. Through the TAPI unit the TMS unit presents an application with a computer telephony integration CTI view of these switches A B. This allows the application to manage the switches A B. Such switches A B can operate without an associated TMS unit if CTI features are not being used.

In the illustrated embodiment the server includes one application unit directory unit . In general the directory unit enables a phone to access a directory and use the directory in conjunction with other phone functions. The functionality of the directory unit will be further described below with reference to .

In one embodiment directory unit is implemented as a service that interacts with TMS unit . Communication or data exchange between TMS unit and directory unit is further described with reference to . Although directory unit is illustrated as executing on the server directory unit can be distributed among computing devices as is known to one of skill in the art. For example the functionality enabled by directory unit can be implemented in a client server fashion by having the client user s local system such as a general purpose computer or endpoint perform some functions and having the server directory unit perform others. As another example some or all of the functionality enabled by directory unit can be implemented by having a switch perform some or all functions.

The modules include program instructions that can be executed on for example processor to implement the features or functions of the present invention. The modules are typically stored in a memory such as memory . For server the program instructions can be distributed on a computer readable medium or storage device . The computer readable storage device can be available via a public network a private network or the Internet. Program instructions can be in any appropriate form such as source code object code or scripting code.

Directory control module centrally controls the operation and process flow of directory unit transmitting instructions and data to as well as receiving data from each module . Details of its operation will be discussed below with reference to .

Function module assembles a signal to send to a switch that causes the switch to perform a call function e.g. Dial Transfer Conference Pickup Park or Unpark using a specified phone number.

Filter module determines given a filter which entries of a directory satisfy the filter. In one embodiment a filter comprises one or more characters where a character can be a digit 0 9 an asterisk or a hash mark . In one embodiment an entry satisfies a filter if a token of the entry starts with the filter. For example an entry containing the token 123 would satisfy a filter of 1 or 12 but would not satisfy a filter of 23 . In one embodiment the filter character acts as a wild card and matches any token character.

In one embodiment a token is a value of a field in an entry. Recall that in one embodiment a field value is a string of characters including e.g. letters numbers and or symbols . Thus in one embodiment a token is a string of characters. In this embodiment an entry satisfies a filter if a field value of the entry begins with the filter but see below regarding field values that contain alphabetic characters .

A user can specify a filter character in a variety of ways. For example a user can speak the character into a microphone touch the character on a touchscreen or activate a button. In one embodiment a filter character is input using a phone s numeric symbol keys 0 9 . While some of the field values contain only numeric characters e.g. cell phone number some of them also contain alphabetic characters e.g. first name . In order to accommodate field values with alphabetic characters in one embodiment a numeric filter character between 2 and 9 inclusive also matches one or more alphabetic characters. In one embodiment a numeric filter character matches the alphabetic characters that are usually on the corresponding phone key. For example the filter character 2 matches not only 2 but also a b and c . As another example the filter character 3 matches not only 3 but also d e and f .

Recall that an entry can have multiple fields such as name fields work fields and personal fields. The filter 12 used as an example above filters a directory based on the value of only one field. In one embodiment a filter can filter a directory based on the values of multiple fields. In this embodiment the filter character separates a filter into multiple parts one for each token. For example the filter 2 3 is satisfied by an entry that has one field value that starts with a 2 or an a b or c and one field value that starts with a 3 or a d e or f .

In one embodiment a filter is specified one character at a time. In one embodiment as each filter character is received the directory is filtered accordingly. For example if 2 were specified as a filter only information from entries containing a field value that started with a 2 or an a b or c would be displayed. If 3 were then specified the filter would be 23 and only information from entries containing a field value that started with a 2 or an a b or c followed by a 3 or a d e or f would be displayed.

Presentation module assembles a signal to send to a phone that causes the phone to display certain information. In one embodiment this information includes information from one or more directory entries. In another embodiment this information can be localized e.g. using Unicode characters and a Unicode enabled phone .

In one embodiment the signal is determined based in part on directory context information and information from one or more directory entries. This information is stored in storage device and can be accessed by presentation module using storage interface module . Determination of the signal will be further discussed with reference to .

Phone interface module sends data to and receives data from a phone. Phone interface module communicates with the phone either directly or via a switch .

Data sent to a phone is assembled by presentation module and causes the phone to display certain information. Data received from a phone comprises information such as for example a request to navigate through a directory a selection of a directory entry and a request to initiate a function such as Dial Transfer Conference Pickup Park or Unpark . In one embodiment a signal indicates which phone generated it.

Storage interface module accesses information stored in storage device . As described above storage device contains directory information including directory entries and associations between directories and phones and directory context information.

Details of modules will be further explained with reference to . illustrates a block diagram of a portion of a distributed telephony system architecture according to one embodiment of the present invention. The illustrated embodiment of architecture includes one site . Site includes a server an IP phone a switch and a storage device . IP phone is coupled to both server and switch . Server is also coupled to switch and storage device . Server IP phone switch and storage device are similar to how they were described above with reference to .

In one embodiment IP phone includes numeric symbol keys feature keys soft keys a display and a scroll key . is a perspective view of an IP phone showing various features according to one embodiment of the invention. is a plan view partially in section of a portion of the IP phone in showing a display and various keys according to one embodiment of the present invention. In the illustrated embodiment IP phone is a ShorePhone IP 560 Business Telephone manufactured and sold by ShoreTel Inc. of Sunnyvale Calif. In the illustrated embodiment there are twelve numeric symbol keys 0 9 eight feature keys Voice Mail Transfer Options Conference Directory Intercom Redial Hold four soft keys and one scroll key . In one embodiment the functions associated with the soft keys can vary based on configuration permissions and or phone context e.g. whether the phone is off hook whether there is an active call offering and whether a directory is being presented .

In the illustrated embodiment display has a width of twenty four characters and a height of seven lines. Display has a grayscale resolution of 160 by 80 pixels and is also backlit. In one embodiment when IP phone is not displaying a portion of a directory its display includes one or more portions dedicated to display various pieces of information including the user s name and extension number the user s phone number the time and date and the functions currently associated with the soft keys . is a plan view partially in section of a portion of the IP phone in showing a display keys and no information from directory entries according to one embodiment of the present invention. In the illustrated embodiment the display includes one or more portions dedicated to display the user s name and extension number the user s phone number the time and date and the functions currently associated with the soft keys .

After a user requests that a directory be displayed e.g. by providing input via a touchscreen microphone dedicated key or soft key IP phone displays a portion of the directory. is a plan view partially in section of a portion of the IP phone in showing a display keys and information from five directory entries according to one embodiment of the present invention. The display includes one or more portions dedicated to display information from one or more directory entries. Information from an entry can include for example the entire entry or a portion thereof e.g. only the person s name or only the person s name and work phone number .

In the illustrated embodiment an entry includes the following information first name last name work phone number home phone number cell phone number fax phone number pager phone number and email address. In the illustrated embodiment IP phone displays the following information from an entry first name and last name. In one embodiment the information from a field can be truncated if it is too long. In the illustrated embodiment IP phone displays information from five entries.

If multiple entries are presented a user can navigate among them e.g. by using a scroll key . In one embodiment when an entry has been navigated to its appearance is modified by for example adding an icon adjacent to the entry information or modifying the display of the entry information. In the illustrated embodiment information from the entry that has been navigated to appears as light text on a dark background while information from other entries appears as dark text on a light background.

If more entries exist than are currently being presented one or more scroll arrows will appear in the display . For example if there are previous entries e.g. when the entries are in alphabetical order an up scroll arrow will appear. If there are later entries a down scroll arrow will appear. A user can then navigate using the scroll key to view information from different entries.

In one embodiment IP phone includes keys for example feature keys or soft keys associated with the directory. In one embodiment when a directory entry has been navigated to activating one of these keys will perform a call function using the phone number of the selected directory entry. For example activating Dial will dial this phone number. As another example activating Transfer will transfer a call to this phone number. Activating Conference will conference in this phone number and activating Park will park a call at this phone number. In one embodiment if the selected entry includes multiple phone numbers e.g. a work phone number and a home phone number those numbers will be displayed and the user will be prompted to select one.

In one embodiment IP phone includes soft keys associated with the directory. Note that when the directory is not displayed as in the functions currently associated with the soft keys are Pickup Unpark WrapUp and Mode. When the directory is displayed as in the functions associated with the soft keys are Dial Intcom Intercom Speed and Cancel. These functions are associated with the directory entries. For example if a directory entry has been navigated to activating the Dial soft key will dial the phone number of the selected entry. Activating the Intcom soft key will dial the phone number and automatically connect the caller to the callee s speakerphone. Activating the Cancel soft key will exit the directory.

The previous paragraphs discussed first navigating to an entry and then specifying a call function. But it is also possible to first specify a function and then navigate to an entry. In this situation the user would activate a key for example feature keys or soft keys associated with the desired function. Then when prompted for the phone number the user would request a directory. As a result the directory would be displayed. In one embodiment call functions that can use a directory in this way include Transfer Conference Intercom Pickup Unpark and Park.

Before the method of begins server in site receives a signal from IP phone that indicates that the user has requested a directory e.g. via a touchscreen microphone dedicated key or soft key . Directory control module then stores the directory context using storage interface module .

As discussed earlier in one embodiment the directory context includes one or more of the following 1 a portion of a directory that is currently available for presentation the portion could include e.g. information from all entries versus information from entries that meet certain criteria 2 a filter if any that was used to determine the entries in 1 3 of the entries in 1 which entries are currently being presented by the phone 4 of the entries in 3 which entry is currently navigated to and 5 what call function if any the directory was invoked during.

This information can be determined as follows In one embodiment when a user requests a directory the directory is initially not filtered. Thus information from all entries is available for presentation and 1 comprises all entries in the directory. Not filtering the directory is equivalent to filtering it using a wildcard character which matches any value so 2 comprises the string where is a wildcard character . When a user requests a directory it is assumed that no portion of the directory is currently being presented. Thus the portion of the directory that is currently being displayed 3 is equal to the null string as is the entry that is currently navigated to 4 . Finally if the input received from the user prior to the directory request was a call function invocation such as e.g. Dial Transfer Conference or Park the identity of the function 5 is stored. Otherwise a null string is stored.

Directory control module uses presentation module to create a signal to send to the phone. As discussed above this signal instructs the phone to display information. The information is determined based on directory information the identification of a directory and the directory s contents directory context and possibly an additional value which will be discussed below. Here there is no additional value so the information is determined based on directory information and directory context. Specifically directory control module determines that of 1 the phone should present information from the first five entries since no entries were previously being presented and information from only five entries can be displayed at once. In one embodiment the first entry is automatically navigated to.

Directory control module uses storage interface module to modify the directory context using storage interface module as necessary. For example the directory context can be modified to reflect one or more of the following 1 a portion of the directory that is currently available for presentation 2 a filter that was used to determine the entries in 1 3 of the entries in 1 which entries are currently being presented by the phone 4 of the entries in 3 which entry is currently navigated to and 5 what call function the directory was invoked during. Directory control module uses phone interface module to send the assembled signal to the phone. This signal causes the phone to present to the user a directory or a portion thereof . Examples of directory presentations were discussed above with reference to .

Directory control module instructs phone interface module to wait for a signal from the phone. When a user navigates between directory entries e.g. by activating a scroll key a navigation signal is sent from the user s phone to server . When this signal is received directory control module uses presentation module to create a signal to send to the phone. Again this signal instructs the phone to present information. Here however the information is determined based on which entries are currently being presented part 3 of directory context which entry is currently navigated to which entries are available for presentation either part 1 of directory context or a combination of an entire directory and a filter part 2 of directory context and an additional value which here is the navigation signal e.g. up or down .

For example if the signal is down the entry following the currently navigated entry will be navigated to. As a result the appearances of the previously navigated to entry and the newly navigated to entry will change. If the previously navigated to entry was presented last on the display e.g. the fifth of five presented entries the next entry available for presentation is determined and the information presented is scrolled such that the first presented entry is removed the second through fifth presented entries are moved up and the next available entry is shown in fifth position. If the signal is up the entry preceding the currently navigated to entry will be navigated to. As a result the appearances of the previously navigated to entry and the newly navigated to entry will change. If the previously navigated to entry was presented first on the display e.g. the first of five presented entries the preceding entry available for presentation is determined and the information presented is scrolled such that the fifth presented entry is removed the first through fourth presented entries are moved down and the preceding available entry is shown in first position.

When a user enters a filter symbol e.g. by activating a 0 9 or key a filter signal is sent from the user s phone to server . When this signal is received directory control module modifies the directory context using storage interface module to reflect the filter part 2 of directory context . Directory control module also uses presentation module to create a signal to send to the phone. Again this signal instructs the phone to present information. Here however the additional value is the filter signal. In this situation presentation module uses filter module to filter the entries available for presentation part 1 of directory context . Presentation module then determines a set of five or fewer entries to display. In one embodiment these entries are the first five or fewer entries in the list of filtered entries available for presentation.

When a user selects a directory entry e.g. by activating a Select soft key a select signal is sent from the user s phone to server . For example when a user has been prompted for a phone number for a call function and has requested a directory the directory is presented and the user selects an entry. A select signal is sent to server that identifies the selected entry. Control reverts back to the function screen the screen that initially prompted the user for a phone number where the phone number is automatically filled in using the phone number of the selected entry. The function can be determined based on the directory context specifically part 5 . Directory control module ends execution.

When a user selects a call function e.g. by activating a Dial or Intcom soft key a function signal is sent from the user s phone to server . For example when a user has requested a directory without having been prompted for a phone number the directory is presented and the user navigates to an entry. The user then specifies a call function to execute e.g. by activating a soft key . A function signal is sent to server that identifies the selected entry and the call function. Directory control module uses function module to assemble a signal to send to the switch that performs the call function using the phone number of the selected entry and the specified function.

Directory control module also uses presentation module to create a signal to send to the phone. Again this signal instructs the phone to present information. Here however the additional value is the filter signal. In this situation presentation module uses filter module to filter the entries available for presentation part 1 of directory context . Presentation module then determines a set of five entries to display. In one embodiment these entries are the first five entries in the list of filtered entries available for presentation.

When a user exits the directory e.g. by activating a cancel key a cancel signal is sent from the user s phone to server . When this signal is received directory control module ends execution.

Having described embodiments of a server with directory capabilities for a distributed telephony system which are intended to be illustrative and not limiting it is noted that modifications and variations can be made by persons skilled in the art in light of the above teachings. It is therefore to be understood that changes can be made in the particular embodiments of the invention disclosed that are within the scope and spirit of the invention as defined by the appended claims and equivalents.

