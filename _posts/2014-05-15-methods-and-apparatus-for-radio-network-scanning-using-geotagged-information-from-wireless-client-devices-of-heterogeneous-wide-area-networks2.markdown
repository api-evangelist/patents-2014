---

title: Methods and apparatus for radio network scanning using geo-tagged information from wireless client devices of heterogeneous wide area networks
abstract: A method includes collecting roaming connectivity information for a plurality of wide area networks from a plurality of mobile devices, independently of the wide area networks, receiving the roaming connectivity information at a server and relating the connectivity information to the wide area networks and to a plurality of geographic locations to create a roaming network connectivity information database, generating a list of candidate wide area networks to serve as roaming networks for a specific mobile device and a given location based on the roaming connectivity information, and sending a preferred roaming list to the specific mobile device, the preferred roaming list including the list of candidate wide area networks. The method may include receiving location prediction information from the mobile device, and generating the list of candidate wide area networks based on a predicted location.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09603003&OS=09603003&RS=09603003
owner: Google Technology Holdings LLC
number: 09603003
owner_city: Mountain View
owner_country: US
publication_date: 20140515
---
The present application claims priority to U.S. Provisional Patent Application No. 61 948 075 filed Mar. 5 2014 entitled METHODS AND APPARATUS FOR RADIO NETWORK SCANNING USING GEO TAGGED INFORMATION FROM WIRELESS CLIENT DEVICES OF HETEROGENEOUS WIDE AREA NETWORKS which is hereby incorporated by reference herein in its entirety and which is assigned to the same assignee as the present application.

The present disclosure relates generally to wireless networks and mobile devices and more particularly to mobile device acquisition of a preferred roaming list PRL containing public land mobile network PLMN information for various PLMNs.

A mobile device user is often a subscriber to a wide area network owned and operated by a given network operator or carrier that owns the associated network infrastructure. The wide area network serves as a home network for the mobile device. Mobile devices that move outside of the coverage area of their respective home networks often utilize roaming services that enable a mobile device to connect to various public land mobile networks PLMNs which are wireless wide area networks WANs that provide mobile device service for a given geographic location. Some geographic locations may be served by more than one PLMN such that a mobile device user may have a choice as to which PLMN is preferable. In most cases a mobile device is subscribed to a single PLMN and that PLMN determines which other PLMNs are preferred for its customer mobile devices based on contractual arrangements existing between these PLMN entities. In other business models a mobile virtual network operator MVNO may provide mobile devices with services using various PLMNs where the MVNO entity contractually purchases or leases access to network resources on the various PLMNs without owning any of the network infrastructure. A mobile device may access a PLMN either automatically or manually by selecting it from a preferred roaming list PRL stored within the mobile device such as in memory or on a subscriber identity module SIM card. A mobile device may obtain a PRL from its subscribed PLMN i.e. home network or from an MVNO and may scan for available PRL PLMNs in the location of the mobile device when the mobile device is roaming i.e. when outside of the home network coverage area anytime that coverage from the home PLMN is lost or when the mobile device is powered on. A mobile device using an MVNO business model must also conduct scanning at various times such as when the mobile device is powered on etc.

One issue that arises when scanning to find PRL networks in a multi radio networking scenario is that the mobile device will attempt to scan for all the bands because some of the preferred PLMNs may not be found. Such complete scans can take as much as 12 minutes and can cause extensive battery drain with no resulting service to the end user. In addition even when a PRL is available for a wireless service provider who own multiple bands and multiple radio frequencies such as but not limited to an MVNO overhead is involved in finding a suitable PLMN on which to camp. This complexity is further increased for a global roamer who moves between countries where wireless network providers utilize a multiplicity of bands and frequencies.

Briefly the disclosed embodiments include a server that collects PLMN connectivity information for various heterogeneous PLMNs by obtaining PLMN connectivity information observed by individual mobile devices independently of the specific PLMN to which any particular mobile device is subscribed. The information collected is tagged to specific geographic locations i.e. geo tagged such that it may be utilized by other mobile devices at any given location to expedite identification of a suitable PLMN on which to camp.

A preferred roaming list PRL service function which may be resident on the server acts to anticipate connectivity band and frequency information for a given mobile device at a given location rather than only providing a PLMN ID as is done in existing systems. The PRL service function may also use predicted travel path information for a mobile device to provide that mobile device with customized suggestions of one of more PLMNs that may be selected. That is the PRL service function generates customized user specific PRLs based on location and other conditions of a specific mobile device.

In accordance with the embodiments each mobile device independently collects information such as but not limited to the band frequency cell etc. on each PLMN on which the mobile device camps appropriately geo tags the information and provides the information to a server. The collected information may also include among other things the overall quality and cost such as but not limited to cost in mobile device current drain for a camped on cell or other useful information.

The server stores and holds the information from the multiple mobile devices and for multiple PLMNs. The stored information may include among other things PLMN identification information PLMN cell identification frequency band information and information regarding the overall quality obtained by the mobile devices reporting on the respective connectivity. The server maintains the collected information and may sort the collected information using any suitable criteria such as but not limited to the overall quality obtained using a given PLMN at a given location. This information may then be made available to other mobile devices using a predictive application such as but not limited to an intelligent personal assistant. The intelligent personal assistant includes the capability to predict the flight or route information for a specific mobile device user.

Based on a current location and an expected location for a mobile device a user specific prioritized PRL is generated and sent to the mobile device. This PRL could be sent automatically or may be downloaded on demand at the mobile device. The mobile device may thus use the PRL to prune the PLMNs that the device looks for while doing full system scans. For a mobile device that supports multiple PLMNs in an MVNO scenario the PRL allows the mobile device to locate a PLMN and camp on an appropriate cell within a few seconds.

The disclosed embodiments provide various methods of operation and also provide a server that includes a PRL service function a network transceiver operative to provide a connection to the Internet a network statistics database and at least one processor operatively coupled to the network transceiver and to the network information database. The at least one processor is operative to perform operations in accordance with the methods described briefly above and more fully below.

Turning now to the drawings illustrates various mobile devices and various heterogeneous wide area networks which may also be referred to as public land mobile networks PLMNs . Each of these various heterogeneous wide area networks or PLMNs is operatively coupled to the Internet via an appropriate backhaul connection and is operative to provide Internet access to one or more subscribed mobile devices. Any one of the plurality of mobile devices may be a subscriber to any one of the heterogeneous wide area networks or may be a customer of an MVNO mobile virtual network operator . An MVNO may provide a mobile device with access to resources on one or more of the wide area networks . The plurality of mobile devices change location dynamically such that they may at times be outside of the radio coverage area of any particular wide area network and therefore may no longer be able to establish a connection for voice or data communication with their subscribed wide area network . This scenario is referred to as roaming in that the mobile device must then become a visitor on a different not subscribed to PLMN i.e. a visited network also visited PLMN or VPLMN . Each one of the mobile devices is able to form a radio connection with its respective wide area network via a wireless radio link that uses the access technology appropriate for the particular wide area network . Some of the mobile devices may be capable of using two or more wireless radio link technologies i.e. access technologies to access the various wide area networks . Also some of the wide area networks may be capable of using two or more wireless radio link technologies.

In accordance with the embodiments each one of the mobile devices may communicate with a server and an associated PRL service function using the mobile device s subscribed wide area network or using a visited network when accessible and by way of the appropriate backhaul connection which provides connectivity to the Internet . The server in accordance with the embodiments may be a cloud based server and may also be a distributed server within the Internet . The server provides a preferred roaming list PRL service which is facilitated by the PRL service function . The PRL service function is operative to provide any mobile device of the mobile devices with a customized mobile device specific PRL which is an alternative to a PRL that may otherwise be obtained from each mobile device home network.

In accordance with the embodiments some of the mobile devices will collect connectivity information also referred to herein as roaming connectivity information with each of the mobile devices collecting the connectivity information from one or more of the wide area networks as the mobile devices move through different geographic areas that have radio frequency RF coverage from respective one or more of the wide area networks . That is any of the mobile devices may collect connectivity information at a particular time and at a particular geographic location based on the existence of radio coverage at that location. The mobile devices that have collected this connectivity information will also send the collected connectivity information to the server from time to time. The mobile devices may collect connectivity information based on either having camped on a cell of a given wide area network or based on having established a voice or data connection using the network either as a subscriber or as a visitor such as when roaming. A mobile device is considered to have camped on a cell when the mobile device completes a cell selection or reselection process and has selected a cell from which it may receive available services. The cell on which such a mobile device camps on is referred to as a serving cell. The wide area network may or may not have knowledge of the camped mobile device.

Cells of a wide area network are associated with a base transceiver station and usually refer to one or more radio coverage sectors which are implemented using radio antennas connected to the base transceiver station having various beam widths such that the antenna radiation pattern covers an intended area. In ellipses are used to represent the radio coverage areas or sectors of a three sector cell. It is to be understood that the radio coverage areas are not actually elliptical but that ellipses are used for purposes of explanation. As one example three antennas may each have a 120 beam angle such that three 120 sectors cover an area surrounding a cell tower. Antenna down tilts and base station transceiver power settings further determine the actual radio coverage provided by the cell. Mobile devices are roaming i.e. outside of their respective home network radio coverage areas and are camped on a cell sector . In accordance with the embodiments the mobile devices send roaming connectivity information to the server using an Internet connection. The PRL service function parses and stores the roaming connectivity information and associates it with wide area network for future reference in generating PRLs. The PRL service function may also prioritize the wide area networks listed in the PRL in some embodiments. The roaming connectivity information may include among other things PLMN identification information PLMN cell identification information frequency band information and information regarding the overall quality obtained by the mobile devices reporting on the respective connectivity. The quality information may include various quality indicators based on known quality metrics used for assessing wireless network connectivity and may be voice quality metrics data connectivity metrics etc. or combinations thereof.

In the example of another mobile device which may still be within the coverage area of its respective home network receives a PRL from the server also over an Internet connection. In accordance with the embodiments the PRL may be sent to the mobile device automatically or upon request of the mobile device.

Each of the mobile devices that send roaming connectivity information are also subscribed to the PRL service provided by the server and PRL service function in accordance with the embodiments. Accordingly the server manages creates and promulgates PRLs based on time and geographic locations and additional criteria in some embodiments. The server may also use one or more weighting algorithms to prioritize PLMNs of the promulgated PRLs. For example the server may provide ratings for each PLMN related to data rates achieved RF coverage strength various quality indicators etc. or some combination of such ratings. In other words the rating for any specific wide area network may change per location time etc. and may be different for different mobile devices with respect to the customized PRLs.

In accordance with the embodiments each of the mobile devices may send either occasional or periodic updates over its respective subscribed wide area network or over a visited wide area network to the server . These updates provide information related to the current service being provided by the mobile device s respective serving wide area network at specific points in time and at specific geographic locations. Occasional updates may be sent by mobile devices in response to the occurrence of specific predetermined triggering conditions. For example occasional updates may be triggered in some embodiments by changes in radio frequency RF coverage as determined by some RF coverage metric for example signal strength signal to noise ratio signal quality etc. change of location or some other criteria or combinations thereof. In other embodiments the updates may be periodic and may occur at predetermined time intervals. Such periodic updates may also begin in response to one or more trigger conditions such as for example when a mobile device travels out of RF coverage range of its respective home wide area network. Periodic updates are sent according to a schedule of the predetermined time intervals which may be defined by the server and communicated to the mobile devices. In other words occasional updates may only be sent in response to a trigger condition such as when a mobile device camps on a cell of a visited network or otherwise engages the visited network for services such as in the example of mobile devices . Such an occasional update may therefore be considered a one shot operation in that a mobile device will send an update of roaming connectivity information only in response to predetermined triggers. On the other hand although periodic updates may also begin in response to predetermined triggers periodic updates continue to be sent based on the schedule until the mobile device connectivity changes such as when the mobile device returns to its home wide area network. Each of the mobile devices includes a client coordination function that determines when the mobile device will obtain data and when the mobile device will send that data to the server . The mobile device may obtain the data from the mobile device itself or from its serving wide area network or from both. In accordance with the embodiments and as shown in the server maintains a network information database and a mobile device information database that are used to determine customized PRLs for each mobile device subscribed to the PRL service. Data obtained from the mobile device itself may be stored in the mobile device information database while the data obtained from the wide area networks is stored in the network information database . The example embodiment of also provides further details of a server while provides further details of an example embodiment of a mobile device .

In an example mobile device includes at least one internal communication bus which provides operative coupling between the various components. The mobile device components include but are not limited to one or more network transceivers a peer to peer transceiver near field communication logic location detection logic a display a user interface at least one processor a memory and a sensor hub . The sensor hub is operatively coupled to a plurality of sensors which may include thermal sensors proximity sensors accelerometers gyroscopic sensors light sensors etc. The processor is operative to execute at least one wireless protocol stack and various other applications . Each of the various components of the mobile device that are operatively coupled to the communication bus may accordingly send information to or receive information from the processor .

In accordance with the embodiments the processor is also operative to execute a client coordination function . The client coordination function may interact and communicate with a short message service SMS client via APIs application programming interfaces or via other appropriate operative coupling. The client coordination function may also interact and communicate with a device cognition module a data meter a wireless data assessment engine and an intelligent personal assistant via one or more APIs.

The device cognition module is operative to communicate with the sensor hub to obtain data from the plurality of sensors . This data may include information about the position of the mobile device such as whether the mobile device is stationary in a docking station placed flatly on a table surface etc. and other information related to the ambient environment surrounding the mobile device . The location detection logic may also be accessed by the device cognition module to obtain location information for the mobile device . The client coordination function may manage the collection of data by the device cognition module and may determine time intervals or locations at which the device cognition module is to obtain data from the sensor hub and the location detection logic .

The data meter is operative to monitor the one or more network transceivers the peer to peer transceiver or both by way of one or more wireless protocol stacks to determine the data throughput or data rate being achieved for the mobile device at a particular point in time and at specific locations. The wireless data assessment engine may also assess characteristics of a wireless channel formed by the one or more network transceivers and report those characteristics to the client coordination function . These assessed characteristics may be related to voice channels data channels or both. More particularly the wireless data assessment engine is operative to predict poor or sub optimal radio coverage at specific locations either by monitoring internal functions of the mobile device such as those obtained by the sensor hub or by monitoring inputs that may be received from the server as will be discussed in further detail below. The client coordination function collects the above described data from the device cognition module the data meter and the wireless data assessment engine and stores it in a user profile . Some or all of the data contained in the user profile is then subsequently sent to the PRL service function . Therefore a portion of the data contained in the user profile is mobile device operations data which is stored in the mobile device information database and another portion is roaming connectivity information which is stored in the network information database . The client coordination function also obtains location data from the location detection logic and geo tags the data stored in the user profile . Some of the collected data may also be geo tagged by the other components that obtain the data initially such as the device cognition module data meter or wireless data assessment engine . This geo tagging enables the PRL service function to associate the roaming connectivity information and any available mobile operations data with geographic areas and to assemble PRLs for those specific geographic areas. The PRL service function may use the geo tag location information to assemble PRLs for geographic areas at varying levels of granularity. These operations are described in further detail herein below.

Continuing to refer to the mobile device may include various applications one of which may be an intelligent personal assistant . The intelligent personal assistant may predict where the mobile device may be at a future point in time such as by observing the mobile device user s calendar and travel schedule location information along often traveled routes etc. and may provide these predictions to the client coordination function . The client coordination function may therefore receive predictions and other information from the device cognition module the data meter the wireless data assessment engine or the intelligent personal assistant and may use this information to makes various decisions regarding connections formed by the mobile device . More specifically the client coordination function may use predictions from the intelligent personal assistant to determine when to request a PRL and to determine for which geographic locations the PRL should provide information. In one example the client coordination function may receive a prediction or indication from the intelligent personal assistant that the mobile device will be in a European country on a specified date. The client coordination function may request a PRL for the European country so that the PRL is available to the mobile device user when needed. Alternatively the client coordination function may receive destination and route prediction information from the intelligent personal assistant and store it in the user profile . The destination and route prediction information may then be sent to the PRL service function along with roaming connectivity information and mobile operations data. The information stored in the user profile may be restricted by user settings and these settings may also be stored in the user profile. For example the user may restrict the client coordination function use of prediction information and therefore this information may not be sent or may not be used by the PRL service function in that case.

As mentioned previously above a mobile device may request a PRL or may receive PRL updates automatically. However there may be situations where the mobile device has lost or suddenly loses radio coverage from its subscribed to wide area network and therefore cannot establish an Internet connection to request or receive a PRL from the PRL service function . For example in mobile devices may be subscribed to wide area network but are outside of the RF coverage area and unable to establish an Internet connection to communicate with the server . In that case the SMS client may be used by the client coordination function to send a request message to the server to request a PRL so that the mobile device may establish a new wireless connection on a visited wide area network. In accordance with the embodiments the new connection can be obtained through any of the wide area networks including those to which the mobile device is not a subscriber i.e. a visited network. The PRL may also be sent to the mobile device in one or more SMS messages. This PRL is customized for the mobile device in the various embodiments by way of the server and the PRL service function which are illustrated in further detail in .

The server includes at least one processor that is operatively coupled to a network transceiver which enables the server to communicate with the various wide area networks over the backhaul connections . As discussed previously above the server and the PRL service function also maintain the network information database and a mobile device information database which may or may not be integrated onto the server . That is the network information database the mobile device information database or both may be stored on cloud servers remote from the server but that are accessible to the server via network connectivity. In some embodiments the network information database the mobile device information database or both may also be distributed databases that are distributed among multiple cloud servers. In any of these embodiments the processor is operatively coupled to the network information database and to the mobile device information database by using any of various appropriate database interface protocols and network connectivity as needed in embodiments having remotely located or distributed databases. In accordance with the embodiments the processor is operative to execute a PRL service function and a device authentication function . In some embodiments the device authentication function may reside on a different server that is operatively coupled to the server in a manner similar to embodiments using remote or distributed databases. The PRL service function among other things manages the creation of customized PRLs such as PRL and PRL and manages PRL requests from the mobile devices . The PRLs may be created on the fly in response to a request or automatically in accordance with information stored in the mobile device information database and or predictive information that may be received from a specific mobile device intelligent personal assistant . This information may also be stored in the mobile device information database and managed by the PRL service function in accordance with the embodiments. The customized PRLs generated may be constrained by various considerations such as but not limited to technical requirements such as wireless link technology capability of the mobile device contractual requirements of the service provided by server or related to one or more of the wide area networks subscription contract requirements MVNO contract requirements or other requirements and policies etc. That is the PRL service function may utilize as inputs in any combination without limitation PLMN requirements requestor user preferences and requestor user route predictions from the intelligent personal assistant to generate a mobile device specific customized PRL . The PLMN requirements may be stored in the network information database while the requestor user route predictions and requestor user preferences may be received from a mobile device as part of a PRL request or may be obtained from a mobile device subsequent to a PRL request in some embodiments. The requestor user preferences and requestor user route predictions may be stored in the user profile by the client coordination function . The user profile may then be sent to the PRL service function along with or as a part of the request. In other embodiments the requestor user route predictions and requestor user preferences may be sent occasionally or periodically to the PRL service function and may be stored in the mobile device information database and updated by the PRL service function whenever new information is received. In one embodiment sending the user profile to the PRL service function constitutes the request for a PRL.

The network information database contains roaming connectivity information related to all of the heterogeneous wide area networks in accordance with information obtained and collected from the mobile devices . The roaming connectivity information may include but is not limited to network statistics for coverage and data connectivity PLMN IDs PLMN cell IDs frequency and band information data and voice quality metrics access technology employed etc. In other words the network information database serves as a roaming connectivity information database that can be used by the PRL service function to assess roaming connectivity for PLMNs in specific geographic locations. The roaming connectivity information is crowd sourced in that it is collected from various mobile devices independently from the PLMNs themselves and without any PLMN involvement. In other words the server and PRL service function are not part of any PLMN infrastructure but are independent from any specific PLMN. As was discussed above each of the mobile devices occasionally or periodically sends information to the server related to its connectivity and service level obtained from its subscribed to wide area network and any visited wide area networks i.e. roaming networks . That is each of the participating mobile devices also includes the client coordination function and other associated components shown in such that each mobile device s client coordination function manages the collection of such data in cooperation with the PRL service function . For example the PRL service function may determine how and when the data is sent by the mobile devices to the server and may provide each of the mobile devices with scheduling information. Also as discussed previously above the client coordination function may also collect mobile device operations data that is specific to the mobile devices . This mobile device operation data may be stored in the user profile and also sent to the PRL service function along with the roaming connectivity information . The mobile device specific data may be stored in the mobile device information database and used by the PRL service function to generate mobile device specific PRLs that are based on known mobile device status at a given time or on expected mobile device operations based on the specific mobile device operations history. Therefore there are two types of PRLs that may be generated by the PRL service function a PRL based only on the geographic location of a mobile device and network information stored in the network information database or a PRL based on geographic location and network information and additionally a user profile that includes mobile device operations data and history and possibly destination and route prediction information. Put another way a PRL may be location and PLMN related only or may be generated based on location PLMN and mobile device specific knowledge contained in the mobile device information database .

Each one of the mobile devices that participate in collecting and sending roaming connectivity information is subscribed to a PRL service provided by the server in accordance with the embodiments. Upon accessing and subscribing to the service provided by the server each of the mobile devices receives the client coordination function by a download or by a push operation and the client coordination function executable code is stored in memory of each mobile device. In mobile device for example the executable code provides executable instructions that are executable by the processor to execute and run the client coordination function in accordance with the embodiments. The execution of the executable code by the processor may also implement and run the device cognition module data meter and wireless data assessment engine . Also in accordance with the embodiments the memory of the mobile device may store a PRL which may be dynamically updated from time to time by the PRL service function of the server in conjunction with the client coordination function . PRL is location specific and is useful only for the mobile device s most current location. In other words as the mobile device moves from geographic location to geographic location as defined by the PRL service function the PRL will be updated for the specific mobile device location. This updating is done in accordance with the information stored in the mobile device information database which includes the master PRL . The master PRL is a listing of all wide area networks and their respective allowable roaming partners which mobile devices may utilize for specific geographic locations. In some embodiments a mobile device user may also control user roaming settings also referred to as user preferences which may be provided as inputs to a user interface of the client coordination function and which may be stored in the user profile . The client coordination function user interface may be presented to the user on the display of the mobile device . The settings or user preferences may then be sent to the PRL service function and stored in the mobile device information database for use in creating a customized PRL for that mobile device. In the example of the requestor user preferences are used to generate the customized PRL . In other words the PRL service function may take user preferences into account when generating a PRL for a specific user at a specific location.

In some instances the mobile device information database may also store customized PRLs such as PRL which may be generated in advance and which correspond to a specific mobile device and to a specific geographic location. This PRL may be generated in advance based on information received from the mobile device intelligent personal assistant such as destination route or travel predictions that predict that the mobile device user will be at a certain geographic location at a certain time. That is the PRL service function may predictively generate PRLs such that they may be sent automatically to the mobile device for use if and when the predicted conditions for the mobile device actually occur. In some embodiments the predictive PRL may be sent automatically to a mobile device and then subsequently updated as further information is received from the client coordination function of the given mobile device. Also in some embodiments the mobile device may request a PRL by sending a request message to the PRL service function . The request message may be sent in response to a user input user request or may be sent in response to a trigger condition similar to the trigger conditions used for determining when to send updates of roaming connectivity information. As discussed previously above under certain trigger conditions the mobile device may no longer be able to access the home wide area network to request or receive a PRL. In that case the SMS client may be used to send the request and to receive the PRL.

Therefore in the event that a mobile device requires network connectivity to establish a voice or data connection the client coordination function on the specific mobile device may send a request message to the PRL service function located on the server using its home PLMN or using SMS if connectivity to the PLMN is not available. If a PRL currently exists that corresponds to the specific geographic location in which the requesting mobile device is currently located then the PRL service function will send that existing PRL to the mobile device . The mobile device may then use that PRL to tune to a network and camp on an appropriate cell.

In some instances a PRL may not be available for the specific geographic location where the mobile device is currently located. In that situation the PRL service function may send out information update requests to any participating mobile devices that happen to be located in the specific geographic location and attempt to generate a new PRL for that geographic location. These methods of operation may be further understood with respect to the flowcharts provided in through .

In operation block information may be obtained from a mobile device intelligent personal assistant if present on the mobile device and if such information is available. The intelligent personal assistant information may include user route prediction or predictions of when the user will be at a certain geographic location at a certain time. The PRL service function may also use this information to generate customized PRLs for the mobile device user s predicted location. In some embodiments as discussed above previously the mobile device user may control whether or not intelligent personal assistant information is sent by adjusting appropriate user preference settings. The intelligent personal assistant may monitor various other mobile device applications such as but not limited to a calendar application airline flight ticket purchases made through web browsers location detection logic location information history etc. and may thereby predict that the mobile device user will be a specific location at a specific time. The client coordination function may communicate with the intelligent personal assistance using an API and may obtain the predicted location information and predicted time range. The predicted time range may be any suitable time granularity such as months weeks days hours etc. and the location information may be for example global positioning system GPS coordinates or some other type of location coordinates that can be correlated to PLMN RF coverage areas by the PRL service function . The client coordination function may send the predicted time range and location information to the PRL service function such that a custom PRL for the mobile device can be generated for the predicted location. The PRL service function may then send the customized PRL to the mobile device prior to the predicted time range such that the PRL is available to the mobile device if in fact the mobile device user travels to the location during the predicted time range.

In operation block current mobile device location data will be obtained for example by obtaining data from location detection logic and this location data will be used to geo tag roaming connectivity information mobile device operations data or both. In operation block the client coordination function will obtain a PLMN ID frequency and band information for the PLMN on which the mobile device is camped on or from which the mobile device is currently accessing services. All of the information obtained in operation blocks and is then sent by the particular mobile device s client coordination function to the PRL service function located on the server . The information is then stored in the network information database and the mobile device information database accordingly.

Turning to a method of operation of the server in accordance with an embodiment is illustrated. In operation block the server and thus the PRL service function may obtain a request message requesting a PRL from the client coordination function of a mobile device. This request message may be sent via one of the wide area networks or via SMS messages using the SMS client . That is if the mobile device connectivity with its home network is waning or location information indicates that the mobile device will soon be out of RF coverage range SMS may be used to obtain a PRL. In other words in a situation in which a packet bearer is not available to the mobile device SMS service will still be available. In one example the client coordination function may communicate with the SMS client using an API and send an SMS message containing a PRL request message to the PRL service function . The PRL request message will include at least location information and may also include device state information time information or combinations of these. The information included in the PRL request message is formatted by the client coordination function in a format useable by the PRL service function . Regardless of how the PRL request message is sent the PRL service function in decision block will check if roaming connectivity information for the location of the requesting mobile device is available in the network information database . If yes then the PRL service function will check to see if a PRL is available as shown in decision block . If a PRL is available for that location the PRL service function may prioritize the listed PLMNs by applying a weighting algorithm in operation block which may be based on various factors including but not limited to user preference settings mobile device capabilities etc. Further details of methods of operation for prioritization of a PRL are illustrated in through which are described herein below. As a brief example some PLMNs may provide the mobile device with better service options based on the radio access technology where other networks with different or less advanced radio technologies may provide lesser service options and capabilities. Those networks with better service options may therefore be higher weighted and therefore higher prioritized than other PLMNs. However if the service cost is higher for the mobile device user the user s preference settings may cause the PRL service function to place a higher weight on PLMNs that provide a lesser grade of service but at a lower cost to the user.

If a PRL is not available in decision block the method of operation proceeds to operation block in which the PRL service function will search the database for roaming network information and will generate a new PRL. In this case the method of operation will again proceed to operation block and will apply a weighting algorithm if appropriate. The PRL service function will then send the customized PRL to the requestor mobile device in operation block and the method of operation ends as shown. The roaming information provided by the PRL will include among other things PLMN IDs frequency and band information such that the mobile device may rapidly tune to a PLMN cell and proceed to camp on the cell.

Returning to decision block if roaming connectivity information for the location of the requestor mobile device is not available in the network information database the method of operation proceeds to operation block . In operation block the PRL service function sends a roaming connectivity information update request to participating mobile devices that are known to be in a location near the requestor mobile device. This is determined by checking the mobile device information database which is updated on an occasional or periodic basis as was described previously above. In operation block the PRL service function receives the updates and in operation block proceeds to rate the PLMN connectivity and availability for PLMNs serving the location of the requestor mobile device. The PRL service function may also check the master PRL and or the network information database to determine if any PRLs are forbidden by the requestor mobile device s home PLMN. The PLMN ratings in operation block may be performed using any of the information contained in the mobile device information database including user preference settings and the network information database and may include application of weighting algorithms as discussed above.

In operation block the PRL service function creates the PRL that will be sent to the requestor mobile device. The method of operation may then continue to operation block and continue as was described above until the method of operation ends. In other words the PRL service function may apply a weighting algorithm to the newly created PRL as shown in operation block and will send the PRL to the requesting mobile device in operation block etc.

Thus in the various embodiments each mobile device subscribed to the PRL service acts to collect wide area network roaming connectivity information which may include physical layer and data layer connectivity information from various different heterogeneous wide area networks . Put another way the mobile devices act as connectivity information collectors and a data crowd source for the PRL service and are used to create the network information database and the mobile device information database and keep them updated. The server receives the network connectivity information which is related to the specific wide area networks within specific geographic locations. These operations are performed independently and without any involvement of the wide area networks themselves. The PRL service function the mobile device client coordination function or both are operative to use the collected information to determine that data connectivity in a given location is below an acceptable criteria. That is historical information regarding the network connectivity information is stored along with specific mobile device connectivity information which is used to generate network statistics for the various wide area networks . Statistics related to the network may then be stored in the network information database while statistics specific to individual mobile device connectivity may be stored in the mobile device information database . That is the network information database may include a network statistics database. The statistics are determined based on collected information and the calculation and determination of such network statistics may be configured through a user interface to the server and the PRL service function . Likewise the mobile device information database includes a mobile device statistics database for mobile device operations data and connectivity at various locations and times. These statistic determinations and calculations may also be configurable through a user interface to server and the PRL service function similar to the case for the network information database . In other words the views into the collected information may be changed from time to time based on application of various statistical analysis techniques to the collected information. More particularly physical layer and data layer connectivity information collected from the various mobile devices and stored in the network information database is related to the specific wide area networks from which this data is collected and is related to a plurality of geographic locations to create a network statistics database. Thus the network information database may be considered to be a network statistics database.

The PRL service function generates lists of roaming networks to serve as visited networks based on either the network connectivity information and if appropriate also based on specific mobile device information i.e. mobile device operations data and user predictive data. A roaming network may be selected for inclusion on a customize PRL based on a cost metric which may include predicting data requirements at a given time and given location for a specific mobile device by using the mobile device operations data which includes the mobile device history. The master coordination function thus operates to provide a PRL to at least one mobile device located within a given location either in response to a request message from the mobile device or in response to prediction that the mobile device is about to enter into a geographic location having poor RF coverage from a current serving network. The prediction may be facilitated by either the PRL service function the client coordination function or both in cooperation and may use information from the intelligent personal assistant .

The mobile devices may send information to the server that is related to for example wireless quality wireless cost usage context etc. Therefore based on either a mobile device s location or per a request message i.e. on demand by a mobile device the PRL service function may prioritize a set of roaming networks based on a weighting algorithm. The mobile device may thus receive connectivity information from the PRL service function in advance or losing its serving network connectivity. In some embodiments the backhaul traffic conditions for specific roaming networks may also be included in the connectivity information sent to the mobile device in the customized PRL.

In some embodiments a weighting algorithm may take into account radio networking costs and may compute a spectral efficiency metric. For example this may be accomplished using the average CQI reported by the mobile device as per standards. An averaged current drain bits mA metric may also be computed using for example averaged PUSCH Tx Pwr and mapping it against the current drain profile for specific mobile devices based on empirical measurements for some mobile devices and in some embodiments. A radio link quality metric may be computed using the averaged cell signal quality measurements RSRP RSRQ SNR DL BLER CQI UL BLER RXLEV or RXQUAL in a GSM system Echo in WCDMA or any other appropriate metric etc. against pre registered thresholds for each measurement. All of the above example measurements may be reported to the server by each mobile device where the PRL service function acts to rank possible roaming networks based on their generated metrics in real time.

Some examples of how the PRL service function may rank possible roaming networks by using weighting factors are illustrated in through . In operation block the PRL service function will compare PLMN voice quality metric statistics obtained by crowd sourced data sent by the participating mobile devices . The PRL service function may apply a higher weighting factor to those PLMNs that exhibit a given voice quality metric that is better than the voice quality metrics observed for other PLMNs. In operation block a similar approach may be used with respect to data quality metrics observed for the various PLMNs in the crowd sourced data. In operation block the PRL service function may also apply weighting factors based on mobile device operations data. For example the PRL service function may aggregate crowd sourced data related to mobile device power consumption on the various PLMNs. A higher weighting factor may be applied to those PLMNs for which the aggregated mobile device power consumption is relatively low in comparison with power consumption observed for connectivity to other PLMNs. In operation block the connectivity costs of various PLMNs may be compared and weighting factors may be applied by the PRL service function based on these costs. In the example of operation block the costs may relate to actual monetary costs of the connectivity. However the power consumption information used in operation block may also be used as a contribution to a cost function that takes into account mobile device operations data such as but not limited to power consumption. In other words the operation of operation block may be a cost function that takes into account mobile operations data monetary cost of the PLMN connection or any other data that may be suitable for inclusion in a cost function. If operation block is a cost function that includes mobile device power consumption then operation block will be excluded as power consumption will be included in the cost function. In operation block the PRL service function will determine a final weighting score for each PLMN based on operation blocks through and will generate a prioritized PRL accordingly. The method of operation then ends. The method of operation illustrated by relates to generation of a PRL based on location information and roaming network connectivity information contained in the network information database only. A method of operation for generating a customize PRL that includes mobile device operations information stored in the mobile device information database for the specific requesting mobile device is illustrated by the flowchart of .

In operation block the PRL service function may obtain the user profile from a given mobile device. In operation block the PRL service function will examine the user history from the user profile and determine the user s busy hour for voice and data on the given mobile device. For example mobile device operations history may show that the user tends to have high data usage after 6 PM on Monday Wednesday and Friday and may have high voice data usage on Saturdays and Sundays from 1 PM to 3 PM. The PRL service function may use this information to further prioritize PLMNs listed on the customized PRL for that mobile device and user or may restrict the PRL to PLMNs that would be best for the particular time and day of the PRL request based on the user s known voice and data usage history.

In operation block the PRL service function may examine mobile device state information contained in the user profile and determine the power consumption or battery drain status as well as other requirements for the given mobile device. In operation block the PRL service function may examine any user settings contained in the user profile and may determine the user s preference for access technology connectivity cost or other voice or data connectivity requirements. In operation block the PRL service function may obtain mobile device intelligent personal assistant prediction information if it is available and if the user profile user settings allow this information to be obtained. The PRL service function may then determine future user locations time and date and or navigation route for that user. In operation block the PRL service function may then adjust the final weighting score for each PLMN according to the user profile information described in operation blocks through and may generate a prioritized PRL accordingly.

Turning to in operation block the PRL service function may receive a request message requesting a PRL from a given mobile device. As was discussed above previously the user profile may constitute the PRL request in some embodiments. However in other embodiments the user profile will be sent as part of or along with the PRL request. If the user profile is available to the PRL service function as shown in decision block then in operation block the PRL service function will apply the user profile information in determining weighting factors for the PLMNs listed on the customized PRL. If the user profile is not available in in decision block then in operation block the PRL service function will determine PLMN weighting factors using only the roaming connectivity information and the aggregated crowd sourced mobile device operations data and statistics contained in the network information database and the mobile device information database respectively. In other words the PRL service function will not use any mobile device specific mobile device operations data to generate the PRL. When the user profile is available in decision block then operation block as well as operation block will be performed. In either scenario a PRL will be generated for the requesting mobile device as shown in operation block and the PRL will be sent to the requesting mobile device in operation block at which point the method of operation ends.

The actual weighting factors that are applied in the methods of operation illustrated in and may be based on some granular level that is specific to the metrics employed in making the weighting determination. As a possible example a value of 10 may be added or subtracted to an RXQual level or some other metric level between a given predetermined threshold range while a value of five may be added or subtracted for a level between another predetermined threshold range. In other words any appropriate weighting factor or weighting technique may be used however the weighting factors and how those weighting factors are added subtracted or multiplied against the observed metrics will depend upon predetermined thresholds or ranges the metrics themselves and normalization techniques such that the weighted values for each of the weighted metrics can be used to generate a total weighting score that makes sense when compared with the weighting scores of other PLMNs.

While various embodiments have been illustrated and described it is to be understood that the invention is not so limited. Numerous modifications changes variations substitutions and equivalents will occur to those skilled in the art without departing from the scope of the present invention as defined by the appended claims.

