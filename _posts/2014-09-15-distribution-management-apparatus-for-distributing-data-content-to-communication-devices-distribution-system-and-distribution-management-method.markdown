---

title: Distribution management apparatus for distributing data content to communication devices, distribution system, and distribution management method
abstract: A distribution management apparatus includes an acquisition unit that acquires terminal management information that indicates locations of multiple communication terminals, a determination unit that determines cutout position information of video data based on the terminal management information acquired by the acquisition unit and operation data received from any one of the communication terminals, a cutout unit that cuts out multiple pieces of video data from the video data based on the cutout position information determined by the determination unit, and a distribution unit that distributes the video data cut out by the cutout unit to each of the communication terminals based on the terminal management information. The determination unit modifies the cutout position information of the video data based on the operation data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09525901&OS=09525901&RS=09525901
owner: RICOH COMPANY, LTD.
number: 09525901
owner_city: Tokyo
owner_country: JP
publication_date: 20140915
---
This patent application is based on and claims priority pursuant to 35 U.S.C. 119 to Japanese Patent Application No. 2013 191769 filed on Sep. 17 2013 in the Japan Patent Office the entire disclosure of which is hereby incorporated by reference herein.

The present invention relates to a distribution management apparatus a distribution system and a distribution management method.

With the recent spread of the Internet cloud computing has come to be used in various fields. In one example the cloud computing provides a service usage pattern in which users pay to use service cloud service provided by a server on the Internet using a communication terminal connected to the Internet.

In cloud services web content is distributed to multiple communication terminals. For example a distribution system that distributes web content to each of multiple communication terminals is well known.

An example embodiment of the present invention provides a novel distribution management apparatus that includes an acquisition unit that acquires terminal management information that indicates locations of multiple communication terminals a determination unit that determines cutout position information of video data based on the terminal management information acquired by the acquisition unit and operation data received from any one of the communication terminals a cutout unit that cuts out multiple pieces of video data from the video data based on the cutout position information determined by the determination unit and a distribution unit that distributes the video data cut out by the cutout unit to each of the communication terminals based on the terminal management information. The determination unit modifies the cutout position information of the video data based on the operation data.

In describing preferred embodiments illustrated in the drawings specific terminology is employed for the sake of clarity. However the disclosure of this patent specification is not intended to be limited to the specific terminology so selected and it is to be understood that each specific element includes all technical equivalents that have the same function operate in a similar manner and achieve a similar result.

Recently content may be displayed as if the content is displayed on one large screen by dividing the content into multiple pieces and displaying them on multiple terminals. If only a part of the web content is displayed on one communication terminal it is desirable to be able to browse hidden web content using a display control command for example.

In such case while scrolling a display or turning a page on a terminal by operating another terminal it is preferable to change displays on multiple display terminals en bloc.

In the following embodiment in a distribution management apparatus and distribution system that divide content into pieces and display them on multiple terminals it is possible to change displays on the multiple terminals en bloc by operating any terminal.

In the following embodiment a distribution system that converts the web content into video data and sound data using the cloud computing and distributes them to the communication terminals such as personal computers PCs and electronic whiteboards.

As illustrated in the distribution system according to the present embodiment is constructed by a distribution management system a plurality of communication terminals from to a terminal management system and a web server . In the following any communication terminal among the communication terminals from to is represented as a communication terminal . The distribution management system the terminal management system and the web server are all constructed by server computers.

The communication terminal is a terminal used by a user who receives services of the distribution system . The communication terminal is a notebook personal computer PC . The communication terminal is a mobile terminal such as a smartphone and a tablet terminal. The communication terminal is a multifunction peripheral printer product MFP in which the functions of copying scanning printing and faxing are combined. The communication terminal is a projector. The communication terminal is a TV video conference terminal having a camera a microphone and a speaker. The communication terminal is an electronic blackboard whiteboard capable of electronically converting drawings drawn by a user or the like.

The communication terminal is not only such terminals as illustrated in but also may be devices communicable through a communication network such as the Internet including a watch a vending machine a car navigation device a game machine an air conditioner a lighting fixture a camera alone a microphone alone and a speaker alone.

The distribution management system the communication terminal the terminal management system and the web server can communicate with each other through a communication network such as the Internet and a local area network LAN . The communication network includes wireless communication networks such as 3rd Generation 3G Worldwide Interoperability for Microwave Access WiMAX and Long Term Evolution LTE .

The communication terminal like the communication terminal may not have a function of communicating with the other terminals and systems through the communication network . However as illustrated in a user inserts a dongle into an interface of Universal Serial Bus USB or High Definition Multimedia Interface HDMI of the communication terminal thereby allowing it to communicate with the other terminals and systems. is a conceptual view showing the dongle attached to the communication terminal.

The distribution management system has a browser on a cloud acquires video sound data such as H.264 and MPEG 4 using the function of rendering in the browser and distributes the acquired video sound data to the communication terminal .

The terminal management system performs login authentication on the communication terminal and manages the contract information and the like of the communication terminal . The terminal management system is a Simple Mail Transfer Protocol SMTP server for transmitting e mails. The terminal management system can be embodied as for example an imaginary machine developed on a cloud service IaaS Infrastructure as a Service . It is desirable that the terminal management system be operated in a multiplexed manner in order to address unexpected incidents to provide uninterrupted service.

The browser enables real time communication collaboration RTC . The distribution management system has the encoding unit in described below and the encoding unit can perform real time encoding on the frame data output by the browser and output video sound data generated through conversion based on the H.264 standards or the like. As a result the processing of the distribution management system is different from for example a case in which non real time video sound data recorded in a DVD is read and distributed by a DVD player.

In the distribution management system in this embodiment it is possible to reproduce the latest rich web content smoothly by updating the browser without updating the browser that provides content to the local communication terminal .

Applying the above distribution method as illustrated in to the distribution system also can distribute web content data to a plurality of sites as video sound data. Described here are distribution methods illustrated in to .

Thus the same video sound is reproduced at the sites. In this case the communication terminals and do not need to have the same display reproduction capability e.g. the same resolution . The distribution method like this is called for example multicast .

At the first site video sound data acquired by the communication terminal is encoded by an encoding unit and is then transmitted to the distribution management system . After that it is decoded by a decoding unit of the distribution management system and is then input to the browser . Operation data indicating the strokes drawn by the communication terminal with the electronic pen P in this case coordinate data on the display of the communication terminal or the like is transmitted to the distribution management system to be input to the browser . Also at the second site video sound data acquired by the communication terminal is encoded by the encoding unit and is then transmitted to the distribution management system . After that it is decoded by the decoding unit of the distribution management system and is then input to the browser . Operation data indicating the strokes drawn by the communication terminal with the electronic pen P in this case coordinate data on the display of the communication terminal or the like is transmitted to the distribution management system to be input to the browser .

The browser acquires for example web content data A as a background image displayed on the respective displays of the communication terminals from the web server . The browser combines the web content data A operation data p p and video sound content data E E and renders them thereby generating pieces of frame data as pieces of still image sound data in which the respective pieces of content data A p p E E are arranged with a desired layout. The encoder bridge unit encodes the pieces of frame data and the distribution management system distributes video sound data indicating the same content U p p E E to both sites. At the first site thereby video A p p E video part and E video part are displayed on the display of the communication terminal and a sound E sound part is output from the speaker of the communication terminal . Also at the second site video A p p E video part and E video part are displayed on the display of the communication terminal and a sound E sound part is output from the speaker of the communication terminal . At the first site the sound of the site itself E sound part is not output owing to an echo cancelling function of the communication terminal . At the second site the sound of the site itself E sound part is not output owing to an echo cancelling function of the communication terminal .

Thus at the first site and the second site remote shared processing can be performed that shares the same information in real time at remote sites thus making the distribution system according to the present embodiment effective in a teleconference or the like.

Described first with reference to and is the hardware configuration of the present embodiment. is a hardware configuration diagram of a distribution management system a communication terminal a terminal management system and a web server. is a hardware configuration diagram of a dongle. Because a hardware configuration relating to the communication of the communication terminal is the same as part of the hardware configuration of the communication terminal the description thereof will be omitted.

As illustrated in the distribution management system includes a host CPU that controls the entire operation of the distribution management system a ROM that stores a program used for driving the CPU such as IPL a RAM used as a work area of the CPU an HDD that stores various kinds of data such as programs a hard disk controller HDC that controls the reading and writing the various kinds of data from and into the HDD under the control of the CPU a media drive that controls the reading and writing data from and into a storage medium such as a flash memory a display that displays various kinds of information an I F for transmitting data using the communication network and connecting the dongle a keyboard a mouse a microphone a speaker a graphics processing unit GPU a ROM that stores a program used for driving the GPU a RAM used as a work area of the GPU and a bus line such as an address bus and a data bus for electrically connecting the above components as illustrated in .

It is possible to distribute programs for the communication terminals systems and servers being stored in computer readable storage media such as the storage medium described above in format of installable files or executable files.

Described next with reference to is the hardware configuration of the dongle illustrated in . As illustrated in the dongle includes a CPU that controls the entire operation of the dongle a ROM that stores a basic input output program a RAM used as a work area of the CPU an electrically erasable and programmable ROM EEPROM that performs the reading and writing of data under the control of the CPU a GPU an interface I F for being connected to the interface I F of the communication terminal an antenna a communication unit that performs communications by a short distance wireless technology using the antenna and a bus line such as an address bus and a data bus for electrically connecting the above units. Examples of the short distance wireless technology include the near field communication NFC standards Bluetooth registered trademark wireless fidelity Wi Fi and ZigBee.

Described first with reference to is the functional configuration of the distribution management system . is a functional block diagram illustrating the main functions of the distribution management system. illustrates a functional configuration when the distribution management system distributes video sound data to the communication terminal and the distribution management system has the same functional configuration also when the distribution destination is other than the communication terminal . Although the distribution management system includes a plurality of distribution engine servers described below is a case when a single distribution engine server is included in order to simplify the description.

As illustrated in the distribution management system has functional components illustrated in by the hardware configuration including a processor such as the CPU or the GPU and the programs illustrated in .

Specifically the distribution management system includes the browser a transmitter receiver a browser management unit a transmission first in first out FIFO buffer a time management unit a time acquisition unit a channel adaptive controller the encoder bridge unit a transmitter receiver a reception FIFO a recognition unit a delay information acquisition unit a channel adaptive controller and the decoding unit . The distribution management system further includes a storage unit constructed by the HDD illustrated in . The storage unit stores recognition information described below output from the recognition unit and sent through the browser management unit . The content data acquired by the browser can be temporarily stored in the storage unit as a cache.

Among the above functional components the browser is a browser that operates within the distribution management system . The browser is updated corresponding to the enrichment of web content at all times. The browser has for example Media Player Flash Player JavaScript registered trademark CSS and HTML Renderer. JavaScript includes the standardized product and one unique to the distribution system .

Media Player is a browser plug in for reproducing multimedia files such as video sound files within the browser . Flash Player is a browser plug in for reproducing flash content within the browser . The unique JavaScript is a JavaScript group that provides the application programming interface API of services unique to the distribution system . CSS is a technology for efficiently defining the appearance and style of web pages described in HTML. HTML Renderer is an HTML rendering engine.

The transmitter receiver transmits and receives various kinds of data various kinds of requests various kinds of instructions and the like to and from the terminal management system and the web server . For example the transmitter receiver acquires web content data from a content site of the web server .

The browser management unit manages the browser and the encoder bridge unit . For example the browser management unit instructs the browser to start up and exit and numbers an encoder ID at startup or exit. The encoder ID is identification information the browser management unit numbers in order to manage the process of the encoder bridge unit . The browser management unit numbers and manages a browser ID every time the browser is started up. The browser ID is identification information the browser management unit numbers in order to manage the process of the browser to identify the browser .

The browser management unit acquires various kinds of operation data from the communication terminal through the transmitter receiver and outputs them to the browser . The operation data is data occurring through operation events operations through the keyboard the mouse and the like strokes with the electronic pen P and the like on the communication terminal . When the communication terminal provides various sensors such as a temperature sensor a humidity sensor or an acceleration sensor the browser management unit acquires sensor information that is an output signal of the sensors from the communication terminal and outputs it to the browser . The browser management unit further acquires image sound data from the recognition unit outputs it to the browser acquires recognition information described below from the recognition unit and stores it in the storage unit . The browser management unit acquires video sound data from the reception FIFO and outputs it to the browser .

The transmission FIFO is a buffer that stores the pieces of frame data as pieces of still image sound data generated by the browser .

The time acquisition unit performs time adjustment in conjunction with a time controller in the communication terminal described below. Specifically the time acquisition unit acquires time information T indicating time T in the distribution management system from the time management unit receives time information t indicating time t in the communication terminal from the time controller described below through the transmitter receiver and a transmitter receiver and transmits the time information t and the time information T to the time controller .

The channel adaptive controller which may be referred to as a changing unit calculates reproduction delay time U based on transmission delay time information D and calculates operation conditions such as the frame rate and the data resolution of a converter in the encoder bridge unit . This reproduction delay time U is time for delaying reproduction through the buffering of data until being reproduced. In other words the channel adaptive controller changes the operation of the encoder bridge unit based on the transmission delay time information D and the size of the data e.g. the number of bits or the number of bytes . As described later the transmission delay time information D indicates frequency distribution information based on a plurality of pieces of transmission delay time D acquired from a reproduction controller by a delay information acquisition unit of the communication terminal . The transmission delay time D indicates time from the point when the video sound data is transmitted from the distribution management system to the point when it is received by the communication terminal .

The encoder bridge unit outputs the pieces of frame data as pieces of still image sound data generated by the browser to the converter in the encoder bridge unit described below. In this case the converter also operates based on the operation conditions calculated by the channel adaptive controller . The encoder bridge unit will be described in more detail with reference to and . is a detailed diagram of the encoder bridge unit. is a functional block diagram illustrating the functions of the converter.

As illustrated in the encoder bridge unit is constructed by a generating selecting unit a selecting unit and a plurality of converters provided therebetween. Although the three converters are illustrated here any number of them may be provided.

The converter converts the data format of the pieces of frame data as pieces of still image sound data generated by the browser into a data format of H.264 or the like capable of being distributed to the communication terminal through the communication network . For that purpose as illustrated in the converter includes a trimming unit a resizing unit a dividing unit and the encoding unit . The trimming unit the resizing unit and the dividing unit do not perform any processing on sound data.

The trimming unit performs processing to cut out only part of a still image. The resizing unit changes the reduced scale of a still image. The dividing unit divides a still image as illustrated in .

The encoding unit encodes the pieces of frame data as pieces of still image sound data generated by the browser thereby converting them so that video sound data can be distributed to the communication terminal through the communication network . When the video is not in motion when there is no inter frame update change a skip frame may be sometimes referred to as frame skip is thereafter inserted until the video moves to save a band.

The generating selecting unit generates a new converter and selects pieces of frame data as pieces of still image sound data to be input to a converter that is already generated. In generating it the generating selecting unit generates a converter allowing conversion according to the reproduction capability of video sound data in the communication terminal . In selecting it a converter that is already generated is selected. For example in starting distribution to the communication terminal in addition to distribution to the communication terminal the same video sound data as video sound data being distributed to the communication terminal may be distributed to the communication terminal . In such a case furthermore when the communication terminal has the same reproduction capability as the reproduction capability of video sound data of the communication terminal the generating selecting unit without generating a new converter for the communication terminal utilizes the converter that is already generated for the communication terminal

The selecting unit selects a desired one from the converters that are already generated. The selection by the generating selecting unit and the selecting unit can perform distribution of various patterns as illustrated in .

The transmitter receiver transmits and receives various data requests and the like to and from the communication terminal . This transmitter receiver transmits various data requests and the like to the communication terminal through the communication network from the cloud thereby allowing the distribution management system to distribute various data requests and the like to the communication terminal . For example in the login processing of the communication terminal the transmitter receiver transmits to the transmitter receiver of the communication terminal authentication screen data for prompting a user a login request. The transmitter receiver also performs data transmission and data reception to and from user applications of the communication terminal and device applications of the communication terminal by a protocol unique to the distribution system through a Hypertext Transfer Protocol over Secure Socket Layer HTTPS server. This unique protocol is an HTTPS based application layer protocol for transmitting and receiving data in real time and without being interrupted between the distribution management system and the communication terminal. The transmitter receiver also performs transmission response control real time data generation command transmission reception response control reception data analysis and gesture conversion.

Among these the transmission response control is processing to manage an HTTPS session for downloading requested from the communication terminal in order to transmit data from the distribution management system to the communication terminal . The response of the HTTPS session for downloading does not end immediately and holds for a certain period of time one to a few minutes . The transmitter receiver dynamically writes data to be sent to the communication terminal in the Body part of the response. In order to eliminate costs for reconnection another request is allowed to reach from the communication terminal before the previous session ends. By putting the transmitter receiver on standby until the previous request is completed overhead can be eliminated even when reconnection is performed.

The real time data generation is processing to give a unique header to the data of compressed video and a compressed sound generated by the encoding unit in and write it in the Body part of HTTPS.

The command transmission is processing to generate command data to be transmitted to the communication terminal and write it in the Body part of HTTPS directed to the communication terminal .

The reception response control is processing to manage an HTTPS session requested from the communication terminal in order for the distribution management system to receive data from the communication terminal . The response of this HTTPS session does not end immediately and is held for a certain period of time one to a few minutes . The communication terminal dynamically writes data to be sent to the transmitter receiver of the distribution management system in the Body part of the request.

The reception data analysis is processing to analyze the data transmitted from the communication terminal by type and deliver the data to a necessary process.

The gesture conversion is processing to convert a gesture event input to the communication terminal as the electronic blackboard by a user with an electronic pen or in handwriting into data of a format capable of being received by the browser .

The reception FIFO is a buffer that stores video sound data after being decoded by the decoding unit .

The recognition unit performs processing on image sound data received from the communication terminal . Specifically for example the recognition unit recognizes the face age sex and the like of men or animals based on images taken by a camera for signage. For offices the recognition unit performs name tagging by face recognition and processing of replacing a background image based on images taken by the camera . The recognition unit stores recognition information indicating the recognized details in the storage unit . The recognition unit achieves speeding up by performing processing with a recognition expansion board.

The delay information acquisition unit is used for the processing of upstream channel adaptive control correspondingly to a delay information acquisition unit of the communication terminal for use in the processing of downstream channel adaptive control. Specifically the delay information acquisition unit acquires transmission delay time information d indicating transmission delay time d from the decoding unit and holds it for a certain period of time and when a plurality of pieces of transmission delay time information d are acquired outputs to the channel adaptive controller transmission delay time information d indicating frequency distribution information by a plurality of pieces of transmission delay time d. The transmission delay time information d indicates time from the point when the video sound data is transmitted from the communication terminal to the point when it is received by the distribution management system .

The channel adaptive controller is used for the processing of the upstream channel adaptive control correspondingly to the channel adaptive controller for use in the processing of the downstream channel adaptive control. Specifically the channel adaptive controller calculates the operation conditions of the encoding unit of the communication terminal based on the transmission delay time information d . The channel adaptive controller transmits a channel adaptive control signal indicating operation conditions such as a frame rate and data resolution to the encoding unit of the communication terminal through the transmitter receiver and the transmitter receiver .

The decoding unit decodes the video sound data transmitted from the communication terminal . The decoding unit also outputs the transmission delay time information d indicating transmission delay time d to the delay information acquisition unit

Described next with reference to is the functional configuration of the communication terminal . is a functional block diagram illustrating the main functions of the communication terminal. The communication terminal is a terminal serving as an interface for a user to perform a login to the distribution system start and stop the distribution of video sound data and the like.

As illustrated in the communication terminal has functional components illustrated in by the hardware configuration including the CPU and the programs illustrated in . When the communication terminal becomes communicable with the other terminals and systems through the communication network by the insertion of the dongle as illustrated in the communication terminal has the functional components illustrated in by the hardware configuration and the programs illustrated in and .

Specifically the communication terminal includes a decoding unit the transmitter receiver an operating unit the reproduction controller a rendering unit a time controller the delay information acquisition unit a display unit and the encoding unit . The communication terminal further includes a storage unit constructed by the RAM illustrated in . This storage unit stores time difference information indicating a time difference described below and time information t indicating time t in the communication terminal .

Among these the decoding unit decodes video sound data distributed from the distribution management system and output from the reproduction controller .

The transmitter receiver transmits and receives various data requests and the like to and from the transmitter receiver of the distribution management system and a transmitter receiver of the terminal management system . For example in the login processing of the communication terminal the transmitter receiver performs a login request to the transmitter receiver of the terminal management system based on the startup of the communication terminal by the operating unit .

The operating unit performs processing to receive operation input by a user for example receives input selection or the like with a power switch a keyboard a mouse the electronic pen P or the like and transmits it as operation data to the browser management unit of the distribution management system .

The reproduction controller buffers the video sound data a packet of real time data received from the transmitter receiver and outputs it to the decoding unit considering reproduction delay time U.

The time controller performs time adjustment in conjunction with the time acquisition unit of the distribution management system . Specifically the time controller acquires time information t indicating time t in the communication terminal from the storage unit . The time controller issues a request for time information T indicating time T in the distribution management system to the time acquisition unit of the distribution management system through the transmitter receiver and the transmitter receiver .

In this case the time information t is transmitted concurrently with the request for the time information T .

The delay information acquisition unit acquires from the reproduction controller transmission delay time information D indicating transmission delay time D and holds it for a certain period of time and when a plurality of pieces of transmission delay time information D are acquired outputs transmission delay time information D indicating frequency distribution information by a plurality of pieces of transmission delay time D to the channel adaptive controller through the transmitter receiver and the transmitter receiver . The transmission delay time information D is transmitted for example once in a hundred frames.

The encoding unit transmits video sound data E that is acquired from a built in microphone or the camera and a microphone which are externally attached and is encoded time information t indicating the current time to in the communication terminal acquired from the storage unit and the time difference information indicating the time difference acquired from the storage unit to the decoding unit of the distribution management system through the transmitter receiver and the transmitter receiver .

The encoding unit changes the operation conditions of the encoding unit based on the operation conditions indicated by the channel adaptive control signal received from the channel adaptive controller . The encoding unit in accordance with the new operation conditions transmits the video sound data E that is acquired from the camera and the microphone and is encoded the time information t indicating the current time tin the communication terminal acquired from the storage unit and the time difference information indicating the time difference acquired from the storage unit to the decoding unit of the distribution management system through the transmitter receiver and the transmitter receiver .

The built in microphone the externally attached camera and the microphone and the like are examples of an inputting unit and are devices that need encoding and decoding. The inputting unit may output touch data and smell data in addition to video sound data.

The inputting unit includes various sensors such as a temperature sensor a direction sensor an acceleration sensor and the like.

Described next with reference to is the functional configuration of the terminal management system . is a functional block diagram illustrating the functions of the terminal management system.

As illustrated in the terminal management system has functional components illustrated in by the hardware configuration including the CPU and the programs illustrated in .

Specifically the terminal management system includes the transmitter receiver a transmitter receiver and an authentication unit .

The terminal management system further includes a storage unit constructed by the HDD illustrated in . The storage unit stores distribution destination selection menu data a terminal management table and an available terminal management table .

Among these the distribution destination selection menu is data indicating such a destination selection menu screen as illustrated in .

As illustrated in the terminal management table manages the terminal ID of the communication terminal a user certificate contract information when a user uses the services of the distribution system the terminal type of the communication terminal setting information indicating the home uniform resource locators URLs of the respective communication terminals the execution environment information of the respective communication terminals a shared ID installation position information and display name information in association with each other. Among these the execution environment information includes favorites previous Cookie information and cache file of the respective communication terminals which are sent to the distribution management system together with the setting information after the login of each communication terminal and are used for performing an individual service on each communication terminal .

The shared ID is an ID that is used when each user distributes the same video sound data as video sound data being distributed to his her own communication terminal to the other communication terminals thereby performing remote sharing processing and is identification information that identifies the other communication terminals and the other communication terminal group. For example the shared ID of the terminal ID t006 is v006 the shared ID of the terminal ID t007 is v006 and the shared ID of the terminal ID t008 is v006 . When a request for remote sharing processing with the communication terminals and with the terminal ID v006 is issued from the communication terminal with the terminal ID t001 the distribution management system distributes the same video sound data as video sound data being distributed to the communication terminals to the communication terminals and . However when the communication terminals and the communication terminals and are different in the resolution of the display unit the distribution management system distributes the video sound data accordingly.

As illustrated in for example the installation position information indicates an installation position when the communication terminals and are arranged side by side. The display name information is information indicating the details of the display name in the distribution destination selection menu illustrated in .

The available terminal management table manages in association with each terminal ID a shared ID indicating a communication terminal or a communication terminal group with which the communication terminal indicated by the terminal ID can perform remote sharing processing.

The transmitter receiver transmits and receives various data requests and the like to and from the communication terminal . For example the transmitter receiver receives a login request from the transmitter receiver of the communication terminal and transmits an authentication result of the login request to the transmitter receiver .

The transmitter receiver transmits and receives various data requests and the like to and from the distribution management system . For example the transmitter receiver receives a request for the data of the distribution destination selection menu from the transmitter receiver of the distribution management system and transmits the data of the distribution destination selection menu to the transmitter receiver .

The authentication unit searches the terminal management table based on the terminal ID and the user certificate received from the communication terminal thereby determining whether there are any terminal ID and user certificate of the same combination thereby authenticating the communication terminal .

Described next with reference to to are operations or pieces of processing of the present embodiment. These pieces of processing are performed by the respective CPUs of the distribution management system the communication terminal the terminal management system and the web server in accordance with the respective programs stored therein.

Described first with reference to is specific distribution processing in the basic distribution method illustrated in . is a sequence diagram illustrating the basic distribution processing of the distribution management system. Although described here is a case of issuing a login request using the communication terminal a login may be performed using the communication terminal other than the communication terminal

As illustrated in when a user turns on the communication terminal . the transmitter receiver of the communication terminal issues a login request to the transmitter receiver of the terminal management system S . This causes the transmitter receiver to receive the login request. This login request includes the terminal ID and the user certificate of the communication terminal . The authentication unit then acquires the terminal ID and the user certificate of the communication terminal

The authentication unit searches the terminal management table based on the terminal ID and the user certificate thereby determining whether there are any terminal ID and user certificate of the same combination thereby authenticating the communication terminal S . Described below continuously is a case when the terminal ID and the user certificate of the same combination are present in the terminal management table that is when the communication terminal is determined as a proper terminal in the distribution system .

The authentication unit of the terminal management system transmits the IP address of the distribution management system to the transmitter receiver of the communication terminal via the transmitter receiver S . The IP address of the distribution management system is acquired from the distribution management system by the terminal management system and is stored in the storage unit in advance.

The transmitter receiver of the terminal management system issues a browser startup request to the browser management unit via the transmitter receiver of the distribution management system S . Accordingly the browser management unit starts up the browser S .

The generating selecting unit of the encoder bridge unit generates the converter in accordance with the reproduction capability of the communication terminal the resolution of the display and the like and the type of content S . Next the browser issues a request for content data A to the web server S . In response thereto the web server reads the requested content data A from its own storage unit not illustrated S .

The web server then transmits the content data A to the transmitter receiver of the distribution management system S .

The browser renders the content data A thereby generating pieces of image sound data and outputs them to the transmission FIFO S . The converter encodes the pieces of image sound data stored in the transmission FIFO thereby converting them into video sound data A to be output to the communication terminal S .

The encoder bridge unit transmits the video sound data A to the reproduction controller via the transmitter receiver and the transmitter receiver S . As a result in the communication terminal the reproduction controller outputs the video sound data A to the decoding unit .

In the communication terminal a speaker reproduces a sound based on decoded sound data A and the display unit reproduces video based on video data A acquired from the decoding unit and rendered by the rendering unit S .

Described next with reference to is communication processing using a plurality of communication terminals through the distribution management system. is a sequence diagram illustrating distribution processing using a plurality of communication terminals through the distribution management system. Described here is specific processing for the pattern illustrated in as the communication terminals . Because login processing browser startup and the like similar to steps from S to S are performed also here described first is processing corresponding to S.

As illustrated in the browser of the distribution management system receives content data A from the web server via the transmitter receiver S . The browser renders the content data A thereby generating video sound data and outputs them to the transmission FIFO S .

When the encoding unit of the communication terminal receives the input of content data E from the camera and the microphone S the encoding unit encodes the content data E and transfers the content data E to the decoding unit in the distribution management system via the transmitter receiver and the transmitter receiver S . The decoding unit of the distribution management system decodes the content data E and outputs it to the browser via the reception FIFO . The browser renders the content data E thereby generating image sound data E and outputs it to the transmission FIFO S . In this case the browser outputs with a layout in which the content data E is combined with the content data A that is already acquired.

In addition when the operating unit of the communication terminal receives the input of a stroke operation with the electronic pen P S the operating unit transfers operation data p to the browser management unit in the distribution management system via the transmitter receiver and the transmitter receiver S . Consequently the operation data p is input to the browser from the browser management unit . The browser renders the operation data p thereby generating image data p and outputs it to the transmission FIFO S . In this case browser outputs with a layout in which the operation data p is combined with the content data A E that is already acquired.

The converter encodes image sound data A E p stored in the transmission FIFO thereby converting it into video sound data A E p to be distributed to the communication terminal S . The encoder bridge unit transfers the video sound data A E p to the reproduction controller via the transmitter receiver and the transmitter receiver S . The decoding unit decodes the video sound data A E p . After that the speaker reproduces a sound based on the video sound data A E p decoded by the decoding unit and the display unit reproduces video based on the video sound data A E p decoded by the decoding unit and rendered by the rendering unit S .

For also the communication terminal as is the case with S the encoder bridge unit transfers the video sound data A E p to the reproduction controller via the transmitter receiver and the transmitter receiver S . Subsequently the speaker reproduces a sound based on the video sound data A E p decoded by the decoding unit and the display unit reproduces video based on the video sound data A E p decoded by the decoding unit and rendered by the rendering unit S . Thus the same video sound as the video sound output to the communication terminal is output also to the communication terminal .

Described next with reference to is the processing of time adjustment. is a sequence diagram illustrating the processing of time adjustment.

In order to acquire time indicating a point in time when the transmitter receiver issues a request for the time information T to the distribution management system the time controller of the communication terminal acquires time information t in the communication terminal from the storage unit S . The transmitter receiver issues a request for the time information T to the transmitter receiver S . In this case the time information t is transmitted concurrently with the request for the time information T .

In order to acquire time indicating a point in time when the transmitter receiver received the request in S the time acquisition unit of the distribution management system acquires time information T in the distribution management system from the time management unit S . In order to acquire time indicating a point in time when the transmitter receiver responds to the request in S the time acquisition unit further acquires time information T in the distribution management system from the time management unit S . The transmitter receiver then transmits the time information t T T to the transmitter receiver S .

In order to acquire time indicating a point in time when the transmitter receiver received the response in S the time controller of the communication terminal acquires time information t in the communication terminal from the storage unit S . The time controller of the communication terminal calculates the time difference between the distribution management system and the communication terminal S . This time difference is represented by Equation 1 below. 2 2 1 

The time controller stores the time difference information indicating the time difference in the storage unit S . The series of processing of time adjustment is performed for example regularly every minute.

Described next with reference to is the processing of channel adaptive control on data transmitted from the distribution management system to the communication terminal downstream . is a sequence diagram illustrating the processing of channel adaptive control on data transmitted from the distribution management system to the communication terminal.

First The encoder bridge unit adds time information T indicating time Tindicating a point in time acquired from the time management unit as a time stamp to the video sound data A acquired from the transmission FIFO and encoded etc. and transfers it to the reproduction controller via the transmitter receiver and the transmitter receiver S .

In the communication terminal the reproduction controller waits until the time T U in the communication terminal and then outputs the video sound data to the decoding unit thereby causing the speaker to output a sound and the display unit to reproduce video through the rendering unit S . This causes only video sound data the communication terminal received within the range of the reproduction delay time U represented by Equation 2 below to be reproduced while video sound data out of the range is deleted without being reproduced. 2 

The reproduction controller reads the current time to in the communication terminal from the storage unit S . This time to indicates time in the communication terminal at a point in time when the communication terminal received video sound data from the distribution management system . The reproduction controller further reads the time difference information indicating the time difference stored in S from the storage unit S . The reproduction controller then calculates transmission delay time D indicating time from when the video sound data is transmitted from the distribution management system to when it is received by the communication terminal S . This calculation is performed by Equation 3 below when the communication network becomes congested the transmission delay time D becomes longer. 1 3 

The delay information acquisition unit acquires transmission delay time information D indicating the transmission delay time D from the reproduction controller and holds it for a certain period of time and when a plurality of pieces of transmission delay time information D are acquired the delay information acquisition unit outputs to the transmitter receiver transmission delay time information D indicating frequency distribution information by a plurality of pieces of transmission delay time D S .

Next the channel adaptive controller of the distribution management system newly calculates reproduction delay information U based on the transmission delay time information D and calculates the operation conditions such as the frame rate and the data resolution of the converter S .

Next the encoder bridge unit of the distribution management system transfers reproduction delay time information U indicating the reproduction delay time for delaying reproduction newly calculated in S described above to the reproduction controller via the transmitter receiver and the transmitter receiver S .

The converter further changes the operation conditions of the converter based on the channel adaptive control signal indicating the operation conditions S . For example if the transmission delay time D is too long in case the reproduction delay time U is made longer in accordance with the transmission delay time D reproduction time at the speaker and the display unit becomes too delayed. As a result there is a limit to making the reproduction delay time U longer. In view of this the channel adaptive controller not only instructs the encoder bridge unit to change the reproduction delay time U to be the reproduction delay time U but also instructs the converter to decrease the frame rate of video sound data and to decrease the resolution of video sound data thereby addressing the congestion of the communication network . This causes the encoder bridge unit as with S described above to add the current time Tto the video sound data as a time stamp in accordance with the operation conditions after being changed and to transfer it to the reproduction controller in the communication terminal S .

In the communication terminal the reproduction controller waits until the time To U in the communication terminal and then outputs the video sound data to the decoding unit thereby as with S described above causing the speaker to output a sound and the display unit to reproduce video through the rendering unit S . After that the processing in and after S is performed continuously. Thus the processing of the downstream channel adaptive control is performed continuously.

Described next with reference to is the processing of channel adaptive control on data transmitted from the communication terminal to the distribution management system upstream . is a sequence diagram illustrating the processing of channel adaptive control on data transmitted from the communication terminal to the distribution management system.

First the encoding unit of the communication terminal transfers video sound data E input from the camera and the microphone and encoded the time information t indicating the current time to in the communication terminal acquired from the storage unit and the time difference information indicating the time difference acquired from the storage unit to the decoding unit of the distribution management system through the transmitter receiver and the transmitter receiver S .

In the distribution management system the decoding unit reads time Tindicating a point in time when the video sound data E and the like were received in S described above from the time management unit S . The decoding unit then calculates transmission delay time d indicating time from when the video sound data is transmitted from the communication terminal to when it is received by the distribution management system S . This calculation is performed by Equation 4 below and if the communication network becomes congested the transmission delay time d becomes longer. 1 4 

As is the case with the delay information acquisition unit the delay information acquisition unit of the distribution management system acquires transmission delay time information d indicating transmission delay time d from the decoding unit and holds it for a certain period of time and when a plurality of pieces of transmission delay time information d are acquired outputs transmission delay time information d indicating frequency distribution information by a plurality of pieces of transmission delay time d to the channel adaptive controller S .

Based on the transmission delay time information d the channel adaptive controller calculates the operation conditions of the encoding unit S . The channel adaptive controller transmits a channel adaptive control signal indicating operation conditions such as a frame rate and data resolution to the encoding unit of the communication terminal through the transmitter receiver and the transmitter receiver S . In other words in the case of the channel adaptive control illustrated in downstream the channel adaptive control signal is output to the encoder bridge unit within the same distribution management system and in contrast in the case of the channel adaptive control illustrated in upstream the channel adaptive control signal is transmitted to the communication terminal from the distribution management system through the communication network .

Based on the operation condition indicated by the received channel adaptive control signal the encoding unit modifies the operation conditions of the encoding unit S . Based on the modified operation condition just like the case in S the encoding unit of the communication terminal transfers video sound data E input from the camera and the microphone and encoded the time information t indicating the current time tin the communication terminal acquired from the storage unit and the time difference information indicating the time difference acquired from the storage unit to the decoding unit of the distribution management system through the transmitter receiver and the transmitter receiver S . After that the processing in and after S is performed continuously. Thus the processing of the upstream channel adaptive control is performed continuously.

Described next with reference to to is the processing of multi display. to are sequence diagrams illustrating the processing of multi display illustrated in .

Described here in case of reproducing video sound XYZ on the communication terminal is an example of reproducing video part of the video sound XYZ on the communication terminals and in a divided manner.

Hereinafter in describing the process of the multi display image sound indicates data that includes image data at least.

The browser for displaying web content is represented as a browser and the browser for displaying a setting screen for a user is represented as a browser . Described first is processing corresponding to S in .

First the browser of the distribution management system renders the web content data XYZ acquired from the web server thereby generating image sound data and outputs it to the transmission FIFO S . The converter encodes the image sound data stored in the transmission FIFO thereby converting it into video sound data XYZ of a data format capable of being transmitted to the communication terminal S .

The encoder bridge unit transfers the video sound data XYZ to the reproduction controller in the communication terminal via the transmitter receiver and the transmitter receiver S . In the communication terminal the reproduction controller outputs the video sound data XYZ to the decoding unit and the video sound is reproduced on the display unit via the rendering unit S .

A screen displayed on the display unit is switched to a menu request screen not illustrated by the user of the communication terminal and the operating unit receives the pressing of a distribution destination selection menu not illustrated on the menu request screen S . This causes the transmitter receiver to transmit a request for switching to the distribution destination selection menu to the transmitter receiver of the terminal management system S . The transmitter receiver transmits a browser startup request to the browser management unit of the distribution management system via the transmitter receiver S .

The generating selecting unit of the encoder bridge unit switches the output from the browser to the converter e.g. the converter to the output from the browser to the converter e.g. the converter S . If the communication terminal and another communication terminal e.g. the communication terminal are receiving the video sound data in S with the converter e.g. the converter shared the generating selecting unit of the encoder bridge unit newly generates the converter e.g. the converter because the other communication terminal e.g. the communication terminal is using the converter e.g. the converter for the browser

Next a request for a distribution destination selection menu is issued to the storage unit in the terminal management system via the transmitter receiver and the transmitter receiver in accordance with an instruction by the browser S . In this situation the terminal ID of the communication terminal is also transmitted.

In response thereto the storage unit of the terminal management system searches through the available terminal management table stored in the storage unit based on the terminal ID thereby extracting the corresponding shared ID S . This shared ID indicates a communication terminal available for the communication terminal to perform remote sharing processing. As illustrated in because the terminal ID of the communication terminal is t001 the shared IDs to be extracted are v003 and v006 .

The storage unit further searches through the terminal management table based on the extracted shared ID thereby extracting display name information indicating the corresponding display name S . As illustrated in display names corresponding to the extracted shared IDs v003 and v006 are Tokyo head office 10F MFP and Osaka exhibition hall 1F multi display respectively.

The storage unit transfers the distribution destination selection menu data as content data to the browser via the transmitter receiver and the transmitter receiver S . As illustrated in this distribution destination selection menu data includes check boxes shared IDs and display names.

As illustrated in the browser renders the content data indicating the distribution destination selection menu data M acquired from the terminal management system thereby generating image sound data and outputs it to the transmission FIFO S . The converter encodes the image sound data M stored in the transmission FIFO thereby converting them into video sound data M of a data format capable of being transmitted to the communication terminal S .

Next the encoder bridge unit transfers the video sound data M to the reproduction controller in the communication terminal via the transmitter receiver and the transmitter receiver S . As a result in the communication terminal the reproduction controller outputs the video sound data M to the decoding unit and the video sound shown in is reproduced on the display unit via the rendering unit S .

If the check box of the shared ID v006 is checked and the OK button is pressed by the user the operating transfers the check result as operation data to the browser management unit via the transmitter receiver and the transmitter receiver S .

The browser selects the shared ID from the check result S . The browser transmits a request for adding a distribution destination to the storage unit of the terminal management system via the transmitter receiver and the transmitter receiver S . This request for adding a distribution destination includes the shared ID selected at S. The browser then ends its role to end S . This causes the generating selecting unit of the encoder bridge unit to return the output from the browser to the converter to the output from the browser to the converter S .

As illustrated in in the storage unit of the terminal management system the terminal management table is searched based on the shared ID sent in S described above thereby extracting the corresponding terminal ID and installation position information S . The storage unit that stores the terminal management information transmits an instruction to add a distribution destination to the browser management unit that acquires the terminal management information via the transmitter receiver and the transmitter receiver S . This instruction to add a distribution destination includes the terminal ID and the installation position information extracted at S. Included here are three sets of the terminal ID and the installation position information that is the terminal ID and the installation position information are t006 and left respectively the terminal ID and the installation position information are t007 and center respectively and the terminal ID and the installation position information are t008 and right respectively.

The generating selecting unit of the encoder bridge unit generates a converter for multi display S . In this case the generating selecting unit of the encoder bridge unit acquires the terminal ID and the installation position information from the browser management unit .

The dividing unit of the converter generated in S divides an image data part from the image sound data XYZ stored in the transmission FIFO and the encoding unit encodes each of the divided image data sound data and each of the divided image data in case of including sound data S .

The encoder bridge unit transfers video sound data X to the reproduction controller of the communication terminal via the transmitter receiver and the transmitter receiver of the communication terminal based on the terminal ID t006 and the installation position information left S . Consequently in the communication terminal the reproduction controller outputs the video sound data X to the decoding unit . After that the speaker reproduces a sound based on decoded sound data X and the display unit reproduces video based on video data X acquired from the decoding unit and rendered by the rendering unit S .

Similarly the encoder bridge unit transfers video sound data Y to the reproduction controller of the communication terminal via the transmitter receiver and the transmitter receiver of the communication terminal based on the terminal ID t007 and the installation position information center S . Consequently in the communication terminal the reproduction controller outputs the video sound data Y to the decoding unit . After that the speaker reproduces a sound based on decoded sound data Y and the display unit reproduces video based on video data Y acquired from the decoding unit and rendered by the rendering unit S .

In addition similarly the encoder bridge unit transfers video sound data Z to the reproduction controller of the communication terminal via the transmitter receiver and the transmitter receiver of the communication terminal based on the terminal ID t008 and the installation position information right S . Consequently in the communication terminal the reproduction controller outputs the video sound data Z to the decoding unit . After that the speaker reproduces a sound based on decoded sound data Z and the display unit reproduces video based on video data Z acquired from the decoding unit and rendered by the rendering unit S .

Next a scrolling and a page turning in multi display are described below. The page turning and the scrolling are examples of processes performed when various operation data operation events such as operation using the keyboard and the mouse etc. and strokes using the electronic pen P are acquired from the communication terminal .

As shown in for example the content data is consecutive data such as a document file that consists of multiple pages. In this case the data consists of consecutive four pages.

As shown in three communication terminals and are multi display and some of the content data is divided and distributed to each communication terminals to be displayed on each communication terminal. This division and distribution of displaying content data is determined based on the installation position information shown in stored in the storage unit .

For example in the distribution management system the first page of the content data is displayed on the communication terminal whose terminal ID is t006 laid out on the left the second page of the content data is displayed on the communication terminal whose terminal ID is t007 laid out on the center and the third page of the content data is displayed on the communication terminal whose terminal ID is t008 laid out on the right. It is not always necessary to display a part of the content data the fourth page in this case .

A different part of the content data is displayed on each of the communication terminals and . However it does not matter if some part of the content data displayed on the communication terminals and overlaps with some other parts.

Here it is assumed that a drag operation using the electronic pen P or handwriting is performed on one of the communication terminals and here in this case . is a diagram illustrating display images on the communication terminals before dragging and is a diagram illustrating display images on the communication terminals after dragging.

As shown in in case of performing the drag operation on the communication terminal horizontally the distribution management system performs the page turning. In the page turning display images displayed on the communication terminals and are moved modified for one page.

For example if the drag operation toward left in the forward direction horizontally is performed on the communication terminal in the distribution management system the second page of the content data is displayed on the communication terminal the third page of the content data is displayed on the communication terminal and the fourth page of the content data is displayed on the communication terminal . In the page turning it is possible to move the display image for multiple pages at one time.

As shown in in case of performing the drag operation on the communication terminal vertically the distribution management system performs the scrolling. In the scrolling display images displayed on the communication terminals and are moved modified in accordance with the drag amount.

For example if the drag operation upward in the forward direction vertically is performed on the communication terminal and its drag amount corresponds to about half a page in the distribution management system the latter half of the first page and the first half of the second page of the content data is displayed on the communication terminal the latter half of the second page and the first half of the third page of the content data is displayed on the communication terminal and the latter half of the third page and the first half of the fourth page of the content data is displayed on the communication terminal . In the page turning it is possible to move the display image for multiple pages at one time.

As described above in the distribution management system either the page turning or the scrolling of the display image displayed on the communication terminal is performed in accordance with the type of the drag operation horizontally or vertically and the display image displayed on the communication terminal is moved in either the forward direction or the backward direction in accordance with the direction of the drag operation in the forward direction or the backward direction . Both in the page turning and the scrolling distance of cutout position dividing position of the video on the communication terminals is the same.

The browser in the distribution management system generates single piece of video data by rendering web content data corresponding to four pages acquired from the web server . The encoder bridge unit cuts video data distributed to the communication terminals and from the video data generated by the browser . Furthermore the encoder bridge unit divides the video data into multiple vide data and and perform encoding. Subsequently the distribution management system distributes the divided and encoded video data and into each of communication terminals and . As a result before performing the page turning the communication terminal displays the video the communication terminal displays the video and the communication terminal displays the video .

Here it is assumed that a drag operation p in the horizontal forward direction leftward is performed on any one of the communication terminals and . In that case based on the operation data p the encoder bridge unit cuts video data to be distributed to the communication terminals and from the video data generated by the browser . Furthermore the encoder bridge unit divides the video data into multiple vide data and and perform encoding. Subsequently the distribution management system distributes the divided and encoded video data and into each of communication terminals and .

As a result as shown in a browsing result after turning pages the communication terminal displays the video the communication terminal displays the video and the communication terminal displays the video . As described above since the video displayed on the communication terminals and moves for one page only in conjunction with each other the effect as if video displayed on the communication terminals and are flipped simultaneously can be achieved.

Just like the communication terminal displays the video the communication terminal displays the video and the communication terminal displays the video .

Here it is assumed that a drag operation p in the vertical forward direction upward is performed on any one of the communication terminals and . In that case based on the operation data p the encoder bridge unit cuts video data to be distributed to the communication terminals and from the video data generated by the browser . Furthermore the encoder bridge unit divides the video data into multiple vide data and and perform encoding. Subsequently the distribution management system distributes the divided and encoded video data and into each of communication terminals and .

As a result as shown in a browsing result after scrolling the communication terminal displays the video the communication terminal displays the video and the communication terminal displays the video . As described above since the video displayed on the communication terminals and moves for the same amount in conjunction with each other the effect as if video displayed on the communication terminals and are scrolled simultaneously can be achieved.

Next a drag operation process in multi display is described with reference to . is a sequence diagram illustrating a process of controlling multiple displays. Here the description starts from the process that corresponds to S in . In addition a description regarding sound data is omitted.

First the generating selecting unit in the encoder bridge unit generates the converter for multi display in S.

Next the browser requests the webserver to send the content data XYZ in S. After receiving the request the webserver reads the requested content data XYZ from a storage unit not shown in figures in the webserver in S. Subsequently the webserver sends the content data XYZ to the browser that requested originally via the transmitter receiver in the distribution management system in S.

Next the browser renders the content data XYZ generates video data XYZ and outputs it to the transmission FIFO in S. In addition the browser stores the video data XYZ in the storage unit as a cache.

The browser determines a cutout position including a trimming position and dividing position of the video data XYZ in accordance with layout position information terminal management information of the communication terminals and acquired from the browser management unit and outputs it as the cutout position information to the converter for multi display in S. The browser stores the cutout position information of the video data XYZ in the storage unit as a cache.

The converter for multi display cuts out trims and divides and encodes the video data XYZ in accordance with the cutout position information sent from the browser in S. That is the trimming unit in the converter trims the video data XYZ stored in the transmission FIFO in accordance with the cutout position information sent from the browser and generates video data XYZ . This process deletes a part not transmitted to the communication terminals from the video data XYZ . Subsequently the dividing unit divides the video data XYZ trimmed by the trimming unit into multiple pieces of video data X Y and Z . After that the encoding unit encodes the divided each divided video data X Y and Z .

Next the encoder bridge unit transmits the video data X to the reproduction controller in the communication terminal via the transmitter receiver and the transmitter receiver in the communication terminal based on the terminal ID and the layout position information acquired from the browser management unit via the browser in S . As a result in the communication terminal the reproduction controller outputs the video data X to the decoding unit and the video is reproduced on the display unit via the rendering unit in S .

Similarly the encoder bridge unit transmits the video data Y to the reproduction controller in the communication terminal in S . Consequently on the communication terminal the video is displayed on the display unit in S .

In addition similarly the encoder bridge unit transmits the video data Z to the reproduction controller in the communication terminal in S . Consequently on the communication terminal the video is displayed on the display unit in S .

If the operating unit in the communication terminal accepts the input of the stroke operation by the electronic pen P in S the operating unit sends the operation data p to the browser management unit in the distribution management system via the transmitter receiver and the transmitter receiver in S. Consequently the operation data p is input to the browser from the browser management unit .

If the browser determines that the operation data p corresponds to the drag operation data the browser reads the video data XYZ cached in the storage unit and outputs it to the transmission FIFO in S.

The browser determines a new cutout position of the video data XYZ based on the operation data p and outputs it as new cutout position information to the converter in S. That is the browser reads the last cutout position information cached in the storage unit . If the operation data p corresponds to the drag operation data that instructs turning pages the browser determines a new cutout position that the cutout position is moved for one page only moved in units of the page . If the operation data p corresponds to the drag operation data that instructs to scroll the browser determines a new cutout position that the cutout position is moved for an amount corresponding to the drag operation distance. The browser outputs the determined cutout position as the new cutout position information to the converter and stores it as a cache in the storage unit .

In accordance with the new cutout position information acquired from the browser the converter for multi display cuts out trims and divides and encodes the video data XYZ in S. That is the trimming unit in the converter trims the video data XYZ stored in the transmission FIFO in accordance with the cutout position information sent from the browser and generates video data XYZ . Subsequently the dividing unit in the converter divides the video data XYZ trimmed by the trimming unit into multiple pieces of video data X Y and Z . After that the encoding unit encodes the divided each divided video data X Y and Z .

Next the encoder bridge unit transmits the video data X to the reproduction controller in the communication terminal via the transmitter receiver and the transmitter receiver in the communication terminal based on the terminal ID and the layout position information acquired from the browser management unit via the browser in S . As a result in the communication terminal the reproduction controller outputs the video data X to the decoding unit and the video is reproduced on the display unit via the rendering unit in S .

Similarly the encoder bridge unit transmits the video data Y to the reproduction controller in the communication terminal via the transmitter receiver and the transmitter receiver in the communication terminal based on the terminal ID and the layout position information in S . Consequently on the communication terminal the video data Y is output to the decoding unit from the reproduction controller and the video is displayed on the display unit via the rendering unit in S .

In addition similarly the encoder bridge unit transmits the video data Z to the reproduction controller in the communication terminal via the transmitter receiver and the transmitter receiver in the communication terminal based on the terminal ID and the layout position information in S . Consequently on the communication terminal the video data Z is output to the decoding unit from the reproduction controller and the video is displayed on the display unit via the rendering unit in S .

In S it is possible that the browser can associate the range of the video data X Y and Z generated by dividing with the terminal IDs that indicate the destination communication terminals and using a table etc. and store it in the storage unit .

In the page turning if the cutout position and dividing position of the video data XYZ remain unchanged since the last distribution and only the destination communication terminal and varies the browser can perform the process described below. That is the browser reads the range of the video data X Y and Z stored in the storage unit and information that indicates the corresponding terminal ID. Subsequently the browser can exchange the terminal ID in accordance with the range of the video data X Y and Z and store it in the storage unit . The latter transmitter receiver distributes each of the video data X Y and Z to each of the communication terminals and .

In processing scrolling the browser can set the cutout position and the dividing position of the video data arbitrary and store it in the storage unit .

Since the scrolling and the page turning in multi display described above are performed based on the drag operation by the user it is possible to reduce the burden on the user compared to methods such as selecting a menu.

In addition since the scrolling or the page turning is performed based on the type of the drag operation vertically or horizontally it is possible to perform either scrolling or flipping the page intuitively. Furthermore the display image is moved forward or backward in accordance with the direction of the drag operation in the forward direction or the backward direction . In particular if the direction of the drag operation corresponds to the moving direction of the display image it is possible to perform scrolling and flipping the page intuitively without feeling stress.

In case of displaying content in multi display it is possible to perform scrolling or flipping the page cooperating displays on all communication terminals by operating any one of the communication terminals and that can reduce the burden on user.

As described above in detail giving specific examples in the distribution system in this embodiment the distribution management system includes the browser that performs rendering and the encoder bridge unit that performs encoding on the cloud environment. As a result the browser generates video sound data based on the content data described in predetermined description language and the video sound data is distributed to the communication terminals after the encoder bridge unit encodes the video sound data. Consequently in the communication terminal since it is possible to reduce the burden on receiving the content data described in the predetermined description language and generating the video sound data after receiving the data it is possible to resolve the problem that the burden on the communication terminal becomes heavy due to enrichment of content.

In particular the browser enables communication in real time and the converter encodes the video sound data generated by the browser in real time. Therefore for example unlike a case in which a DVD player distributes video sound data not in real time i.e. encoded preliminarily such as on demand distribution of video sound data since the distribution management system performs encoding after generating video sound data by rendering content acquired just before the distribution it is possible to distribute video sound data in real time much better.

In the distribution system in the embodiment described above the terminal management system and the distribution management system are configured as different apparatuses with each other. However for example the distribution management system can include the functions of the terminal management system and the terminal management system and the distribution management system can be configured as a single apparatus.

The distribution management system and the terminal management system in the embodiment described above can be configured as either one computer or multiple computers by dividing units functional units or storage unit and allocating them to the computers arbitrarily.

Furthermore storage media such as CD ROM that stores the programs in the embodiment described above and the HDD that stores those programs can be provided nationally and internationally as a program product.

The present invention also encompasses a non transitory recording medium storing a program that executes a distribution management method. The distribution management method includes the steps of acquiring terminal management information that indicates locations of communication terminals determining cutout position information of video data based on the terminal management information acquired by the acquisition unit and operation data received from any one of the communication terminals and modifying the cutout position information of the video data based on the operation data cutting out multiple pieces of video data from the video data based on the cutout position information determined by the determination unit and distributing the video data cut out by the cutout unit to each of the communication terminals based on the terminal management information.

Each of the functions of the described embodiments may be implemented by one or more processing circuits. A processing circuit includes a programmed processor as a processor includes circuitry. A processing circuit also includes devices such as an application specific integrated circuit ASIC and conventional circuit components arranged to perform the recited functions.

Numerous additional modifications and variations are possible in light of the above teachings. It is therefore to be understood that within the scope of the appended claims the disclosure of this patent specification may be practiced otherwise than as specifically described herein. For example it is possible that the image forming apparatus includes the document holding determination unit only. Alternatively it is possible that the image forming apparatus includes the document holding determination unit and any one of or any combination of the rangefinder the user authentication unit the recovery processor the print job acquisition unit the auxiliary parameter setting unit and the facsimile number setting unit.

As can be appreciated by those skilled in the computer arts this invention may be implemented as convenient using a conventional general purpose digital computer programmed according to the teachings of the present specification. Appropriate software coding can readily be prepared by skilled programmers based on the teachings of the present disclosure as will be apparent to those skilled in the software arts. The present invention may also be implemented by the preparation of application specific integrated circuits or by interconnecting an appropriate network of conventional component circuits as will be readily apparent to those skilled in the relevant art.

