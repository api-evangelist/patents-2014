---

title: Modular biometric monitoring system
abstract: A modular system for acquiring biometric data includes a plurality of data acquisition modules configured to sample biometric data from at least one respective input channel at a data acquisition rate. A representation of the sampled biometric data is stored in memory of each of the plurality of data acquisition modules. A central control system is in communication with each of the plurality of data acquisition modules through a bus. The central control system is configured to control communication of data, via the bus, with each of the plurality of data acquisition modules.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09542531&OS=09542531&RS=09542531
owner: Ztech, Inc.
number: 09542531
owner_city: Middleburg Heights
owner_country: US
publication_date: 20140630
---
This application is a continuation of U.S. application Ser. No. 12 051 019 which was filed on Mar. 19 2008 and entitled DATA ACQUISITION FOR MODULAR BIOMETRIC MONITORING SYSTEM and is a continuation in part of U.S. patent application Ser. No. 11 686 667 which was filed on Mar. 15 2007 and entitled TRANSFER FUNCTION CONTROL FOR BIOMETRIC MONITORING SYSTEM AND RELATED METHOD which is a continuation in part of U.S. patent application Ser. No. 11 236 899 which was filed on Sep. 28 2005 and entitled COMPACT WIRELESS BIOMETRIC MONITORING AND REAL TIME PROCESSING SYSTEM. The entire contents of each of the above identified application are incorporated herein by reference.

The subject innovation is being developed with government support under Contract No. NNC05CA65C awarded by NASA. The United States government may have certain rights in the invention.

Diagnosis of ailments and treatment of disease often requires an analysis of biological signs obtained from a patient in the course of normal activity over a period of time. Personal health monitors are commonly employed to gather data related to a patients biometric data.

In general a personal health monitor is a device used to measure and record one or more clinical parameters of a patient for later transmission to the patient s physician or other health care provider. The personal health monitor may be used in a hospital or clinical setting as an adjunct to existing care. Additionally the personal health monitor may also be used by the patient outside care facilities e.g. at a patient s home . When used by a patient at home the patient operates the personal health monitor to record certain bodily clinical parameters. The personal health monitor can be used by the patient who has a condition requiring monitoring of one or more clinical parameters but who otherwise may not require the level of care such as provided by a hospital. Accordingly the personal health monitor provides potential savings in medical costs involved with a hospital stay.

For example continuously monitoring cardiac patients immediately following coronary attacks is important. Such is normally accomplished effectively in the coronary care unit of most hospitals where the patients are continuously monitored following heart attacks to detect arrhythmias of the heart for example monitoring and warning for ventricular arrhythmias which may lead to ventricular fibrillation and death. Through prompt recognition and treatment of such warnings related to ventricular arrhythmias in coronary care units the mortality rate of acute myocardial infarctions has been reduced considerably. In addition many post myocardial infarction cardiac patients continue have frequent ventricular extra systoles after discharge from the hospital. Accordingly it is desired to continuously monitor the patient over a certain period of time and under varying conditions of stress to determine the effectiveness treatment which has been introduced such as the proper dosage of medication.

Constant monitoring of such patients after release from the hospital may be difficult because of the logistics involved and particularly since they can no longer be monitored closely as a group by direct wiring or close telemetry as commonly implemented in hospital settings. As a result various systems have been developed to attempt to monitor the ECG signals of out patients to thereby provide a diagnostic tool for additional treatment or variation of treatment for the patients as may be required.

Nevertheless many such mobile units are typically spacious and difficult to set up and maintain. Moreover in general these units are not suitable for readily monitoring a plurality of biological conditions and indicators useful for many situations. In addition such systems lack flexibility during usage as they typically have fixed sensor types and configurations.

The invention relates to systems and methods for collecting data from a plurality of data acquisition modules. For example the approach described herein enables data to be acquired at one or more modules synchronously and to be collected from such module s by a central control asynchronously such as based on relative fullness of memory at the one or more modules.

One aspect of the invention relates to a modular system for acquiring biometric data. The system includes a plurality of data acquisition modules configured to sample biometric data from at least one respective input channel at a data acquisition rate. A representation of the sampled biometric data is stored in memory of each of the plurality of data acquisition modules. A central control system is in communication with each of the plurality of data acquisition modules through a bus. The central control system is configured to collect data asynchronously via the bus from the memory of the plurality of data acquisition modules according to a relative fullness of the memory of the plurality of data acquisition modules.

Another aspect of the invention relates to a biometric monitoring system that includes a plurality of modular components configured to sample biometric data received from at least one respective input channel according to a data acquisition rate. Each of the plurality of modular components includes a first memory structure for storing housekeeping information associated with operation of the modular component. Each of the plurality of modular components also includes a second memory structure for storing a representation of the sampled biometric data. The housekeeping information in the first memory structure is updated in response to storing the representation of the sampled biometric data in the second memory structure. A master module is configured to retrieve data asynchronously via a bus to which each of the plurality modular components is connected from the second memory of the plurality modular components according to a relative fullness of the second memory structure in each of the plurality modular components as determined by the master module based on the updated housekeeping information in the plurality of modular components.

Still another aspect of the invention relates to a method for acquiring biometric data. The method includes sampling biometric data for each of the plurality of modular components at a substantially synchronous data acquisition rate and storing the sampled biometric data in a first memory structure of each of the respective plurality of modular components. A counter in a second memory structure of each of the plurality of modular components is updated in response to the storing of the sampled biometric data. A fullness of the first memory structure in each of the plurality of modular components is determined based at least in part on the updated counter in the second memory structure of each respective modular component and biometric data is retrieved from at least one of the plurality of modular components in response to the determined fullness of the first memory structure in the at least one of the plurality of modular components.

The subject innovation relates to systems and methods to perform data acquisition in a modular system. For example the approach described herein enables data to be acquired at one or more modules synchronously and to be collected from such module s by a central control asynchronously such as based on relative fullness of memory at the one or more modules.

The system includes a plurality of modules which are also referred to herein as modular components. In the example of the system includes a master module and a plurality of other modular components and . Each of the respective modular components can be programmed and or configured according to the intended use of the system . At least some of modular components and can be replaced inserted and or swapped to achieve a desired aggregate function such as can include collection of biometric parameters control delivery of a desired therapy communication of data to and from the system or any combination thereof.

For example a clinician can determine a customized routine for acquisition of biometric data and or therapy. Based on the routine the clinician can determine which types of modules should be inserted into the system as the modular components . For instance the modular components and can be configured to acquire biometric data associated with a patient and the modular component can deliver a desired type of therapy e.g. electrical and or chemical to a patient.

By way of further example the modular component can measure one or more biometric parameters and or supply input that is representative of the status of a controlled process. The input can be provided to the master module or another modular component such as can be configured to change one or more outputs for effecting control of the therapy process. For instance one or more of the modular components and can supply activation commands to a glucose pump in a patient s proximity such as when acquired data that pertains to blood sugar of a patient indicates a critical level. Similarly muscle tension can be employed as a biometric condition to be collected by a modular component and employed for delivery of chemical or electrical therapy to perform muscle relaxation by the same or a different modular component to a patient. The inputs and outputs of each of the modular component can be binary e.g. on or off and or analog assuming a continuous range of values.

Each of the respective modular components can communicate over a data bus or backplane . For example the bus can enable communication between the master module and any of the other modular components . Additionally or alternatively each of the modules can communicate with each other over the bus . Those skilled in the art will understand and appreciate various types of buses or communication links and communications protocols that can be utilized to provide for communication between the respective modules .

As a further example each of the modular components can be connected to the bus via a physical interface e.g. a slot having a given form factor having a predetermined physical address location in communication with the bus . The master module can thus communicate with each module using this physical address such as part of a configuration mode in which the master module acquires information e.g. hardware configuration about each modular component that is connected to the bus . The master module can also assign each other modular component a respective address that can be utilized to facilitate subsequent communication with the modular components over the bus such as for sending requests and responses during normal operation.

The system can be considered a distributed computing arrangement since certain processing functions can be distributed to the respective modules . In this way computing power requirements of the master module can be reduced based upon the portions of processing being implemented at the respective components . In this respect the power usage of the system can be scaled to the medically desired configuration of the system. By way of further example each of the modules and can correspond to a modular apparatus that can be utilized to acquire biometric data that can be transmitted to the master module for aggregate communication to one or more remote clients such as a Personal Digital Assistant PDA computer workstation a server and the like.

In the example of the master module can include a bus controller that can be utilized to control data communication over the bus . For instance the bus controller can transmit data e.g. in the form of data requests from the master module to the respective modular components through via the bus such as mentioned above. As one example the master module can provide respective program instructions to one or more of the modules through for controlling operation and the particular function being performed by the respective module s . This can include setting one or more operating parameters sampling rates configuration settings as well as defining the specific functions or tasks being performed by the respective components. The bus controller can also be configured to control how and when each of the respective modules communicates data over the bus .

The master module also includes a processor that can execute program instructions stored in associated memory . The memory can be implemented as including one or more different types of memory such as volatile or nonvolatile memory. The memory can be accessed by the processor for storing executable instructions for controlling operation of the master module and the system more generally. The memory can also be utilized to store data that is provided to the master module via the transceiver or bus controller . For example the memory can be employed as a temporary data storage device for biometric data and control information that may be received from any of the other respective modules through via the bus .

According to one aspect of the invention the memory can store executable instructions that control high level functions of the bus controller to facilitate and optimize traffic over the bus . For example the processor can control the bus controller to collect data from each of the respective modules asynchronously according to a relative fullness of memory in each of the respective modules. The master module can determine the relative fullness of the modules in response to requesting certain housekeeping information from the modules. For instance certain housekeeping information e.g. corresponding to the type of module sampling rate memory storage capacity can be obtained by the master module during a configuration or set up mode. The master module can employ the bus controller to request status information e.g. intermittently or periodically from the respective modules which status information can be utilized in conjunction with the previously acquired housekeeping information to determine a relative fullness of the memory in each module. For example a process running in the processor can cause the bus controller to issue requests for data from one or more of the modular components and based on the determined fullness of memory at each of the respective modules. In this way the master module can acquire data from modules at different rates to reduce traffic on the bus . The relative fullness thus may vary according to the particular functions each module is performing the rate data is sampled and stored and the capacity of the memory for storing such data at each module.

The processor can also control other functions associated with the system such as communication to one or more clients through the respective transceiver . The transceiver can be implemented as a wired or wireless type of communication device. Those skilled in the art will understand and appreciate various types of transceivers that can be utilized by the master module to transmit and or receive data. For instance the processor can transfer data from the memory to the associated client via the transceiver . Alternatively the client may be configured to access and download data from selected portions of the memory . For example the client can run an appropriate user interface not shown to initiate or terminate or otherwise control one or more functions associated with operation of the system . The transceiver further can be utilized for programming operation of the system through an appropriate input output port.

The master module can also include a clock that is used to control timing associated with operation of the master module as well as to control the timing associated with data transfers over the bus via the bus controller . The master module can also employ the clock to control internal operation of the master module including communication via the transceiver .

The system can further include a data storage module that can be utilized for storing additional data that is transmitted over the bus . For example the processor can store data to the data storage module . Additionally or alternatively the data storage module can be implemented as a modular component similar to the other modules and in the system . For example a module having a desired memory capacity can be connected to the bus as the data storage module to increase the overall storage capacity of the system . This would allow the data storage function of one or more of the other the modular components and to be distributed to the data storage module further increasing the cost efficiency associated with such modules since such modules can be configured with reduced memory requirements. A client thus may be able to access and retrieve data from the data storage module via the master module through the transceiver processor and bus controller and bus .

The client may also communicate with the data storage module or other modules and in the system by other communication devices. For example the system can include addition means of communicating to one or more external devices such as a communication module . For example the communication module can correspond to a wireless communication module. The communication module for example can transmit according to any one of a variety of known wireless protocols such as an 802.11x standard e.g. WiFi 802.16x standard e.g. WiMAX Bluetooth cellular communications e.g. GSM UMTS and PCS and the like.

Additionally or alternatively the system can include a network interface module that can be programmed and or configured to connect to a computer network such as a local area network LAN or a wide area network WAN such as including the internet. As one example the network interface module can be electrically connected to the network via a standard network connection. The network interface module thus can provide an appropriate connection with the desired network. Thus in the example of communications can be implemented over the bus via the bus controller over the bus through the network interface module and over the bus via the communication module . In this way data can be transmitted to and received from the system via the network interface module .

In the example of the modular components and can be programmed and or configured based on the requirements of the biometric condition s that is to be measured and or other functions that are to be controlled such as including the administration of a desired therapy. Each of the respective components and can includes a common architecture which corresponds to circuitry referred to herein as being embodied in a common data controller CDC and . As one example each of the CDCs and can be a common architecture that includes a processor or controller and other circuitry that is programmed and configured to control operation of the modular component as well as to facilitate communication to and from the respective modular component via the bus .

Each of the modular components and also includes modality specific circuitry and . The modality specific circuitry can vary according to the type of biometric condition data that is to be acquired by a respective module and or the type of therapy that might be delivered by the respective module. That is the modality specific circuitry and of each of the modules and is programmed and or configured to perform a predetermined biometric function e.g. sensing or therapeutic function a k a modality . For instance one or more of the modules and can be configured to acquire a predetermined type of biometric condition data by sensing biometric or biological conditions of a patient. Thus each modular component and can include a particular number of channels for acquiring biometric data from one or more sensors that can be arranged to detect corresponding biometric or biological conditions.

By way of further example each of the modality specific circuitry and can be adapted to acquire data related to the modalities of electromyography EMG electrocardiography ECG electroencephalography EEG plantar pressure joint angle pulse oximetry blood pressure core body temperature blood glucose and the like. Additionally or alternatively one or more other modules and can be configured to administer a desired therapy e.g. electrical or chemical therapies via corresponding delivery mechanisms.

Thus each of the modality specific circuitry and includes circuitry operative to provide one or more input signal indicative of a biometric condition. As mentioned above the input signals can be received by the CDC and over a set of channels that can be configured according to the particular modality. The signal for each channel further can be filtered and processed by the modality specific circuitry and to provide a digital representation of such signal each of which individually or collectively corresponds to a sensed biometric condition of the patient. Alternatively in other circumstances the modality specific circuitry and can provide a signal e.g. feedback signal associated with a delivery of a therapy to the patient such as may be in the form of chemical or electrical therapies.

Each modular component further can be programmed to sample the input signal s for synchronously acquiring biometric data at a data acquisition rate. Sampling of the input signal can be performed in the analog or digital domain. The data acquisition rate can be set via the CDC or the modality specific circuitry of a respective modular component. According to one embodiment each modular component can sample a digital representation of the input signal at a respective data acquisition rate. The data acquisition rate for a given modular component can be fixed or it can be variable such as may vary depending on the operating mode or state of the given modular component or the particular monitoring function being performed. The sampled biometric data can be stored in corresponding memory and of each modular component and . When the biometric data is stored a counter or an index can be incremented in the memory and . The counter thus may store an indicator value commensurate with the amount of memory e.g. bits or bytes or other units of memory or location in memory that has been written with biometric data.

The master module can retrieve the counter value from one or more of the modular components and . Since the amount of memory in each modular component is known by the master module e.g. by housekeeping information retrieved from the modular component the master module further can control retrieval of the biometric data from each modular component and based on the indication of memory fullness determined for each respective modular component from the counter value. Additionally or alternatively the master module can determine or estimate a rate at which the memory is being filled to further assist in coordinating retrieval of the biometric data from the modular components and . For example the master module can determine a change in the counter value for a given modular component over time e.g. from a comparison of a preceding counter value of the counter relative to a subsequent counter value after a plurality of clock cycles or since a last retrieval of the counter value . The master module can also obtain an indication of the sample rate and an indication of the number active channels to provide a basis for controlling retrieval of data from the modular components and . Those skilled in the art thus will appreciate that the bus controller and instructions executed by the processor in the master module can operate as means for controlling retrieval of data from the modular components and .

As mentioned above each of the modular components can have a form factor which may be a standard or proprietary form factor which is dimensioned and configured for swappable connection into the system . Thus as the intended use of the system changes different modular components can be replaced or swapped for other modules so that the aggregate system meets the needs for particular patient. The amount of memory for storing biometric data can further vary depending on the intended function of a given module. The master module thus can retrieve data from a given modular component based on the relative fullness determined by the master module for the modular component memory such as based on the known configuration and the counter value for the respective modular component. The particular combination of data acquisition and or therapy administration thus can be tailored on a patient by patient basis by interchanging or swapping various modular components having different modality specific circuitry into or out of the system .

Additionally the respective connections between the modules and the bus are schematically represented as bi directional arrows. Such connections enable data communication from a given one of the respective modules to one or more other modules over the bus such as under the control of the bus controller in the master module . Additionally the connections can provide power to each of the respective modules . For instance a power source such as including a voltage regulator and one or more batteries can distribute power to each of the respective modules via the bus or other power distribution means. Alternative power systems can be utilized to provide power such as may be implemented by separate power connections or in one or more of modules .

In the example of the CDC includes data control logic that is programmed and configured to control data storage and retrieval for the modular component . For example the data control logic can include data acquisition control that is programmed to control the data acquisition rate at which input signals from the modality specific circuitry are sampled. For instance the data acquisition control can implement a sampling rate based on the type of modular component and its intended purpose as well as based on a current operating mode. The sampling rate may also vary e.g. it may be increased or decreased in response to a biometric condition that is detected by the modality specific circuitry in response to a condition detected by one or more other module or in response to control instructions from a master module not shown . The data acquisition control can control the sampling rate based on a clock signal provided by a clock . For instance the data acquisition control can employ a timer counter or other time basis to periodically sample the input data from the modality specific circuitry at the defined rate. While the data acquisition control is depicted as being implemented in the CDC such functionality could be performed by the modality specific circuitry or through cooperation by both the CDC and the modality specific circuitry.

The CDC also includes memory for storing data and executable instructions. In the example of the memory includes a first memory structure and a second memory structure . Each memory structure and can be implemented as non volatile memory volatile memory or a combination of different memory devices that is configured for storing data and executable instructions. The memory structures and can be different physical memory devices or they may correspond to separate blocks of memory allocated within a common memory device.

In the example of the first memory structure stores housekeeping data e.g. data associated with the module s configuration and operation and executable instructions for the modular component . Such housekeeping information can be utilized to determine the health or status of the modular component such as by the master module not shown . As one example the first memory structure can store module data counter data control data error data and timing data . The module data can include module identification information e.g. model number serial number and the like . The module data thus can be utilized by the master module to ascertain the intended purpose or function and operating parameters of the modular component . The control data can include instructions and data that define functions and parameters of the data control logic . The error data may include information that identifies operating errors for the CDC and or modality specific circuitry such as error flags calibration errors and timing errors to name a few. The timing data can be utilized to store timing information associated with various aspects of operation of the CDC including speed of the clock a local relative time base e.g. as may be measured from start up or other predetermined events .

The second memory structure stores biometric data that is sampled from the modality specific circuitry . The counter data of the first memory structure has a value that is indicative of an amount of the biometric data that is stored in the second memory structure . For example the data in the counter can correspond to an incremental count of the units of memory e.g. bits or bytes that are written to in the second memory structure . Alternatively or additionally the counter data can define a location or offset of the data that is written into the second memory structure . For instance the counter data can be utilized as an index or indices that define a block or blocks of biometric data stored in the memory structure . Such an index can be utilized to address corresponding memory locations in the second memory structure for retrieving the biometric data . Errors associated with the biometric data can be retrieved from the other memory structure such as corresponding to the error data . Such errors can be utilized for example to diagnose and or to repair malfunctioning circuitry and software at the modular component such as by program instructions running on the master module or another modular component.

The data control logic may also be programmed and configured to perform an access control function which may include separate access control functions for accessing each of the respective memory structures and . The access control function can also update the counter data in response to biometric data being stored in the second memory structure . The second memory structure can be implemented as a FIFO data structure such that a single address or index value can be utilized to define the biometric data stored in such memory. For instance the access control function can increment the counter by an amount commensurate with the amount of biometric data that is stored in the second memory structure . The access control function can thus employ the counter data or other control instructions as an index for accessing and retrieving the biometric data from the second memory structure .

As a further example a master module or another modular component or process running in the system that is in communication with the modular component through a bus can transmit a request to the modular component. The request for instance can be a request for data from the first memory structure such as may include any of the data stored therein individually or in combination. The request can be provided to the data control logic via a bus interface . In response to the request the data control logic employs the access control function to retrieve the requested data from the first memory structure which in this example includes at least the counter data . The access control function thus can provide a response including the requested information to the requesting module via the bus interface . The requesting module can also issue a subsequent request for biometric data from the modular component which again is received by the bus interface and processed by the data control logic . The request can include a counter value or other address location that is utilized by the access control function to locate the requested biometric data from the second memory structure . The counter value or other location information can be derived from the information sent in a prior response such as from the module to a master module. The access control function in turn provides a set of one or more responses that includes the requested biometric data .

The bus interface coordinates the sending of the response data over the bus back to the requesting module. Additionally after retrieving the requested data from the second memory structure the access control function can reset the counter data to its appropriate starting value which starting value can indicate the absence of biometric data remaining in the second memory structure . It will be appreciated that the master module or other requestor can request less than all the biometric data from the second memory structure such as by specifying an offset or location that does not encompass all such biometric data. After the portion of requested biometric data is retrieved from the memory structure the access control function can set the counter to an appropriate value to indicate an offset or location for the remaining biometric data in such memory.

The modality specific circuitry includes corresponding analog circuitry depicted as an analog channel to analog channel N where N is a positive integer denoting the number of available channels for sending or receiving information and commands. Each analog channel is associated with a respective I O port such as for providing isolation and analog pre processing the respective input signal. While the modality specific circuitry may have N available channels it is to be understood that not every channel needs to be an active channel. The particular number of active channels can be set in the module data and or the control data in the CDC . Those skilled in the art will understand and appreciate various types of circuitry e.g. isolation amplifiers filters gain scaling circuits and the like that can be utilized to receive and process signals from appropriate sensors and provide corresponding input signals for each channel. The particular circuitry that forms each respective channel and how it may be configured in the modality specific circuitry thus can vary according to the modality and the biometric conditions intended to be monitored by the modular apparatus . Alternatively the analog channels might correspond to output or control circuitry e.g. drivers and logic configured to control delivery of appropriate therapies such as a chemical or electrical based therapies. The analog channels further can provide for isolation between the leads and sensors connected at the ports and the other processing performed by the modality specific circuitry .

Each active analog channel can provide an analog input signal to an analog to digital converter ADC that provides corresponding digital channel representation. The ADC provides the digital channel representation to a processor e.g. digital signal processor that can be programmed to perform additional signal processing on each digital channel representation. The processor can provide the processed data to the CDC which can be sampled by the data acquisition control according to a defined sample rate such as described above.

In the example of the master module includes a data controller that can be programmed and configured to control access and retrieval of data within the system . For instance the data controller can be implemented as computer executable instructions running in a processor for controlling other circuitry including a bus interface for sending and receiving requests and responses over the bus . The data controller further can control access to associated memory that can reside in the master module . The memory can be implemented as volatile or non volatile memory that can include the executable instructions for controlling operation of the master module as well as for storing data retrieved from one or more of the other modules . It is to be understood and appreciated that while the memory is depicted as residing within the master module additional memory can be implemented into the system such as being attached to the bus as one of the other respective modular components . Thus the amount of memory and storage capability of the system is quite extensible.

The data controller also includes a data collection control function . The data collection control can be a set of one or more program modules functions or routines programmed to asynchronously retrieve data from the modules . In particular the data collection module includes a memory storage control that controls the overall scheme employed by the master module for accessing the respective modules and retrieving data therefrom. The memory storage control can issue one or more requests to each of the respective modules such as to obtain information from such modules which can include housekeeping data biometric data or a combination of data types. As described herein each of the modules or components may be programmed and configured to acquire different types of biometric data or to control delivery of a therapy. Consequently each of the respective modules may acquire data at a different rate such that the available memory within each of the corresponding modules may fill at different respective rates. Since the master module can know the type of a given module and based upon the type of modules the amount of available memory for storing biometric data the master module can send requests for certain housekeeping data from each of the modules based on which it can determine the relative fullness of the modules. In order to issue these and other requests the data collection control includes a request engine that is configured to employ the bus interface for sending requests over the bus to one or more these modules .

As an example the request engine can packetize a request to an address associated with a given module or a broadcast request to the set of modules connected to the bus . A request may include data or instructions calling for certain information such as housekeeping information that may be contained in a memory structure that is different from the memory structure stored in the biometric data for the given module . As described herein for example the request can include a request for housekeeping information that includes a counter value indicative of a location or an index associated with the biometric data stored in a corresponding memory at each respective module . Thus in response to such request each modular component can send a response with the requested information including a counter value indicative a location that can be utilized to ascertain an address or location for biometric data in a corresponding memory structure. The response is sent from the modular component over the bus .

The bus interface of the data controller provides the responses to a response engine . The response engine handles responses received from the modules such that the data collection control can process the responses in a corresponding order. For example the data collection control can include a fullness calculation module that is programmed to ascertain a relative fullness of the biometric data in a respective module based on the information contained in a response to the corresponding request. As described herein for example the response can include a counter value based on which the fullness calculator can ascertain the relative fullness of the memory structure for storing biometric data in each of the respective modular components . The relative fullness may be an absolute fullness that depends on a predefined capacity of the memory in each module. The relative fullness calculator may also be programmed to determine a rate at which a respective memory structure is being filled such as can be determined based upon other response information including the number of active channels at a given modular component and the sampling rate of data at a given modular component. Those skilled in the art will understand and appreciate various ways and calculations that can be performed by the fullness calculator based upon housekeeping data returned in a response from a given modular component.

The data collection control further may include a prioritization engine . The prioritization engine can be programmed to prioritize further requests for biometric data for each of the respective modular components . The prioritization can vary according to the intended purpose of the biometric monitoring system . The prioritization further may be performed based on the relative fullness of the memory structure storing the biometric data in each of the respective modular components . The prioritization engine may also or additionally determine the priority according to the type of each of the plurality of data acquisition modules and patient specific parameters e.g. condition of the patient purpose for the monitoring as well as other variables associated with the patient . The priority can be a weighted priority that is set as a function of the type of module and the amount of data acquired per data acquisition sequence at the module and based on the patient specific parameters.

The prioritization engine or other process can determine if a request for biometric data is necessary based upon the fullness determined by the fullness calculator for each of the respective modular components and if it is determined that a request for biometric data should be made the prioritization engine can prioritize the request for biometric data so that requests are first sent out to higher priority modular components so that the resulting responses and associated data are received from such higher priority components. For example certain biometric conditions being monitored may be considered high priority conditions such as pulse rate brain activity and the like where as other condition may be considered lowered priority such as monitoring activation of muscular tissue. Thus those skilled in the art will understand and appreciate various routines and combinations of information that can be utilized to implement appropriate controls prioritizing requests and responses for biometric data.

As a further example the memory can store modular configuration data at and biometric data for each of the respective modular components. For example during an initialization or calibration phase the data collection control can send a request to each of the physical locations or physical addresses at which each of the modular components are connected to the bus . Such requests can include data or instructions calling for return of modular configuration information for each modular component which can result in corresponding responses being sent to the master module . The module configuration information can in turn be stored as the module configuration data at the monster module. The module configuration data thus can be utilized to ascertain the type or function of the given module as well as the particular configuration thereof. For example module configuration data for a given module may include or the master module may derive the following information from the module configuration data the memory available for storing biometric data a level of priority associated with the module or component data sampling rates the number of active channels and other configuration information that may be useful in determining what information is stored in the modular component . Thus the data collection control can determine a relative fullness of memory in each modular component based on the configuration data and updated indicator data e.g. a counter value as described herein retrieved from the modular component to asynchronously acquire biometric data from the modular components in the system .

Biometric data received by the response engine further can be stored by the data controller into the memory as the biometric data . Thus the memory in the master module can store a set of biometric data for each of the respective modular components . Additionally the master module can process data from one or more modules and store processed sets of data in the memory. Since certain modules may acquire data at a greater rate than others the amount of memory allocated for a given module can vary according to its intended purpose. It would further be appreciated as described herein that one or more other modular components can be memory modules for storing additional biometric data or other data associated with operation of the system .

As the available memory in the master module or associated modular component is nearing its capacity the master module can be programmed to transmit the data or indicate a signal e.g. audible or visual or a combination thereof that can be utilized for triggering a download of data from the biometric monitoring system to another device. It should be understood and appreciated that the amount of memory available in the system can be sufficient to allow use over an extended period of time for monitoring a number of biometric conditions. The download of information from the biometric monitoring system to another device e.g. a client or service can be performed in a variety of ways such as described herein.

Each of the modular apparatuses further can include one or more channels for acquiring and processing input signals indicative of corresponding biometric conditions. Each channel of each modular apparatus for example provides data that can be sampled at an appropriate data acquisition rate. Due to the different types and functions of the modular apparatuses the sampling rates can vary significantly. The number of channels and sampling rates thus determine the rate of data storage for each respective modular apparatus . The sampling rates further may change during normal operation depending on a variety of factors such as described herein. For instance asynchronous data collection can be implemented across modular apparatuses while at the same time employing a synchronous clock within each modular apparatus to provide timing on module for local data collection functions. Due to the wide range of potential types of modular apparatuses that can be implemented and corresponding varying rates that data may be stored in the memory at such modules the master module can collect data asynchronously from each of the modular apparatuses depending on a relative fullness of the respective memory for such modules.

In such a distributed system one or more I O modules are provided for interfacing with a process wherein the outputs derive their control or output values in the form of a message from a master controller over the bus . For example a modular component can receive a request or instruction a processor via a communications network or a backplane communications bus. The desired output value for controlling a device associated with a given biometric condition can be generally sent to the output module in a message such as an I O message e.g. a request or a response . The modular component that receives such a request message can provide a corresponding output response analog or digital to the controlled process. The modular component can also measure a value of a process variable and report the input values to a master controller or peer modular component over the network or bus . The master module can control data collection from the modular components to be asynchronous based on the fullness of determined for predetermined memory in each of the respective modular components. The input values may be used by the master module for performing control computations.

In view of the structural and functional features described above certain methods will be better appreciated with reference to . It is to be understood and appreciated that the illustrated actions in other embodiments may occur in different orders or concurrently with other actions. Moreover not all features illustrated in may be required to implement a method according to the subject invention. It is to be further understood that the following methodology can be implemented in hardware e.g. one or more processors such as in a computer or computers or in a biomedical device software e.g. stored in a computer readable medium or as executable instructions running on one or more processors or as a combination of hardware and software.

The method begins at such as in conjunction with power up. Power up can include initialization of program parameters and loading operating instructions such as may be programmed to perform a particular task. The task may include a variety of one or more functions associated with monitoring one or more biometric conditions delivering therapy to a patient or a combination thereof. The method proceeds to in which housekeeping information is requested from one or more modules. The housekeeping information can include a variety of information including but not limited to module configuration information module identification information control information sampling intervals number of active channels and the like.

At a determination is made as to whether a response to the request at is received. If no response is received the method may return to for re requesting such information. Alternatively a timer or time up process may be implemented in which a request must receive a response within the predetermined time period or the request times out. If the request is timed out it may be repeated or other action may be taken in the event of an error. If a response is received from the method proceeds to .

At the requested information from the received response is stored in memory. The memory can be local memory such as in the master module or remote memory such as may be located in another module of a biometric monitoring system. At the fullness of the memory at the module is determined based upon the stored information. For example the fullness of the memory can be determined based on a counter value individually or in combination with other data provided in the response received at from a remote module. The counter value can indicate a location in memory at the module relative to knowing the available amount of memory for storing such information. The fullness of the memory thus can be derived as an indication of how much biometric data has been stored in the available memory and or a determination of how much memory space remains for storing biometric data at the respective module. The fullness determination can be made for one or more of the modules in the biometric monitoring system based on corresponding responses received at .

At a determination is made as to whether retrieval of biometric data is required. If the determination at is negative indicating retrieval is not required the method may return to . If it is determined that retrieval is required the method may proceed to . At the data collection process from the respective modules can be prioritized. The prioritization can be based on a number of factors including the relative fullness of memory at the modules a predetermined relative importance of the type of biometric information being acquired at each of the respective modules as well as other criteria that may be associated with the intended purpose or function s being performed by the biometric monitoring system.

At biometric data can be requested from one or more modules for which it has been determined at that retrieval is required. The request can be issued to the address of each module over a corresponding data bus such as described herein. At responses can be received from each of the respective modules including the requested biometric data. The corresponding biometric data can be extracted from the corresponding responses and stored in memory such as local memory at the master module or at some other location at the biometric monitoring system. The master module can perform a variety of functions relative to the stored information which can be utilized to provide useful information about the condition of the patient as well as about the status or health of the respective modules. For example can the master module can compute values based on biometric data received from one module or based on an aggregate set of such data received from multiple modules. From the method proceeds to corresponding to a timer function that can be utilized to control the frequency at which the housekeeping information is requested from the respective modules. Similarly each of the decisions at and may also return to through the timer function to control when housekeeping information may be requested from the modules. The timing between requests can be the same for all modules or it may vary depending on the type or configuration of the respective modules. Thus it will be appreciated that the biometric data can be requested asynchronously from the modules where the modules may acquire data synchronously at various rates according to the type of information being acquired by each respective module.

At a determination is made as whether a sampling timer has expired. The sampling timer can be set to provide a data acquisition rate for the modality specific circuitry in the given module. The sample rate can be fixed for a given module or it may vary depending on an operating mode of the module and a module can have any number of operating modes. If the sample timer has not expired at the sampling can remain idle e.g. and channel data can be buffered or discarded during the operation of the modality specific portion of the module. Once the sampling timer expires indicating data acquisition is required the method proceeds to . At the biometric data is sampled from the modality simple circuitry. As described herein the sample data may include a digital representation of channel data from any number of one or more channels. The number of channels and amount of data stored for each channel may vary depending upon the type and configuration of the module and the purpose of monitoring system. Additionally the biometric data may include information associated with the delivery of a given therapy or other conditions.

At the sampled biometric data is stored in memory of the biometric monitoring device. This memory can be a different structure form the memory structure employed to store housekeeping information. The housekeeping information can include information associated with the health of a given module its configuration and other information such as described herein. At a counter is updated responsive to the storing of the biometric data in the memory. The counter can be part of the housekeeping information that is utilized to provide an index or other indication relating to the location in the memory where the biometric data has been stored. As a further example another process running the biometric monitoring system e.g. at a master module may employ the counter value as an index or address provided in a request or other message to retrieve the stored biometric data from the module implementing the method . From the method returns to to continue the data acquisition process.

Also depicted in is a basic process for handling a request and providing responses for data in the given module. This process may run in parallel with or in series with the data acquisition process described at to .

At a determination is made as to whether a request is received. The request can be received for example from a data bus to which the given module is connected through a bus interface. If no request is received the module may loop at . The module may periodically check for requests via the bus. If a request is received Yes the method proceeds from to . The requested information for example can include a request for information such as biometric data housekeeping data or other information that may be maintained at the given module. The data can be access from one or more memory structure residing in the given module and at one or more responses can be provided. For example certain information may be submitted in a single packet from the module to the requester whereas other information may require multiple packets to be sent over the bus to complete a given response. Those skilled in the art will understand and appreciate that the number of packets and manner in which the data is sent over the bus can vary depending upon the configuration of the bus architecture and the protocol utilized for data transmission. From the method can return to for processing additional requests.

Although the innovation has been shown and described with respect to certain illustrated aspects it will be appreciated that equivalent alterations and modifications will occur to others skilled in the art upon the reading and understanding of this specification and the annexed drawings. In particular regard to the various functions performed by the above described components assemblies devices circuits systems etc. the terms including a reference to a means used to describe such components are intended to correspond unless otherwise indicated to any component which performs the specified function of the described component e.g. that is functionally equivalent even though not structurally equivalent to the disclosed structure which performs the function in the herein illustrated exemplary aspects of the innovation. Furthermore to the extent that the terms includes including has having and variants thereof are used in either the detailed description or the claims these terms are intended to be inclusive in a manner similar to the term comprising. 

