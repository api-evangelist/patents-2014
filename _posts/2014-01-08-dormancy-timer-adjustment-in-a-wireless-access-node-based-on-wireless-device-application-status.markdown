---

title: Dormancy timer adjustment in a wireless access node based on wireless device application status
abstract: A wireless communication device determines user interface activity initiated by a user application. The wireless communication device determines a timer setting based on the user interface activity initiated by the user application. The wireless communication device wirelessly transfers the timer setting to a wireless communication network. The wireless communication device exchanges wireless communications initiated by the user application with the wireless communication network. The wireless communication network uses a dormancy timer based on the user interface activity initiated by the user application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09345033&OS=09345033&RS=09345033
owner: Sprint Communications Company L.P.
number: 09345033
owner_city: Overland Park
owner_country: US
publication_date: 20140108
---
This patent application is a continuation of U.S. patent application Ser. No. 13 074 198 that was filed on Mar. 29 2011 now U.S. Pat. No. 8 667 513 and that is entitled DORMANCY TIMER ADJUSTMENT IN A WIRELESS ACCESS NODE BASED ON WIRELESS DEVICE APPLICATION STATUS. U.S. patent application Ser. No. 13 074 198 is hereby incorporated by reference into this patent application.

A wireless access node that is used by wireless devices to communicate with a wireless network has a limited amount of bandwidth to allocate among connected wireless devices. This limited bandwidth is allocated by assigning a wireless access link or channel to each wireless device that needs to exchange communications. A dormancy timer in the access node tracks the amount of time since a wireless device last exchanged communications so that when a certain amount of time has passed the access node can release the access link for that device. Once released the access link can be assigned to other wireless devices that need to exchange communications with the access node. Allowing the access link to stay allocated to a wireless device for a time after communications have completed enables subsequent communications to be exchanged without the need to reallocate an access link to the wireless device.

Many wireless devices are capable of executing applications that require the use of an access link for wireless communications. Sometimes these applications will run in the background where a user is not actively interacting with the application and sometimes they will run in the foreground where a user is actively interacting with the application. When a user is actively interacting with an application it is more likely that an application will exchange subsequent communications over an access link than would an application running in the background. Thus the user experience of an application running in the foreground may benefit from not needing to take the time necessary to have a new access link allocated to the wireless device in order to exchange subsequent communications.

A wireless communication device determines user interface activity initiated by a user application. The wireless communication device determines a timer setting based on the user interface activity initiated by the user application. The wireless communication device wirelessly transfers the timer setting to a wireless communication network. The wireless communication device exchanges wireless communications initiated by the user application with the wireless communication network. The wireless communication network uses a dormancy timer based on the user interface activity initiated by the user application.

The following description and associated figures teach the best mode of the invention. For the purpose of teaching inventive principles some conventional aspects of the best mode may be simplified or omitted. The following claims specify the scope of the invention. Note that some aspects of the best mode may not fall within the scope of the invention as specified by the claims. Thus those skilled in the art will appreciate variations from the best mode that fall within the scope of the invention. Those skilled in the art will appreciate that the features described below can be combined in various ways to form multiple variations of the invention. As a result the invention is not limited to the specific examples described below but only by the claims and their equivalents.

In operation access node has a limited amount of radio frequency spectrum bandwidth that can be allocated among connected wireless devices. This limited amount of spectrum is divided among a number of wireless access links. An access link is only assigned to wireless device when wireless device needs an access link to exchange communications with access node . During periods of time when wireless device does not need to exchange communications access node does not assign an access link to wireless device so that the access link can be assigned to other devices that do need to exchange communications with access node .

Access node controls the allocation of access links among wireless devices by using a dormancy timer for each access link assigned to a wireless device. In particular a dormancy timer for wireless device keeps track of the amount of time that has elapsed since wireless device last exchanged communications over an assigned access link. The dormancy timer is typically set to allow enough time for successive communications to be exchanged without wireless device needing to request another access link from access node . Once the dormancy timer indicates that the set amount of time has passed since wireless device last exchanged communications access node releases the access link from wireless device so that the access link can be allocated to other devices that may need to exchange communications with access node .

Wireless device begins the operation by monitoring Application Programming Interface API calls from the applications for user interface functions and monitoring the status of user interface components step . The applications executing on wireless device make API calls to the operating system of wireless device in order to access the functions of wireless device . Moreover API calls for user interface functions include API calls that access input or output functions of various user interfaces on wireless device such as a display speaker keyboard LED notifier microphone or any other type of user input or output interface.

For example if an application needs to show something on a display of wireless device then the application will call an API for a display function of wireless device . Wireless device may include multiple user interfaces of a certain user interface type such as multiple displays or microphones with each of these multiple user interfaces having separate APIs. Additionally there may be multiple APIs for each individual user interface. For example one API may be called to show a notification on a display while a second API may be called for the display to display an application full screen.

The user interface components may be monitored selectively or wireless device may monitor all user interface components of wireless device . For example wireless device may monitor the status of only the user interface components that are subject to API calls by the applications or wireless device may monitor all user interface components in order to know the current state of all components. The status of the user interface components includes any type of status information such as display on off state display brightness speaker on off state speaker volume keyboard slide out state for a slide out keyboard keypad lock or any other type of status information for user interface components.

The API calls for the user interface functions and the status of the user interface components are processed to set a dormancy timer threshold step . If there is no API call to a user interface function then the dormancy timer threshold is set to a lower value. Likewise if there is an API call to a user interface function but the status of the user interface components that are called by the API is set to off then the dormancy timer threshold is also set to a lower value. The off state may include a state where the user interface components are not in use. For example while speakers of wireless device may still be technically on the volume setting on wireless device may be turned all the way down or muted. In a similar example a keyboard for wireless device may still be considered to be on but is in a closed position so as it would not or could not be used.

The threshold is set to a lowered value because the application is determined to be running in the background on wireless device . This determination is due to the lack of user interface API calls indicates that the user is not interacting with the application. Therefore a shorter dormancy timer threshold is desirable because the user experience does not suffer as much if a background application needs a wireless link reallocated for subsequent communication exchanges with wireless access node . Similarly it is typically the case that applications running in the background need to exchange communications less frequently than those running in the foreground thereby reducing the need for continued allocation of an access link for subsequent communications.

Alternatively if there is an API call to a user interface function and the user interface component associated the call has a status set to on then the application is considered to be running in the foreground. Consequently the dormancy timer threshold is increased to a higher value than would otherwise be set had the application been running in the background. For example the dormancy timer threshold may be increased to 10 seconds for an application running in the foreground as opposed to 1 second or possibly even zero seconds for an application running in the background.

The threshold is set to a higher value because the application is determined to be running in the foreground on wireless device . This determination is due to the user interface API calls being directed to a user interface component that has a status of currently being active or on which indicates that the user is more likely to be interacting with the application. Therefore a longer dormancy timer threshold is desirable because it is more likely that the application will exchange subsequent communications that require an access link. The user experience is be less likely to suffer if wireless device is able to hold on to the access link assigned to wireless device for a longer period of time so that any subsequent communications do not need to request a new access link from access node .

In some embodiments wireless device may not determine whether the user interface component that is called by the API is active. In those embodiments an application is considered to be running in the foreground in the event of an API call to a user interface function without the need to determine the status of the user interface component that is called.

In some embodiments both foreground and background applications may be executing on wireless device . In those embodiments the increased dormancy timer threshold set for any foreground applications overcomes the shorter dormancy timer threshold that would otherwise be set for any background applications.

After wireless device has determined the dormancy timer threshold wireless device transfers the dormancy timer threshold to access node on wireless network step . The dormancy timer threshold may be transmitted to access node in a message over the access link or over a control channel for control communications between wireless device and access node . Furthermore a probe used by wireless device to determine whether an access link is currently active for wireless device may contain the message indicating the dormancy timer threshold.

Access node in turn releases a wireless access link assigned to wireless device if a dormancy timer for wireless device reaches the dormancy timer threshold step . If the dormancy timer counts up the amount of time elapsed since the last communications were exchanged between access node and wireless device then access node will release the access link for wireless device when the dormancy timer counts up to the dormancy timer threshold. Hence if the dormancy timer threshold is 10 seconds then the dormancy timer will count from 0 up to 10 seconds before releasing the access link. Alternatively the dormancy timer may count down from the last time communications were exchanged between access node and wireless device . In that case the dormancy timer threshold may indicate the value from which the dormancy timer counts. Thus if the timer is set for 10 seconds then the dormancy timer will start at 10 seconds after the last communications were exchanged and count down to zero before releasing the access channel.

In both dormancy timer examples from above if subsequent communications are exchanged on the access link before the dormancy timer reaches the dormancy timer threshold then the dormancy timer may be reset. The dormancy timer threshold may be a different value than it was set to previously depending on whether the application that exchanged those subsequent communications was running in the background or in the foreground. If the subsequent communications were for a background application then the dormancy timer should be reset only if the dormancy timer threshold would allow a greater amount of time before access link release than what the dormancy timer is currently indicating. This prevents a longer dormancy timer for a running foreground application from being negated by a shorter dormancy timer due to the subsequent communications exchanged by a background application. It follows therefore that subsequent communications from a foreground application will always reset the dormancy timer because the dormancy timer threshold is longest for foreground applications.

In view of the above examples it follows that while an application may be considered to be running in the foreground or background based on traditional conceptions wireless device may not make the same determination based on the method set forth herein. For example a music streaming application may continue to stream music from a server and play that music out of a speaker of wireless device while a user interacts with other applications on wireless device . Traditionally the music streaming application may be considered to be running in the background. However consistent with the method above the music streaming application is considered to be running in the foreground for purposes of a dormancy timer threshold because the application is calling an API for a speaker user interface.

Referring back to wireless communication device comprises Radio Frequency RF communication circuitry and an antenna. The RF communication circuitry typically includes an amplifier filter modulator and signal processing circuitry. Wireless communication device may also include a user interface memory device software processing circuitry or some other communication components. Wireless communication device may be a telephone computer e book mobile Internet appliance wireless network interface card media player game console or some other wireless communication apparatus including combinations thereof.

Wireless access node comprises RF communication circuitry and an antenna. The RF communication circuitry typically includes an amplifier filter RF modulator and signal processing circuitry. Wireless access node may also comprise a router server memory device software processing circuitry cabling power supply network communication interface structural support or some other communication apparatus. Wireless access node could be a base station Internet access node telephony service node wireless data access point or some other wireless communication system including combinations thereof.

Wireless communication network comprises network elements that provide wireless devices with wireless communication access to packet communication services. Wireless network may comprise switches wireless access nodes Internet routers network gateways application servers computer systems communication links or some other type of communication equipment including combinations thereof.

Wireless link uses the air or space as the transport media. Wireless link may use various protocols such as Code Division Multiple Access CDMA Evolution Data Only EVDO Worldwide Interoperability for Microwave Access WIMAX Global System for Mobile Communication GSM Long Term Evolution LTE Wireless Fidelity WIFI High Speed Packet Access HSPA or some other wireless communication format. Communication link uses metal glass air space or some other material as the transport media. Communication link could use various communication protocols such as Time Division Multiplex TDM Internet Protocol IP Ethernet communication signaling CDMA EVDO WIMAX GSM LTE WIFI HSPA or some other communication format including combinations thereof. Communication link could be a direct link or may include intermediate networks systems or devices.

Wireless device continually monitors API calls for user interface functions made by messaging application web browser and any other applications executing on wireless device . The API calls for the user interface functions are related to user interface components of wireless device . For example a music player application may use an API call to the speaker to play music an API call to the display to show what song is playing and an API call to a keyboard or touch screen so that a user can indicate a desired song to play. Likewise web browser may make an API call to a display to display a web page and an API call to a keyboard or touch screen to receive a web address.

Referring back to web browser requests access link communications so that web browser can retrieve a web page from web server to display to a user on display . Wireless device recognizes that web browser is requesting access link communications on the access link with base station step . Wireless device then determines whether web browser made an API call to any of user interfaces step . This determination may be made by determining whether any user interface API calls were performed within a certain time period before or after the request for access link communications for example an API call occurring within one second of the access link communication request.

In this example web browser had made an API call to present an application interface for web browser on display before the access request. Therefore the process moves to step where wireless device determines whether display is active to carry out the API call request. If display is not active then web browser is determined to be running in the background. Since web browser is running in the background wireless device sets a bit in a probe that determines whether there is an access link or requests an access link if there is none that indicates that the dormancy timer for the access link should be set for a short period of time such as one second step . In contrast if display is active at step then web browser is determined to be running in the foreground. Hence wireless device sets a bit in the probe that indicates that the dormancy timer for the access link should be set for a longer period of time such as ten seconds step .

In another example returning to step messaging application requests access link communications so that messaging application can retrieve messages from messaging server . Wireless device recognizes that messaging application is requesting access link communications on the access link with base station step . Wireless device then determines whether messaging application made an API call to any of user interfaces step . This determination as before with web browser may be made by determining whether any user interface API calls were performed within a certain time period before or after the request for access link communications for example an API call occurring within one second of the access link communication request.

In this example messaging application called an API for displaying a notification in the upper left hand corner of display and also called an API for playing a notification sound through speaker . However in step wireless device determines that the API calls for notifications of this type are not API calls that would indicate that an application is running in the foreground. Therefore wireless device determines that messaging application is running in the background and sets a bit in the probe that indicates that the dormancy timer for the access link should be set for a short period of time step .

In both examples from above after the most recent communication exchange between wireless device and base station on the access link base station starts a dormancy timer in accordance with the bit from the probe transferred from wireless device . Unless subsequent communications are exchanged on the access link that reset the dormancy timer the dormancy timer will expire step . Once the dormancy timer expires base station releases the access link assigned to wireless device so that the access link can be assigned to other wireless devices step .

Wireless communication interface comprises RF communication circuitry and an antenna. The RF communication circuitry typically includes an amplifier filter RF modulator and signal processing circuitry. Wireless communication interface may also include a memory device software processing circuitry or some other communication device. Wireless communication interface may use various protocols such as CDMA EVDO WIMAX GSM LTE WIFI HSPA or some other wireless communication format.

Wireless communication interface is configured to transfer a dormancy timer threshold to a wireless communication network that releases a wireless link to wireless communication device if a dormancy timer for wireless communication device reaches the dormancy timer threshold.

User interface comprises components that interact with a user to receive user inputs and to present media and or information. User interface may include a speaker microphone buttons lights display screen touch screen touch pad scroll wheel communication port or some other user input output apparatus including combinations thereof. User interface may omitted in some examples.

Processing circuitry comprises microprocessor and other circuitry that retrieves and executes operating software from memory device . Memory device comprises a non transitory storage medium such as a disk drive flash drive data storage circuitry or some other memory apparatus. Processing circuitry is typically mounted on a circuit board that may also hold memory device and portions of communication interface and user interface . Operating software comprises computer programs firmware or some other form of machine readable processing instructions. Operating software includes monitor module and dormancy timer threshold module . Operating software may further include an operating system utilities drivers network interfaces applications or some other type of software. When executed by processing circuitry operating software directs processing system to operate wireless communication device as described herein.

In particular monitor module of operating software directs processing system to monitor API calls from applications executing on processing system for user interface functions and monitor status of user interface components of user interface . Dormancy timer threshold module then directs processing system to process the API calls for the user interface functions and the status of the user interface components to set a dormancy timer threshold.

The above description and associated figures teach the best mode of the invention. The following claims specify the scope of the invention. Note that some aspects of the best mode may not fall within the scope of the invention as specified by the claims. Those skilled in the art will appreciate that the features described above can be combined in various ways to form multiple variations of the invention. As a result the invention is not limited to the specific embodiments described above but only by the following claims and their equivalents.

