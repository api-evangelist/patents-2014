---

title: Facial recognition with biometric pre-filters
abstract: Embodiments of the present invention disclose a method for facial recognition processing using biometric pre-filters. The computer determines a first eye-to-eye distance of a first detected face of a first image, and wherein the eye-to-eye distance is a biometric measurement. The computer receives a selection of a demographic characteristic. The computer determines a search range for the first eye-to-eye distance based, at least in part, on the selection of the demographic characteristic, and the first eye-to-eye distance. The computer identifies a second image from a plurality of images, wherein the second image includes a second eye-to-eye distance that is included in the determined search range for the first eye-to-eye distance. The computer applies a facial recognition algorithm to the second image to determine at least one potential identity that is associated with the first detected face.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09639741&OS=09639741&RS=09639741
owner: International Business Machines Corporation
number: 09639741
owner_city: Armonk
owner_country: US
publication_date: 20140414
---
The present invention relates generally to the field of facial recognition and more particularly to improving a facial recognition system using biometric pre filters.

Facial recognition systems are computer applications used for identifying an unknown person or verifying the identity of a known person for access control. Facial recognition systems may be used at law enforcement agencies to identify suspects at border crossings and airports to verify individuals against their passports at airports to identify wanted individuals and at casinos to catch blacklisted card counters. Tablets and laptop computers also use face recognition to allow the owner to login by face instead of typing a password. Many of the current digital cameras have a form of face detection which tells the camera what to focus on and when to take the picture based on smile detection.

While fingerprints have been used by law enforcement for identifying suspects for many years facial recognition systems offer automated help in identifying potential suspects even when the suspect person is uncooperative. Getting fingerprints from an uncooperative person is a lot harder than snapping a photo of them. While facial recognition may be a slow process if the detective doesn t have a fingerprint or DNA to help with identification then facial recognition is the next best thing. Facial recognition systems are useful in law enforcement investigations where a detective might have a picture of a suspect and needs to determine the identity of the person in the picture.

After inputting a probe image into a facial recognition system the first step is detecting the face apart from the background or face localization. The next step is to extract the facial features in the photo to be employed by the facial recognition algorithm. Recognition algorithms can be divided into two main approaches geometric or photometric. Geometric algorithms look at distinguishing facial features in feature analysis. Such facial recognition algorithms identify faces by extracting features from an image of a subject s face. Photometric algorithms such as principal component analysis use a statistical approach by distilling an image into values and comparing the values with templates to eliminate variances. Photometric algorithms normalize a gallery of face images compress the data and save only the data in the image used for facial recognition.

Embodiments of the present invention disclose a method computer program product and system for facial recognition processing using biometric pre filters. The computer determines a first eye to eye distance of a first detected face of a first image wherein the first detected face includes two eyes and wherein the eye to eye distance is a biometric measurement taken from a center of a first eye to a center of a second eye of the first detected face. The computer receives a selection of a demographic characteristic. The computer determines a search range for the first eye to eye distance based at least in part on the selection of the demographic characteristic and the first eye to eye distance and wherein the determined search range is a numeric value. The computer identifies a second image from a plurality of images wherein the second image includes a second detected face that includes a second eye to eye distance that is included in the determined search range for the first eye to eye distance. The computer applies a facial recognition algorithm to the second image to determine at least one potential identity that is associated with the first detected face.

Embodiments of the present invention recognize that existing facial recognition systems compare a probe image to a collection of candidate images or known faces and algorithmically determine if there is a match. A facial recognition algorithm comparing the probe image to each candidate image is processor intensive involving floating point and graphical computations to determine image and facial similarities.

Embodiments of the present invention provide for a method computer program product and system for optimizing facial recognition analysis using biometric pre filters. A facial recognition system may apply one or more biometric pre filters such as eye to eye distance mid eye to nose tip distance the ratio of eye to eye distance to mid eye to nose tip distance or a geometric face shape to a collection of pre measured candidate images based on the biometric measurements of a probe image with a defined bounding range. The range may be determined based at least in part on selections of demographic characteristics of the subject in the probe image. A facial search application stores the results of the biometric measurements as individual data fields in a facial database separate from the metadata of the facial image to be used as pre filters to reduce the number of candidate images in a facial database processed by a facial recognition system using a facial recognition algorithm when matching a probe image. By using pre filters to reduce the number of candidate images to which the probe image is compared using a facial recognition algorithm the time a computer takes to search through millions of candidate images is reduced without affecting the quality of the matching results. Implementation of embodiments of the invention may take a variety of forms and exemplary implementation details are discussed subsequently with reference to the figures.

The present invention will now be described in detail with reference to the Figures. is a functional block diagram illustrating a distributed data processing environment generally designated in accordance with an embodiment of the present invention. Distributed data processing environment includes server computer client computer and client device interconnected over network . Distributed data processing environment may include additional server computers client computers or other devices not shown.

Network can be for example a local area network LAN a wide area network WAN such as the Internet or a combination of the two and can include wired wireless fiber optic or any other connection known in the art. In general network can be any combination of connections and protocols that may support communications between server computer client computer and client device in accordance with an embodiment of the present invention.

Server computer can be a server computer an application server a laptop computer a tablet computer a netbook computer a personal computer PC a desktop computer a personal digital assistant PDA a smart phone or any programmable electronic device capable of communicating with client computer via network . In certain embodiments server computer represents a computer system utilizing clustered computers and components that act as a single pool of seamless resources when accessed through network as is common in data centers and with cloud computing applications. Server computer may be a node in a distributed database management environment. In general server computer can be representative of any computing device or a combination of devices with access to facial recognition system and facial data and is capable of executing facial recognition system . Server computer may include internal and external hardware components as depicted and described in further detail with respect to .

Server computer includes an instance of facial recognition system . In the depicted environment facial recognition system may be a suite of facial recognition applications with capabilities including but not limited to detecting faces within digital images detecting facial features enrolling new images into facial data calculating biometric measurements of facial features in an image comparing a probe image to a collection of images in facial data and finding ranked matches for the probe image. Facial recognition system may provide application programming interfaces API that enable applications to connect to data repositories such as facial data and issue commands for manipulating data repositories. In the depicted environment facial recognition system uses a user interface such as UI to receive user input and to output responses to a user. In other embodiments facial recognition system and facial data may be on one computer or more than one computer and each item may be split into a plurality of parts or modules and spread across more than one computer. In any configuration the following is maintained facial recognition system communicates with facial data . Facial recognition system is described further in .

Server computer includes a user interface such as UI which executes locally on the server computer. UI may utilize a web page application a command line processor or any other graphical user interface GUI . UI includes components used to receive input from a user and transmit the input to facial recognition system residing on server computer . In an embodiment UI uses a combination of technologies and devices such as device drivers to provide a platform to enable users of server computer to interact with facial recognition system . In an embodiment UI receives input such as selections of radio buttons or check boxes using a physical input device such as a keyboard or mouse via a device driver that corresponds to the physical input device.

Server computer includes an instance of facial data . Facial data is a repository or database for the storage of candidate images including but not limited to a digital image of a face or a link to the image file personal information about the subject such as name measurements of facial features taken from the image and encoded in some form demographic characteristics and biometric measurements to be used in pre filtering. The digital image may include but is not limited to a scan of an artist sketch a still from a video image a scan of a printed photo and an image from a digital camera or smart phone. Facial encoded data for an image may be stored as metadata in one large data field of a database table in facial data . The metadata may be in a proprietary format specific to the facial recognition algorithm being used by facial recognition system . A link to the actual digital image file may be included as a separate data field in the database. Embodiments of the present invention provide for separate searchable data fields in the database related to one or more biometric measurements such as the eye to eye distance the ratio of eye to eye distance over mid eye to nose tip distance or the geometric shape of a triangle between the eyes and the midpoint of the nose. The separate data fields may be stored in the database of facial data in the form of an index to allow for quick searching by facial recognition system .

In some embodiments facial data may be a new database created and used by facial recognition system where selected biometric measurements such as eye to eye distance are calculated for new candidate images and then stored as separate data fields in facial data . Facial recognition system may be configured to calculate biometric measurements based on face detection and lens and distance calculations and may store the results within the image metadata. In other embodiments facial data may include candidate images from pre existing facial recognition databases. In the case of pre existing candidate images without lens and distance information in the photo metadata facial recognition system may calculate the biometric measurements by generating a D model of the face using the pixel width of the eyes as a standard modeling the rest of the facial features in proportion and calculating the biometric measurements. Using the D model method is less accurate than using lens and distance calculations and may be included as a factor when setting the range of biometric measurements used in searches.

Facial data may be implemented within any type of storage device for example persistent storage as depicted and described with reference to which is capable of storing data that may be accessed and utilized by server computer such as a database server a hard disk drive or flash memory. In other embodiments facial data can represent multiple storage devices within server computer .

In various embodiments of the present invention client computer can be a laptop computer a tablet computer an application server a netbook computer a personal computer PC a desktop computer a personal digital assistant PDA a smartphone or any programmable electronic device capable of communicating with server computer via network . Client computer may be a node in a distributed database management environment. In general client computer can be representative of any computing device or a combination of devices with respective access to facial search application and is capable of executing facial search application .

Client computer includes an instance of facial search application which executes locally on client computer and has the capability to access facial recognition system and facial data on server computer via network . Facial recognition system enables facial search application on client computer to transmit and store candidate images and associated metadata to facial data or to modify existing candidate images in facial data on server computer via network . Facial search application allows authorized users for example law enforcement officers to search for matches of a probe image such as probe image against a repository of facial image data on a server such as facial data on server computer . Facial search application may calculate biometric measurements of probe image to aid in matching probe image to an image within facial data . In another embodiment facial search application may be an associated client application created by the vendor or developer of facial recognition system for use in a server client environment. Facial search application may be fully integrated with partially integrated with or be completely separate from facial recognition system . In the depicted environment facial search application uses a user interface such as UI to receive user input and to output responses to a user. Facial search application is described further in reference to .

Client computer includes a user interface such as UI which executes locally on the client computer. UI may utilize a web page application a command line processor or any other graphical user interface GUI . UI includes components used to receive input from a user and transmit the input to facial search application residing on client computer . In an embodiment UI uses a combination of technologies and devices such as device drivers to provide a platform to enable users of client computer to interact with facial search application . In an embodiment UI receives input such as dragging and dropping data icons onto a workspace using a physical input device such as a keyboard or mouse via a device driver that corresponds to the physical input device.

In various embodiments of the present invention client device can be a laptop computer a tablet computer an application server a netbook computer a personal computer PC a desktop computer a personal digital assistant PDA or a smartphone capable of communicating with client computer and server computer via network . Client device may be completely separate from partially integrated or fully integrated with a photo scanner a digital camera a phone camera a video camera a web camera a surveillance camera or any electronic device capable of capturing an image of a face and saving the image as a digital file. In general client device can be representative of any computing device or a combination of devices with respective access to probe image and image capture application and is capable of executing image capture application .

Client device includes an instance of image capture application . Image capture application enables the capturing processing and storing of a facial image such as probe image and provides for transmitting probe image to facial search application on client computer via network . Processing may or may not include calculating biometric measurements before transmitting probe image to facial search application . In one embodiment image capture application may be configured to calculate biometric measurements based on face detection and lens and distance calculations from the photo metadata or the device and may store the results within the metadata for probe image . Image capture application may then transmit probe image associated metadata and subject personal information to facial recognition system on server computer via network to be included in a database of candidate images such as facial data . In an alternate embodiment client device may not utilize image capture application and may receive probe image as an image file attached to an email as a picture message or from a storage device in communication with client device .

Client device includes an instance of probe image . Probe image may be an image including but not limited to a digital image of a face with associated metadata. The digital image may be including but not limited to a scan of an artist sketch a still from a video image a scan of a printed photo and an image from a digital camera or smart phone camera. The metadata may be including but not limited to date timestamp of image capture focal length of camera lens and distance calculation results aperture setting and resolution. Facial search application on client computer receives probe image as input from client device via network . Facial search application may modify the received probe image by adding information including but not limited to measurements of facial features within the image and encoded in some form demographic characteristics and biometric measurements to be used in pre filtering. In other embodiments client device may be connected to client computer locally such as a scanner or camera connected to a desktop computer.

In other embodiments of the present invention facial recognition system facial search application and facial data may be on one computer or more than one computer and each item itself may be split into a plurality of parts or modules and spread across more than one computer. In any configuration the following is maintained facial recognition system and facial search application may communicate with facial data and facial recognition system may communicate with facial search application .

In the illustrative embodiment of the present invention facial search application on client computer receives probe image and associated metadata from client device via network . For example a policeman on the street may take a photo of a suspect with image capture application on client device such as a smartphone camera and transmit the image to a law enforcement user of facial search application back in the office on client computer . Facial search application receives probe image and encodes probe image with additional metadata related to measurements of facial features used by the facial recognition algorithm of facial recognition system . In embodiments of the present invention facial search application calculates one or more biometric measurements of probe image such as the eye to eye distance the ratio of eye to eye distance over mid eye to nose tip distance or the geometric shape of a triangle between the eyes and the midpoint of the nose. Facial search application stores the results of each of the biometric measurements as individual data fields separate from the metadata of probe image to be used as pre filters to reduce the number of candidate images in facial data processed by facial recognition system using facial recognition analysis. One skilled in the art will recognize that many such biometric measurements may be calculated and used as pre filters during facial recognition. Some biometric measurements are more effective than others at removing or filtering out non matching images without affecting the quality of the matching results. Selected biometric measurements of probe image are illustrated in .

Facial search application may receive a selection of demographic characteristics related to probe image as input from a user such as a law enforcement officer. Facial search application determines a range for each biometric measurement to be used as a pre filter based at least in part on the selected demographic characteristics and on pre defined defaults. In an alternate embodiment the range may be determined in part by facial recognition system or be based on input from a user of either facial search application or facial recognition system .

Facial search application receives a request from the user to perform facial recognition of probe image . Facial search application sends the request including probe image metadata and associated one or more biometric measurements with ranges to facial recognition system on server computer via network . Facial recognition system uses the one or more biometric measurements of probe image with the determined one or more ranges to identify a sub set of facial data comprising candidate images with biometric measurements falling within the one or more biometric measurement ranges. By using pre filters to reduce the number of candidate images to which probe image is compared the time facial recognition system and server computer takes to search through facial data is reduced without affecting the quality of matching results.

In an alternate embodiment additional demographic characteristics such as scars tattoos or hair color may be received from the user and used as pre filters to further reduce the sub set of facial data that will be compared to probe image using the facial recognition algorithm. Each of the demographic characteristics is saved in a separate data field from the biometric measurements and from the metadata for each candidate image within facial data .

Interpupillary distance IPD or eye to eye distance is measured as the distance between the center of the pupils of the eyes. According to studies the IPD may range from 50 to 75 mm for adults with a mean IPD of 63 mm. Variations in IPD have been noted from person to person and people may be categorized based on their IPD. One advantage to this measurement is that the value is a simple numerical value which is both easy to calculate and easy to use in database searches. In the United States the typical range of interpupillary distance is between 55 mm and 70 mm millimeters . Facial search application may initially set the search range for eye to eye distance to a default of 8 mm and may adjust the range based on input from the user regarding additional demographic characteristics such as height in probe image . The amount of adjustment of the search range may be done manually by entering a numerical value into one or more data fields or may be done programmatically by encoding adjustments based at least in part on received selections for demographic characteristics.

For example if facial search application calculates eye to eye distance of probe image to be 60 mm and the default search range is 8 mm then the candidate images in facial data will be pre filtered to remove candidate images with eye to eye distance outside the range of 56 mm to 64 mm. The use of eye to eye distance with a search range of 8 mm may be estimated to reduce 20 to 50 of the number of candidate images from facial data to which probe image will be compared using facial recognition analysis. A reduction in the number of candidate images processed by the facial recognition algorithm may improve search speed and reduce consumption of computing resources.

The search range is also dependent on the quality of the candidate images in facial data . Image quality related to lighting and the tilt of a face within a candidate image may affect the ability of facial search application to measure the eye to eye distance or mid eye to nose tip distance . The biometric measurements may vary within each candidate image within facial data based at least in part on the distance of the suspect from the camera and the number of pixels per square inch in the image.

In various embodiments facial search application calculates the biometric measurement of mid eye to nose tip distance and the ratio of eye to eye distance to mid eye to nose tip distance from probe image . Facial search application stores the ratio of eye to eye distance to mid eye to nose tip distance separately from the encoded data for probe image . Facial search application defines the biometric measurement of the ratio of eye to eye distance to mid eye to nose tip distance for use as a biometric pre filter and saves the measurement as a simple numeric field in a separate column from the encoded data for each candidate image in facial data . Using the ratio instead of a direct measurement between two features eliminates the issues with how the measurements were taken. The correlation between number of pixels in the image and an actual length in mm is no longer needed as the units cancel out.

Facial recognition system compares candidate images with probe image using the ratio of eye to eye distance to mid eye to nose tip distance based on the calculation M 1 Abs R R . Rstands for the ratio of eye to eye distance to mid eye to nose tip distance in the candidate image within facial data . Rstands for the ratio of eye to eye distance to mid eye to nose tip distance in probe image . M stands for the match value where the higher the number the better the match between the candidate image and probe image . In the following example M 1 Abs 0.75 0.70 1 0.05 0.95 the delta between the ratio of probe image and a candidate image i.e. R R increases as the match worsens thus reducing the match value M. A threshold for M may be set at 0.81 and may be estimated to reduce 13 of the number of candidate images through pre filtering of candidate images from facial data to which probe image will be compared using the facial recognition algorithm.

In various embodiments facial search application calculates the geometric shape of triangle defined by the eyes and the midpoint of the nose and is used as a biometric pre filter. Triangle may be used together with or in place of the ratio of eye to eye distance to mid eye to nose tip distance as a biometric pre filter. Triangle may be saved as a geometric shape data type. When pre filtering based on triangle facial recognition system uses a geometric shape search of facial data similar to searches used in geospatial information databases. In one embodiment the match criteria for two geometric shapes may be calculated by subtracting the area of a candidate shape from the area of shape probe image when the candidate shape is overlaid onto probe image dividing the result by the area of probe image and multiplying by 100 to determine a percent difference. Facial search application may initially set the search range for triangle to a default of 10 percent difference and may adjust the range based on input from the user regarding the demographic characteristics of the subject in probe image . A person of ordinary skill in the art will recognize there are other ways in which geometric or spatial shapes may be compared.

In another embodiment the match criteria for triangle of probe image compared with the triangle from a candidate image may be based at least in part on comparing a length of one or more of the sides of triangle . In that case the search range for triangle may include a range of the length as a numeric value for at least one side of triangle . The search range of the length may be adjusted based on the selection of one or more demographic characteristics.

In another embodiment the match criteria for triangle of probe image compared with the triangle from a candidate image may be based at least in part on comparing the area of triangle as a numeric value. The search range of the area may be adjusted based on the selection of one or more demographic characteristics. One skilled in the art will recognize that there are many other metrics such as interior angles or ratios of side lengths that may be used to compare two measured triangular shaped objects.

In various embodiments one or more of the biometric measurements of probe image including eye to eye distance the ratio of eye to eye distance to mid eye to nose tip distance or triangle may be used as pre filters of candidate images within facial data prior to applying a facial recognition algorithm to the remaining set of candidate images.

Initially facial recognition system on server computer receives credentials from a user of server computer or client computer for validation. A person of ordinary skill in the art may recognize that users such as law enforcement officers of facial search application on client computer may request validation of credentials before accessing facial data on server computer and making updates to the information stored therein. Responsive to determining that the user has the proper authority facial recognition system performs the requested tasks. If the user does not have the proper authority then no access will be granted and no tasks will be performed.

Facial search application receives probe image step . Facial search application may receive probe image and the associated image metadata over network from image capture application on client device such as a police camera or smartphone camera. Alternately client device may be connected to client computer locally such as a connected scanner or digital camera.

Facial search application determines eye to eye distance of probe image step . Facial search application measures eye to eye distance in millimeters from the center of the pupil of the first eye to the center of the pupil of the second eye and may be referred to as interpupillary distance. In some embodiments facial search application may include tools for recognizing and marking the pupils of the eyes and the line between them. In other embodiments facial search application may receive notations on probe image from the user of client computer indicating the line to use for measuring eye to eye distance . The measurement of eye to eye distance may include some inaccuracies due to variables such as the distance of the suspect from the camera and the tilt of the head away from the plane of the camera lens. Facial search application may use the number of pixels between facial features in the image to enable a calculation such as eye to eye distance . A pixel is the smallest portion of a digital image with uniform color. For each image facial search application may calibrate pixel size by comparing the number of pixels within an object of known length that is visible in the image. The resolution information or scaling data may also be part of the image metadata received with each digital image depending on the configuration of the image file.

Facial search application determines a face shape of probe image step . Initially facial search application determines mid eye to nose tip distance within probe image . Facial search application recognizes the mid eye point as the center point of a line drawn between the two eyes of a face within probe image . Facial search application recognizes the nose tip of probe image as the tip of the nose of the face within probe image . Facial search application measures mid eye to nose tip distance in millimeters from the mid eye point to the tip of the nose. In some embodiments facial search application may include tools for recognizing the mid eye point and the nose tip and generating a line that connects the mid eye point and the nose tip. In other embodiments facial search application may receive notations on probe image from the user of client computer indicating the line to use for measuring mid eye to nose tip distance . The measurement of mid eye to nose tip distance may include similar inaccuracies as eye to eye distance for the reasons stated above in step .

Facial search application determines a face shape of probe image by calculating the ratio of eye to eye distance from step to mid eye to nose tip distance . While each measurement may include inaccuracies using the ratio of the two measurements reduces the overall inaccuracy and enables comparisons with the same ratio pre calculated and stored in a separate data field for each of the candidate images in facial data .

In an alternate embodiment facial search application determines a face shape of probe image alternate step such as the geometric shape of triangle defined by the pupils of the eyes and the nose tip. Triangle may be used in place of the ratio of eye to eye distance to mid eye to nose tip distance as a biometric pre filter. In some embodiments facial search application may include tools for recognizing the triangle shape defined by the pupils of the eyes and the nose tip. In other embodiments facial search application may receive notations on probe image from the user of client computer indicating the lines to use for defining triangle . Triangle may be saved as a geometric shape data type. When pre filtering based on triangle facial recognition system uses a geometric shape search of facial data similar to searches used in geospatial information databases.

Facial search application receives selections for demographic characteristics step . Facial search application receives one or more selections of demographic characteristics that are related to probe image as input by a user of client computer such as a law enforcement officer. Prior to this step facial search application displayed a list of selectable demographic characteristics which the user would select based at least in part on details visible in probe image and from information relayed with probe image for example communication with the law enforcement officer on the street who may have taken probe image . Facial search application may display demographic characteristics with a selectable list of options. Facial search application may display the options for a demographic characteristic as selections indicating a range a selection for a unique characteristic or display a field for manual entry. For example age ranges may look like the following 0 5 years 6 15 years 16 to 25 years 26 to 30 years 31 to 40 years 41 to 50 years over 50 years etc. In the case of manual entry facial search application may apply a default search range to the manually entered number for a demographic characteristic or may receive a manually entered number for the search range from the user of client computer .

In an alternate embodiment additional demographic characteristics such as scars tattoos or hair color may be received as selections from the user in step to be used as additional pre filters to reduce the sub set of candidate images in facial data that will be compared to probe image using the facial recognition algorithm. Not all demographic characteristics may be utilized to adjust the search range for the biometric measurements. The demographic characteristic in this case such as the existence of a scar does not influence the biometric measurement of the subject such as eye to eye distance .

Facial search application determines the search range for eye to eye distance and for the face shape of probe image step . Facial search application uses the received selections of demographic characteristics from step to adjust a default search range for the measurement of eye to eye distance and a second default search range for the ratio of eye to eye distance to mid eye to nose tip distance or triangle . As noted earlier in the mean for eye to eye distance varies by demographic characteristics. The default search range for the measurement of eye to eye distance the ratio of eye to eye distance to mid eye to nose tip distance or triangle may be programmed into facial search application or may be specified by the user of client computer using selectable fields or manually entered data fields.

In an alternate embodiment facial recognition system determines the default search ranges for the measurement of eye to eye distance and the ratio of eye to eye distance to mid eye to nose tip distance or triangle and determines adjustments to each default search range based on the received selections of demographic characteristics.

In an alternate embodiment facial search application does not display or receive selections from a user for demographic characteristics. In this case step is skipped and in step search ranges for biometric measurements may be set to program defaults or may be specified by the user of client computer using selectable fields or manually entered data fields.

Facial search application submits a request to facial recognition system for matching probe image step . Facial search application prepares a request for matching probe image to candidate images in facial data by including probe image with associated metadata from step and one or more of the following a measurement for eye to eye distance from step the ratio of eye to eye distance to mid eye to nose tip distance from step triangle from alternate step or selections of demographic pre filters from step . In some embodiments the request also includes the default search ranges for the measurement of eye to eye distance the ratio of eye to eye distance to mid eye to nose tip distance or triangle and any determined adjustments to the default search ranges.

Facial search application receives matches of probe image from facial recognition system step . Facial search application receives matches of probe image as a list of one or more candidate images within facial data that meet the criteria passed in the request of step and match above a threshold level defined per the facial recognition algorithm of facial recognition system .

Facial search application displays received matches to user step . Facial search application displays the received list of one or more matching candidate images from facial data . The candidate images may be ranked by how close probe image matches a candidate image to the matching criteria.

Facial recognition system receives a request from facial search application for matching probe image step . Facial recognition system receives a request from facial search application on client computer via network to match probe image to candidate images in facial data on server computer . The request for matching probe image includes but is not limited to probe image with associated metadata a measurement for eye to eye distance the ratio of eye to eye distance to mid eye to nose tip distance or triangle and selections of demographic characteristics.

Facial recognition system determines a sub set of candidate images from facial data meeting pre filter criteria step . Before performing a complex facial recognition algorithm or analysis facial recognition system creates and processes a query for retrieving a sub set of candidate images from facial data which have eye to eye distance matching probe image within a determined search range which have the ratio of eye to eye distance to mid eye to nose tip distance matching probe image or triangle within a determined search range and which match the criteria associated with selected demographic characteristics. The query may be broken up into several parts or may include all criteria at once based at least in part on search engine performance requirements.

Facial recognition system determines a set of candidate images from the determined sub set of facial data matching probe image using a facial recognition algorithm step . Using a facial recognition algorithm facial recognition system compares probe image to each of the candidate images within the sub set of facial data that met the pre filter criteria from step . Facial recognition algorithms may include but are not limited to Principal Component Analysis Linear Discriminate Analysis Hidden Markov model Elastic Bunch Graph Matching and Neuronal Motivated Dynamic Link Matching. It may be recognized that the facial recognition algorithm is computer processor resource intensive compared to processing the queries of step .

Facial recognition system transmits matches of probe image to facial search application step . Facial recognition system transmits matches of probe image as a list of one or more candidate images and associated data within facial data that meet the criteria in the request and meet criteria defined by the facial recognition algorithm of facial recognition system . Each candidate image may be associated with a ranking based at least in part on the correlation of the biometric measurements of the candidate image to the biometric measurements of probe image .

Server computer client computer and client device may each include respective communications fabric which provides communications between computer processor s memory persistent storage communications unit and input output I O interface s . Communications fabric can be implemented with any architecture designed for passing data and or control information between processors such as microprocessors communications and network processors etc. system memory peripheral devices and any other hardware components within a system. For example communications fabric can be implemented with one or more buses.

Memory and persistent storage are computer readable storage media. In this embodiment memory includes random access memory RAM and cache memory . In general memory can include any suitable volatile or non volatile computer readable storage media.

Facial recognition system facial search application and image capture application are stored in respective persistent storage for execution and or access by one or more of the further respective computer processors via one or more memories of memory . In this embodiment persistent storage includes a magnetic hard disk drive. Alternatively or in addition to a magnetic hard disk drive persistent storage can include a solid state hard drive a semiconductor storage device read only memory ROM erasable programmable read only memory EPROM flash memory or any other computer readable storage media that is capable of storing program instructions or digital information.

The media used by persistent storage may also be removable. For example a removable hard drive may be used for persistent storage . Other examples include optical and magnetic disks thumb drives and smart cards that are inserted into a drive for transfer onto another computer readable storage medium that is also part of persistent storage .

Communications unit in these examples provides for communications with other data processing systems or devices including resources of server computer client computer and client device . In these examples communications unit includes one or more network interface cards. Communications unit may provide communications through the use of either or both physical and wireless communications links. Facial data facial recognition system facial search application and image capture application may be downloaded to respective persistent storage through communications unit .

I O interface s allows for input and output of data with other devices that may be connected to server computer client computer and client device . For example I O interface may provide a connection to external device s such as a keyboard a keypad a touch screen and or some other suitable input device. External device s can also include portable computer readable storage media such as for example thumb drives portable optical or magnetic disks and memory cards. Software and data used to practice embodiments of the present invention e.g. facial data facial recognition system facial search application and image capture application can be stored on such portable computer readable storage media and can be loaded onto respective persistent storage via I O interface s . I O interface s also connect to a display .

The present invention may be a system a method and or a computer program product. The computer program product may include a computer readable storage medium or media having computer readable program instructions thereon for causing a processor to carry out aspects of the present invention.

The computer readable storage medium can be a tangible device that can retain and store instructions for use by an instruction execution device. The computer readable storage medium may be for example but is not limited to an electronic storage device a magnetic storage device an optical storage device an electromagnetic storage device a semiconductor storage device or any suitable combination of the foregoing. A non exhaustive list of more specific examples of the computer readable storage medium includes the following a portable computer diskette a hard disk a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or Flash memory a static random access memory SRAM a portable compact disc read only memory CD ROM a digital versatile disk DVD a memory stick a floppy disk a mechanically encoded device such as punch cards or raised structures in a groove having instructions recorded thereon and any suitable combination of the foregoing. A computer readable storage medium as used herein is not to be construed as being transitory signals per se such as radio waves or other freely propagating electromagnetic waves electromagnetic waves propagating through a waveguide or other transmission media e.g. light pulses passing through a fiber optic cable or electrical signals transmitted through a wire.

Computer readable program instructions described herein can be downloaded to respective computing processing devices from a computer readable storage medium or to an external computer or external storage device via a network for example the Internet a local area network a wide area network and or a wireless network. The network may comprise copper transmission cables optical transmission fibers wireless transmission routers firewalls switches gateway computers and or edge servers. A network adapter card or network interface in each computing processing device receives computer readable program instructions from the network and forwards the computer readable program instructions for storage in a computer readable storage medium within the respective computing processing device.

Computer readable program instructions for carrying out operations of the present invention may be assembler instructions instruction set architecture ISA instructions machine instructions machine dependent instructions microcode firmware instructions state setting data or either source code or object code written in any combination of one or more programming languages including an object oriented programming language such as Smalltalk C or the like and conventional procedural programming languages such as the C programming language or similar programming languages. The computer readable program instructions may execute entirely on the user s computer partly on the user s computer as a stand alone software package partly on the user s computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario the remote computer may be connected to the user s computer through any type of network including a local area network LAN or a wide area network WAN or the connection may be made to an external computer for example through the Internet using an Internet Service Provider . In some embodiments electronic circuitry including for example programmable logic circuitry field programmable gate arrays FPGA or programmable logic arrays PLA may execute the computer readable program instructions by utilizing state information of the computer readable program instructions to personalize the electronic circuitry in order to perform aspects of the present invention.

Aspects of the present invention are described herein with reference to flowchart illustrations and or block diagrams of methods apparatus systems and computer program products according to embodiments of the invention. It will be understood that each block of the flowchart illustrations and or block diagrams and combinations of blocks in the flowchart illustrations and or block diagrams can be implemented by computer readable program instructions.

These computer readable program instructions may be provided to a processor of a general purpose computer special purpose computer or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus create means for implementing the functions acts specified in the flowchart and or block diagram block or blocks. These computer readable program instructions may also be stored in a computer readable storage medium that can direct a computer a programmable data processing apparatus and or other devices to function in a particular manner such that the computer readable storage medium having instructions stored therein comprises an article of manufacture including instructions which implement aspects of the function act specified in the flowchart and or block diagram block or blocks.

The computer readable program instructions may also be loaded onto a computer other programmable data processing apparatus or other device to cause a series of operational steps to be performed on the computer other programmable apparatus or other device to produce a computer implemented process such that the instructions which execute on the computer other programmable apparatus or other device implement the functions acts specified in the flowchart and or block diagram block or blocks.

The flowchart and block diagrams in the Figures illustrate the architecture functionality and operation of possible implementations of systems methods and computer program products according to various embodiments of the present invention. In this regard each block in the flowchart or block diagrams may represent a module segment or portion of instructions which comprises one or more executable instructions for implementing the specified logical function s . In some alternative implementations the functions noted in the block may occur out of the order noted in the figures. For example two blocks shown in succession may in fact be executed substantially concurrently or the blocks may sometimes be executed in the reverse order depending upon the functionality involved. It will also be noted that each block of the block diagrams and or flowchart illustration and combinations of blocks in the block diagrams and or flowchart illustration can be implemented by special purpose hardware based systems that perform the specified functions or acts or carry out combinations of special purpose hardware and computer instructions.

The programs described herein are identified based upon the application for which they are implemented in a specific embodiment of the invention. However it should be appreciated that any particular program nomenclature herein is used merely for convenience and thus the invention should not be limited to use solely in any specific application identified and or implied by such nomenclature.

It is to be noted that the term s Smalltalk and the like may be subject to trademark rights in various jurisdictions throughout the world and are used here only in reference to the products or services properly denominated by the marks to the extent that such trademark rights may exist.

