---

title: Prioritization of third party access to an online commerce site
abstract: Providing prioritization of user online access to an online commerce site. Third party applications using API function calls to access an online commerce site are restricted to specific services by an access rule. An access rule defines which API server on the online commerce site a specific third party application may access when using a specific API function call. In this way, the operator of the online commerce site may prioritize server access per service level agreements based on a specific third party application and API function call.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09626705&OS=09626705&RS=09626705
owner: PAYPAL, INC.
number: 09626705
owner_city: San Jose
owner_country: US
publication_date: 20140331
---
This application is a continuation of U.S. application Ser. No. 13 566 919 filed Aug. 3 2012 which application is a continuation of U.S. application Ser. No. 13 307 625 filed Nov. 30 2011 issued as U.S. Pat. No. 8 239 533 which application is a continuation of U.S. application Ser. No. 11 924 362 filed on Oct. 25 2007 issued as U.S. Pat. No. 8 108 518 which is a continuation application of U.S. application Ser. No. 10 025 267 filed on Dec. 18 2001 issued as U.S. Pat. No. 7 305 469 which applications are incorporated in their entirety herein by reference.

The invention relates to the field of network computing. More specifically the invention relates to the prioritization of third party access to an online commerce site.

The online commerce marketplace allows users to buy and sell goods and services e.g. via an online auction web site to geographically dispersed consumers. Typically a user employs automated processes to buy or sell their own products on the online commerce site. By partnering with an established online commerce site a user e.g. a merchant bypasses the cost of building an online commerce infrastructure from scratch thereby reaching the online market quickly and accessing a large number of good and services in addition to a large number of buyers and sellers.

Permitting uncontrolled access to the online commerce site has some drawbacks such as the drain on system resources due to the increased processing performed on the online commerce site. For example a third party may utilize an automated program to extract information such as product listings and pricing information from the online commerce site at various unpredictable times. The automated program may place a heavy load on the online commerce site that causes substantial response time delays to all users of the online commerce site. These response time delays may eventually frustrate the consumers of the site causing them to cease using the online commerce site and seek another electronic commerce site from which to conduct business.

Providing prioritization of user online access to an online commerce site. Third party applications using API function calls to access an online commerce site are restricted to specific services by an access rule. An access rule defines which API server on the online commerce site a specific third party application may access when using a specific API function call. In this way the operator of the online commerce site may prioritize server access per service level agreements based on a specific third party application and API function call.

In the following description numerous specific details are set forth to provide a thorough understanding of the invention. However it is understood that the invention may be practiced without these specific details. In other instances well known circuits structures and techniques have not been shown in detail in order not to obscure the invention.

Prioritization of user online access to an online commerce site is described. According to one embodiment an online commerce merchant configures an access rule to prioritize third party online access. An access rule defines how a third party may access the online commerce site. For example a user may be limited with an access rule to a specific service on a specific server on the online commerce site thereby providing predictability to the operator of an online commerce site as to user accesses the online commerce site. In this way the operator of an online commerce site may negotiate a service level agreement to provide access to specific servers with predetermined service levels as will be further described below.

The third party server area includes third party application servers and . The online commerce area includes Application Program Interface API servers and and data storage devices and . Any of the API servers and may access any of the data storage devices and . The network area includes a network e.g. the Internet . The network provides connectivity between any of the third party application servers and in the third party server area and any of the API servers and of the online commerce site . Access by the third party application servers may be prioritized based on a service level agreement across the multiple API servers as will be further described below.

Generally third party developers create applications on the third party application servers and to access information and services available in the online commerce site in a client server type environment. For example where the online commerce site operates as an online auction site the online auction site may store pricing and product information in the data storage devices and . The application hosted by the third party application server may use a HTML form or CGI program using the standard XML eXtensible Markup Language data format and may be written in C Perl Pascal or any other programming language capable of issuing data requests via the network e.g. the Internet . In one embodiment each third party application hosted by the third party application servers uses APIs application programming interfaces to access the services provided by the online commerce site . In general APIs are standard programming interfaces i.e. contracts that define the input and output of function calls published by the online commerce site to third party software programmers to automate access to services on the online commerce site efficiently via application programs e.g. to create an application to conduct auctions and to manage auction and user information .

In one embodiment a third party application must obtain access rule s before accessing the services on the online commerce site . For example an access rule may include a UPI uniform resource locator that addresses the API server or with which the third party application and is to connect or communicate when accessing the services of the online commerce site . In this way the URL directs a specific user to a specific API server on the online commerce site per the service level agreement. The access rule may also be configured to direct a specific user to a specific API server having a different service level based on the specific API function call to be used. For example the third party application server may be directed via a URL stored in an access rule to connect to API server when servicing a GetItem API function call to retrieve information describing an item offered for sale via the online commerce site .

The access rule s are configured on the online commerce site . For example an administrator of the online commerce site may configure access rules stored in the data storage device via the administrator portal . In one embodiment each rule has a record in a database table that corresponds to one API function call type. Specifically the table includes a field for a Rule ID an APP ID a CallName and a URL for each API function call. The Rule ID field stores an identifier for a specific rule. The App ID field stores the identifier of the third party application. The CallName field stores the name of an API function call. The URL field stores the URL that the third party application should use when utilizing the API function call associated with the CallName. In this way the administrator configures each access rule per the service level agreement to an API function used by a specific third party application to connect via a given URL to a specific API server. The access rule may also include rate usage information that limits third party application access as will be further described below.

In one embodiment the access rule s are resident on the third party application server before the third party application accesses the services of the online commerce site . The third party application may request the access rule s from the online commerce site using an API function call as will be further described below.

It should be appreciated that in this way the online commerce merchant may prioritize access of third party application servers and to API servers on the online commerce site . For example the online commerce merchant may negotiate to provide a premium service level e.g. guarantee faster response time to third party application server and provide a standard service level to the third party application server . The API server may be designated as a premium server for example because a minimum number of third party applications have access to the API server the API server has additional resources and services available among other examples while the API server may be designated as a standard server. Therefore an access rule associated with an application on the third party application server defines connectivity to the API server for the premium service requests and an access rule associated with an application on the third party application server defines connectivity to the API server for the standard server requests.

A third party application may schedule the request for access rule s on a periodic basis e.g. nightly . In this way the third party application may receive any access rule updates performed by the administrator after analyzing the usage pattern of all third party applications. Continuing the example if it is determined that the response time provided by the premium service on the API server is not acceptable then an administrator may modify the appropriate access rule to redirect the third party application server to connect to a premium service on the API server instead of connecting to ARI server as previously defined.

At block the API server receives a request for an access rule from a third party application. As stated above the request may originate from an API function call. In one embodiment the function call request is passed from a third party application to the online commerce server via a URL request string. By using a URL request string through the HTTP transport protocol to make the API function call the API function is rendered platform independent. Therefore the third party application may be on any Internet capable machine including Microsoft Windows Unix Linux or Macintosh computer among others.

At decision block the API server determines whether the request is a valid. In one embodiment the request includes an application identifier a developer identifier and a session certificate. The application identifier identifies the third party application that transmitted the request. In one embodiment a session certificate is a string of characters unique to a third party application. The session certificate string for the third party application is passed along with the developer identifier and the application identifier for each API function call type and is used by the API server and to validate the request.

At block the request is not validated and a descriptive message of the error result is returned back to the requesting third party application.

At block if the third party application request is validated the access rule s for the predefined service levels for the identified third party application are returned to the requesting third party application. For example the API server may access an access rules database table on the data storage device for all the access rules associated with the application identifier of the request. Each access rule to be returned to the requesting third party application includes a CallName and a URL that the third party application should use when making a API function call associated with the CallName as will be further described. In this way the third party application will be directed to the API server providing the appropriate service level.

At block the third party application receives the appropriate access rules. Upon receiving an access rule the third party application saves the access rule in a data store such as a storage device a memory and a database for example.

At block the third party application intends to perform an API function call to the online commerce site . Examples of API functions for an online auction site include an AddItem function sends a request to the online commerce site to put an item up for auction a GetItem function used to query the online commerce site and retrieve the information for one auction item a GetSellerList function queries the online commerce site and retrieves a list of the items a specific user merchant is selling a GetSearchResults searches for items on the online commerce site among other examples. Further examples of APIs to access an online auction site are described in the patent application entitled Method and Apparatus to Facilitate a Transaction within a Network Based Auction Facility Ser. No. 09 999 618 Assigned to eBay Inc.

At block the URI from the access rule associated with intended API function call is obtained. The URL is retrieved from the access rule in the data store having a CallName associated to the intended API function call. Again the URL may direct the user to the API server servicing the negotiated service level.

At block upon obtaining the appropriate URL the third party application applies the intended API function call to the appropriate API server on the online commerce site .

At decision block a validation is performed on the request. If the request is validated control passes to block . If the request is not validated control passes to block . The application identifier developer identifier or session certificate or any combination thereof included in an API function call header may be used to validate the request based on the associated for matching access rule stored on the online commerce site .

Validation may also include determining whether the requesting API function call is to the appropriate API server. The third party application may connect to API server to which it has been assigned in the access rule. Continuing the example if the access rule for the third party application server defines the GetItemList API function to be made to API server via the URL stored in the access rule associated with the GetItemList API function then a validating API server will validate that a request is made to the appropriate API server .

At block the request is not validated and a descriptive message is returned back to the requesting third party application.

At block the appropriate API server determines whether the third party application has exceeded a predefined maximum rate usage level. For example the administrator may limit the third party application to perform a certain number of transactions per unit of time e.g. 80 000 searches per day . If the third party application has exceeded the maximum rate usage control passes to block . If the third party application has not exceeded the maximum rate usage control passes to block . In this way block operates like a circuit breaker to limit third party access if it exceeds the agreed upon transaction limits.

In another embodiment block may determine whether the third party application has exceeded other predefined maximum rate usage levels such as the maximum number of calls within a predefined time frame e.g. per day per hour the maximum number of simultaneous calls whether the call is during a predefined time of day among other examples.

At block the third party application has not exceeded the maximum rate usage level therefore the API function call is performed and if necessary a usage rate counter increased. Continuing the example the number of transaction results performed may be added to the maximum rate usage counter for the specific third party application. The maximum rate usage counter value may be stored in memory of the API server or in one of the databases and .

At block the API server returns the transaction results up to the maximum rate usage level. Therefore if the third party application reaches the maximum rate usage upon performing the requested transaction only those transactions that are below the maximum rate usage level are transmitted to the third party application. Control then passes to block .

At block the third party application has exceeded the maximum rate usage and a descriptive message is returned back to the requesting third party application.

One embodiment of an API server suitable for managing access rules is illustrated in . The computer system includes a processor memory and input output capability coupled to a system bus . The memory is configured to store instructions which when executed by the processor perform the methods described herein. The memory may also store access rules. Input output provides for the delivery and display of software to a device and allows for the modification of the access rules thereof. Input output also encompasses various types of machine readable media including any type of storage device e.g. preference database that is accessible by the processor . The description of is intended to provide an overview of computer hardware and other operating components suitable for implementing the invention but is not intended to limit the applicable environments. It will be appreciated that the computer system is one example of many possible computer systems which have different architectures. A typical computer system will usually include at least a processor memory and a bus coupling the memory to the processor. One of skill in the art will immediately appreciate that the invention can be practiced with other computer system configurations including multiprocessor systems minicomputers mainframe computers and the like. The invention can also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. It will be appreciated that more or fewer processes may be incorporated into the method illustrated in without departing from the scope of the invention and that no particular order is implied by the arrangement of blocks shown and described herein. It further will be appreciated that the method described in conjunction with may be embodied in machine executable instructions e.g. software. The instructions can be used to cause a general purpose or special purpose processor that is programmed with the instructions to perform the operations described. Alternatively the operations might be performed by specific hardware components that contain hardwired logic for performing the operations or by any combination of programmed computer components and custom hardware components. The method may be provided as a computer program product that may include a machine readable medium having stored thereon instructions which may be used to program a computer or other electronic devices to perform the method. For the purposes of this specification the terms machine readable medium shall be taken to include any medium that is capable of storing or encoding a sequence of instructions for execution by the machine and that cause the machine to perform any one of the methodologies of the present invention. The term machine readable medium shall accordingly be taken to include but not be limited to solid state memories optical and magnetic disks and a carrier wave that encodes a data signal. Furthermore it is common in the art to speak of software in one form or another e.g. program procedure process application module logic . . . as taking an action or causing a result. Such expressions are merely a shorthand way of saying that execution of the software by a computer causes the processor of the computer to perform an action or a produce a result.

It should be appreciated that by providing third party applications access rules to determine which API server to access the online commerce merchant may prioritize and control the manner in which the third party applications access the online commerce site . The online commerce site may prioritize access by class of customer or service being accessed when needed to achieve any necessary service level. In this way premium services may be provided to specific third party applications thereby guaranteeing availability of services on the premium site among other advantages.

In addition only those third party applications and API function calls that have the appropriate access rule may access the API server thereby preventing other parties from sharing services by using a specific URL assigned to another third party application. Also since a single third party application may access different API servers based on the specific API function call the invention also prevents the third party user from arbitrary selecting any one of the API servers.

Although the exemplary embodiment of described herein details how an online auction merchant prioritizes third party application requests from API function calls with access rules it should be understood that the invention is not limited to prioritizing third party application s access to an online auction site. Alternatively an access rule may be used to prioritize access to alternative online commerce environments and to alternative services provided by an online commerce facility.

Although the invention describes how a third party application connects to an API server in alternative embodiments the third party application connects to an API server pool e.g. multiple API servers that are controlled by a resonate load balancer and respond to the same URL. Load balancing network topologies are well know in the art and have not been described in detail in order not to obscure the invention.

It is also understood that access rules may be delivered to a third party application server via means other than the API function described. In alternative embodiments the access rules may be transferred to the third party application server by other well known file transfer mechanisms within the scope of the invention. In addition in some embodiments the access rules are preemptively not transferred to the third party application server but the third party application server searches access rules on the online commerce site before performing a specific API function to determine which API server to connect when accessing the online commerce site .

While the invention has been described in terms of several embodiments those skilled in the art will recognize that the invention is not limited to the embodiments described. The method and apparatus of the invention can be practiced with modification and alteration within the spirit and scope of the appended claims. The description is thus to be regarded as illustrative instead of limiting on the invention.

