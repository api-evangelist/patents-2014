---

title: Data link power reduction technique using bipolar pulse amplitude modulation
abstract: High-speed data links between a processor and off-chip DRAM utilizes pulse-amplitude-modulation (PAM) signaling to increase data rate for a given bandwidth and resource budget in SoCs. However, the termination resistor used in the transmission line interface between processor and DRAM consumes large amounts of power during PAM signaling. By adding a biasing source between Ground and the termination resistor, the “floor voltage” that the termination resistor uses as a reference for determining signaling levels may be raised. Raising the floor voltage reduces the amount of voltage across the termination resistor and reduces power consumption accordingly. The biasing source is adjusted to various increments of the maximum amplitude of the PAM signaling. A floor voltage of one-half of the maximum amplitude of PAM signaling produces minimum power consumption in the receiver. Additionally, data inversion pre-coding may be concatenated with the floor voltage adjustment to further maximize power savings of the interface.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09252997&OS=09252997&RS=09252997
owner: Qualcomm Incorporated
number: 09252997
owner_city: San Diego
owner_country: US
publication_date: 20140710
---
Aspects of the present disclosure generally relate to high speed data communications interfaces and more particularly to pulse amplitude modulation encoded data communication links.

Manufacturers of mobile devices such as cellular phones may deploy various electronic components in one or more integrated circuit IC devices and or on one or more circuit boards. The electronic components may include processing devices storage devices communications transceivers display drivers and the like. In one example a processing device may be provided on a printed circuit board PCB and may communicate with one or more memories on the same PCB and or on a different PCB. The processor may communicate with the memory devices using a high speed communications link that supports unidirectional and bidirectional channels for data and control signals.

In a multi wire interface the power consumption associated with a communications link can be significant in relation to a power budget available in a mobile wireless device. The power consumed by the communications link may be determined to some extent by one or more of Bus width driver types used to transmit data on a transmission line geometry and structure of the transmission line encoding format frequency of switching logic states which may be defined by voltage and current levels of an encoding scheme and so on.

Pulse amplitude modulation PAM is a particular implementation of line coding techniques. PAM signaling can be used in high speed data transmission schemes to implement data transfers. PAM line coding encodes message symbols data symbols into a pulse having an amplitude corresponding to the encoded data symbol. For example each data symbol may be encoded into a pulse having a unique amplitude. Data symbols may have a one to one correspondence in mapping to pulse amplitudes or transmission symbols. PAM signaling on a channel involves the transmission of pulses with various amplitudes to a receiver on a single physical line.

In the PAM receiver a termination resistor may be coupled between the transmission line and Ground Gnd to receive PAM signaling. The termination resistor value is generally selected to match the characteristic impedance of the transmission line and may be implemented as a fixed value resistor. In some embodiments the termination resistor could be implemented with an active device like a transistor. As PAM signaling is applied across the termination resistor the voltage level across the termination resistor is measured to determine the amplitude of a particular PAM pulse. PAM signaling that causes positive and negative values of pulses across the termination resistor is a further aspect of line coding and may be referred to as bipolar encoding. The amplitude of the PAM pulse is used as the index into a lookup table to decode a data symbol that corresponds to the transmission symbol.

In PAM 4 signaling four discrete pulse amplitudes makeup the encoded transmission symbols. As PAM 4 signaling is applied to the receiver significant power is lost in the termination resistor. Currently high speed data links using PAM 4 use a fixed resistor termination scheme with a unidirectional current flow mechanism. Each PAM 4 pulse produces an amount of current in the receiver proportional to the magnitude of the pulse across the termination resistor.

The following presents a simplified summary of one or more embodiments in order to provide a basic understanding of such embodiments. This summary is not an extensive overview of all contemplated embodiments and is intended to neither identify key or critical elements of all embodiments nor delineate the scope of any or all embodiments. Its sole purpose is to present some concepts of one or more embodiments in a simplified form as a prelude to the more detailed description that is presented later.

According to an aspect an apparatus is provided that includes a receiver that includes a termination resistor that is communicatively coupled through a first termination resistor node to a data link terminal and through a second termination resistor node to a biasing terminal the termination resistor is configured to receive multi level signaling and generate corresponding polarized voltages and currents according to an amplitude of received multi level signaling. The receiver also includes a biasing source that is communicatively coupled through a first biasing source node to the biasing terminal and through a second biasing source node to Ground and is configured to selectively generate a biasing voltage level on the biasing terminal and a multi level decoder that is communicatively coupled across the termination resistor and to an index port the multi level decoder is configured to receive the polarized voltages and currents and determine one of a set of compound index entries according to the multi level signaling. The apparatus may also include a lookup table communicatively coupled to the index port and include an array of data symbols and a corresponding index the lookup table is configured to receive one in the set of compound index entries and retrieve an associated data symbol from the array of data symbols corresponding to a respective entry in the set of compound index entries. In some cases the lookup table could be replaced by simple combinational logic circuitry.

According to a further aspect a method commences by selectively adjusting a biasing voltage level being applied to a termination resistor the termination resistor is communicatively coupled to a data link terminal of a receiver and to a biasing terminal. The method continues by receiving a pulse amplitude modulation signal through the data link terminal across the termination resistor and through the biasing terminal and according to the pulse amplitude modulation signal measures a voltage level across and a current through the termination resistor. The method continues by aggregating a compound index including the measured voltage level and the measured current and selectively accessing a message symbol in a message symbol array within a lookup table according to the compound index. The method concludes by retrieving the message symbol from the lookup table according to the compound index access.

A further aspect is an apparatus comprising a receiver that includes a termination resistor that is communicatively coupled through a first termination resistor node to a data link terminal and through a second termination resistor node to a biasing terminal the termination resistor is configured to receive multi level signaling and generate corresponding polarized voltages and currents. The receiver also includes a biasing source that is communicatively coupled through a first biasing source node to the biasing terminal and through a second biasing source node to Ground and is configured to selectively generate a biasing voltage level on the biasing terminal. Additionally the receiver includes a multi level decoder communicatively coupled across the termination resistor and configured to determine respective entries from a set of compound index entries according to the polarized voltages and currents across the termination resistor. The multi level decoder includes a level decoder and a current sensor where each is communicatively coupled through input nodes across the termination resistor. The level decoder is configured to determine a first portion and the current sensor a second portion of respective entries of a set of compound index entries. The receiver also includes level decode logic communicatively coupled to the level decoder and the current sensor the level decode logic decodes an array of transmission symbols according to a corresponding index the level decode logic is configured to receive a respective entry from the set of compound index entries and apply the entry to the index to retrieve an associated message symbol from the array of transmission symbols. The apparatus additionally includes an inversion indicator node coupled through an indication terminal to the inverted data decoder and an inverted data decoder coupled to the lookup table and the inversion indicator node and configured to decode inverse data symbols to data symbols.

A further aspect of the present disclosure is a system that includes a transmitter memory that is configured to store and retrieve a data symbol corresponding to a message and a multi level encoder that is communicatively coupled to the transmitter memory and is configured to encode a received data symbol to a multi level transmission symbol. The system includes a transmitter that is communicatively coupled to the multi level encoder and a data link terminal and is configured to transmit the encoded multi level transmission symbol according to a multi level signaling protocol and a communications link that is communicatively coupled to the transmitter through the data link terminal and is configured to propagate multi level signaling. The system also includes a receiver that is communicatively coupled to the transmitter through the communications link and is configured to receive the multi level transmission symbol according to the multi level signaling protocol and a receiver memory that is communicatively coupled to the receiver and is configured to store data symbols corresponding to the message.

To the accomplishment of the foregoing and related ends the one or more embodiments comprise the features hereinafter fully described and particularly pointed out in the claims. The following description and the annexed drawings set forth in detail certain illustrative aspects of the one or more embodiments. These aspects are indicative however of but a few of the various ways in which the principles of various embodiments may be employed and the described embodiments are intended to include all such aspects and their equivalents.

The detailed description set forth below in connection with the appended drawings is intended as a description of various configurations and is not intended to represent the only configurations in which the concepts described herein may be practiced. The detailed description includes specific details for the purpose of providing a thorough understanding of the various concepts. However it will be apparent to those skilled in the art that these concepts may be practiced without these specific details. In some instances well known structures and components are shown in block diagram form in order to avoid obscuring such concepts.

Various devices within the apparatus may be interconnected using a communications link that includes a number of conductors. The High speed data links may be used in a system on chip SoC environment as on die transmission line connections. These high speed data links may be configured to implement a data transfer connection between a processor such as a central processing unit CPU and a memory such as dynamic random access memory DRAM . The communications link may include one or more of a cable wires within a semiconductor package metallization on an IC and traces on a PCB or chip carrier.

In some instances data may be encoded on the communications link using multi level signaling such that multiple bits of data or control information may be transmitted in a single pulse or communications clock cycle. Pulse amplitude modulation PAM signaling may be used in high speed data links requiring a fixed resistance termination e.g. resistance at the characteristic impedance of a transmission line associated with high speed data transfers . For example PAM signaling may be employed to connect memory such as double data rate synchronous dynamic random access memory DDR SDRAM and other devices or circuits. Other DRAM standards based applications include double data rate 3 DDR3 and low power double data rate 4 LPDDR4 . Examples of PAM include 2 level PAM PAM 2 4 level PAM PAM 4 and 8 level PAM PAM 8 where the number of levels indicates the number of voltage or current levels available for encoding data or control information.

PAM signaling provides an increase in data rate for the same bandwidth and same pulse rate. For example PAM 4 signaling provides 4 voltage levels per pulse and the four levels can encode two binary bits of data into a single pulse. By encoding data transmissions to PAM 4 signaling the same bandwidth and same pulse rate can double the data rate compared to a two level pulse. This also offers a reduced pin count compared to the one pin per bit per communication channel approach of most inter device communications.

The PAM signaling system includes a multi level receiver that is connected to the transmitter through the data link and receives the multi level transmission symbol according to the multi level signaling protocol. A receiver memory RX MEMORY is connected to the multi level receiver and stores data symbols corresponding to the message. The multi level receiver includes a termination resistor connected through a first termination resistor node to a receiver side data link terminal and through a second termination resistor node to Ground. The termination resistor receives multi level signaling and generates corresponding voltages and currents across the first termination resistor node and the second termination resistor node of the termination resistor according to an amplitude of the received multi level signaling. More specifically the termination resistor receives a plurality of voltage levels and generates the corresponding voltages and currents according to respective input voltage levels formed across the termination resistor by the multi level signaling. The multi level signaling includes the transmission symbols.

The termination resistor sinks a multi level signal current . The multi level signal current I is propagated through the data link from the transmitter side data link terminal to the receiver side data link terminal for multi level signal pulses with a voltage magnitude greater than 0V. The multi level signal current flows from the transmitter to the multi level receiver for V 0V.

A multi level decoder is connected across the termination resistor by input nodes and through an output node to the receiver memory . The multi level decoder can include a level decoder . The level decoder is connected across the termination resistor by input nodes and through an output node to an index port . The level decoder determines respective index entries according to voltages across the termination resistor . The level decoder determines a voltage magnitude across the termination resistor during receipt of the multi level signaling. Each voltage magnitude determines an index entry.

A lookup table Lookup Table is connected to the index port and includes an array of data symbols and a corresponding index not shown . The lookup table receives an index entry and retrieves a data symbol from the array of data symbols corresponding to the index entry. The lookup table index is configured to uniquely associate the index entry with the data symbol from the array of data symbols. The multi level receiver may be coupled to the receiver memory . The receiver memory may be communicatively coupled to the lookup table and store data symbols corresponding to the multi level signaling.

Data may be encoded in two bits each bit controlling the state of one of the two switches . In one example each switch may be in an open state when its control bit is set to logic 1 and in a closed state when its control bit is set to logic 0 . In another example each switch may be in a closed state when its control bit is set to logic 1 and in an open state when its control bit is set to logic 0 . In the closed state each switch enables current from an associated current source to flow through the transmission line and termination resistor R . A first current source produces less current than a second current source . One switch may be controlled by the primary bit or most significant bit MSB because it causes a greater current level to flow from the second current source through the transmission line when closed than the current level caused when the other secondary bit or least significant bit LSB switch is closed. Current flow in the transmission line and termination resistor determines the voltage level of the received signal at a receiver.

In the example depicted the first current source may source or sink a unit of current when connected to a load impedance while the second current source sources or sinks two units of current when connected to the load impedance. The amperage corresponding to the unit of current may be determined by the application. The switches may select between four current levels including 0 units 1 unit 2 units and 3 units. For the purposes of this description the first current source may be used to encode a secondary bit of a multi bit data symbol while the second current source may be used to encode the primary bit of the multi bit data symbol. In some instances the voltage differences or current levels in a multi level signal may not be uniform. In other words the current sources may not be binary weighted or exact multiples of one another.

The load impedance may include the combined resistance of the transmission line and the termination resistor where the termination resistor may include a resistor connected at the receiving end of a wire that may conduct current provided by the first current source and the second current source . The voltage V of an output signal at the receiver may be determined as the product of the current I flowing in the terminating resistor and the resistance R of the terminating resistor. While the use of two current sources of unequal magnitude is expected to be the most common embodiment of current based PAM 4 signaling it is also possible to generate and transmit the four distinct current magnitudes with three distinct current sources and their corresponding on off switches. With all three currents disabled the resulting voltage level across the termination resistor would be zero. Then enabling only one current source at a time three additional voltage levels could be generated across the termination resistor by transmitting three distinct current magnitudes.

It will be appreciated that in a PAM 4 configuration a communications link consumes different amounts of power at each signal level and . In a simple case where the termination resistor dissipates all or substantially all of the current generated by the driver circuit the power for each state may be calculated as I R . Nominally no power is consumed for zero state 2 bit data symbols and power consumed by the communications link increases with current flow because the currents associated with the primary bit and the secondary bit of the 2 bit data symbol are summed across the termination resistor to produce the appropriate signal level. Accordingly significantly greater power reductions may be obtained from inverting the primary bit of the 2 bit data symbol than the secondary bit of the 2 bit data symbol.

A data symbol may be provided from the transmitter memory to the multi level encoder . The data symbol may be encoded into a transmission symbol having one of several possible amplitudes or voltage levels. This encoding process may be known as pulse amplitude modulation PAM signaling. The data symbol may include two or more bits of information. When the data symbol includes two bits the encoding process may produce the transmission symbol as one of four amplitudes where each one of the amplitudes corresponds to one of the four possible states of the two bit combination of the data symbol. For example a first pulse may be at a 0 volts V amplitude e.g. a 0 VOLTAGE and correspond to a 0 0 state of the corresponding data symbol. The remaining pulse amplitudes may be generated as a percentage of the maximum pulse amplitude of the signaling process. A second pulse may be one third of the maximum pulse amplitude e.g. a 1 VOLTAGE and correspond to a 0 1 state of the data symbol and a third pulse may be two thirds of the maximum pulse amplitude e.g. a 2 VOLTAGE and correspond to a 1 0 state of the data symbol. The fourth pulse may be generated as the maximum pulse amplitude of the signaling process e.g. a 3 VOLTAGE and correspond to a 1 1 state of the data symbol. Each data symbol maps to one transmission symbol in the encoding process. Accordingly encoding is the mapping of data symbols to transmission symbols where the transmission symbols may be equivalently identified by any of a pulse amplitude a voltage level or a signaling level.

Decoding the transmission symbols is the complement of the encoding process. Each pulse corresponding to a transmission symbol has a corresponding pulse amplitude determined and used to index a particular data symbol. For instance the index corresponding to the pulse amplitude of the transmission symbol being decoded may be used to access an entry in a lookup table. A given pulse amplitude has a signaling level that will correspond to one index entry and allow access to one data symbol contained in an array of data symbols within the lookup table. The pulse amplitude of a given transmission symbol may correspond to a voltage level that when applied to a determination device produces a corresponding electrical characteristics such as a voltage and or a current where the voltage may have a polarity and the current a current flow direction through the termination device.

However the termination resistor in the multi level receiver consumes power according to the transmission symbol amplitude voltage level being decoded. The amount of power dissipated in decoding PAM signaling in the multi level receiver is significant and creates an impact to the resource budget in a typical SOC design. A way is needed to conduct PAM signaling according to standard transmitter and transmission line conventions yet be able to configure the receiver to accept standard PAM signaling levels with reduced amounts of current being drawn through the termination resistor per pulse.

The raised floor system may include a raised floor receiver that is connected to the transmitter through the data link and receives the multi level transmission symbol according to the multi level signaling protocol. A multi level termination resistor may be communicatively coupled through a first termination resistor node to the receiver side data link terminal and through a second termination resistor node to a biasing terminal . The multi level termination resistor is configured to receive multi level signaling and generate corresponding polarized voltages and currents across the first termination resistor node and the second termination resistor node of the multi level termination resistor according to the amplitude of the received multi level signaling. According to some example embodiments the multi level termination resistor is configured to receive a plurality of voltage levels and generate the corresponding polarized voltages and currents according to respective input voltage levels formed across the multi level termination resistor by the combination of the multi level signaling and a biasing voltage level V . The multi level signaling includes transmission symbols encoded from data symbols. A biasing source is communicatively coupled through a first biasing source node to the biasing terminal and through a second biasing source node to Ground and is configured to selectively generate the biasing voltage level Von the biasing terminal .

A multi level decoder may be coupled by input nodes across the multi level termination resistor and by an output node to the receiver memory . The multi level decoder is configured to determine respective entries of a set of compound index entries according to the polarized voltages across and current directions through the termination resistor. The multi level decoder may include a level decoder that is communicatively coupled by input nodes across the multi level termination resistor and by an output node to a first index port . The level decoder is configured to determine a first portion of respective entries of a set of compound index entries. The level decoder is configured to determine a voltage magnitude across the multi level termination resistor during receipt of the multi level signaling. Each voltage magnitude determines the first portion of the respective entry in the set of compound index entries.

The multi level decoder may also include a current sensor that is communicatively coupled by input nodes across the multi level termination resistor and by an output node to a second index port . The current sensor is configured to determine a second portion of the respective entries in the set of compound index entries. The current sensor is configured to determine a direction of current flowing through the multi level termination resistor by measuring a polarity of the voltage across the termination resistor during receipt of the multi level signaling. A given polarity of voltage due to a multi level signaling pulse across the multi level termination resistor will induce current flow with a direction corresponding to the polarity of the voltage.

In the raised floor system the multi level source and the biasing source can source and sink current during the course of multi level signaling. The biasing voltage level Vgenerated by the biasing source on the biasing terminal remains constant during a transmission session and corresponds to a particular combination of lookup table index and lookup table discussed below . The multi level source voltage Vvaries according to transmission symbol generation by the multi level source during multi level signaling. The multi level source sinks current during a 0 level signal transmission. The 0 level signal transmission causes a reversal of the current flow through the multi level termination resistor and the current sensor produces a current sense indication I as an output signal that is a logic 1 or 0 depending on the polarity of voltage across and the current direction through the multi level termination resistor .

A high multi level signal current I is propagated through the data link from the transmitter side data link terminal to the receiver side data link terminal for multi level signal pulses with a voltage magnitude greater than 0V. The high multi level signal current flows from the transmitter to the raised floor receiver for VV.

A lookup table Lookup Table may be communicatively coupled to the first index port and the second index port and includes an array of data symbols and a corresponding lookup table index not shown . The lookup table is configured to receive one in the set of compound index entries and retrieve a data symbol from the array of data symbols corresponding to a respective entry in the set of compound index entries. The lookup table index is configured to uniquely associate the first portion and the second portion of one in the set of compound index entries with the message symbol from the array of message symbols. In the present exemplary embodiment a message symbol and a data symbol may be equivalent. However as discussed below a message symbol may be further encoded and be considered an inverted data symbol in certain encoding schemes. In relation to the raised floor system data symbols and message symbols may be considered to be the same.

The lookup table index of the raised floor system differs from the lookup table index in the lookup table of the multi level receiver of the PAM signaling system . In the multi level receiver the multi level decoder connects to the termination resistor and according to the voltage levels produced by the multi level signaling propagated through the data link the multi level decoder decodes one of four index entries. Each of the four index entries corresponds to one of the voltage levels appearing on the termination resistor by a corresponding one of the multi level signals. The multi level signaling produces one of the four signaling levels at a maximum amplitude signal level. The remaining three of the four signaling levels may be referred to as respective fractions of the maximum amplitude signal level. Each one of the multi level signaling levels produces a corresponding voltage level across the termination resistor and the multi level decoder produces a corresponding one of the four index entries. In the multi level receiver each of the voltage levels across the termination resistor is a positive voltage or 0V and is referenced to Ground. The four index entries are provided by the multi level decoder to the lookup table through the index port . The lookup table index of the lookup table accesses one of four message symbols in a message symbol array within the lookup table according to the four index entries from the multi level decoder .

In the multi level decoder of the raised floor receiver the level decoder and the current sensor work in tandem to measure voltage levels produced by the same multi level signaling as described above in relation to the multi level receiver . Since the multi level termination resistor of the raised floor receiver has the voltage at the second termination resistor node offset from Ground by the biasing voltage level Von the biasing terminal the same multi level signaling described above in the PAM signaling system produces a different set of voltages levels and current directions for each respective multi signaling level than experienced by the termination resistor in the multi level receiver .

In the raised floor system compound index entries are utilized to access message symbols and the level decoder determines the first portion of respective entries in the set of compound index entries described above and the current sensor determines the second portion of respective entries in the set of compound index entries. The level decoder determines voltage magnitudes corresponding to each one of the multi level signaling levels in a fashion similar to that described above in relation to the multi level decoder of the multi level receiver . However due to the biasing voltage level Vapplied to the multi level termination resistor certain of the voltage magnitudes determined by the level decoder may duplicate one another in magnitude yet differ in polarity and correspondingly the direction of current produced through the multi level termination resistor . Various levels of the biasing voltage level Vapplied to the multi level termination resistor may produce combinations of identical voltage amplitudes from the multi level signaling. As long as the biasing voltage level Vremains constant and fixed to a magnitude that relates to a particular set of compound index entries during the entirety of a communications session with the raised floor system correct access and retrieval of message symbols occurs.

The combination of voltage level and current direction produced by the multi level signaling across the multi level termination resistor are unique for the four transmission symbols provided on the data link . The second portion of the compound index entry determined by the current sensor allows two equivalent magnitude voltage levels determined by the level decoder to be uniquely decoded as respective entries in the set of compound index entries. Therefore the same multi level signaling utilized in the multi level receiver of the PAM signaling system may be applied to the raised floor receiver of the raised floor system and according to the multi level decoder and apply respective entries in the set of compound index entries to the lookup table index of the lookup table of the raised floor receiver and access the same message symbols as would be retrieved in the PAM signaling system .

The raised floor system may also include a receiver memory that is communicatively coupled to the lookup table and configured to store data symbols corresponding to the multi level signaling. Message symbols or data symbols may be retrieved from the lookup table of the raised floor receiver and provided to the receiver memory similar to the situation above in the multi level receiver .

By incorporating PAM 4 raised floor biasing of about 33 of a maximum amplitude signaling level the raised floor system may utilize an amount of power in decoding the transmission symbol and retrieving the corresponding data symbol from the array of data symbols that is about 57 less than an amount of power utilized in retrieving a further data symbol from the array of data symbols with a biasing voltage level Vof 0V.

A Ground referenced graph illustrates current through the multi level termination resistor during multi level signaling with the biasing voltage level Vbeing set to 0V or what may be referred to as Ground referenced biasing. The magnitude of current through the multi level termination resistor ranges from 0.000 to 0.020 A as the multi level signaling ranges from a level 0 e.g. corresponding to the encoded transmission symbol 0 0 to a level 3 e.g. corresponding to the encoded transmission symbol 1 1 . A Swing 3 graph illustrates current through the multi level termination resistor during multi level signaling with the biasing voltage level Vbeing set to one third of the voltage range of the multi level signaling or Swing 3. The magnitude of current through the multi level termination resistor ranges from 0.006 to 0.014 A as the multi level signaling ranges from level 0 to level 3. A Swing 2 graph illustrates current through the multi level termination resistor during multi level signaling with the biasing voltage level Vbeing set to one half of the voltage range of the multi level signaling or Swing 2. The magnitude of current through the multi level termination resistor ranges from 0.010 to 0.010 A as the multi level signaling ranges from level 0 to level 3.

The normalized power curve provides a way of comparing the total signaling power consumed versus floor height in the raised floor receiver . Each value of the normalized power curve is calculated from the sum of the power consumed at each of the four signal levels at the corresponding floor height. For example at a floor height of zero i.e. Ground referenced the normalized power value is the sum of the normalized power at each of the four signal levels from level 0 to level 3 with the biasing voltage level Vequal to 0V. To normalize the power the power at level 3 with Vequal to 0V is set to unity or 1 and the amount time communications occur at each signal level is considered to be equal. The power at a given signal level is given by the expression IR where I is the current through the multi level termination resistor and R is the value in ohms of the multi level termination resistor .

The level 3 power is the basis of normalization and therefore has a normalized power equal to 1. Each of the four successive power levels is separated by of the Swing. The Swing is the range of voltage levels produced on the data link which are applied across the multi level termination resistor and produce I the current . The level 2 power occurs at of the Swing voltage i.e. IR and therefore at the current of of I. Since the power at each level is based on the same value R of the multi level termination resistor the relative power for a given signal level is the square of the ratio of the current at the considered signal level relative to the level 3 current. The square of the ratio of the level 2 current to the level 3 current will give the level 2 normalized power summand. The level 2 current is of the level 3 current Ground referenced . The level 2 power summand therefore is or 0.444 . . . . In a similar fashion the level 1 power summand is or 0.111 . . . and the level 0 power summand is 0. Therefore the normalized power at the floor height of Vequal to 0V is 1 0.444 . . . 0.111 . . . 0 or 1.555 . . . . The Swing 2 normalized power is the sum of the four normalized power levels at level 3 to level 0 at the Swing 2 floor height . The corresponding Swing 2 current ratios are I I I and I. The normalized power at a floor height of Swing 2 is therefore 2 2 or 0.555 . . . . This is the value of the minimum power discussed above. The power saving of the Swing 2 floor height compared to the Ground referenced floor is the Swing 2 normalized power divided by the Ground referenced normalized power or 0.555 . . . 1.555 . . . which equals 0.357. This confirms the Swing 2 theoretical versus simulated power savings shown in .

Pre coding may be a term referring to a type of Data Bus Inversion DBI that may reduce power consumption in signaling transitions by application of algorithms to invert certain data bits in a message symbol prior to transmission. However this type of pre coding utilizes an additional communication channel to communicate the inversion information between and encoder and a decoder to synchronize the inversion processes at each end of the transmission so that the original data symbols may be reconstituted at the receiver.

The encoder may be configured to monitor n bit parallel input data . The encoder may invert the parallel input data or certain portions prior to transmission when some portion of the byte to be transmitted has data bits with an undesired value. The undesired value may be a value that causes greater current flow than other values. For example the undesired value in each data bit of parallel input data may be logic 0 if the logic 0 causes current to flow and logic 1 does not cause current flow. The undesired value in each considered data bit of parallel input data may be a logic 1 in the bit position if the logic 1 causes current to flow and logic 0 does not cause current flow.

An inversion indicator node may transmit an inversion indicator or data inversion indicator to the decoder using a line driver to drive one connector of the Bus . The inversion indicator transmitted by the inversion indicator node may indicate when parallel data transmitted through line drivers and the Bus to the decoder includes one or more data elements that have been inverted by the encoder . The decoder may respond to the inversion indicator by re inverting any inverted data elements received from the Bus . In one example the inversion indicator node may be associated with parallel input data that has an 8 bit width and the inversion indicator node is set when a most significant portion or most significant byte 4 bit byte of the transmission data e.g. BIT  BIT  has been inverted according to a pre coding algorithm. It is noted that the term Byte is often associated with a group of 8 bits. In this context and throughout the documentation and associated claims the terminology is applied more generally to refer to a group of a pre determined number of bits. In a similar way the term Word is applied to a group of bits generally larger in number than a Byte but not necessarily equal to 16 which is the commonly associated quantity.

The encoder may be configured to invert the parallel input data where n 8 and the decoder may be configured to invert the most significant 4 bit byte of the data received from the Bus when the inversion indicator node is asserted e.g. set 1 . The decoder reverses any inversion performed by the encoder and thereby produces an output that is a true copy and or representation of the parallel input data of the encoder . In some examples the determination of whether the encoder should invert the parallel input data or a portion thereof may include a consideration of one or more other bytes or portions of those bytes in a 16 32 or 64 bit word that are transmitted in parallel with the parallel input data of the encoder . In some instances the Bus width may be as narrow as two parallel bits or signal lines.

The number of transmitters in the plurality of transmitters and the width of the transmitter side data link terminal correspond with the number of bits in the Bus structure i.e. Word width implemented with the raised floor system . Each of the multi level encoders may be communicatively coupled to the transmitter memory and be configured collectively with remaining multi level encoders to retrieve a data symbol from the transmitter memory and encode a data symbol to a multi level transmission symbol. An inverted data encoder ENCODER may be communicatively coupled between the transmitter memory and the plurality of transmitters and respective ones of the multi level encoders according to some exemplary embodiments. The inverted data encoder is configured to pre code a data symbol to an inverted data symbol in a fashion similar to that described above in relation to the Data Bus Inversion encoding decoding system of .

The plurality of transmitters may be configured to transmit the encoded multi level transmission symbol according to a multi level signaling protocol. A communications link or data link may be communicatively coupled to the plurality of transmitters through the transmitter side data link terminal and be configured to propagate multi level signaling. The data link may include a number n of bit lines that correspond with the Bus width of the raised floor system . The raised floor system includes a plurality of raised floor receivers that may be communicatively coupled to the plurality of transmitters through the data link and may be configured to receive the multi level transmission symbol according to the multi level signaling protocol. A receiver memory may be communicatively coupled to the raised floor receivers and be configured to store data symbols corresponding to the message. The raised floor receivers according to some exemplary embodiments may be configured to operate in parallel and in combination when coupled to the receiver memory . The raised floor receivers may generally correspond with the raided floor receiver described above in relation to . An inverted data decoder DECODER may be communicatively coupled between the raised floor receivers and the receiver memory and be configured to decode the inverted data symbol retrieved from respective instances of level decode logic described below to the data symbol.

The respective raised floor receivers each include a multi level termination resistor communicatively coupled through the first termination resistor node to a receiver side data link terminal and through the second termination resistor node to the biasing terminal . The receiver side data link terminal may include a number n of bit positions that correspond with the bus width of the raised floor system and correspond with the width of the data link . Each multi level termination resistor is configured to receive multi level signaling and generate corresponding polarized voltages and currents across the first termination resistor node and the second termination resistor node of the multi level termination resistor . The multi level signaling includes transmission symbols at least a portion of which are inverted data symbols encoded from data symbols. The biasing source is communicatively coupled through a first biasing source node to the biasing terminal and through a second biasing source node to Ground and is configured to selectively generate a biasing voltage level Von the biasing terminal .

The level decoder and the current sensor are each communicatively coupled through input nodes across the multi level termination resistor and through an output node to the first index port and the second index port respectively. The level decoder is configured to determine a first portion and the current sensor to determine a second portion of respective entries of a set of compound index entries. Level decode logic is communicatively coupled to the first index port the second index port and the inverted data decoder and may in some exemplary embodiments include an array of combinatorial logic and a corresponding data symbol index not shown . The level decode logic may be configured to decode a data symbol from an array of data symbols upon receipt of a corresponding one in the set of compound index entries. The level decode logic may be implemented in some embodiments as an array of combinatorial logic and be configured to receive the first portion and the second portion of the respective entries from the set of compound index entries and apply each entry to the index to retrieve an associated message symbol from the array of transmission symbols.

The raised floor system also includes an inversion indicator node that is communicatively coupled through an indication terminal to the inverted data decoder . The inversion indicator node propagates an inversion indicator not shown which may also be known as an inversion flag to the inverted data decoder . The inverted data decoder may be communicatively coupled to the level decode logic and the inversion indicator node . The inverted data decoder is configured to decode inverse data symbols to data symbols. A receiver memory may be communicatively coupled to the inverted data decoder and is configured to store data symbols corresponding to the multi level signaling.

By using the raised floor receivers in conjunction with the biasing source an amount of power utilized in decoding the transmission symbol and retrieving the data symbol from the array of data symbols when using a biasing voltage level Vfrom the biasing source of about one half or 50 of a maximum amplitude signaling level is about 64 less than an amount of power utilized in retrieving a further data symbol from the array of data symbols with a biasing voltage level Vof 0V. By incorporating the inverted data encoder and inverted data decoder to pre code data symbols to inverse data symbols before transmission an amount of power utilized in producing the decoded pre coded data symbol from the decoder according to a biasing voltage level Vof about 50 of a maximum amplitude signaling level is about 71 less than an amount of power utilized in retrieving a further data symbol from the array of data symbols with a further biasing voltage level Vof 0V.

In the example a sequence of inversion indications INVERSION INDICATION associated with each of the inverted data symbols progress in sequence according to clock cycles n n 7. For instance at clock cycle n 1 in the sequence of the inversion indications a second inversion indication is associated with a second inverted data symbol in the inverted data symbols . The inversion indications may for example represent the inversion designator portion of a decoded inversion indication signal as discussed above in relation to . The inversion indications may in further exemplary embodiments represent an inversion indication directly available in a non encoded form and in immediate association with an inverted data symbol. In either of these exemplary cases the inversion indications may have been propagated from the inverted data encoder through the inversion indicator node and the indication terminal to the inverted data decoder .

The second inversion indication is a logic 0 or non asserted indication meaning that the associated second inverted data symbol is not to be inverted. This may be the situation when the associated pre coding algorithm has determined that the original data symbol would not have provided a power savings benefit if it would have had its MSB inverted before transmission. Accordingly at clock cycle n 1 in the sequence of data symbols DATA SYMBOLS the second data symbol does not have its MSB inverted and is equivalent to the second inverted data symbol .

In further example at clock cycle n 3 in the sequence of the inversion indications a fourth inversion indication is associated with a fourth inverted data symbol in the inverted data symbols . The fourth inversion indication is logic 1 or an asserted indication meaning that the associated fourth inverted data symbol is to be inverted in order to reconstitute the original fourth data symbol. This may be the situation when the associated pre coding algorithm has determined that the original data symbol would have provided a power savings benefit if it would have had its MSB inverted before transmission. Accordingly at clock cycle n 3 in the sequence of data symbols DATA SYMBOLS the fourth data symbol has its MSB inverted. Bits of the fourth inverted data symbol are inverted to become bits of the fourth data symbol .

According to certain types of pre coding as exemplified by the two example situations given here a power savings similar to that alluded to in the tabular representation of power savings benefit may be realized. The inverted data encoder and the inverted data decoder of the raised floor system incorporating raised floor biasing and multi level signaling with data inversion pre coding may be used to implement the inversion of the MSB as presented in the two examples above.

A BUS structure used in a PAM data link may be partitioned into distinct portions e.g. most significant byte MSB and least significant byte LSB . In a first algorithm Algorithm 1 pre coding may include the analysis of the number of bit pairs at corresponding bit positions within the MSB and the LSB that differ from one another in a given transmission cycle. For instance the minimum power grouping indicates how the most significant bit and least significant bit differ from one another to produce a low power level during symbol transmission. This difference may be computed through the logical exclusive OR operation of the MSB LSB bit pairs. The bits considered in the respective bit pairs range from the most significant bit position to the least significant bit position across each respective partition most significant bit in MSB compared to most significant bit in LSB summed down to the least significant bit in the MSB compared with the least significant bit in the LSB . If the sum of the number of differing bit pairs is less than the number that is half the count of bits in the width of the partition the algorithm flips all the bits in the MSB and sends a separate flag indicating the flip i.e. the inversion indications . This algorithmic approach to flipping a portion of the bits in a particular cycle of the transmission to the mid referenced average power region i.e. the minimum power grouping .

In a further algorithm Algorithm 2 a similar analysis of the number of bit pairs at corresponding bit positions within the MSB and the LSB may be initiated. However a given data symbol may be partitioned into four portions where the least significant half i.e. lowest order two portions of the data symbol is referred to as an even byte and further partitioned into an MSB and LSB. Similarly the most significant half i.e. highest order two portions of the data symbol is referred to as an odd byte and further partitioned into an MSB and LSB. In Algorithm 2 the same algorithm as described above in Algorithm 1 is applied to the most significant half and the least significant half of the data symbol where the comparison is made to determine if the number of differing bits is less than the Bus width W 4. If this inequality is true the most significant half of the data symbol is inverted and an encoded inversion indication is set to 0. If this inequality is not true the next step is to determine if the number of differing bits is 

Once the compound index as aggregated the method continues by selectively accessing a message symbol in a message symbol array within a lookup table according to the compound index. The method progresses by retrieving the message symbol from the lookup table according to the compound index access. The method concludes with transmitting the retrieved message symbol to a receiver memory.

The method continues with decoding the inversion indication into a partition selector and an inversion designator. The decoding includes decoding the inversion indication into an ordered pair of binary bits including a first bit corresponding to the partition selector and a second bit corresponding to the inversion designator. The method includes determining a selected partition according to the partition selector wherein an odd partition is selected when the partition selector is asserted otherwise an even partition is determined to be selected. A next step of the method is selectively inverting bits within the selected partition according to the inversion designator. Bits within the selected partition are inverted when the inversion designator is asserted otherwise bits within the selected partition are maintained. The method concludes with transmitting the data symbol to the receiver memory .

Additional power savings are realized by applying the pre coding of data prior to transmission in addition to raising the floor as described above. A Bus structure used in a PAM data link is partitioned into distinct portions e.g. most significant byte MSB and least significant byte LSB . Algorithm 1 and Algorithm 2 as described above may be applied to data symbols in various Bus width situations. For example Bus widths from 2 64 may be considered for the application of these two exemplary algorithms Algorithm 2 may not make particular sense with a Bus width of 2 . A power reduction chart Power Reduction delineates the percentage of power reduction according to Algorithm 1 Alg. 1 and Algorithm 2 Alg. 2 versus Bus width Bus Width . Algorithm 1 is maximal at smaller Bus widths and Algorithm 2 continues that same trend except with a relative peak at a Bus width of eight bits.

A power saving summary charts the various floor height adjustments described above according to various exemplary embodiments. Commencing with standard PAM 4 signaling as a baseline a next power savings entry indicates a floor height Swing 3 providing a power savings of 57 followed by a floor height Swing 2 providing a power savings of 64 . A next entry indicates that the MSB LSB pre coding provides an additional power savings of 21 when concatenated with either of the prior floor height adjustment approaches. The total signal power savings provided by a floor height Swing 2 with the addition of MSB LSB pre coding providing a 71 power savings. This level of power savings may be realized by the application of the exemplary embodiments described above in relation to the raised floor system incorporating raised floor biasing and multi level signaling with data inversion pre coding where the data inversion pre coding is practiced according to Algorithm 2 and the graphical representation of decoding a pre coded multi level inverted data stream as may be applied to An eight bit Bus.

Those of skill in the art will appreciate that the various illustrative blocks and modules described in connection with the embodiments disclosed herein can be implemented in various forms. Some blocks and modules have been described above generally in terms of their functionality. How such functionality is implemented depends upon the design constraints imposed on an overall system. Skilled persons can implement the described functionality in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the invention. In addition the grouping of functions within a module block or step is for ease of description. Specific functions or steps can be moved from one module or block without departing from the invention.

The above description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the invention. Various modifications to these embodiments will be readily apparent to those skilled in the art and the generic principles described herein can be applied to other embodiments without departing from the spirit or scope of the invention. Thus it is to be understood that the description and drawings presented herein represent a presently preferred embodiment of the invention and are therefore representative of the subject matter which is broadly contemplated by the present invention. It is further understood that the scope of the present invention fully encompasses other embodiments that may become obvious to those skilled in the art and that the scope of the present invention is accordingly limited by nothing other than the appended claims.

