---

title: Distributed secure content delivery
abstract: Techniques for distributed and secure content delivery are provided. Requests for content are routed to a centralized service where the requestors are authenticated for access to the content. The centralized service generates access statements for the requestors. The requestors are redirected to particular distributed content services having access to the desired content. The distributed content services verify the access statements and vend the desired content to the requestors.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09208342&OS=09208342&RS=09208342
owner: Apple Inc.
number: 09208342
owner_city: Cupertino
owner_country: US
publication_date: 20140522
---
The invention relates generally to content delivery and more particularly to techniques for delivering content in a distributed and secure fashion.

Increasingly secure private or licensed content is being distributed over the Internet. Individuals enterprises and governments are supplying and acquiring content via the Internet. With these exploding phenomena there is a variety of challenges presented to the content provider.

For instance the content provider may not be particularly adept at authenticating users for access to its content. Consequently the content provider may want to offload the authentication and or licensing enforcement to one or more third party services. For that matter the content provider may even want to offload content delivery to a third party since the content provider may not be skilled at streaming content or may not have the necessary resources such as bandwidth capabilities for properly vending the content to its users.

It is particularly difficult for a single service provider to perform all services well which may be associated with secure content delivery. That is a service provider may provide good authentication and licensing enforcement but the same service provider may not perform well at or have the resources to perform well at content delivery.

Moreover if authentication and or license enforcement are offloaded then the content delivery often has to be integrated with or interfaced to the service that provides the authentication and or license enforcement. This means that features associated with content delivery are often tightly coupled and integrated with features associated with authentication and or license enforcement. So if one changes then the other has to be modified as well reflect the changes. This creates challenges for maintenance and support.

To streamline the authentication a content provider may forgo customized identity based access by setting up sites that are geared towards groups of users having the same access rights or licensing rights to content. Yet this is not acceptable because what often ends up occurring is the content provider ends up managing a plethora of sites for the same content where each site has its own access rights to satisfy varying customer demands.

So in general content providers either end up with complicated delivery services or redundant and disparate delivery services for the same content being delivered.

Therefore it is advantageous to provide techniques for more secure and distributed content delivery that is more manageable and less complicated.

In various embodiments techniques for distributed and secure content delivery over a network are provided. More specifically and in an embodiment a method for vending content to a principal over a network is provided. A request for content is received from a principal and the principal is authenticated for access to that content. Next an access statement is generated for the principal for purposes of acquiring the content from a service which distributes the content. Finally the principal is redirected to the service for purposes of acquiring the content.

As used herein a service is a type of resource that is accessible over a network. The service is implemented as instructions that when loaded and accessed by a machine performs one or more functions that the service is advertised to perform. A principal is another type of resource that may be an automated service or may logically represent a physical resource within an electronic environment such as but not limited to a user a device a group of users a group of devices an object etc.

An identity service refers to a special type of service that is designed to manage and supply authentication services and authentication information for principals and for other services. So an identity service may authenticate a given principal for access to a variety of local and external services being managed by that identity service. A single principal may have multiple identity services.

According to an embodiment some example identity services are described in Techniques for Dynamically Establishing and Managing Authentication and Trust Relationships filed on Jan. 27 2004 and having the U.S. Ser. No. 10 765 523 Techniques for Establishing and Managing a Distributed Credential Store filed on Jan. 29 2004 and having the U.S. Ser. No. 10 767 884 and Techniques for Establishing and Managing Trust Relationships filed on Feb. 3 2004 and having the U.S. Ser. No. 10 770 677 all of which are commonly assigned to Novell Inc. of Provo Utah and the disclosures of which are incorporated by reference herein. In some cases these identity services may be enhanced to include some features and techniques discussed in greater detail herein and below.

An identity service may also provide single sign on services to a principal. That is a principal may sign on to an identity service and acquire identities and credentials to access a variety of other services.

A principal is recognized via an identity. An identity is authenticated via various techniques e.g. challenge and response interaction cookies assertions etc. that use various identifying information e.g. identifiers with passwords biometric data digital certificates digital signatures etc. . A true identity is one that is unique to a principal across any context that the principal may engage in over a network e.g. Internet Intranet etc. . However each principal may have and manage a variety of identities where each of these identities may only be unique within a given context given service interaction .

As used herein attributes may be viewed as types of identifying information such as but not limited to birth date mother s maiden name pet s name last transaction for a given context age employment income level social security number SSN etc.

The true identity of a principal is typically managed and controlled by an identity service such as the ones enumerated above. The identity service may also manage the principal s other identities that the principal uses with services for which the principal interacts in a variety of different contexts.

An access statement is information that a content vending service uses to determine if access to content is permissible. The statement may be represented in a variety of formats. For example in some cases the statement may be a flag. In other cases the statement may be a Uniform Resource Identifier URI or Uniform Resource Locator URL . The URI or URL may identify a particular World Wide Web WWW site that has desired content which is to be vended to a requesting principal. In still other situations the statement may be an assertion from a trusted principal such as an identity service. The assertion may be in a Security Access Method Language SAML a Liberty Alliance Group format etc.

Content may itself be viewed as a type of resource. It can include documents videos images software graphics audio or various combinations of these things. Content is vended to principals in a distributed and secure manner via a centralized service that creates access statements and via distributed services that validate the access statements and vend the content to the principals. The techniques and variations on achieving this are discussed in greater detail below with reference to the FIGS.

Various embodiments of this invention can be implemented in existing network architectures. In some cases the techniques presented herein may be implemented as enhancements to existing services. These enhancements may be integrated into the existing services or accessed externally via Application Programming Interfaces API s . In some cases the enhancements may be unknown to the existing services such that the existing services are not even aware of the techniques being processed. This can occur when the techniques are implemented as a transparent proxy or a reverse proxy on behalf of the services According to the techniques presented herein are implemented in whole or in part in the Novell network products proxy server products email products identity service products operating system products and or directory services products distributed by Novell Inc. of Provo Utah.

Of course the embodiments of the invention can be implemented in a variety of architectural platforms operating and server systems or applications. Any particular architectural layout or implementation presented herein is provided for purposes of illustration and comprehension only and is not intended to limit aspects of the invention.

Initially a principal attempts to acquire desired content over the network. According to an embodiment the principal uses a WWW browser and its interface to activate an URI or URL that is associated with the desired content. The processing of the centralized content delivery service may be indirectly invoked when this URI or URL is activated. Thus the processing of the centralized content delivery service may be viewed as a transparent proxy associated with the principal that intercepts external network access attempts made by the principal. Alternatively the processing of the centralized content delivery service may be viewed as a reverse proxy associated with a content provider or content distributor associated with the desired content that processes content requests before content is vended to requesting principals. It is noted that the centralized content delivery service may also be a forward proxy that the principal directly interacts with or is configured to interact with. In fact the centralized content delivery service does not have to be a proxy at all and may be directly accessed by the URI or URL activated by the principal. In this manner the centralized content delivery service may be viewed as front end or initial content delivery service that is activated in a variety of manners when a principal requests desired content that is being controlled or managed by the centralized content delivery service.

At the centralized content delivery service receives a request for desired content from a requesting principal. Again in some cases this request may be an activated URI or URL from within a browser page or manually entered into a browser by the principal. The request is either directly sent to the centralized content delivery service or is indirectly sent via some interception mechanism as discussed above and depicted at .

At the centralized content delivery service authenticates the principal for access to the content. That is credentials of the principal are verified according to policy for purposes of determining that the principal s identity is whom it purports to be. Any authentication mechanism may be used such as but not limited to passwords biometrics certificates signatures combinations of these and the like.

According to an embodiment the authentication of the principal may be offloaded to an identity service. In other cases the processing associated with the centralized content delivery service may be subsumed as enhancements into an identity service. In still other cases the authentication is entirely handled within the centralized content delivery service with no interaction with an identity service.

In some embodiments at the centralized content delivery service may also engage and interact with the principal for purposes of getting consent to licensing or legal strictures related to accessing and using the desired content. So the principal may have to read a license or export agreement and consent to the terms associated therewith.

At the centralized content delivery service generates an access statement for the principal to acquire the content from a content distribution service that directly vends the content. The access statement is subsequently consumed by the content distribution service to verify that the principal is to be given access to the desired content. The access statement serves as a mechanism by which the content distribution service can perform a second check to ensure that the principal is authorized to receive and access the desired content. The content distribution service does not have to be directly configured to interact with the centralized content delivery service for purposes of making this additional check rather the access statement produced by the centralized content delivery service may be acquired and verified by the content distribution service in a variety of manners in an indirect fashion. This decouples the content distribution service from the centralized content delivery service while still maintaining communication via the access statement.

According to an embodiment at the centralized content delivery service may store the access statement in a repository. The repository is also accessible to the content distribution service. The access statement may be indexed in the repository according to an identifier or identity associated with the principal.

In an embodiment at the access statement may be represented as an URI or URL that identifies the WWW site or the content distribution service that vends or distributes the desired content to the principal directly. Thus the content distribution service when it receives a direct request for content from the principal inspects the repository in response to an identifier for the principal and acquires the URI or URL access statement against another URI or URL that the principal supplies for specific content. If the two URI s or URL s match the content distribution service has successfully verified the principal for access to the desired content and that content may then be streamed or vended to the principal from the content distribution service.

At the centralized content delivery service redirects the principal to the content distribution service that directly distributes or vends the desired content being requested by the principal.

According to an embodiment this redirection may occur automatically and in near real time such that the principal is not aware of the redirection. That is the principal may be interacting via a browser and the initial contact to the centralized content delivery service may appear to the principal to be an interaction directly with the content distribution service such as when the centralized content delivery service is a transparent or reverse proxy the centralized content delivery service authenticates the principal generates the access statement and redirects the browser of the principal directly to the content distribution service. All this interaction may be transparent to the principal and may appear to occur in a nearly instantaneous fashion.

In some cases at the access statement that was generated by the centralized content delivery service on behalf of the principal may have been represented as an assertion from the centralized content delivery service and may be accompanied with the redirected request that the principal makes to the content distribution service. The assertion may be a SAML or Liberty Alliance Group assertion that informs the content distribution service that the centralized content delivery service is vouching for the principal and that correspondingly access to the desired content is authorized and appropriate. In this manner the access statement may be an assertion that accompanies a redirected request of the principal which the content distribution service relies on and uses to provide the principal access to the content.

In some embodiments at the access statement may be stored in one or more repositories and include other attributes such as a time to live attribute where the access statement becomes stale or is removed from the repository upon occurrence of an event such as but not limited to an elapsed period of time from when the access statement was initially stored in the repository. So there may be redundant sites having the desired content with each site processing an instance of the content distribution service and each site potentially having access to a specific repository. The centralized content delivery service may replicate the access statement to each such repository to ensure each instance of the content distribution service can acquire the access statement for purposes of performing its own independent verification on a requested principal s access attempt for desired content. Each repository may include attributes from the access statement and policy associated with the attributes may be enforced by each instance of the content distribution service.

In another variation to the processing associated with the centralized content delivery service the principal may authenticate to an identity service via the centralized content delivery service and obtain a crafted identity or different and perhaps temporary identity. That crafted identity may then be used to access the content from the content distribution service.

The distributed content delivery service represents more detailed processing associated with the content distribution service that was discussed above with respect to the centralized content delivery service represented by the method of the . Thus a plurality of independent distributed content delivery service may be processing at any given instant over the network and each independent instance is capable of acquiring access statements initially generated by the distributed content delivery service for purposes of independently verifying access attempts to content being made by requesting principals. It is noted that each independent instance of the distributed content delivery service does not have to directly interface to or interact with the centralized content delivery service rather the access statements may be used to achieve indirect interaction.

At the distributed content delivery service receives a request for content from a requesting principal. At the principal may be independently authenticated by the distributed content delivery service if the principal is detected as not being already authenticated. That is the principal may have previously interacted with the centralized content delivery service where the principal was properly authenticated but the principal may have ended a session or waited for an extended period of time before contacting the distributed content delivery service for the desired content. In such a situation the distributed content delivery service may according to policy re authenticate the principal to its satisfaction. In some cases the authentication may be offloaded to an identity service or may be independently performed by the distributed content delivery service.

At the request may have been received by the distributed content delivery service from the principal as a redirection from an identity service or a centralized content delivery service such as the one represented by the method of the . So the principal was initially interacting with the identity service of the centralized content delivery service and was redirected to the distributed content delivery service for purposes of acquiring the desired content directly from the distributed content delivery service.

At the distributed content delivery service inspects the request to determine if the request is accompanied by an assertion from the identity service or the centralized content delivery service. In some cases at the assertion may be in a SAML or Liberty Alliance Group format and may represent an indication from the identity service or the centralized content delivery service that the principal is authenticated for access to the desired content being requested. The assertion may indicate that no additional processing is needed to provide access to the principal or may indicate that the distributed content delivery service should perform an additional validation according to policy.

At and in cases where an assertion is not being relied upon solely for access the distributed content delivery service queries a repository to determine if an access statement for the content is associated with the requesting principal. At distributed content delivery service may search the repository for the access statement using an identifier or identity associated with the principal as a search term. The repository may be viewed as a directory a database a data warehouse a file etc. The repository is indexed based on the identity of the requesting principal.

In some cases the repository may house and be named for a single principal such that the repository itself is resolved and acquired based on the identity of the principal. So the repository may include a variety of access statements for a variety of disparate principals or it may be geared toward a specific principal. The recorded access statements may also include attributes associated with policy that the distributed content delivery service enforces such that even if a valid access statement is located in the repository for the principal it may still be stale or invalid based on attributes and or policy that are dynamically evaluated in real time.

At the distributed content delivery service streams of vends the content requested by the principal if an assertion authorized or if a valid access statement is detected. According to an embodiment at the distributed content delivery service may also enforce policy associated with vending the content vis vis the principal and the content. So policy associated with the content or the principal or both the content and the principal may be enforced during distribution of the content to the principal. For example some policy may restrict bandwidth during the streaming of the content to the principal. Another policy may limit features that are enabled within the content which the distributed content delivery service configures by setting parameters associated with the content delivery. In fact a variety of desired policies may be dynamically enforced in real time when the content is stream and vended to the principal from the distributed content delivery service.

According to an embodiment the distributed content delivery service acquires an access statement from a repository that is named after an identity or identifier uniquely associated with the requesting principal. The request also includes a version of the access statement and the distributed content delivery service compares the access statement of the request against the acquired access statement from the repository. If the two versions match then the distributed content delivery service can be satisfied that an independent and secondary validation has been achieved before the principal is vended or streamed the desired content.

It is also noted that if the principal is not authenticated or does not have a proper assertion or a proper access statement then the principal is denied access to the desired content. If such a situation occurs the distributed content delivery service may log the event and may optional report it to a different principal.

At the content vending service authenticates a requesting principal for access. Authentication techniques and identifiers or identifying information associated with the principal that is used with the techniques may be resolved and processed according to policy. In some cases at an identity service may be enlisted to perform the authentication of the principal.

At the content vending service presents a list of available content to the principal in response to policy. So once the principal is authenticated a different policy associated with the principal may dictate what content is available for this particular principal to access. According to an embodiment at the list of available content may also be generated in response to a search of the content performed by the principal against a corpus of content. The list may then represent an answer set of the search that the content vending service performs on behalf of the principal.

At the content vending service receives a specific selection from portions of the available content identified in the list. The selection represents desired content that the principal seeks to gain access to. In some cases at the content vending service may then engage the principal to satisfy access strictures associated with the selection for purposes of acquiring principal consent or assent to the access strictures. This may be related to licensing strictures or to legal strictures such as governmental regulations with respect to export controls.

At the content vending service stores one or more access statements in a repository. The access statements are associated with the identity of the principal within the repository. This may be done by naming the repository itself with a unique identifier associated with the specific requesting principal or may be done by using a more generic repository that includes indexed records keyed on unique identifiers associated with unique requesting principals. The access statement provides a mechanism by which a subsequent content service can independently verify that the principal is authorized to access the selection associated with the content. The content service may not directly interact or interface with the content vending service but the content service does have access to the repository for purposes of acquiring the access statement that the content vending service stored there.

In some embodiments at the content vending service may actually replicate the access statements to a plurality of distributed directories each distributed directory representing a different duplicated instance of the repository. Alternatively the distributed directories as a whole may represent a single logical repository.

At the content vending service instructs the principal to content the content service for purposes of directly acquiring the selection of the content. As was mentioned above and again at the instruction may be achieved via a redirected browser interface interaction associated with the principal where the browser of the principal is redirected from the content vending service to the content service once the content vending service has authenticated the principal for access to the selection and generated and stored the access statement s in the repository.

At this point the interaction between the principal and the content service may proceed in a manner similar to what was discussed above with respect to the distributed content delivery service represented by the method of the . During this interaction with the content service the principal is directly vended the selection of the content assuming the content service can independently assure itself that the principal is authenticated and that the principal s request for the selection matches the access statement in the repository.

The content vending system includes a centralized content delivery service and a distributed content delivery service . In some cases the content vending system may also include a repository . The components of the content vending system interact with a requesting principal for purposes of vending or streaming requested content to the principal . Each of these components and their interactions with one another will now be discussed in greater detail.

The centralized content delivery service performs the functions and services discussed above with respect to the methods and of the respectively. In some embodiments the processing of the centralized content delivery service is subsumed into an identity service and represents enhanced processing associated with an identity service. Examples or some types of identity service where these enhancements may be implemented were incorporated by reference above.

The centralized content delivery service initially interacts with a requesting principal . The principal desires specific content that is controlled by the distributed content delivery service . The centralized content delivery service may receive a direct communication from the principal or may indirectly receive the communication by intercepting that communication before it is capable of being processed by the distributed content delivery service .

The centralized content delivery service authenticates the principal for access to the desired content. In some cases the centralized content delivery service may enlist the services of an identity service to perform this authentication. The centralized content delivery service also generates an access statement for the requested access to the content. In some cases the access statement may be represented as an assertion from the centralized content delivery service which the distributed content delivery service may rely upon to grant direct access to the content. In other cases the access statement is stored in a repository .

The repository is used for recording access statements generated the centralized content delivery service . The repository uniquely identifies specific access statements with specific principals . The repository is read and accessed by the distributed content delivery service and serves as an interface mechanism between the centralized content delivery service and the distributed content delivery service .

According to an embodiment entries for each access statement within the repository may also include a variety of attributes. For example an attribute may indicate a time to live for any given access statement such that when an elapsed period of time is detected the access statement associated with the time to live attributed becomes stale and no longer valid for purposes of being relied upon by the distributed content delivery service .

The centralized content delivery service redirects the principal to the distributed content delivery service once the principal is authenticated and once the access statements are generated from the principal to access the desired content being requested by the principal . In some cases this is achieved via WWW browser redirection. Moreover the access statement is included in the redirected request such that the distributed content delivery service may compare the version included in the request against a version that is independently acquired via the repository .

The interaction and processing associated with the principal and the distributed content delivery service were described in detail above with respect to the method of the . The distributed content delivery service receives requests for content from the principals after the principals have initially interacted with the centralized content delivery service . In some cases the principals may still be considered properly authenticated such that the distributed content delivery service can rely on that authentication without performing additional authentication on the principals . In other cases policy may dictate that the distributed content delivery service perform its own independent authentication of the principals .

Once the principals are determined to be authenticated the distributed content delivery service inspects the request to acquire a version of the access statement. In some cases that version may be a SAML or Liberty Alliance Group assertion provided by the centralized content delivery service within the redirected principal request which the distributed content delivery service relies upon to independently determine access to the desired content may proceed unabated. In other cases the version of the access statement is not an assertion but rather an identifier for a specific piece of content. In these latter cases the distributed content delivery service queries the repository using an identifier for a requesting principal or an identity associated with the requesting principal to acquire one or more access statements written to the repository previously by the centralized content delivery service . A comparison is then made and if a match occurs the distributed content delivery service satisfies itself that access to the content is appropriate.

Once the distributed content delivery service independently verifies the access statement and the principal for access to the desired content the content is vended or streamed to the principal according to policy.

The above description is illustrative and not restrictive. Many other embodiments will be apparent to those of skill in the art upon reviewing the above description. The scope of embodiments should therefore be determined with reference to the appended claims along with the full scope of equivalents to which such claims are entitled.

The Abstract is provided to comply with 37 C.F.R. 1.72 b and will allow the reader to quickly ascertain the nature and gist of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims.

In the foregoing description of the embodiments various features are grouped together in a single embodiment for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting that the claimed embodiments have more features than are expressly recited in each claim. Rather as the following claims reflect inventive subject matter lies in less than all features of a single disclosed embodiment. Thus the following claims are hereby incorporated into the Description of the Embodiments with each claim standing on its own as a separate exemplary embodiment.

