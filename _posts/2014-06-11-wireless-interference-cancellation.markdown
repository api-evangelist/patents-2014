---

title: Wireless interference cancellation
abstract: Interference cancellation circuitry is provided for reconstructing a wirelessly transmitted modulated signal in a receiver using output of a decoder for calculating per-bit probabilities corresponding to bit-by-bit estimates of a coded message from which one bit hard decisions and multi-bit soft decision can be derived. A soft modulator reconstructs the transmitted modulated signal by calculating a weighted superposition depending upon the hard decisions and at least one combined value computed by combining two or more of the multi-bit soft decisions corresponding to different bits of the coded message. A soft modulation method using combined value(s) in a weighted superposition of hard decisions and computer program code for calculating the combined values and regenerated modulated signal are also provided. Other embodiments may be described and claimed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09503203&OS=09503203&RS=09503203
owner: Intel Corporation
number: 09503203
owner_city: Santa Clara
owner_country: US
publication_date: 20140611
---
The present application claims priority to U.S. Provisional Patent Application No. 61 833 872 filed 11 Jun. 2013 entitled SUPERPOSITION BASED ON WEIGHTED HARD DECISIONS the entire disclosure of which is hereby incorporated by reference.

Embodiments described herein generally relate to the field of communications and more particularly to interference cancellation in wireless communication networks.

Wireless mobile communication technology uses various standards and protocols to transmit data between a node e.g. a transmission station and a wireless device e.g. a mobile device . Some wireless devices communicate using orthogonal frequency division multiple access OFDMA in a downlink DL transmission and single carrier frequency division multiple access SC FDMA in an uplink UL transmission. Standards and protocols that use orthogonal frequency division multiplexing OFDM for signal transmission include the third generation partnership project 3GPP long term evolution LTE and LTE Advanced LTE A the Institute of Electrical and Electronics Engineers IEEE 802.16 standard e.g. 802.16e 802.16m which is commonly known to industry groups as WiMAX Worldwide interoperability for Microwave Access and the IEEE 802.11 standard which is commonly known to industry groups as Wi Fi. It should be noted that LTE and LTE A are the same technology but LTE A is used to distinguish releases 10 and 11 current version of the standard from earlier releases. Wideband Code division Multiple Access WCDMA a 3G technology that provides flexible voice and data services by using code division multiple access CDMA technology.

In 3GPP radio access network RAN LTE and LTE A systems the node can be a combination of Evolved Universal Terrestrial Radio Access Network E UTRAN Node Bs also commonly denoted as evolved Node Bs enhanced Node Bs eNodeBs or eNBs and their associated layer 2 3 entities such as the Radio Network Controller RNC the Radio Resource Controller RRC the Media Access Controller MAC and parts of higher layers generically referred to as layer 2 3 . The node communicates with the wireless device known as a user equipment UE . Examples of a UE include a mobile terminal a tablet computer a personal digital assistant PDA and a machine type communication MTC device. The downlink DL transmission can be a communication from the node or eNodeB to the wireless device or UE and the uplink UL transmission can be a communication from the wireless device to the node.

It is known in communication systems such as LTE and LTE A to use Multiple Input Multiple Output MIMO antenna configurations which include more than one receiver and more than one transmitter to improve communication performance. MIMO spreads the total transmit power of the antennas to achieve improved the reliability of the wireless connection. MIMO results in a diversity gain which reduces the effects of fading because the receiver can take advantage of signal paths not currently experiencing fades b array gain due to a beamforming effect achieved by transmitting from multiple antennas directing the transmitted signal towards the UE and c spatial multiplexing gain achieved by transmitting multiple streams of data in parallel using the same set of time and frequency resources and uncorrelated transmission paths allows the receiver to differentiate between the data streams.

In MIMO communication channels more than one data flow from a given user or more than one user can be assigned to the same communication channel resources in frequency and time. Thus there is a requirement in the receiving apparatus to reliably separate signals corresponding to different users or corresponding to different data flows from the same user. It is known to perform interference cancellation in the receiver to improve the receiver performance in estimating transmitted signals corresponding to different users and or different data flows. Some of these interference cancellation techniques estimate a most likely transmitted symbol sequence for a received coded message using a process known as soft modulation which uses per bit probabilities output by a decoder. There is a requirement for more efficient interference cancellation in the receiver for both uplink and downlink wireless communications.

Illustrative embodiments of the present disclosure include but are not limited to methods systems and apparatuses for performing interference cancellation using soft modulation.

The present technique applies to both separation of signals corresponding to different users MU MIMO and separation of signals corresponding to different data channels for the same user SU MIMO . In the embodiments described below where composite signals as described as corresponding to different users and or interference cancellation and decode circuitry as is indicated as corresponding to a respective user this is also intended to convey equivalent embodiments where the signals being separated correspond to different data channels of the same user as in SU MIMO.

Note that although show the same physical resources being used on uplink channels from a UE to an eNodeB the present technique can equally be applied to separation and interference cancellation on downlink communications from an eNodeB and received by a UE.

At process element an equaliser is used in an attempt to minimize or at least reduce the signal distortions in the channel and in cases where MIMO has been used to provide spatial filtering. The equalization process element calculates and outputs estimates of transmitted symbols for each different user or for different data channels associated with the same user for SU MIMO . The transmitted symbol estimates output by the process element are subject to estimation noise and thermal noise from the radio receiver. These noisy estimates are supplied as input to a demodulation process element . At demodulation process element per bit Log Likelihood Ratios LLRs are derived from each symbol thus performing a demodulation . The per bit LLRs convey the relative likelihoods of each demodulated bit being a logical 0 or logical 1. The sign of the LLR is known to give a hard decision for a bit value 0 or 1 and the magnitude of the LLR is known to indicate the reliability of the hard decision.

Output from the demodulation process element of is supplied to a de interleave process element which is useful in removing the dependence in the variance of the noise and interference between consecutive symbols. Such dependencies arise from the slowly relative to the symbol duration varying radio propagation channel conditions. At the transmitter an interleaver would be placed between the encoder e.g. turbo encoder and the modulator. The interleaving process at the transmitter involves systematically changing a bit sequence so that originally contiguous data is non contiguous. Interleaving is performed to randomize the fading channel the fading being due for example to multipath propagation.

At process element the de interleaved symbols are presented to a bit by bit or per bit decoder. The per bit decoder iteratively estimates the most likely message that was sent by the transmitter and it can produce per bit outputs in the form of LLRs. One example of a per bit decoder is a Turbo decoder but the present technique is applicable to any decoder that computers per bit probabilities. Suitably modified Viterbi decoders or Low Density Parity Check LDPC decoders are used in alternative embodiments. The LLRs output by the per bit decoder process element are interleaved by an interleave process element back into the same order that they were transmitted in by the UE.

A soft modulation process element converts output of the interleaver process element back into the most likely transmitted symbol sequence by a process referred to as soft modulation . Soft modulation provides an estimate of the symbol sequence transmitted on an uplink by the mobile station or the eNodeB in the case of a downlink signal using the per bit probabilities. Output of the soft modulation process element is a reconstruction or estimation of an individual modulated signal transmitted by the transmitting side of the wireless communication channel. In other words the output of the soft modulation process element is a reconstructed modulated signal corresponding to a message output by a single UE or to a single data channel of plurality of data channels substantially simultaneously output by a single user in the case of SU MIMO .

At process element it is determined whether all of the signals from the composite signal have been separated and reconstructed. If some signals have yet to be extracted then the process returns to equalize process element . If all of the signals have been extracted then the process proceeds to process element where for each different user or for different data channels associated with the same user for SU MIMO the extracted signals symbol sequence output by the soft modulation for interfering users or data channels are subtracted from the received antenna sequence and the process returns to the equalization process element for a subsequent iteration of the interference cancellation circuitry. The whole process may be repeated such that all signals are separated and reconstructed multiple times.

Note that it is in the subtraction of the soft modulated symbol sequence at process element of where the differences in implementation of the interference cancellation process in different wireless communication technologies is most apparent. In both WCDMA and LTE wireless standards the symbol sequences are not merely transmitted . In the LTE case they are converted into the time domain while also being given a frequency allocation as part of the SC FDMA method on the uplink or converted to the frequency domain via OFDMA on the downlink while in WCDMA the symbol sequences are converted into a wide band spread spectrum signal prior to transmission. However in both cases the estimated symbol sequences need to be transformed into sample sequences that closely represent the samples received after the antenna processing at the receiver so that the interference cancellation can be effectively performed. In the WCDMA case this involves applying the spreading and scrambling sequences and convolving with the estimated channel impulse response for each receive antenna. In the LTE case this involves transformation into the frequency domain and multiplying by the frequency domain complex channel estimates.

After the subtraction of the individual reconstructed signal component at process element the whole demodulation process starts again from equalization process element onwards. The present technique is applicable to soft modulation as applied to interference cancellation in any wireless receiver having a bit by bit decoder. One known type of interference cancellation is known as Successive Interference Cancellation SIC . Another known type of interference cancellation is known as Parallel Interference Cancellation PIC . The present technique is applicable to both of these and to interference cancellation in general.

The process elements illustrated by the flow chart of correspond to Parallel Interference Cancellation in which signals of all users are extracted before the interference cancellation is performed. In the alternative Successive Interference cancellation embodiment interference cancellation is performed after the soft modulation process element before a next user signal is decoded. Thus in the SIC process one user is equalised decoded and re modulated first thus improving the performance of the second user. Next the second or subsequent user is equalised decoded and re modulated thus benefitting from the partial removal of the first user. This entire interference cancellation procedure may iterate several times.

In an alternative implementation in a first iteration of process elements to in each user may be equalised decoded and re modulated in parallel. Thereafter in the second and subsequent iterations of the interference cancellation process each user in turn will be equalised decoded and re modulated corresponding to process elements through using the antenna sample processing output with all of the remaining users subtracted from the samples. In other words user p will use the samples minus users 1 2 3 . . . p 1 and p 1 p 2 . . . N if there are N users in total.

The present technique relates to improved efficiency and reduced storage requirements allowing for reduced buffer sizes in hardware implementing the per bit decoding process element the interleaving process element and the soft modulation process element . According to the present technique the soft modulation process element performs a different calculation relative to previously known systems which allows the reconstructed or regenerated modulated signals corresponding to estimates of modulated signals sent across a wireless propagation channel by the transmitter to be calculated in a simplified way using fewer input parameters by performing fewer calculating steps and with reduced power and simplified hardware requirements. This calculation according to the present technique will be described in more detail below.

The decoding and interference cancelling system comprises a plurality of antenna sampling processing units and each unit having circuitry dedicated to processing antenna samples corresponding to the associated antenna which comprises a superposition of different signals and noise. Coded signals from the plurality of antenna sampling processing units are all supplied to an equalizer which applies linear transformations to the signals received by the antennas and the equalized signals for each of the plurality of users are supplied to respective symbol to LLR generation modules which calculates a Log Likelihood Ratio which is a logarithm of a ratio of probabilities for the two possible values of a binary variable. The base of the logarithm used to construct the LLRs is known by the system as it is required to convert the outputs of the decoder back into probabilities.

The LLR values for the symbols are supplied to de interleaver circuitry to permute the values according to a predetermined pattern to reverse interleaving performed at the transmitter. The de interleaved LLRs are supplied to respective turbo decoders and which calculate soft decisions corresponding to N bit LLRs representing estimates of the coded message where N is an integer greater than one . The turbo decoders themselves perform an iterative decoding process which results in hard decisions on the final iteration. The soft decisions correspond to an N bit probability that a given symbol has a binary value of zero whereas a hard decision corresponds to a single bit value for the same probability. The soft decision is effectively a finer quantisation of the estimated bit than the hard decision the additional bits in the soft decision providing an indication of how much closer the estimated symbol is to being a one rather than a zero or vice versa.

The per bit probabilities alternatively denoted soft decisions output by the decoder are used in an interference cancellation process performed on the signal corresponding to a first user by a first interleaver a first soft modulator and a first interference canceller . An output of the soft modulator corresponds to a reconstructed modulated transmitted signal corresponding to the first user and this estimate of the transmitted signal is supplied to the interference canceller where it can be extracted from the antenna samples making it easier for individual signals corresponding to other users to be more accurately estimated. In this parallel interference cancelling arrangement there is second branch of interference cancellation processing configured to operate concurrently with the circuitry operating on the signal corresponding to the first user. The second series of interference cancellation circuitry comprises a second interleaver a second soft modulator and a separate interference canceller .

In the embodiment there are two distinct processing chains starting with the symbol to LLR generators and finishing with the interference cancellers which have been identified as processing respective signals corresponding to different users but in other embodiments these processing chains could alternatively correspond to processing chains for processing respective independent data streams associated with a single user SU MIMO . The same applies to the embodiments of .

Interference cancellation as implemented by the apparatus of exploits the Maximum A Posteriori MAP bit by bit decoding methods used in decoders such as Turbo decoders. In particular the example method uses A Posteriori Probability APP Log Likelihood Ratios LLRs that are computed by the decoders and . The definition a posteriori probability is well known to those skilled in the art and is generally defined to be P x r i.e. the probability of x given r where r is a received signal and x is the message. Account has to be taken of the fact that the received signal will be affected by noise on the propagation channel. In addition to generating APP LLR s per bit decoders such as turbo decoders can also produce extrinsic probabilities for each systematic bit i.e. bits of the message and for parity bits bits added to mitigate error due to transmission across a noisy communication channel . The APP LLR is the sum of the input intrinsic LLR to the decoder and the extrinsic LLR output by the per bit decoder.

According to the present technique the turbo decoders require modification relative to standard decoders so that they produce APP LLR outputs for both parity bits and systematic bits of a coded message. This modification may also be required for other interference cancellation techniques. For example and a rate 1 3 encoder will produce two parity bits per systematic bit leading to 1 in 3 out . The parity bits allow for basic error detection at the receiver.

In interference cancellation the APP LLR outputs of the decoders are used to compute a per bit probability of error Pefor b 0 . . . B 1 where B is the total number of bits in the decoder output. In some embodiments B is the total number of systematic bits only but in other embodiments B is the total number of systematic bits and at least some parity bits. The per bit probability of error Peis the probability that the hard decision based on the APP LLRs is in error. There are also B APP LLRs LLR i.e. the number of AP LRRs is also equal to the total number of decoder output bits. The computation of Pefrom LLRfor each of the bits b is well known to those skilled in the art so will not be described further here.

The present technique relates to the use of the values of the per bit probabilities of error Peand their application in providing estimates of interference and in performing interference cancellation by performing soft modulation to estimate a modulated signal that was output by the transmitter. In particular the present technique provides a method an apparatus and associated computer program code allowing for more efficient estimation of interfering signals such as signals from other users transmitted using the same time and frequency physical resources using different antennas.

Previously known techniques involve producing estimates of interference using a full set of per bit probabilities of error Pe one for each decoded bit. The present technique reduces the complexity associated with this interference estimation process by recognizing that less than a full set of per bit probabilities of error is required for this purpose. According to the present technique two or more of the full set of per bit probabilities of error corresponding to different coded bits are combined and used to calculate a weighted sum or superposition of possible modulation symbols the sum depending upon the hard decisions output by the decoder . Combining two or more of the of Pevalues in this way such that less than a full set of the values is required for estimation of a modulated interfering signal means that less buffering is required in at least one of the turbo decoder the interleavers and the soft modulators . Simplification of the weighted superposition calculation by suitably combining the per bit probabilities also reduces overall the silicon area required to produce estimates of the interference that are obtained from the Pevalues. The way in which the soft modulation calculation performed by the soft modulators is simplified according to the present technique will be described in more detail below with reference to .

As an alternative to using the per bit probabilities derived from the APP LLR as in the apparatus of extrinsic probabilities could be used. According to this alternative implementation iterations of the turbo coder or other per bit decoder are unwrapped and the soft remapping and interference cancellation are performed within these iterations of the turbo decoder making use of the extrinsic probabilities.

Output of the IDFT module is demodulated by Quadrature Amplitude Modulation QAM demodulator and then supplied to a de interleaver an inverse rate matcher and a turbo decoder . An interference cancellation arm of the circuitry comprises for each user a rate matching module an interleaver a soft modulator remapper a DFT module and an interference canceller . The interference canceller subtracts the estimated modulated transmitted signal for the particular user from the antenna samples and the equalizer then tries to separate the signal from residual interference and noise. One way in which the apparatus differs from the apparatus is that it comprises inverse rate matching circuitry in the decode path and rate matching circuitry in the interference cancellation path.

Rate matching is a part of the encoding and decoding process in the 3GPP WCDMA LTE and IEEE WiMAX standards. Turbo codes like all channel codes are employed so that messages can be transmitted through a noisy channel as reliably as possible given technology and channel capacity constraints. In general channel coders map input messages that may be many bits long to codewords that will always be longer than the input message. The ratio of the input message length to the output message length is called the code rate. In the LTE case and WCDMA Turbo coded cases the encoder typically has a rate of 1 3. This means that a 1000 bit message for example will be encoded into a 3000 bit codeword plus some overheads not relevant to the point in hand .

If the channel conditions are poor a rate 1 3 code may be desirable. However if channel conditions are good then the extra transmitted bits may be wasteful and a higher code rate of say 5 6 may be preferred. In other words the radio channel under good conditions may be able to support a higher rate code.

Rate Matching is a method where the output of the Turbo encoder is modified according to the expected conditions of the channel. If the conditions are good then the rate matching may be set to ignore for example 1500 of the 3000 encoder output bits. This is called puncturing and the result is a combined encoder and rate matching apparatus that has an effective code rate of 1000 1500.

Alternatively if the conditions are very poor then the rate matching can be set to repeat some of the encoder output bits. If 1500 output bits were repeated then the effective code rate would be 1000 4500.

The rate matching unit in a transmitter not shown using a method defined by the relevant standards documents selectively punctures or repeats bits according to the rate matching parameters provided by the control software. The same rate matching is performed by the rate matching module of the interference regeneration circuitry in provided in the receiver as illustrated by .

When rate matching is reversed at the receiver e.g. by Inverse Rate matching module of punctured LLRs are replaced with a 0 and repeated LLRs are accumulated so that exactly 3000 LLRs will be presented to the decoder for decoding back into 1000 message bits.

Turbo encoders have two classes of output bits systematic and parity bits. The systematic bits are simply the message bits and there will be 1000 in the previous example. The parity bits are additional bits generated by the encoder and a rate 1 3 encoder will produce two parity bits per systematic bit leading to 1 in 3 out . In order to perform any form of Turbo interference cancellation the Turbo decoder should output all 1000 systematic bits 1000 parity 1 bits and 1000 parity 2 bits. Turbo decoders not designed for this purpose would typically only output the sign of the LLRs of the 1000 systematic bits the signs of the LLRs corresponding to hard decisions .

In the Turbo decoding SIC loops see and the associated description below and PIC loops as in the rate matching is used twice per iteration 

As shown in according to the present technique the turbo decoder for each user outputs single bit hard decisions for each coded symbol to the rate matching module of the interference regeneration arm of the circuitry. As a consequence the interleaver and the soft modulator remapper also receive one bit values. The turbo decoder also outputs multi bit mean values or at least one other combined value calculated from the per bit probabilities of error Pe. The number of multi bit mean values supplied to the soft modulator remapper is fewer that the total number of per bit probabilities of error Pe the total number being equal to the total number of decoder output bits . In previously known techniques the multi bit means were not calculated at all and the full set of per bit probabilities of error Pewere all required for calculations performed by the rate matching module the interleaver and the soft modulator.

The decoding and interference cancellation circuitry according to the present technique can be implemented in any receiver. In some embodiments interference cancellation circuitry according to the present technique is implemented in the user equipment. In other embodiments interference cancellation circuitry according to the present technique is implemented in a base station subsystem such as a base station or an eNodeB.

Considering now the operation performed by the soft modulator of the interference regeneration circuitry according to the present technique previously known Turbo SIC and Turbo PIC systems regenerate the interference by using a method of soft remapping of bits to symbols that is based on a full superposition using a full set of the Pevalues one for each bit of the coded message. For example 4PAM modulation uses pairs of values P P. schematically illustrates how for the simple case of 4PAM each possible modulation symbol position four possibilities in this case corresponding to the total of four possible permutations of two bits is computed based upon the individual bit probabilities. This requires the accumulation of four products for each symbol i.e. each regenerated modulation symbol and the storage of each super posed symbol as an N bit value.

In Pis the probability that the hard decision for bit b is 0. This is obtained from the value of the hard decision and the per bit error probability Pe. Note that although only two symbols band bcorresponding to a two bit pair mapped to a single 4PAM modulation signal a received message may comprise say 75 000 bits 37500 of which correspond to bvalues and 37 500 of which correspond to bvalues. In this case there will be 75 000 values of the per bit error probability Pe or soft decisions to take into account and 37 500 of the probability products four of which are illustrated on the right hand side of .

In previously known implementations of soft remapping circuitry used for interference regeneration taking for example the soft re mapping for 4 PAM for WCDMA each soft symbol would be generated according to the following summation 

This summation defining the remapped soft modulation symbol is the weighted superposition of all of the possible symbols that were transmitted. The total number of possible transmitted modulated symbols depends on the modulation scheme. 4 PAM is a WCDMA modulation scheme whereas QPSK 16QAM and 64QAM are LTE modulation schemes.

Calculation of a full weighted superposition of all possible modulation states as prescribed by equation 1 which is implemented in previously known interference cancellation systems means that in those systems all of the N bit soft decisions per bit error probabilities Pe would be used in calculations performed by the interleavers the rate matchers and the soft modulators of the interference cancellation circuitry. However according to the present technique as illustrated by only single bit hard decisions need be passed from the decoder to the subsequent modules rate matcher interleaver and soft modulator . This is possible because the combined values described below which are calculated by averaging or otherwise combining soft decisions corresponding to bits associated with different modulated symbols are supplied to the soft modulator. These combined values are used instead of the full set of soft decisions for the coded message so that for example a mean value is used in substitution for some or all individual values contributing to that mean when considering the full weighted superposition calculation.

Note that the equation for above follows the usual grey mapping or Gray code mapping of bits to symbols as used in most wireless standards but this is not a necessary condition. Gray coding helps to minimize bit errors by mapping the bits such that neighboring modulation symbols differ by only one bit. Also note that the 5 scaling specific to 4PAM modulation is a convention used to ensure unity mean power. The normalization performed may vary depending upon the modulation scheme implemented.

For higher order alphabets such as 8PAM or it s complex numbered equivalent 64QAM the number of products increases. The products and sums in the expression of equation 1 above need to be computed for each modulation symbol of the whole coded message.

The storage problem is exacerbated by the requirement for the re ordering of the soft bits or symbols in various channel interleavers and rate matching buffers as defined in the relevant 3G 4G or WiMAX standards . In order to perform these operations each APP LLR or bit probability Peor super posed symbol requires buffering.

In case of 16QAM modulation groups of four bits are mapped to complex valued modulation symbols x I jQ according to Table 1. shows a 16QAM constellation with Gray code mapping. For 4PAM and QPSK there are two bits per modulation symbol for 16QAM there are four bits per modulation symbol for 64QAM there are six bits per modulation symbol.

According to the present technique in the example of instead of using a full set of per bit probabilities of error Pe combined values each constructed from a plurality of the per bit probabilities of error selected from the full set are used together with the hard decisions to reconstruct an estimate for the transmitted modulated signal . For example the combined values could comprise mean values of the per bit probabilities of error calculated according to the position of the bit within the modulation mapping. Thus in the example of and for a 75 000 bit coded message a first mean value could be calculated by taking the mean value of all 37 500 per bit error probabilities associated with band a second mean value could be calculated by taking the mean value of all 37 500 per bit error probabilities associated with b. Analogously in the case of 16 QAM four mean values could be calculated one for each of the four bit positions b0 b1 b2 b3 in the modulation mapping illustrated by . Alternatively different subsets of the per bit probabilities could be combined by calculating an average a weighted average a sum a normalized sum a normalized weighted sum or some other alternative combination. Thus in the weighted superposition a mean value or other combined value is calculated to include per bit probabilities of bits in the coded message that are known to be mapped to different modulation symbols. In one example an average of per bit probabilities all of the first bits of all sequences of M bits in a coded message mapped to a respective modulation symbol is taken an average of all second bits of all sequences of M bits is taken and so on up to the total number of bits mapped to a modulation symbol in the modulation scheme.

Furthermore the transmitted modulated signal could be estimated using only the systematic bits and their associated per bit probabilities of error disregarding at least some of the parity bits. Regenerating the transmitted modulated signal using only the systematic bits ignoring parity bits such as parity 1 and parity 2 bits is cheaper to implement and can provide reliable results although it is likely to be less accurate than including both systematic and parity bits in the calculation. The number of parity bits transmitted can vary depending upon rate matching parameters. This is due for example to a process called Incremental Redundancy Hybrid Automatic Repeat Request IR HARQ. IR HARQ is a retransmission scheme where if a decode ultimately fails the same data is re sent with different rate matching parameters. In subsequent transmissions more parity than systematic bits may be sent.

The complexity of the super posed symbol computation of equation 1 above representing an estimate of a reconstructed modulated signal and the storage requirements can be reduced according to the present technique by using the steps of a first simplified weighted superposition method described below 

The numbered steps above may occur in a different order than above and one or more steps may be omitted according to alternative embodiments.

For this first simplified weighted superposition method the regenerated modulated transmitted signal corresponding to the previously known full weighted superposition method calculated according to equation 1 can instead be calculated according to the following simplified equations 

Where circumflex over b represents the hard decisions and where Pand Pare the single mean values of the probability of bit error for the even and odd numbered bits band b in the modulation symbol respectively.

In this alternative method according to the present technique the proposal is that the weighted superposition is simplified even further by taking a single mean of all the per bit error probabilities rather than taking a mean value for each individual bit position b0 b1 . . . etc in the modulation mapping. In particular where a single mean per bit probability of error is used the estimate of the modulated transmitted signal can be calculated according to the following steps where similarly to the first method above the modulated symbol depends upon the hard decisions output by the per bit decoder.

The numbered steps above may occur in a different order than above and one or more steps may be omitted according to alternative embodiments.

In this case regeneration of the transmitted modulated signal is calculated according to the following equation using a single combined probability value P.

In this second weighted superposition method according to the present technique the proposal is that the weighted superposition is simplified further 

Where circumflex over b represent the hard decisions and where Pis the single mean value of the probability of bit error.

The interference cancellation circuitry and decoding circuitry according to the embodiments of implement calculation of the N bit mean values in the turbo decoder and these are supplied from the turbo decoder to the soft modulator allowing one bit hard decisions instead of N bit soft decisions to be sent from the decoder to the rate matcher the interleaver and the soft modulator as shown. However calculation of the N bit means can be performed either before or after the rate matching or before or after the interleaving is performed. For example the combined values N bit means in some embodiments are calculated using software in the soft modulator.

One advantage of calculating the N bit means in the decoder is that the soft decisions can be discarded sooner in the interference cancelling process chain i.e. they are not required by the rate matching or the interleaving. This means that there is more of a reduction in buffering requirements because there is no need for soft decision storage in the interleaver or rate matching module. However there are also advantages associated with calculating the average after the rate matching or after the interleaving because this means that the combined values e.g. averages are calculated across the same set of bits as used for the reconstruction of the transmitted modulated signal potentially making the average probabilities thus calculated a better measure.

At process element a calculation of at least one combined value is performed. This involves combining multi bit soft decisions corresponding to the per bit probability of error for different bits of the coded message to form a combined value. The combined values or composite probability values are used to reduce the complexity of a full weighted superposition conventionally used to regenerate a transmitted modulated signal by reducing the number of variables that are used in the weighted superposition. For example in one embodiment the combined values comprise a plurality of mean values corresponding respectively to each of a plurality of bit positions i 0 1 . . . M in the mapping of M bits to a given modulation symbol in a relevant modulation scheme. Thus it will be apparent that the combined value incorporates soft decisions per bit probabilities associated with bits that are mapped to different modulation symbols. By way of contrast the products of per bit errors listed in for each possible hard decision combine only soft decisions Pand Pcorresponding to bits of the coded message that are mapped to the same given modulation symbol. The combined values according to the present technique are used to replace the individual bit error probabilities corresponding to individual bits of the coded message such that the mean value is used replicated in the weighted sum where each of the values contributing to that mean value would otherwise have been used in the full weighted sum. Thus for example there are two mean values for 4PAM two bits per symbol and four mean values for 16QAM four bits per symbol . Calculation of the combined values can be calculated after decoding but whether before or after rate matching and before or after interleaving. In some embodiments a mean or average value is taken of per bit probabilities of error across all bits of the coded message rather than calculating separate means corresponding to different positions of the given bit of the coded message e.g. different positions b0 and b1 in within an M bit sequence of bits that are mapped to a single modulation symbol.

In some embodiments a superposition of all possible K modulated states is performed. Alternatively the weighted superposition could include instead of a superposition of all possible K modulated states allowed by a given modulation scheme a superposition of a subset of e.g. a number less than K of most likely modulated states only. In some embodiments only the systematic bits are included in the weighted superposition. In other embodiments both parity bits and systematic bits are included. The present technique is not limited to calculation of a mean value of the combined composite soft decisions. Instead for example a weighted mean or a different normalized weighted sum could be used. In one implementation of the weighted sum all of the weights are identical.

At process element after all of the combined values required for calculation of the weighted superposition have been computed at least a portion of the per bit probabilities soft decisions generated by the decoder can be discarded to reduce buffering requirements. The simplification of the weighted superposition according to the present technique saves on memory in apparatus modules such as the soft modulator the interleaver and the rate matcher of the interference cancellation circuitry and also reduces chip area and power consumption by reducing the number of calculations required to regenerate the transmitted modulated signal. The throughput may be increased or transmit operations may occur at a reduced power level. For example the same throughput may be achieved with half of the transmit power.

At process element estimates of the transmitted modulated symbols are calculated by performing a weighted superposition using hard decisions from the decoder and the one or more combined values calculated in process element . The weighted superposition involves superposing at least a subset of all possible modulation states and uses at least a subset of bits systematic bits and parity bits of the coded message. After regeneration of an estimated modulated signal corresponding to one user the regenerated signal is subtracted from the antenna sequence at stage and then at process element it is determined whether or not all constituent signals have been extracted. If there are further signals still to be extracted then the process returns to process element where the process is repeated to estimate the transmitted modulated signal corresponding to a different user or corresponding to a different data channel associated with the same user SU MIMO . Otherwise if all signals have been extracted at process element the process ends. In this example the interference cancellation is performed successively for each user rather than in parallel.

The embodiment described above as the first simplified weighted superposition method and as specified by equations 2a to 2d corresponds to the data points and graph lines labeled as N Iterations av. Prob in . The second simplified weighted superposition method specified by equations 3a to 3d above effectively treats all modulations as in the BPSK case leading to the production of a single mean value P Pin the 4PAM example . This is described as N Iterations Single av. Prob in the graph of . The previously known full superposition method is labeled N iterations in the graph of . Although the previously known full weighted superposition method can be seen from to offer slightly better throughput performance for a given Signal to Noise Ratio SNR on the x axis the difference is very small. The advantages in terms of reduced complexity of the calculation and reduced memory requirements for the interference cancellation circuitry according to the present technique are clear.

In LTE a Physical Resource Block PRB comprises 12 subcarriers by 7 OFDM symbols 84 modulation symbols. A resource block comprises two PRBs 2 84 168 modulation symbols per subframe. However taking into account symbols used for control channels and reference signals there are approximately 144 usable modulation symbols per subrame or resource block . The number of bits of a coded message mapped to each modulation symbol depends upon the modulation scheme. BPSK maps one bit per modulation symbol 4PAM maps two bits per modulation symbol 16 QAM maps four bits per modulation symbols and 64 QAM maps 6 bits per modulation symbol. For a modulation scheme that maps M bits to a modulation symbol the total number of possible modulation states is 2. The weightings n contributing to the weighted superposition

According to the present technique the number of product terms required to compute all possible values for each modulation symbol is M where the number of constellation points in the constellation is 2. Each product term will also require M products in total but each term S S . . . etc see equation 3 d for example may have common terms. In particular the number of products required to perform the first simplified weighted superposition method according to the present technique one average of soft decisions being calculated per bit position of the modulation mapping is 

When the modulation scheme weightings are taken into account then the number of products increases to 

According to the present technique these products need only be computed once and then looked up from a look up table according to the hard decision values. So this would be 144 look ups per resource block instead of 144 calculations based upon individual per bit error probabilities. Furthermore the number of resource block becomes irrelevant via use of the mean values. The mean values are calculated for example to incorporate at least a subset of bits in a coded message the coded message typically comprising a plurality of resource blocks.

The number of products required to perform the second simplified weighted superposition method according to the present technique single average mean value comprising all of the relevant soft decisions is 

Considering the reduction in hardware storage requirement achievable using the present technique the smallest hardware storage require for the previously known full superposition method for a given resource block allocation N and Nrepresentation of Peis 2 144 for BPSK 8 144 for 4PAM 64 144 for 4PAM 16 144 for QAM16 128 144 for QAM64

By way of contrast for both the first simplified weighted superposition method and the second simplified weighted superposition method according to the present technique Nwill always be 1. These calculations of potential reductions in required storage capacity and the required number of calculations are examples only. The skilled person will appreciate the efficiencies gained by using mean values repeatedly in the superposition calculation rather than the individual per bit probability values in the full weighted superposition method.

Implementation of the simplified weighted superposition method according to the present technique potentially allows some hardware reuse resulting in reduced implementation costs. In particular the application of reverse rate matching to the APP LLR hard decisions 1 bit values for the re estimation of interference in the receiver allows potential re use of hardware in the transmitter for rate matching which is designed to operate on bits.

Although the embodiments described above implement the regeneration of a modulated transmitted signal in a receiver using 4G LTE nomenclature it will be appreciated that the present technique can also be applied to 3G WCDMA HSPA as well as WiMAX and other wireless standards that use APP LLR based equalisations.

The wireless device of also provides an illustration of a microphone and one or more speakers that can be used for audio input and output from the wireless device. The device comprises multiple antennas . The antennas connect to an analog front end which is in communication with a transmitter and a receiver or a single transceiver. The display screen may be a liquid crystal display LCD screen or other type of display screen such as an organic light emitting diode OLED display. The display screen can be configured as a touch screen. The touch screen may use capacitive resistive or another type of touch screen technology. An application processor and a graphics processor can be coupled to internal memory to provide processing and display capabilities. The application processor may comprise a Digital Signal Processor DSP or an Application Specific Integrated Circuit ASIC . A non volatile memory port can also be used to provide data input output options to a user. The non volatile memory port may also be used to expand the memory capabilities of the wireless device. A keyboard may be integrated with the wireless device or wirelessly connected to the wireless device to provide additional user input. A virtual keyboard may also be provided using the touch screen. The wireless device comprises a system corresponding to the decode and interference cancellation system according to the present technique as illustrated for example by any one of .

Various techniques or certain aspects or portions thereof may take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives non transitory computer readable storage medium or any other machine readable storage medium such that when the program code is loaded into and executed by a machine such as a computer the machine becomes an apparatus for practicing the various techniques according to the above described embodiments. In the case of program code execution on programmable devices such as a UE or a wireless device the computing device may include a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. The volatile and non volatile memory and or storage elements may be a RAM EPROM flash drive optical drive magnetic hard drive or other medium for storing electronic data.

One or more programs that may implement or utilize the various techniques described herein may use an application programming interface API reusable controls and the like. Such programs may be implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the program s may be implemented in assembly or machine language if desired. In any case the language may be a compiled or interpreted language and combined with hardware implementations.

It should be understood that where the functional units described in this specification have been labeled as modules this is to highlight their implementation independence. Note that a module may be implemented for example as a hardware circuit comprising custom VLSI circuits or gate arrays off the shelf semiconductors such as logic chips transistors or other discrete components. A module may also be implemented in programmable hardware devices such as field programmable gate arrays programmable array logic programmable logic devices or the like.

Modules may also be implemented in software for execution by various types of processors. An identified module of executable code may for instance comprise one or more physical or logical blocks of computer instructions which may for instance be organized as an object procedure or function. Nevertheless the executables of an identified module need not be physically located together but may comprise disparate instructions stored in different locations which when joined logically together comprise the module and achieve the stated purpose for the module.

Indeed a module of executable code may be a single instruction or many instructions and may even be distributed over several different code segments among different programs and across several memory devices. Similarly operational data may be identified and illustrated herein within modules and may be embodied in any suitable form and organized within any suitable type of data structure. The operational data may be collected as a single data set or may be distributed over different locations including over different storage devices and may exist at least partially merely as electronic signals on a system or network. The modules may be passive or active including agents operable to perform desired functions.

Where functional units have been described as circuitry the circuitry may be general purpose processor circuitry configured by program code to perform specified processing functions. The circuitry may also be configured by modification to the processing hardware. Configuration of the circuitry to perform a specified function may be entirely in hardware entirely in software or using a combination of hardware modification and software execution. Program instructions may be used to configure logic gates of general purpose or special purpose processor circuitry to perform a processing function.

Reference throughout this specification to an example means that a particular feature structure or characteristic described in connection with the example is included in at least one embodiment. Thus appearances of the phrases in an example in various places throughout this specification are not necessarily all referring to the same embodiment.

As used herein a plurality of items structural elements compositional elements and or materials may be presented in a common list for convenience. However these lists should be construed as though each member of the list is individually identified as a separate and unique member. Thus no individual member of such list should be construed as a de facto equivalent of any other member of the same list solely based on their presentation in a common group without indications to the contrary. In addition various embodiments and example of the present invention may be referred to herein along with alternatives for the various components thereof. It is understood that such embodiments examples and alternatives are not to be construed as de facto equivalents of one another but are to be considered as separate and autonomous representations of the present invention.

Furthermore the described features structures or characteristics may be combined in any suitable manner in one or more embodiments. In the following description numerous specific details are provided such as examples of layouts distances network examples etc. to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize however that the invention can be practiced without one or more of the specific details or with other methods components layouts etc. In other instances well known structures materials or operations are not shown or described in detail to avoid obscuring aspects of the invention.

While the forgoing examples are illustrative of the principles of the present invention in one or more particular applications it will be apparent to those of ordinary skill in the art that numerous modifications in form usage and details of implementation can be made without the exercise of inventive faculty and without departing from the principles and concepts of the invention. Accordingly it is not intended that the invention be limited except as by the claims set forth below.

Example 1 is interference cancellation circuitry for reconstructing a wirelessly transmitted modulated signal in a receiver using output of a decoder for calculating per bit probabilities corresponding to bit by bit estimates of a coded message the decoder being configured to calculate a single bit hard decision and a multi bit soft decision for at least a subset of the bit by bit estimates the hard decision representing a binary value for the bit of the coded message and the soft decision representing a probability that the corresponding hard decision for the bit is correct the circuitry comprising 

Example 2 may be the subject matter of Example 1 wherein the at least one combined value comprises one of a mean value a weighted mean value a normalized sum and a weighted normalized sum of at least a subset of the set of multi bit soft decisions for bits of the coded message.

Example 3 may be the subject matter of Example 1 wherein the coded message comprises systematic bits and parity bits and wherein the reconstruction of the transmitted modulated signal uses the multi bit soft decisions of at least a subset of the systematic bits disregarding multi bit soft decisions for at least some of the parity bits.

Example 4 may be the subject matter of Example 1 wherein the soft modulator is configured to calculate the weighted superposition depending upon the hard decision and the soft decision as obtained from A posteriori Probability Log Likelihood Ratios APP LLRs corresponding to bit by bit estimates of the coded message.

Example 5 may be the subject matter of Example 1 wherein a modulation scheme used to modulate the coded message prior to transmission encodes M bits per modulation symbol and wherein the soft modulator is configured to reconstruct the transmitted modulated signal by calculating a weighted superposition of at least a subset of all possible transmitted 2modulation states.

Example 6 may be the subject matter of Example 1 wherein at least one of the combined value s used by the soft modulator in the weighted superposition is calculated using multi bit soft decisions corresponding specifically to a particular one of the M bit positions within the M bits mapped to a given modulated symbol at the transmitter.

Example 7 may be the subject matter of Example 5 wherein the modulation scheme is one of BPSK QPSK 16QAM and 64 QAM and wherein the number of combined values calculated for use in the weighted superposition are one two four and six respectively corresponding to the number of bits mapped to a modulation symbol in the respective modulation scheme.

Example 8 may be the subject matter of Example 1 comprising rate matching circuitry configured to perform rate matching by modifying an output of the decoder to disregard or repeat a subset of the per bit estimates of the coded message and wherein the rate matching is performed one of before calculation of the at least one combined value s and after calculation of the at least one combined value s .

Example 9 may be the subject matter of Example 8 comprising an interleaver configured to receive rate matched output of the rate matching circuitry to perform interleaving on the rate matched output bits and to supply the interleaved rate matched output to the soft modulator and wherein the rate matching is performed one of before calculation of the at least one combined value s and after calculation of the at least one combined value s .

Example 10 may be the subject matter of Example 1 wherein at least a subset of the multi bit soft decisions for bits of the coded message are discarded by the interference calculation circuitry following calculation of the at least one combined value.

Example 11 is a base station subsystem comprising the interference cancellation circuitry of Example 1.

Example 12 is a User Equipment for use in a wireless communications network the User Equipment comprising 

Example 13 may be the subject matter of Example 12 wherein the per bit decoder is one of a turbo decoder a Low Density Parity Check decoder and a Viterbi decoder.

Example 14 is a method of performing interference cancellation in a wireless communication system the method comprising 

Example 16 may be the subject matter of Example 14 wherein the combined per bit probability comprises a single value combining all of the per bit probabilities corresponding to bits of the coded message contributing to the weighted sum.

Example 16 is a computer program product embodied on a non transitory computer readable medium comprising program instructions configured such that when executed by processing circuitry cause the processing circuitry to implement the method of Example 14.

Example 17 is means for interference cancellation for reconstructing a wirelessly transmitted modulated signal in a receiver using output of a decoder for calculating per bit probabilities corresponding to bit by bit estimates of a coded message the decoder being configured to calculate a single bit hard decision and a multi bit soft decision for at least a subset of the bit by bit estimates the hard decision representing a binary value for the bit of the coded message and the soft decision representing a probability that the corresponding hard decision for the bit is correct the circuitry comprising 

