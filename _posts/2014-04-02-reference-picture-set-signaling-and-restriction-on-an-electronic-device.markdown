---

title: Reference picture set signaling and restriction on an electronic device
abstract: A previously signaled reference picture set (RPS) corresponding to a current picture is indicated. A first flag for a picture in the previously signaled RPS is set if the picture is to be used as a reference picture for the current picture. A bitstream is sent.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09210430&OS=09210430&RS=09210430
owner: Sharp Kabushiki Kaisha
number: 09210430
owner_city: Osaka
owner_country: JP
publication_date: 20140402
---
This application is a continuation in part of U.S. patent application Ser. No. 13 355 472 entitled DECODING A PICTURE BASED ON A REFERENCE PICTURE SET ON AN ELECTRONIC DEVICE filed on Jan. 20 2012 which is a continuation in part of U.S. patent application Ser. No. 13 354 277 entitled REDUCING REFERENCE PICTURE SET SIGNAL OVERHEAD ON AN ELECTRONIC DEVICE filed on Jan. 19 2012 both which are hereby incorporated by reference herein in their entirety and claims the benefit of Provisional Application No. 61 809 201 entitled REFERENCE PICTURE SET SIGNALING AND RESTRICTION ON AN ELECTRONIC DEVICE filed Apr. 5 2012.

The present disclosure relates generally to electronic devices. More specifically the present disclosure relates to inter reference picture set prediction and signaling on an electronic device.

Electronic devices have become smaller and more powerful in order to meet consumer needs and to improve portability and convenience. Consumers have become dependent upon electronic devices and have come to expect increased functionality. Some examples of electronic devices include desktop computers laptop computers cellular phones smart phones media players integrated circuits etc.

Some electronic devices are used for processing and displaying digital media. For example portable electronic devices now allow for digital media to be consumed at almost any location where a consumer may be. Furthermore some electronic devices may provide download or streaming of digital media content for the use and enjoyment of a consumer.

The increasing popularity of digital media has presented several problems. For example efficiently representing high quality digital media for storage transmittal and playback presents several challenges. As can be observed from this discussion systems and methods that represent digital media more efficiently may be beneficial.

A method for signaling a reference picture set on an electronic device is described. A previously signaled reference picture set RPS corresponding to a current picture is indicated. A first flag for a picture in the previously signaled RPS is set if the picture is to be used as a reference picture for the current picture. A first flag for a picture in the previously signaled RPS is not set if the picture is not to be used as a reference picture for the current picture. A bitstream is sent.

A used by current picture flag for a current RPS may not be sent. The previously signaled RPS may be signaled as an index into a set of previously signaled RPSs.

The previously signaled RPS may include at least one corresponding value of another reference picture in the previously signaled RPS. The at least one corresponding value may be a used by current picture flag value of a second reference picture in the previously signaled RPS. The previously signaled RPS may be indicated by a predicted short term reference picture set present flag.

The first flag may be a keep picture flag. The current picture may be in a first group of pictures GOP after a random access point. The previously signaled RPS may be signaled via a delete operation.

The previously signaled RPS may be sent from one of a picture parameter set PPS a sequence parameter set SPS an adaptation parameter set APS a video parameter set VPS and a slice header SH . The previously signaled RPS may be sent from an element in the bitstream.

An electronic device for signaling a reference picture set is also described. The electronic device includes a processor and executable instructions stored in memory that is in electronic communication with the processor. The electronic device indicates a previously signaled reference picture set RPS corresponding to a current picture. The electronic device also sets a first flag for a picture in the previously signaled RPS if the picture is to be used as a reference picture for the current picture. The electronic device further does not set a first flag for a picture in the previously signaled RPS if the picture is not to be used as a reference picture for the current picture. The electronic device further sends a bitstream.

A method for decoding a reference picture set on an electronic device is also described. A bitstream is obtained. A current picture is obtained. A previously signaled reference picture set RPS is obtained. For a picture in the previously signaled RPS a first flag indication is obtained if the picture should be used as a reference picture for the current picture. If the first flag is positive a second flag from at least one corresponding value of the previously signaled RPS is determined. The current picture is decoded.

Decoding the current picture may be based on the second flag. The first flag may be a keep picture flag. The second flag may be a used by current picture flag.

The at least one corresponding value may be obtained from the previously signaled RPS. The at least one corresponding value may be a used by current picture flag value of a second reference picture in the previously signaled RPS. The at least one corresponding value may be a Boolean value.

The current picture may be in a first group of pictures GOP after a random access point. The previously signaled RPS may be signaled via a delete operation. The previously signaled RPS may be obtained from one of a picture parameter set PPS a sequence parameter set SPS an adaptation parameter set APS a video parameter set VPS and a slice header SH . The previously signaled RPS may be obtained from an element in the bitstream.

An electronic device for decoding a reference picture set is also described. The electronic device includes a processor and executable instructions stored in memory that is in electronic communication with the processor. The electronic device obtains a bitstream. The electronic device also obtains a current picture. The electronic device further obtains a previously signaled reference picture set RPS . For a picture in the previously signaled RPS the electronic device obtains a first flag indication if the picture should be used as a reference picture for the current picture. If the first flag is positive the electronic device determines a second flag from at least one corresponding value of the previously signaled RPS. The electronic device additionally decodes the current picture.

The systems and methods disclosed herein describe several configurations for reducing reference picture set RPS signal overhead on an electronic device. For example the systems and methods disclosed herein describe encoding and decoding an RPS. For instance several approaches for decoding an RPS are described. Additionally approaches for encoding an RPS to achieve reduced signal overhead are also described.

A RPS is a set of reference pictures associated with a picture. An RPS may include reference pictures that are prior to the associated picture in decoding order that may be used for inter prediction of the associated picture and or for any picture following the associated picture in decoding order. An RPS describes one or more reference pictures in the decoded picture buffer DPB . This is accomplished in the slice header of each picture. Previous video coding standards such as H.264 AVC referenced reference pictures in a relative manner. Any pictures in the DPB that are not a part of the reference picture set may be marked as unused for reference. 

A DPB may be used to store reconstructed e.g. decoded pictures at a decoder. These stored pictures may then be used for example in an inter prediction mechanism. When pictures are decoded out of order the pictures may be stored in the DPB so they can be displayed later in order. Also a picture in the DPB may be associated with a picture order count POC . The POC may be a variable that is associated with each encoded picture and that has a value that increases with increasing picture position in an output order. In other words the POC may be used by the decoder to deliver the pictures in the correct order for display. The POC may also be used for identification of reference pictures during reference picture list construction and decoded reference picture marking.

In some configurations reference pictures are referenced using either relative e.g. delta referencing using a deltaPOC and a currentPOC for example or absolute referencing using the POC for example . For instance the DPB may contain a set of received pictures. A subset of these received pictures may use relative e.g. delta referencing and the remaining received pictures may use absolute referencing. It should be noted that one or more of the configurations of buffer descriptions and syntaxes described herein may be implemented in combination with one or more of the approaches e.g. methods described herein.

A RPS may contain a list of information of all reference pictures that the decoder shall keep. For example this information may be stored as a set of indexes called deltaPOCs. A deltaPOC may be used to calculate the POC of a reference picture. For instance POC reference POC current deltaPOC. In other words by using the current POC of the picture to be decoded and the deltaPOC of a reference picture the reference picture may be located in a relative manner. Additionally an RPS may store a temporal ID for each reference picture and or a flag which indicates if the particular reference picture is used by the current picture.

An example of how an RPS works at on an electronic device follows. Suppose an Inter frame I frame picture is received followed two bidirectional predicted B frame pictures then followed by two bidirectional predicted b frame pictures. A B frame is a bidirectional predicted picture that is used for prediction by other pictures. A b frame is a bidirectional predicted picture that is not used for prediction by other pictures.

Further suppose that the I frame has a POC of 0 the first received b frame has a POC of 1 the second received B frame has a POC of 2 the first received b frame has a POC of 3 and the first received B frame has a POC of 4. In other words the POC order is I b B b B. Additionally suppose that the I frame serves as a reference picture for B Band b Bserves as a reference picture for B and b and Bserves as a reference picture for band b.

In this example the second picture in decoding order e.g. picture B POC 4 will include picture of POC 0 e.g. I in its RPS. To store I POC 0 B1 may write deltaPOC 4 into its RPS index value. In other words the difference of the reference POC relative to current POC is stored in the RPS as an index value.

The third picture in decoding order i.e. picture B POC 2 will include pictures of POC 0 and POC 4 e.g. B in its RPS. Thus the index values of deltaPOC 2 and 2 are stored in its RPS.

Continuing the example the fourth picture in decoding order i.e. picture b POC 1 may include both pictures of POC 0 e.g. I and POC 2 e.g. B in its RPS. Further b POC 1 may also include POC 4 e.g. B since that picture will be used for reference in the future. Here deltaPOCs 1 1 3 are stored in its RPS. It should be noted that both positive and negative deltaPOCs may be stored in an RPS.

Finishing this example the 5th picture in decoding order i.e. picture b POC 3 may include pictures of POC 2 e.g. B and POC 4 e.g. B in its RPS. Thus deltaPOC 1 and 1 are the relative values stored in b s RPS as index values. It may also be noted that bdoes not need to include POC 0 e.g. I in its RPS unless Iis going to be used for reference in the future. If POC 0 e.g. I is not included in the RPS of the b it may be marked as unused for reference. 

Once an RPS has been listed and constructed it is ready to be signaled. There are various ways to signal an RPS. According to one approach a set of templates associated with handling RPSs are signaled in the picture parameter set PPS and referred to by each slice with an RPS index in a slice header. Under another method an RPS may be signaled explicitly in a slice header.

partial ref pic set flag i indicates to use full RPS i to generate a partial RPS. Ref flag specifies which reference index of the full RPS i is copied into the partial RPS.

seq parameter set id identifies the sequence parameter set that is referred to by the picture parameter set. The value of seq parameter set id shall be in the range of 0 to 31 inclusive.

pic parameter set id identifies the picture parameter set that is referred to in the slice header. The value of pic parameter set id shall be in the range of 0 to 255 inclusive. entropy coding mode flag indicates the entropy decoding method to be applied for the syntax elements.

num ref pic sets specifies the number of reference picture sets that are specified in the picture parameter set. num negative pics specifies the number of the following delta poc s0 minus1 i and used by curr pic s0 flag i syntax elements. num positive pics specifies the number of the following delta poc s1 minus1 i and used by curr pic s1 flag1 i syntax elements. delta poc s0 minus1 i plus 1 specifies an absolute difference between two picture order count values.

used by curr pic s0 flag i equal to 0 specifies that the ireference picture that has picture order count less than that of the current picture is not used for reference by the current picture. delta poc s1 minus1 i plus 1 specifies an absolute difference between two picture order count values. used by curr pic s1 flag i equal to 0 specifies that the ireference picture that has picture order count greater than that of the current picture is not used for reference by the current picture.

It should be noted that the definitions given for parameters used in Listing 1 may be applied to all listings given herein. Furthermore parameter definitions be given in subsequent listings may also apply to previously listed listings.

ref pic set pps flag equal to 1 specifies that the reference picture set of the current picture shall be created using syntax elements in the active picture parameter set. ref pic set pps flag equal to 0 specifies that the reference picture set of the current picture shall be created using syntax elements in the ref pic set syntax structure in the slice header.

ref pic set pps idx specifies the index to the list of reference picture sets specified in the active picture parameter set that shall be used for creation of the reference picture set of the current picture.

Further RPS templates may be signaled to a decoder to assist in decoding a picture. Templates may be for a Random Access common test condition where eight pictures are grouped together e.g. group of pictures GOP . Table 1 below shows an RPS template for Random Access common test condition GOP 8 . Some terms have been abbreviated for convenience in Tables 1 4 . These terms are abbreviated as follows Temporal id TId ref buf size RBS and RPS Index Values RPS Index Values .

In Table 1 Type signifies the type of frame used. In this case all Frames are B frames. Note Frame 0 which is not shown is an I frame. In Table 1 Temporal id TId specifies the temporal layer ID of this frame ref buf size RBS is the reference buffer size needed by the current picture ref pic indicates if the frame is a reference picture for other pictures ref pics is the number of reference pictures and RPS Index Values RPS Idx Values represent the index values of the reference pictures stored in each RPS for each corresponding frame.

An additional partial RPS may be generated for frames that have one or more unavailable reference pictures due to instantaneous decoding refresh IDR or clean random access CRA . Table 2 shows a template for a partial RPS generated for a Random Access common test condition.

A partial RPS may be created from a full RPS. In Table 1 the RPS index for Frame 1 is 8. 10 12 and 16. The RPS index for the partial RPS for Frame 1 in Table 2 is only 8. Similarly Frames 2 and 3 in the partial RPS have a lesser number of reference pictures in Table 2 than in the full RPS shown in Table 1 . Thus in this example a partial RPS contains fewer RPS index values per frame than a full RPS.

In Table 3 each GOP has four pictures. In the template there are also four RPSs that correspond to pictures at each POC position 

RPS 3 which has index values of 1 4 8 12 for POC 4 for a sequence 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 etc.

Table 4 shows a template for a partial RPS generated for a Low Delay common test condition. Table 4 is a continuation of Table 3 .

In Table 4 additional index references are generated for frames that have unavailable reference pictures. A reference picture may be unavailable due to IDR or CRA. When generating a partial RPS for the Low Delay common test case pictures for the first few frames in the GOP after an IDR or CRA are selected. For example Frames 1 to 4 at start of a sequence belong to the first GOP it will use partial RPS 5 to RPS 8 which are derived from RPS 0 to RPS 3 . Frames 5 to 8 belong to the second GOP and will use partial RPS 9 to RPS 12 which are also derived from RPS 0 to RPS 3 . Frames 9 belongs to the third GOP and will use partial RPS 13 which is derived from RPS 0 .

In some configurations the electronic device deriving the partial RPS may employ rules to derive partial the RPS from the full RPS. For example RPS Numbers 7 8 9 11 12 and 13 may all add the RPS index value 2 indicated in bold . Note that this RPS index value is relative and is dependent on the current frame position e.g. current POC . Further RPS Numbers 8 9 and 10 each add the RPS index value of 3 indicated in bold .

According to known approaches such as that specified in High Efficiency Video Coding HEVC test model HM 5.0 both the full RPS and partial RPS are signaled in the bitstream. For example RPS templates including a full RPS and a partial RPS are sent in a PPS at the start of picture. This leads to unnecessary overhead being sent in the bitstream. This overhead of signaling RPS templates in PPS may be from several hundred to several thousands of bits for example. Further extra and unnecessary work is also performed at the encoder to generate a partial RPS. Thus one of the benefits on the systems and methods disclosed herein is that RPS signaling overhead is reduced by generating partial RPS templates at the decoder side based on a received full RPS.

Also according to known approaches such as that specified in HM5.0 within one RPS reference picture indexes are differentially coded among the negative indexes and among the positive indexes. Thus it may be beneficial to reduce the number of signaled bits by employing the systems and methods disclosed herein to reduce the number bits for an RPS template. For example this may be accomplished by reducing the number of bits required to code a list of RPS index values.

The systems and methods disclosed herein may provide one or more additional benefits in reducing RPS signal overhead. In one configuration symmetry characteristics of positive and negative reference indexes may be employed to reduce the bits used for coding positive RPS index values e.g. reference indexes . Under another configuration a partial RPS may be derived at the decoder rather than sending the partial RPS in the bitstream. Additionally or alternatively frequently used RPS templates at both the encoder and decoder side may be defined allowing the template to be signaled by a simple index in the PPS. Additionally or alternatively a partial RPS may be signaled by referring to a full RPS and deleting some of the reference pictures to arrive at the partial RPS.

Various configurations are now described with reference to the Figures where like reference numbers may indicate functionally similar elements. The systems and methods as generally described and illustrated in the Figures herein could be arranged and designed in a wide variety of different configurations. Thus the following more detailed description of several configurations as represented in the Figures is not intended to limit scope as claimed but is merely representative of the systems and methods.

Electronic device A includes an encoder and an RPS index initializer module initializer module . Each of the elements included within electronic device A e.g. the encoder and the initializer module may be implemented in hardware software or a combination of both.

Electronic device A may obtain an input picture . In some configurations the input picture may be captured on electronic device A using an image sensor retrieved from memory and or received from another electronic device.

The encoder may encode the input picture to produce encoded data. For example the encoder may encode a series of input pictures e.g. video . In one configuration the encoder may be a HEVC encoder. The encoded data may be digital data e.g. a bitstream . The encoder may generate overhead signaling based on the input signal.

The initializer module may be used in processing RPS index values. For example the initializer module may initialize values used in the processing of positive reference pictures. This data may be recorded in a PPS and an index to it may be signaled in the slice header of a picture.

More detail on kinds of initializations that may be produced by electronic device A is given below. It should be noted that the initializer module may be included within the encoder in some configurations. The initializer module may enable reduced RPS signaling overhead.

The encoder and initializer module for example may produce a bitstream . The bitstream may include encoded picture data based on the input picture . In some configurations the bitstream may also include overhead data such as slice header information PPS information etc. More detail on overhead data is given below. As additional input pictures are encoded the bitstream may include one or more encoded pictures. For instance the bitstream may include one or more encoded reference pictures and or other pictures.

The bitstream may be provided to a decoder . In one example the bitstream may be transmitted to electronic device B using a wired or wireless link. In some cases this may be done over a network such as the Internet or a Local Area Network LAN . As illustrated in the decoder may be implemented on electronic device B separately from the encoder on electronic device A . However it should be noted that the encoder and decoder may be implemented on the same electronic device in some configurations. In an implementation where the encoder and decoder are implemented on the same electronic device for instance the bitstream may be provided over a bus to the decoder or stored in memory for retrieval by the decoder .

The decoder may be implemented in hardware software or a combination of both. In one configuration the decoder may be a HEVC decoder. The decoder may receive e.g. obtain the bitstream . The decoder may generate a decoded picture e.g. one or more decoded pictures based on the bitstream . The decoded picture may be displayed played back stored in memory and or transmitted to another device etc.

The decoder may include a partial RPS determination module an RPS template module and or an RPS deletion module . The partial RPS determination module may enable the decoder to generate a partial RPS at the decoder. For example partial RPS determination module may generate a partial RPS based on a full RPS received at the decoder . The partial RPS determination module is described in greater detail below.

The RPS template module may create an RPS template based on signals received in the bitstream . For example the RPS template module may use a GOP size a coding structure and rules obtained from the bitstream to create a template. The RPS template module is described in greater detail below.

In some configurations the RPS deletion module may identify missing reference pictures and send feedback to the encoder signaling that one or more reference pictures are missing. The RPS deletion module may obtain instructions in the bitstream to delete one or more pictures in a current or previously received RPS. In other configurations an RPS deletion instructions may be received without sending feedback to the encoder. The RPS deletion module is described in greater detail below.

In another example such as a scalable coding scenario a bitstream may contain pictures of different resolutions. In this example the reference picture collection may include e.g. identify different resolution versions of the same picture.

The GOP may be ordered by display order or a POC . However the coding order or order in which the pictures are obtained from a bitstream may be different from the POC order.

In some configurations the pictures in a GOP are ordered in a symmetrical hierarchal pattern. In this type of configuration the smallest distance to a negative reference picture and a positive reference picture may be the same. That is the absolute value of positive deltaPOC and negative deltaPOC in RPS are usually the same.

For example suppose POC 2 is the current POC that indicates a current picture to be decoded. To decode the picture indicated by the current POC one or more of the RPS index values must be obtained. In this example the picture indicated by the current POC uses pictures indicated by POC 2 POC 4 and POC 6 to be decoded. Rather than using absolute values the current POC uses relative values stored in an RPS to locate reference pictures. In some cases the RPS is obtained directly from the slice header in a picture . In other cases the RPS is located in the PPS as signaled from the slice header of the corresponding picture . Here current POC obtains the RPS index values of 2 2 4 . That is current POC employs deltaPOC deltaPOC and deltaPOC to decode the picture .

In this example where the current POC is POC 2 the symmetrical hierarchy nature of a GOP may be beneficial in reducing the RPS signaling overhead. The current POC that has a negative deltaPOC e.g. 2 will likely have a corresponding symmetrical positive deltaPOC e.g. 2 . Using this symmetry approaches for reducing RPS signal overhead can be employed. Various such approaches e.g. methods are described in greater detail below in connection with .

In another example assuming that the currentPOC is POC 4 then one RPS index value may be deltaPOC 4. Additionally POC 4 may also have an index value of deltaPOC 4 in its RPS which refers to the reference picture POC 8. Further RPS reference pictures for currentPOC POC 4 may be POC 2 and POC 6. Thus the RPS index values may be 4 2 2 4 .

In yet another example assuming that the currentPOC is POC 2 then the RPS may include pictures corresponding to POC 0 and POC 4. Additionally the index value deltaPOC 6 may be stored in its RPS. This is because the RPS index value of deltaPOC 6 refers to a reference picture that may need to be kept in the decoder since it may be used as a reference picture by future pictures. In other words RPS index values with positive deltaPOC values indicating one or more pictures may need to be kept in the decoder to serve as reference pictures for a future picture that may need to be decoded.

The electronic device may include a supplier . The supplier may provide picture or image data e.g. video as a source to the encoder . Examples of the supplier include image sensors memory communication interfaces network interfaces wireless receivers ports etc.

The source may be provided to an intra frame prediction module and reconstruction buffer . The source may also be provided to a motion estimation and motion compensation module and to a subtraction module .

The intra frame prediction module and reconstruction buffer may generate intra mode information and an intra signal based on the source and reconstructed data . The motion estimation and motion compensation module may generate inter mode information and an inter signal based on the source and a reference picture buffer signal .

The reference picture buffer signal may include data from one or more reference pictures stored in the reference picture buffer . The reference picture buffer may also include an RPS index initializer module . The initializer module may process reference pictures corresponding to the buffering and list construction of an RPS. In some configurations the reference picture buffer signal may include data that indicates one or more previous reference pictures sets RPS corresponding to the current picture.

The encoder may select between the intra signal and the inter signal in accordance with a mode. The intra signal may be used in order to exploit spatial characteristics within a picture in an intra coding mode. The inter signal may be used in order to exploit temporal characteristics between pictures in an inter coding mode. While in the intra coding mode the intra signal may be provided to the subtraction module and the intra mode information may be provided to an entropy coding module . While in the inter coding mode the inter signal may be provided to the subtraction module and the inter mode information may be provided to the entropy coding module .

Either the intra signal or the inter signal depending on the mode is subtracted from the source at the subtraction module in order to produce a prediction residual . The prediction residual is provided to a transformation module . The transformation module may compress the prediction residual to produce a transformed signal that is provided to a quantization module . The quantization module quantizes the transformed signal to produce transformed and quantized coefficients TQCs .

The TQCs are provided to an entropy coding module and an inverse quantization module . The inverse quantization module performs inverse quantization on the TQCs to produce an inverse quantized signal that is provided to an inverse transformation module . The inverse transformation module decompresses the inverse quantized signal to produce a decompressed signal that is provided to a reconstruction module .

The reconstruction module may produce reconstructed data based on the decompressed signal . For example the reconstruction module may reconstruct modified pictures. The reconstructed data may be provided to a deblocking filter and to the intra prediction module and reconstruction buffer . The deblocking filter may produce a filtered signal based on the reconstructed data .

The filtered signal may be provided to a sample adaptive offset SAO module . The SAO module may produce SAO information that is provided to the entropy coding module and an SAO signal that is provided to an adaptive loop filter ALF . The ALF produces an ALF signal that is provided to the reference picture buffer . The ALF signal may include data from one or more pictures that may be used as reference pictures.

The entropy coding module may code the TQCs to produce a bitstream . Also the entropy coding module may code the TQCs using Context Adaptive Variable Length Coding CAVLC or Context Adaptive Binary Arithmetic Coding CABAC . In particular the entropy coding module may code the TQCs based on one or more of intra mode information inter mode information and SAO information . The bitstream may include coded picture data.

Quantization involved in video compression such as HEVC is a lossy compression technique achieved by compressing a range of values to a single quantum value. The quantization parameter QP is a predefined scaling parameter used to perform the quantization based on both the quality of reconstructed video and compression ratio. The block type is defined in HEVC to represent the characteristics of a given block based on the block size and its color information. QP resolution information and block type may be determined before entropy coding. For example the electronic device e.g. the encoder may determine the QP resolution information and block type which may be provided to the entropy coding module .

The entropy coding module may determine the block size based on a block of TQCs . For example block size may be the number of TQCs along one dimension of the block of TQCs. In other words the number of TQCs in the block of TQCs may be equal to block size squared. For instance block size may be determined as the square root of the number of TQCs in the block of TQCs. Resolution may be defined as a pixel width by a pixel height. Resolution information may include a number of pixels for the width of a picture for the height of a picture or both. Block size may be defined as the number of TQCs along one dimension of a 2D block of TQCs.

In some configurations the bitstream may be transmitted to another electronic device. For example the bitstream may be provided to a communication interface network interface wireless transmitter port etc. For instance the bitstream may be transmitted to another electronic device via LAN the Internet a cellular phone base station etc. The bitstream may additionally or alternatively be stored in memory on the electronic device .

The picture may be encoded . This may be performed for example on an encoder . The encoder may be an HEVC type encoder .

A RPS corresponding to the picture based on an initialized index value may be indicated . For example this indication may be made in the slice header of the picture and or in the PPS of the picture . The initialized value may assist the electronic device in processing the RPS. In some cases the initialized value may help reduce RPS signal overhead. In some cases using the initialized value may result in smaller RPS index values being sent in the bitstream thus reducing overhead. For instance smaller RPS index values may be represented with fewer bits to reduce overhead. In other cases using the initialized index value may result in one less RPS index value being sent in the bitstream which also reduces RPS signaling overhead.

The electronic device may send a bitstream. The bitstream may be sent to the same electronic device and or a remote device. The bitstream may include the encoded picture and an RPS.

The electronic device may initialize an index value based on a relative negative RPS parameter. For example the electronic device may process a reference picture to obtain both negative and positive RPS index values. The positive and negative reference pictures may be processed individually. These processes are shown below in Listing 3 .

Listing 3 illustrates syntax of one known method for coding positive RPS index values. Specifically Listing 3 is designed for processing Random Access Hierarchy B under HM 5.0.

RPS deltaPOC refers to the RPS index values. RPS deltaPOC 0 to RPS deltaPOC num negative pics 1 stores the negative RPS index values. RPS deltaPOC num negative pics to RPS deltaPOC num negative pics num positive pics 1 stores the positive RPS index values.

Listing 3 illustrates pseudo code for one approach of processing positive RPS index values. For example an RPS with reference indexes 2 4 2 first codes the negative RPS picture indexes. Then the positive picture indexes are differentially coded. This results in four RPS index values. In processing both the positive and the negative reference RPS index values the previous index value or prev is set to 0. This is always the case when processing the positive RPS index value. prev is initialized independently of the number of negative pictures or any negative RPS parameters. In this example when the RPS index values are 2 4 2 9 bits are required to send the RPS index values.

In contrast to Listing 3 the systems and methods disclosed herein describe that an index value may be initialized based on a relative negative RPS parameter. Thus rather than initializing prev to 0 each time the positive RPS index values are processed prev is initialized based on a negative RPS parameter. Listing 4 illustrates an example of pseudo code that illustrates this distinction. Modifications to the syntax in accordance with the systems and methods disclosed herein are denoted in bold.

As illustrated in Listing 4 prev may be initialized to the smallest absolute value of negative RPS deltaPoc minus 1. It should be noted that the terms RPS deltaPOC and RPS index values may be used interchangeably. The smallest absolute value of negative RPS deltaPoc is the absolute value of the smallest negative reference picture stored in the RPS index for a current picture. For example if a current picture contains the relative reference RPS index values of 4 6 4 4 and 6 are the negative RPS deltaPoc index values. When the absolute values of each are taken 4 and 6 are obtained respectively. Taking the smallest value results in obtaining 4.

In a known approach RPS deltaPOC values are arranged in ascending order by absolute value within the negative RPS deltaPOC index values and within the positive RPS deltaPOC index values to ensure that the difference values coded are not negative. This allows for less bits when coding because negative numbers are avoided. In general a negative number takes more bits to code than a positive bit that is the absolute value of the same negative number. Under this approach the smallest absolute value of negative RPS deltaPoc may be located at RPS deltaPoc 0 .

Applying this example prev smallest absolute value of negative RPS deltaPoc 1 prev 4 1 3. In another example where the smallest absolute value of negative of RPS deltaPoc is 5 prev would equal 4. Thus the prev index value may be dependent on a negative RPS parameter value such as the smallest absolute value of negative of RPS deltaPoc.

Using the initialized value the electronic device may process a positive number of pictures based on the index value. In one example suppose a current picture has an RPS reference index values of 2 4 2 . When the positive reference pictures are processed and prev is initialized to the smallest absolute value of negative of RPS deltaPoc prev equals 1 e.g. 2 1 1 . To process the first positive value e.g. 2 RPS deltaPoc k prev 1 is employed. RPS deltaPoc k equals the value of the first positive RPS index value to be processed. In this example RPS deltaPoc k equals 2. prev equals 1 as shown above. Thus RPS deltaPoc k prev 1 2 1 1 0.

This processing results in a coding of 2 4 0 rather than 2 4 2 . Thus 8 bits rather than 9 bits are required and overhead is reduced. Due to the symmetrical nature of the coding structure initializing the index value based on the relative negative RPS parameter will generally result in the first positive index reference value equaling zero. Thus as the first positive index reference value increases the number of bits saved also increases.

In some instances the electronic device may process only the first positive RPS index value in the set of RPS index values based on the relative negative RPS parameter. Each subsequent positive index value may be processed as shown in Listing 3 . In this case overhead is reduced for the first positive index value for each RPS of each picture sent in the bitstream .

The electronic device may send a bitstream . By applying the systems and methods described herein the RPS overhead in the bitstream may be reduced.

The electronic device may optionally indicate a symmetric flag such as symmetric flag to be sent in bitstream to indicate if the first positive RPS index value can be initialized with a negative RPS index value. For example the symmetric flag may indicate that the index value should be initialized to the smallest absolute value of negative RPS deltaPoc. Alternatively the symmetry flag may indicate not initializing the index value to the smallest absolute value of negative RPS deltaPoc. In this case the index value may be initialized to zero.

The electronic device may process a positive number of pictures based on the index value. In some cases the processing skips when the index value is initialized. In other words when the index value is initialized the first iteration of processing the positive RPS index values skips writing the first positive RPS index value to the RPS. In the case where only one positive number exits then no processing of positive numbers occur. The electronic device may also send a bitstream .

Listing 5 shows one example of pseudo code syntax in which the present method may be applied. Modifications to the syntax in accordance with the systems and methods disclosed herein are denoted in bold.

When j 0 in processing the positive RPS index value the condition j 0 is skipped. In other words the first positive reference picture is skipped.

Returning now to the condition where j 0. In this instance j is initialized to 0 in the for loop when processing the positive RPS index values. Upon initialization the processing of positive RPS index values skips the first positive RPS index value. For example in the case of RPS index values 8 4 4 6 in processing the positive RPS index values 4 will be skipped over and only 6 will be added to the RPS index for the current picture.

In another example for index values 2 4 2 6 if the symmtetic flag is true for the positive RPS deltaPOC values the first one must be equal to 2 as derived from the negative reference picture indexes. In this manner processing of the positive RPS index values may begin from the second positive RPS index value e.g. 6 . Hierarchical coding structures such as Random Access Hierarchical B the symmetric condition between the start of positive and negative RPS index is usually true. This is due to the symmetrical nature of each current picture in relation to deltaPOC reference pictures.

In the case of only one positive RPS index value the electronic device may skip processing of the positive values. For example for index values 4 8 4 after processing an RPS of 4 8 may be sent to the bitstream. Then upon receipt the receiving electronic device such as a decoder may receive the RPS index values 4 8 and derive reference index values of 4 8 4 for the current picture being decoded. Thus by skipping the first positive reference picture in each RPS for each current picture significant overhead savings may be achieved in RPS signaling.

Listing 6 shows one example a syntax which can be processed by a decoder. This syntax may be generated by an electronic device using the approach discussed in connection with Listing 5 . For example the decoder may check symmertric flag to see if there is an indication that the smallest negative RPS index value is symmetrical with a corresponding positive RPS index value. If symmertric flag indicates such the decode may decode the RPS and use the absolute value of the smallest negative RPS index value at the RPS index value of the first positive RPS index value. It will be appreciated that other approaches to decode a picture as listed in Listing 6 may be employed which correspond to the encoding approach discussed above in connecting with Listing 5 .

Received symbols in the one or more encoded pictures included in the bitstream may be entropy decoded by an entropy decoding module thereby producing a motion information signal and quantized scaled and or transformed coefficients .

The motion information signal may be combined with a portion of a reference frame signal from a frame memory at a motion compensation module which may produce an inter frame prediction signal . The quantized descaled and or transformed coefficients may be inverse quantized scaled and inverse transformed by an inverse module thereby producing a decoded residual signal . The decoded residual signal may be added to a prediction signal to produce a combined signal . The prediction signal may be a signal selected from either the inter frame prediction signal or an intra frame prediction signal produced by an intra frame prediction module . In some configurations this signal selection may be based on e.g. controlled by the bitstream .

The intra frame prediction signal may be predicted from previously decoded information from the combined signal in the current frame for example . The combined signal may also be filtered by a de blocking filter . The resulting filtered signal may be written to frame memory . The resulting filtered signal may include a decoded picture.

The frame memory may include a DPB as described herein. The DPB may include one or more decoded pictures that may be maintained as short or long term reference frames. The frame memory may also include overhead information corresponding to the decoded pictures. For example the frame memory may include slice headers PPS information cycle parameters buffer description information etc. One or more of these pieces of information may be signaled from an encoder e.g. encoder . The frame memory may provide a decoded picture .

The decoder may include a partial RPS determination module an RPS template module and or an RPS deletion module . The partial RPS determination module may generate a partial RPS based on signals obtained from the bitstream . In some cases a partial RPS may be determined on the decoder based on a full RPS. Greater detail regarding partial RPS determination module is described below.

The RPS template module may derive an RPS template at the decoder . In some instances the RPS template may be created based on signals received for the bitstream such as a GOP size a coding structure and rules.

The RPS deletion module may receive indications at the decoder to delete a previously received RPS. For example the bitstream may include a flag in a PPS and a bit field in a slice header of a picture. The RPS deletion module may assist in identifying missing reference pictures. Greater detail regarding the RPS deletion module will be given below.

The electronic device may obtain a GOP based on the bitstream . In some cases a GOP may be specified as a specific number of sequential pictures such as four or eight pictures. For example the electronic device may obtain a GOP that includes 8 pictures.

There may be various ways that the electronic device may derive a full RPS. In one configuration the electronic device may receive GOP size coding structure and other necessary information such as the PPS.

To derive the full RPS the electronic device may determine the coding order according to coding structure and GOP size. For instance with low delay coding the coding order may be the display order. In another instance with Hierarchical B the coding order may employ minimum decoding delay. In one example that is similar to the example illustrated in a GOP with a size of 8 will code in the order of POC 8 4 2 1 3 6 5 7. Alternatively a coding order may be coded from a lower hierarchy towards higher hierarchy. In this example a GOP with the size of 8 will code in the order of POC 0 8 4 2 6 1 3 5 7. Additionally a flag can be used to denote which coding order to use. In some cases the flag may be a bit flag.

To derive the full RPS the electronic device may also determine the reference pictures based on coding structure temporal layer id number of reference pictures and additional rules set by the encoder and the decoder. For example in the case of low delay coding with N reference frame a preceding picture with same or lower temporal layer may always serve as a reference picture. Then for the remaining N 1 reference pictures additional rules can be specified to select reference pictures depending on coding order and or hierarchy layer. A parameter may be used to specify which rule should be used. An example of this parameter is reference picture selection rule and is discussed below in association with Listing 9 .

Additionally to derive the full RPS the electronic device may loop e.g. iterate the GOP in coding order. The electronic device may add or keep reference pictures that will be later referenced in connection with subsequent pictures. These subsequent pictures may be in the same or later GOPs then the current picture. If a reference pictures is to be used for reference later it may be marked for future use. Otherwise it may be marked not for reference. 

The electronic device may derive a partial RPS from a full RPS based on at least one relative index value. For example the electronic device may attempt to derive a full RPS.

However because some reference pictures are missing or have not been obtained only a partial RPS may be derived.

A partial RPS may be for frames that have unavailable reference pictures due to IDR or CRA such as occurs at the start of a picture sequence. For example suppose a first picture is at POC 8 with RPS index values of 8 10 12 16 . Being the first received picture it does not yet have reference pictures corresponding to RPS index values 10 12 16 . In this example the first picture cannot use the full RPS with index reference values of 8 10 12 16 . Rather a partial RPS contains index value 8 and this index value represents the only reference picture that may be used to decode the picture e.g. POC 8 .

The electronic device may then decode a picture based on the partial RPS. In other words the electronic device may decode a picture using the reference pictures available to it.

In some implementations a partial RPS may be additionally derived on the encoder side of an electronic device . However by deriving a partial RPS at the decoder RPS overhead in the bitstream is reduced due to the partial RPS not being sent over in addition to the full RPS being sent over.

In Listing 7 num full ref pic sets specifies the number of full reference picture sets that are specified in the picture parameter set. num partial ref pic sets specifies the number of partial reference picture sets that are specified in the picture parameter set. ref flag j specifies whether the content of the full reference picture set is copied to the partial reference picture set.

In one configuration a partial RPS may be constructed by the electronic device . The electronic device may obtain a bitstream and obtain a GOP based on the bitstream in a similar manner as described above.

The electronic device may iterate over each picture within the GOP. For instance the electronic device may loop through each picture and identify the RPS index values corresponding to each picture. In some cases iteration may also occur over multiple GOPs as well.

The electronic device may identify a current picture where the relative index value corresponds to the current picture. For example this may be the picture the electronic device is trying to decode. Additionally in identifying a current picture the electronic device may also identify the POC for the current picture. For instance the POC may specify the POC of the current picture in the GOP.

Listing 8 below shows and example of syntax for generating a partial RPS. In Listing 8 current poc in GOP specifies the current POC in a GOP.

The electronic device may iterate over the at least one relative index value within the full RPS of the current picture. For example if the current picture has RPS index values of 1 5 9 13 then the electronic device would loop through reference pictures located at deltaPOC 1 deltaPOC 5 deltaPOC 9 and deltaPOC 13.

The electronic device may determine whether a reference picture is available for each relative index value. In the example above the electronic device may attempt to access reference pictures located at deltaPOCs 1 5 9 and 13. However one or more the reference pictures may be missing.

One approach for determining whether a reference picture is available is by satisfying the condition currentPOC refDeltaPOC

As an example suppose the current picture has a POC of 1. e.g. POC 1 and POC of Latest CRA is 0. Again suppose that the current picture has RPS index values of 1 5 9 13 . Applying the condition currentPOC refDeltaPOC for the first index value results in 0 e.g. 1 1 0 . Because the condition is not satisfied e.g. 1 1 is not less than 0 or POC of Latest CRA the first reference index value is added to the partial RPS. Applying currentPOC refDeltaPOC to the other RPS reference index values produce results where currentPOC refDeltaPOC is less than POC of Latest CRA. Thus no other index values are added to the partial RPS.

As another example suppose the current picture has a POC of 5. e.g. POC 5 . Again suppose that the current picture has RPS index values of 1 5 9 13 . Applying the condition currentPOC refDeltaPOC for the RPS index values results in 4 0 4 8 respectively. Because the first two values are not less than zero the corresponding RPS reference index values are added to the partial RPS. Thus the partial RPS created in this example has the index values of 1 5 .

The electronic device may add the reference picture to the partial RPS if the picture is available. The electronic device may also decode the current picture using the partial RPS index values.

In yet other configurations the electronic device may evaluate the partial RPS and determine to insert additional pictures. For example a partial RPS with only one reference to a reference picture may be modified to include three additional reference pictures that may be useful in decoding that current picture.

In one configuration an RPS template may be created. It should be noted that creation on an RPS template may be derived at both the encoder and decoder side without sending the full RPS in the PPS. Further derivation of the RPS template may occur in connection with or independent or the creation of a partial RPS as discussed above.

The electronic device may obtain a bitstream . The electronic device may obtain a flag that indicates creating the RPS template. For example the flag may be located and sent in the PPS.

As another example the electronic device may have and or obtain a set of rules used to derive RPS templates for commonly used GOP sizes coding structures temporal layer settings and temporal interleaving patterns.

Using these rules the electronic device may create an RPS template based on a reduced amount of information. For instance an RPS template may be derived by using information regarding the GOP size the coding structure and rules. The coding structure for instance may specify Random Access Hierarchical B or Low Delay. The rules may for example specify the settings for the temporal layers. Listing 9 below shows

derive rps with model flag specifies whether to derive an RPS at the decoder side. derive rps with model flag set to 0 indicates to send the RPS in the PPS. derive rps with model flag set to 1 indicates to derive the RPS at the decoder.

coding structure equal to 0 means that the coding structure is Hierarchical B coding. A coding structure equal to 1 denotes that the coding structure is Low delay coding.

GOP size log 2 refers to the log 2 of GOP size. GOP size equals 2. number of reference pictures i specifies the number of reference pictures used per reference picture list e.g. RefPicList0 and or RefPicList1 for the ihierarchical layer. reference picture selection rule specifies the commonly defined rules to select a reference picture by an encoder and a decoder.

coding order may specify rules to determine coding order. A coding order of 0 may denote a first coding order and a coding order of 1 may denote a second coding order. In one configuration for example a coding order of 0 may denote the minimum decoding delay order and a coding order of 1 may denote a hierarchy priority order e.g. coding from the lowest hierarchy layer to a higher hierarchy layer .

temporal layer exist flag specifies if different temporal layers exist. A flag equal to 0 means all frames have the same temporal layer and a flag equal to 1 means different temporal layers exist.

temporal id ordering specifies the ordering of pictures with same temporal id in a current GOP. For instance a value of 1 indicates that pictures in the current GOP with same temporal id are continuous in decoding order. Alternatively a value of 0 indicates that pictures in the current GOP with the same temporal id are interleaved in decoding order.

Using the created RPS template the electronic device may decode a picture. In the case of non common RPS code structures the RPS template may also be signaled directly sending the RPS template in PPS and or slice header.

In another known implementation such as JCTVC G637 pruning of reference picture sets have been proposed. In this implementation a number of short term reference pictures that are omitted from a particular RPS may be signaled in the PPS for pruning. One example of where some of the pictures signaled in RPS are not available is the first GOP following a random access point. However JCTVC G637 only allows for pruning consecutive negative pictures.

In yet another known implementation such as JCT G198 a signaling scheme is proposed that sends a constant deltaRPS value. Also a sent field value e.g. 00 may signal that a previous reference picture should not be used e.g. should be skipped .

In some known implementations long term reference pictures LTRPs are explicitly signaled individually in each slice header. Thus when a LTRP is not signaled it will be deleted. Accordingly sending a delete signal may not be required for a LTRP. However in some implementations where a LTRPs are signaled the delete mechanism disclosed herein may additionally be applied to a LTRP.

The systems and methods disclosed herein may provide one or more additional benefits in allowing for signaling a delete operation on a previously signaled RPS. Additional benefits may be obtained by also efficiently signaling a new RPS. In one configuration an electronic device optionally receives feedback indication of at least one missing reference picture. The feedback may be from the same or a different electronic device. For example a decoder decoding a picture may discover a missing reference picture in an RPS and send feedback to the electronic device regarding the missing reference picture.

In another configuration no feedback is received by . Instead the electronic device may send the delete indication after a new CRA or IDR picture has been signaled. For example a CRA or IDR picture may trigger the electronic device to send a delete indication to delete one or more unnecessary reference pictures listed in a preciously received RPS.

The electronic device may create an indication to delete at least one reference picture listed in a previously provided RPS. This step may occur in conjunction with or independent of receiving feedback indicating a missing picture. The electronic device may send the indication in a bitstream.

As an example a delete indication e.g. delete signal may be sent after the first GOP following a random access point. This may be done without the need to receive a feedback from the decoder . The delete indication may be sent as a flag in PPS. For example the flag value of 1 is sent in the PPS to indicate existence of a deletion bit field in the slice header. Alternatively the flag value of 0 is sent in the PPS to indicate a deletion bit field is not sent in the slice header.

Additionally and or alternatively the delete indication may be sent as a bit field in the slice header for each picture in an indicated RPS. For example the bit field may send the indication value of 0 in the slice header to indicate deletion of a corresponding reference picture from the indicated RPS or the bit field may send the indication value of 1 in the slice header to indicate that the corresponding reference picture should be kept. The bit field may be sent in the slice header for each of the reference pictures in the indicated RPS. In another configuration such a bit field may be sent in the slice header only for the negative reference pictures in the indicated RPS. In some configurations the delete indication may be sent both in the PPS and in the bit field.

Listing 10 below provides one example of syntax that may be used in the PPS to send a delete indication. Modifications to the syntax in accordance with the systems and methods disclosed herein are denoted in bold.

In Listing 10 a delete pics info present flag equal to 1 specifies that the slice header may signal a delete operation from the short term reference picture set included in the picture parameter set. A delete pics info present flag equal to 0 specifies that no delete operation is signaled in the slice header for the short term reference picture set included in the picture parameter set. pic parameter set id and seq parameter set id are defined as described above.

Listing 11 below provides one example of syntax that may be used in the slice header to send a delete indication. Modifications to the syntax in accordance with the systems and methods disclosed herein are denoted in bold.

In Listing 11 keep pic flag j equal to 1 specifies that the corresponding jshort term reference picture from the reference picture set in the picture parameter set with index short term ref pic set idx should be kept. keep pic flag j equal to 0 specifies that the corresponding jshort term reference picture from the reference picture set in the picture parameter set with index short term ref pic set idx should be deleted e.g. omitted .

pic order cnt lsb specifies the picture order count modulo MaxPicOrderCntLsb for the top field of a coded frame or for a coded field. The length of the pic order cntisb syntax element is log 2 max pic order cnt lsb minus4 4 bits. The value of the pic order cntisb shall be in the range of 0 to MaxPicOrderCntLsb 1 inclusive. MaxPicOrderCntLsb refers to a maximum possible value for pic order cnt lsb 1 . log 2 max pic order cnt lsb minus4 specifies the value of the variable MaxPicOrderCntLsb that is used in the decoding process for picture order count as follows MaxPicOrderCntLsb 2. The value of log 2 max pic order cnt lsb minus4 may be in the range of 0 to 12 inclusive.

short term ref pic set pps flag equal to 1 specifies that the short term reference picture set of the current picture shall be created using syntax elements in the active picture parameter set. short term ref pic set pps flag equal to 0 specifies that the short term reference picture set of the current picture shall be created using syntax elements in the short term ref pic set syntax structure in the slice header.

short term ref pic set idx specifies the index to the list of the short term reference picture sets specified in the active picture parameter set that shall be used for creation of the reference picture set of the current picture. The syntax element short term ref pic set idx shall be represented by ceil log 2 num short term ref pic sets bits. The value of short term ref pic set idx shall be in the range of 0 to num short term ref pic sets 1 inclusive where num short term ref pic sets is the syntax element from the active picture parameter set.

In Listing 12 short term ref pic set indicates a short term reference picture set and num short term ref pic sets indicates the total number of short term reference picture sets.

The electronic device may optionally send feedback indicating the at least one missing reference picture. For example feedback through a back channel indicating the missing POC RPS or a variety of other signals may be sent to indicate a missing picture.

The electronic device may obtain an indication to delete at least one reference picture listed in a previously obtained RPS. In one instance the signal may be obtained from a flag in PPS and a bit field in slice header for each picture in RPS. For example delete pics info present flag and keep pic flag j may be signaled.

The electronic device may delete the at least one reference picture in the previously obtained RPS. In some cases the delete indication may be received with a subsequent RPS that should replace the RPS to be deleted. In another case the indication may specify deleting a previously received RPS that is no longer needed to decode further pictures. In yet another case the indication may be to delete a previously received RPS so that a subsequent replacement RPS may be transmitted. It should be noted that the steps of obtaining an indication to delete at least one reference picture and deleting the at least one reference picture may be done in conjunction with or independent of the previous steps of detecting a missing picture and sending feedback.

As an example of this if a previously obtained RPS had the index values of 2 1 1 3 5 and the electronic device receives an indication to delete the second reference picture then the previously obtained reference set would delete the RPS index value of 1. In other words the previously obtained reference set would become 2 1 3 5 .

The electronic device includes a processor that controls operation of the electronic device . The processor may also be referred to as a CPU. Memory which may include both read only memory ROM random access memory RAM or any type of device that may store information provides instructions e.g. executable instructions and data to the processor . A portion of the memory may also include non volatile random access memory NVRAM . The memory may be in electronic communication with the processor .

Instructions and data may also reside in the processor . Instructions and or data loaded into the processor may also include instructions and or data from memory that were loaded for execution or processing by the processor . The instructions may be executed by the processor to implement the systems and methods disclosed herein.

The electronic device may include one or more communication interface for communicating with other electronic devices. The communication interfaces may be based on wired communication technology wireless communication technology or both. Examples of a communication interface include a serial port a parallel port a Universal Serial Bus USB an Ethernet adapter an IEEE 1394 bus interface a small computer system interface SCSI bus interface an infrared IR communication port a Bluetooth wireless communication adapter a wireless transceiver in accordance with 3Generation Partnership Project 3GPP specifications and so forth.

The electronic device may include one or more output devices and one or more input devices . Examples of output devices include a speaker printer etc. One type of output device that may be included in an electronic device is a display device . Display devices used with configurations disclosed herein may utilize any suitable image projection technology such as a cathode ray tube CRT liquid crystal display LCD light emitting diode LED gas plasma electroluminescence or the like. A display controller may be provided for converting data stored in the memory into text graphics and or moving images as appropriate shown on the display . Examples of input devices include a keyboard mouse microphone remote control device button joystick trackball touchpad touchscreen lightpen etc.

The various components of the electronic device are coupled together by a bus system which may include a power bus a control signal bus and a status signal bus in addition to a data bus. However for the sake of clarity the various buses are illustrated in as the bus system . The electronic device illustrated in is a functional block diagram rather than a listing of specific components.

The electronic device may obtain a current picture. For instance the electronic device may obtain a current picture embedded in the bitstream .

The electronic device may obtain a relative RPS parameter. For example the relative RPS may be signaled in the PPS. Accordingly the relative RPS parameter may be obtained from the PPS. In some configurations the relative RPS parameter may be a negative relative RPS parameter. In other configurations the relative RPS parameter may be a positive relative RPS parameter. In some configurations the relative negative RPS parameter may be a negative RPS index value. For example a negative RPS index value may be relative to the current picture obtained. In other words the relative RPS index value may refer to the location of a reference picture relative to the index position of the current picture.

While some examples and configurations refer to the relative RPS parameter as a negative RPS parameter it should be appreciated that a positive parameter may be used in a respective manner. In other words even though examples are given herein pertaining to a negative relative RPS parameter similar examples using a positive relative RPS parameter may be employed. Likewise other examples to positive or negative connotation in many cases may be reversed.

The electronic device may initialize an index value. In some configurations the electronic device may initialize the index value to 0. In other configurations the electronic device may initialize the index value based on an obtained parameter.

The electronic device may process another RPS parameter based on the index value. In some configurations the other RPS parameter may be a positive RPS parameter. In other configurations the other RPS parameter may be a negative RPS parameter. In some configurations the other RPS parameter may be a positive RPS index value. For example Listing 13 below illustrates one approach to processing a positive RPS parameter based on the index value.

In Listing 13 value read represents reading information from the bitstream. In some configurations the index value may be prev as shown in Listing 13 . In some configurations the index value may be RPS deltaPoc. Furthermore in some configurations the index value may be initialized to 0. In other configurations the index value may be initialized to the smallest absolute value of the negative RPS index value. In yet other configurations the index value may be initialized to the negative of the smallest value of a positive RPS index value e.g. the smallest positive RPS index value times 1 . In some configurations or instances the index value may be initialized to a non zero value.

Similar to the relative RPS parameter it should be noted that the other RPS parameter may be a positive or negative. In other words even though examples are given herein pertaining to a positive RPS parameter similar examples using a negative RPS parameter may be employed. Accordingly the relative RPS parameter may be negative while the other RPS parameter is positive in some configurations. Alternatively the relative RPS parameter may be positive while the other RPS parameter is negative in some configurations. In general the relative RPS parameter and the other RPS parameter may have different signs e.g. negative or positive .

The electronic device may decode the current picture. This may be performed for example on a decoder . The decoder may be an HEVC type decoder .

The electronic device may initialize an index value based on the relative RPS parameter. For instance Listing 14 shows one example of syntax for initializing an index value based on a relative negative RPS parameter. Modifications to the syntax in accordance with the systems and methods disclosed herein are denoted in bold. In some configurations the approaches discussed in connection with Listing 14 may correspond to the approaches with Listing 4 discussed previously.

In some configurations the index value may be prev in Listing 14 which may represent a previous index value. In this case prev may be initialized based on the smallest absolute value of negative RPS deltaPoc. RPS deltaPOC refers to the RPS index values.

For example suppose an RPS with reference indexes of 2 4 2 is obtained by the electronic device . However because of encoding as in the approach discussed in connection with for example the first positive RPS index received at the electronic device may have a value of 0. The negative RPS index values are processed to generate one or more relative negative RPS parameters. Here 2 is obtained as the relative negative RPS parameter.

Continuing with this example the index value is initialized based on the relative negative RPS parameter. Listing 14 shows that prev may be initialized based on the relative negative RPS parameter. Here prev is initialized based on the relative negative RPS parameter 2. In some instances the relative negative RPS parameter may be the smallest absolute value taken from the set of negative RPS index values for a current picture. Thus prev is initialized to the smallest absolute value taken from the set of negative RPS index values minus 1. In other words prev 1 e.g. 2 1 .

The electronic device may process another RPS parameter based on the index value. For instance returning to the above example the electronic device may process another RPS parameter based on prev 1. In one instance processing the positive RPS parameter may involve employing RPS deltaPoc k value 1 prev. In this instance RPS deltaPoc k would equal a value e.g. relative value of 0 plus 1 plus prev 1 . In other words RPS deltaPoc k 2. Thus in this example the positive RPS parameter generated is 2. Additionally the generated RPS index values for the current picture is 2 4 2 .

Once the RPS index values are obtained the electronic device may decode the current picture. For example the current picture may use the generated RPS index values for decoding.

In another example suppose that the RPS has index values of 4 6 4 . Here 4 would be obtained as the negative relative RPS parameter. The index value may be initialized to 3 or to the smallest absolute value of the negative RPS index values minus 1. In other words prev 4 1 3. Processing a positive RPS parameter value would result in an RPS index value of 4. Thus in this example the set of RPS index values would be 4 6 4 .

The electronic device may obtain a symmetric flag. In some configurations the symmetric flag may be the same or similar to the symmetric flag discussed previously. For example the symmetric flag may indicate that the relative negative RPS parameter corresponds to the positive RPS parameter. For instance given a set of RPS index values 2 6 2 4 the symmetric flag may indicate that the index value of 2 corresponds to the index value of 2.

Additionally The symmetric flag may be sent in a bitstream to indicate if the first positive RPS index value can be initialized with a negative RPS index value. For example the symmetric flag may indicate that the index value should be initialized to the smallest absolute value of negative RPS deltaPoc values. Alternatively the symmetry flag may indicate not initializing the index value to the smallest absolute value of negative RPS deltaPoc values. In this case the index value may be initialized to zero.

The electronic device may initialize an index value based on the relative negative RPS parameter and the symmetric flag. As one example Listing 15 below illustrates one approach of initializing an index value based on the relative negative RPS parameter and the symmetric flag. Modifications to the syntax in accordance with the systems and methods disclosed herein are denoted in bold.

In one configuration of Listing 15 RPS deltaPOC num negative pics 1 stores the negative RPS index values. RPS deltaPOC num negative pics to RPS deltaPOC num negative pics num positive pics 1 stores the positive RPS index values. In this case RPS deltaPoc num negative pics above stores the first positive RPS index value. In other words RPS deltaPoc num negative pics refers to the first positive RPS index value. First the electronic device verifies that there is at least one positive RPS index value. Then the electronic device determines whether there is a symmetric flag and if the flag is set to true. If the there is a symmetric flag set to true the electronic device initializes an index value based on the relative negative RPS parameter. Thus the initialization of the index value is based on both the relative negative RPS parameter and the symmetric flag. In this configuration the index value of RPS deltaPoc num negative pics is initialized to the smallest absolute value of negative RPS deltaPoc. For example in the case of RPS index values 8 4 4 6 the first positive RPS index value may be initialized to 4 or the smallest absolute value of negative RPS deltaPoc.

The electronic device may process one or more other RPS parameters based on the index value. For instance with a positive index value of 4 the electronic device may be able to generate the second positive RPS index value of 6 in the example above. Further the electronic device may skip processing at least one of the other RPS parameters when the index value is initialized. In other words when the first positive RPS index value is initialized processing the positive RPS index values skips to the second positive RPS index value. For instance in the example above when the first positive RPS index value is initialized to 4 processing skips to the second positive RPS index value to generate a value of 6. Thus in this example the set of RPS index values 8 4 4 6 is obtained.

In some cases where there is only one positive RPS index value processing of the positive RPS index valued may be skipped upon initialization of the index value. For example for index values 4 8 4 the electronic device may receive the RPS index values 4 8 and derive reference index values of 4 8 4 for the current picture being decoded. Thus by skipping processing of the first positive reference picture in each RPS for each current picture processing time may be reduced.

Once the RPS index values are obtained the electronic device may decode the current picture. For example the current picture may use the processed RPS index values for decoding.

In another example for the RPS index values 2 4 2 6 if the symmetric flag is true for the positive RPS deltaPOC values the first one must be equal to 2 as derived from the negative RPS index values. Other positive RPS index values may also be generated from the initialized index value. For instance processing of the positive RPS index values may begin from the second positive RPS index value e.g. 6 and may be based on the initialized index value of 2.

The systems and methods disclosed herein may provide one or more additional benefits for reference picture set RPS signaling and prediction. Additional benefits such as improved efficiency from known approaches may be obtained by inter RPS signaling and prediction when signaling partial RPS. Further the systems and methods disclosed herein may provide greater simplicity than known approaches.

In one configuration an electronic device may indicate a previously signaled reference picture set RPS corresponding to a current picture. For example the electronic device may be an encoder . The encoder may be an HEVC type encoder .

The current picture may belong to the first GOP after a random access point. The previously signaled RPS may be sent at the random access point as a part of the sequence parameter set SPS or as part of another parameter set e.g. picture parameter set PPS adaptation parameter set APS video parameter set VPS etc. . Alternatively the previously signaled RPS may be sent by using another element in the bitstream or may be obtained from some out of band mechanism. In another case the current picture may not belong to the first GOP after a random access point.

The previously signaled RPS may be identified by an index. For example the index may be a RPS index such as rps idx idx . The index may include corresponding values used in decoding the current picture.

The RPS corresponding to the current picture may be signaled by a delete operation on a previous signaled RPS. For example a reference picture may be lost and the decoder may signal to the encoder via feedback for the reference picture. However the encoder may no longer use the lost picture as a reference frame. For example this may occur when non low delay conditions are present. By using a previously signaled RPS the decoder may be able to decode a current picture using one or more previously obtained reference pictures.

The electronic device may set a first flag for one or more pictures in the previously signaled RPS. The first flag may be set if the picture is to be used as a reference picture for the current picture. For example the first flag may represent a Boolean value and may be set to 1 if the picture is to be used as a reference picture for the current picture. Alternatively it may be appreciated that in another configuration the first flag may be set to 0 to indicate that the picture is to be used as a reference picture for the current picture.

As used herein the term positive when used in defining a flag refers to the flag being set. For example the first flag is positive if it is set such that the picture is to be used as a reference picture for the current picture. If the picture is not to be used as a reference picture for the current picture the flag may not be set i.e. not positive . It should be appreciated that in some configurations a negative value may alternatively be used when setting a flag. In some configurations if the picture is not to be used as a reference picture for the current picture the flag may be omitted.

The previously signaled RPS may indicate multiple pictures to be used as reference pictures for the current picture. In this case each picture used as a reference picture for the current picture has its first flag set to be positive. In other words for each reference picture in the previously signaled RPS a corresponding flag is set if the reference picture is to be used as a reference picture to decode the current picture. Also in this case each picture that is not used as a reference picture for the current picture has its first flag set to be not positive.

The electronic device may send a bitstream. The bitstream may include the previously signaled RPS with a first flags set. The bitstream may include multiple set second flags. Each set second flag may correspond to a reference picture in the previously signaled RPS that may be used as a reference picture for the current picture.

In some configurations the bitstream may exclude a used by current picture flag value for the current RPS. In other words the bitsream may not include a used by current picture flag value for the current RPS. The used by current picture flag value for the current RPS may be predicted and or determined by an electronic device such as a decoder based on corresponding values of one or more other reference pictures signaled in the previously signaled RPS.

In one approach the previously signaled RPS may be signaled in the sequence parameter set SPS . Listing 16 below provides one example of syntax that may be used in the sequence parameter set raw byte sequence payload RBSP for signaling a reference picture set. Modifications to the syntax in accordance with the systems and methods disclosed herein are denoted in bold.

In Listing 16 num short term ref pic sets specifies the number of full short term reference picture sets that are specified in the picture parameter set. The value of num short term ref pic sets ranges from 0 to 64 inclusive.

predicted short term ref pic sets present flag equal to 1 specifies that a number of predicted short term reference picture sets that are coded with reference to full reference picture set exist in this sequence parameter set. predicted short term ref pic sets present flag equal to 0 specifies that no predicted short term reference picture sets that are coded with reference to full reference picture set exist in this sequence parameter set.

In some configurations a partial short term reference picture set may be part of a predicted short term reference picture set. For example a partial short term reference picture sets present flag may be part of a predicted short term reference picture sets present flag.

As shown in Listing 16 the previously signaled reference picture set RPS may be signaled by a flag such as predicted short term ref pic sets present flag in the SPS. A bit field in the SPS may correspond to each picture in the RPS to which the inter RPS prediction applies. For example the bit field may signal values of 1 or 0 to indicate whether to keep or discard a corresponding reference picture or corresponding reference picture value from the previously signaled RPS.

num predicted short term ref pic sets minus1 specifies the number of predicted short term reference picture sets minus 1 that are specified in the sequence parameter set. The value of num short term ref pic sets minus1 ranges from 0 to 63 inclusive.

In one configuration the decoder may allocate space for a total number of short term reference picture sets since a coded video sequence may include up to one short term reference picture set explicitly signaled in the slice headers of a current picture. For example the total number of short term reference picture sets may be determined equal num short term ref pic sets num predicted short term ref pic sets minus1 1 1 if predicted short term ref pic sets present flag flag is equal to 1. The total number of short term reference picture sets may be determined equal num short term ref pic sets 1 if predicted short term ref pic sets present flag flag is equal to 0.

In this configuration an explicitly signaled short term reference picture set in the slice header will always have an index equal to num short term ref pic sets num predicted short term ref pic sets minus1 1 in the list of short term reference picture sets if predicted short term ref pic sets present flag flag is equal to 1. Also in this configuration an explicitly signaled short term reference picture set in the slice header will always have an index equal to num short term ref pic sets 1 in the list of short term reference picture sets if predicted short term ref pic sets present flag flag is equal to 0.

rps idx idx specifies the index of that full short term reference picture set used to derive the predicted short term reference picture set signaled with index idx. num pics in rps idx idx specifies the sum of total number of negative pictures and total number of positive pictures included in the full short term reference picture set in the picture parameter set with index rps idx idx . In some configurations num pics in rps idx idx does not need to be signaled in the predicted short term reference picture set as it is already known from corresponding short term reference picture set with index rps idx idx .

keep pic flag j equal to 1 specifies that the corresponding jshort term reference picture from the reference picture set in the sequence parameter set with index rps idx idx should be kept to derive this predicted reference picture set. keep pic flag j equal to 0 specifies that the corresponding jshort term reference picture from the full short term reference picture set in the picture parameter set with index rps idx idx should be deleted e.g. omitted to derive this predicted reference picture set.

In another approach the previously signaled RPS may be signaled in the picture parameter set PPS . Listing 17 below provides one example of syntax that may be used in the picture parameter set raw byte sequence payload RBSP signaling an inter reference picture. Modifications to the syntax in accordance with the systems and methods disclosed herein are denoted in bold.

The electronic device may determine if any predicted RPSs are to be signaled. If there are no predicted RPSs to be signaled then the electronic device may signal no predicted RPSs. For example the electronic device may signal predicted short term ref pic sets present flag equal to 0. 

If there is one or more predicted RPSs to be signaled then the electronic device may signal the one or more predicted RPSs. For example the electronic device may signal predicted short term ref pic sets present flag equal to 1. 

The electronic device may send the number of predicted RPSs. For example the electronic device may send num predicted short term ref pic sets minus1.

For each predicted RPS that is signaled the electronic device may send reference to a previously signaled full RPS. For example the electronic device may send rps idx idx .

For each reference picture in the previously signaled RPS the electronic device may signal if the reference picture is to be used as a reference picture for a current picture. For example the electronic device may set a flag such as a keep picture flag that indicates if the reference picture is to be used as a reference picture for a current picture.

The electronic device may exclude or not send a used by current picture flag for the current RPS. In other words a used by current picture flag value for the current RPS may not be indicated signaled or encoded by the electronic device . The used by current picture flag value for the current RPS may be predicted and or determined by an electronic device such as a decoder .

In yet another approach the previously signaled RPS may be signaled in the short term reference picture set. Listing 18 below provides one example of syntax that may be used in the short term reference picture set for signaling a reference picture set. Modifications to the syntax in accordance with the systems and methods disclosed herein are denoted in bold.

In still yet other approaches the previously signaled RPS may be signaled in the adaptation parameter set APS video parameter set VPS slice header etc. Further the previously signaled RPS may be signaled by using another element in the bitstream.

The current picture may belong to the first GOP after a random access point and or a delete operation on a previous signaled RPS. In either case signaling a previously signaled RPS may provide increased efficiency over currently known approaches.

The previously signaled RPS may correspond to an index. For example the previously signaled RPS is signaled as an index into a set of previously signaled set of RPSs. Additionally the index may be a RPS index such as rps idx idx . The index may indicate the previously signaled RPS that will be used for predicting the RPS to be used for decoding the current picture.

The electronic device may indicate a used by current picture flag value of a second reference picture in the previously signaled RPS. The used by current picture flag value of a second reference picture may be a value corresponding to the current picture. In other words in indicating the previously signaled RPS the electronic device may indicate one or more corresponding values of other reference pictures in the previously signaled RPS. The one or more corresponding values of other reference pictures in the previously signaled RPS may be used by current picture flag values for the other reference pictures in the previously signaled RPS. The corresponding values may be indicated by the electronic device and encoded by an encoder .

The electronic device may set a keep picture flag for a picture in the previously signaled RPS if the picture is to be used as a reference picture for the current picture. In one configuration the keep picture flag may represent a bit field in the index corresponding to the previously signaled RPS. For example each reference picture in the RPS corresponding to the index rps idx idx may be signaled a keep picture flag that indicates whether to keep or discard the corresponding reference picture or corresponding reference picture value from the previously signaled RPS.

The electronic device may exclude a used by current picture flag for the current RPS. In other words a used by current picture flag value for the current RPS may not be indicated signaled or encoded by the electronic device e.g. encoder . The used by current picture flag value for the current RPS may be predicted and or determined by an electronic device such as a decoder based on the used by current picture flag values of one or more other pictures in the previously signaled RPS.

The electronic device may send a bitstream. The bitstream may include the previously signaled RPS with the predicted short term reference picture set present flag set. The bitstream also may include multiple set used by current picture flag corresponding to one or more reference pictures used to decode the current picture.

In another known implementation such as JCTVC I0347 syntax for inter RPS prediction is provided. This syntax modifies HEVC draft 6 syntax by merging delta rps sign and abs delta rps minus1 into one syntax element.

In yet another known implementation such as JCT G198 an inter reference picture set prediction is proposed. The main use case in this implementation is reducing the number of bits to signal a new RPS by encoding it with respect to a previously signaled RPS. In this implementation the signaling scheme sends a constant deltaRPS value. Additional fields can be sent to signal if a POC from previous RPS should be skipped e.g. should not be used .

In one configuration an electronic device obtains a bitsream. The electronic device may obtain a current picture. For example the current picture may be obtained from the bitstream.

The electronic device may obtain a previously signaled reference picture set RPS . The previously signaled RPS may already be present on the electronic device . In this case the bitstream may have sent a signal for the current picture indicating the use of a previously signaled RPS.

In some configurations the previously signaled RPS may be sent by an encoder and received in the bitsream. For example the bitstream may include a first flag that indicates that a previously signaled RPS is being used to decode the current picture.

The previously signaled RPS may include one or more pictures used to decode previous pictures. The previously signaled RPS may correspond to an index. For example the previously signaled RPS is signaled as an index into a set of previously signaled set of RPSs. The index may indicate corresponding reference pictures and or values used in decoding the current picture.

For each picture in the previously signaled RPS the electronic device may obtain a first flag indication if the picture should be used as a reference picture for the current picture. The first flag may indicate if the picture is to be used as a reference picture for the current picture. For example the first flag may represent a Boolean value and may be set to 1 if the picture is to be used as a reference picture for the current picture. Alternatively it may be appreciated that in another configuration the first flag may be set to 0 to indicate that the picture is to be used as a reference picture for the current picture.

The first flag may be positive if it is set such that a picture in the previously signaled RPS is to be used as a reference picture for the current picture. If the picture is not to be used as a reference picture for the current picture the flag may not be set i.e. not positive . It should be appreciated that in some configurations a negative value may be used when setting the first flag. In the case of multiple pictures in the previously signaled RPS that are to be used as reference pictures for the current picture each picture may have a corresponding first flag.

If the first flag is positive the electronic device may determine a second flag from one corresponding value of the previously signaled RPS. In other words if a picture in the previously signaled RPS is used as a reference picture for the current picture the electronic device may infer a second flag value for the current pictures. The second flag value may be inferred predicted or determined from second flag values of references pictures in the previously signaled RPS. The second flag may be a used by current picture flag.

The electronic device may decode the current picture. This may be performed for example on a decoder . The decoder may be an HEVC type decoder .

The electronic device may determine if there are any predicted RPSs signaled. If there are no signaled predicted RPSs then the electronic device may obtain a signal indicating no predicted RPSs. For example the electronic device may obtain a signal such as predicted short term ref pic sets present flag equals 0. 

If there is one or more signaled predicted RPSs then the electronic device may obtain a signal indicating one or more predicted RPSs. For example the electronic device may obtain a signal such as predicted short term ref pic sets present flag equals 1. 

The electronic device may obtain the number of predicted RPSs. For example the electronic device may obtain num predicted short term ref pic sets minus1.

For each predicted RPS that is signaled the electronic device may obtain reference to a previously signaled full RPS. For example the electronic device may obtain rps idx idx .

For each reference picture in the previously signaled RPS the electronic device may obtain a signal if the reference picture is to be used as a reference picture for a current picture. For example the electronic device may obtain a flag such as a keep picture flag that indicates if the reference picture is to be used as a reference picture for a current picture.

The electronic device may determine a used by current picture flag value for a current picture from the value of a corresponding reference picture in the previously signaled RPS. The electronic device may determine the used by current picture flag value for the current picture by inferring or predicting the used by current picture flag value based on one or more corresponding e.g. used by current picture flag value values of the one or more reference pictures signaled in the previously RPS.

The electronic device may decode the current picture based on the used by current picture flag value. The used by current picture flag values may include the used by current picture flag value of the current picture.

The electronic device may obtain a previously signaled reference picture set RPS based on a predicted short term reference pictures present flag. In this manner a RPS that has been previously signaled and is present on the electronic device along with previously decoded reference pictures may be used and or reused to decode a current picture.

A predicted short term reference pictures present flag may signal the presence of previously signaled RPS. For example if the predicted short term reference pictures present flag is set then it may signal to the electronic device a previously signaled RPS. In some configurations the presences of the predicted short term reference pictures present flag may signal to the electronic device a previously signaled RPS.

The RPS may be sent separately from actual current or previous pictures. The RPS may be sent as part of the sequence parameter set SPS a picture parameter set PPS another parameter set and or the slice header.

For each reference picture in the previously signaled RPS the electronic device may obtain a keep picture flag indication if the picture should be used as a reference picture for the current picture. The keep picture flag indicates whether a picture in the previously signaled RPS is to be used as a reference picture in decoding the current picture.

The electronic device may obtain a corresponding value from the previously signaled RPS based on the keep picture flag. For example if the keep picture flag indicates that a picture in the previously signaled RPS is to be used as a reference picture for the current picture the electronic device may obtain a corresponding value such a used by current picture flag value from the previously signaled RPS corresponding to the picture. In some configurations the used by current picture flag value for one or more reference pictures in the previously signaled RPS may be sent to the electronic device by an encoder .

The electronic device may determine a used by current picture flag value for the current picture from the corresponding value of a second reference picture in the previously signaled RPS. The electronic device may determine the used by current picture flag value for the current picture by inferring or predicting the used by current picture flag value based on one or more corresponding e.g. used by current picture flag value values of the one or more reference pictures in the previously signaled RPS.

The electronic device may decode the current picture based on the used by current picture flag values. The used by current picture flag values may include the used by current picture flag value of the current picture as well as the used by current picture flag values of corresponding reference pictures in the signaled RPS.

Referring to Table 6 the NAL unit header syntax may include two bytes of data namely 16 bits. The first bit is a forbidden zero bit which is always set to zero at the start of a NAL unit. The next six bits is a nal unit type which specifies the type of raw byte sequence payloads RBSP data structure contained in the NAL unit as shown in Table 5 . The next 6 bits is a nuh layer id which specify the indentifier of the layer. In some cases these six bits may be specified as nuh reserved zero6 bits instead. The nuh reserved zero6 bits may be equal to 0 in the base specification of the standard. In a scalable video coding and or syntax extensions nuh layer id may specify that this particular NAL unit belongs to the layer identified by the value of these 6 bits. The next syntax element is nuh temporal id plus1 . The nuh temporal id plus1 minus 1 may specify a temporal identifier for the NAL unit. The variable temporal identifier TemporalId may be specified as TemporalId nuh temporal id plus1 1. The temporal identifier TemporalId is used to identify a temporal sub layer. The variable HighestTid identifies the highest temporal sub layer to be decoded.

When the current picture is a RADL picture there shall be no picture included in RefPicSetStlnterLayer that is any of the following 

The inter layer reference picture set RPS updating module may include an inter layer picture . In one configuration the inter layer picture may be a non IRAP intra random access point picture or a intra random access point IRAP picture. The inter layer picture may be a picture received from another electronic device via a bitstream . The inter layer reference picture set RPS updating module may determine whether the inter layer picture is added to the reference picture set RPS .

The inter layer picture may include a layer identifier nuh layer id a temporal identifier TemporalId and a picture order count POC . An additional check is performed to determine if the inter layer picture should be added to the reference picture set RPS if the layer identifier nuh layer id for the inter layer picture corresponds to the layers which are direct reference layers for the current layer and the picture order count POC of the inter layer picture is equal to a picture order count POC of the current picture nuh layer id .

The decoding process for inter layer reference picture set is shown below in Table 7 . In this pseudo code if current picture is not a RADL picture then a inter layer reference picture from each of the layers that are direct reference layers for the current picture and have the same picture order count value as the current picture are added to the inter layer reference picture set RefPicSetInterLayer of the current picture. Also if the current picture is a RADL picture and the inter layer reference picture is not a RASL picture and is also not an unavailable reference picture then inter layer reference picture that has the same picture order count value as the current picture is added to the inter layer reference picture set RefPicSetInterLayer of the current picture.

The term computer readable medium refers to any available medium that can be accessed by a computer or a processor. The term computer readable medium as used herein may denote a computer and or processor readable medium that is non transitory and tangible. By way of example and not limitation a computer readable or processor readable medium may comprise RAM ROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium that can be used to carry or store desired program code in the form of instructions or data structures and that can be accessed by a computer or processor. Disk and disc as used herein includes compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and Blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers.

It should be noted that one or more of the methods described herein may be implemented in and or performed using hardware. For example one or more of the methods or approaches described herein may be implemented in and or realized using a chipset an ASIC a large scale integrated circuit LSI or integrated circuit etc.

Each of the methods disclosed herein comprises one or more steps or actions for achieving the described method. The method steps and or actions may be interchanged with one another and or combined into a single step without departing from the scope of the claims. In other words unless a specific order of steps or actions is required for proper operation of the method that is being described the order and or use of specific steps and or actions may be modified without departing from the scope of the claims.

It is to be understood that the claims are not limited to the precise configuration and components illustrated above. Various modifications changes and variations may be made in the arrangement operation and details of the systems methods and apparatus described herein without departing from the scope of the claims.

