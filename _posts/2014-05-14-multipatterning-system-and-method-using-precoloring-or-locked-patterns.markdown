---

title: Multi-patterning system and method using pre-coloring or locked patterns
abstract: A non-transitory, computer readable storage medium is encoded with computer program instructions, such that, when the computer program instructions are executed by a computer, the computer performs a method. The method generates mask assignment information for forming a plurality of patterns on a layer of an integrated circuit (IC) by multipatterning. The mask assignment information includes, for each of the plurality of patterns, a mask assignment identifying which of a plurality of masks is to be used to form that pattern, and a mask assignment lock state for that pattern. User inputs setting the mask assignment of at least one of the plurality of patterns, and its mask assignment lock state are received. A new mask assignment is generated for each of the plurality of patterns having an “unlocked” mask assignment lock state.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09335624&OS=09335624&RS=09335624
owner: Taiwan Semiconductor Manufacturing Co., Ltd.
number: 09335624
owner_city: Hsin-Chu
owner_country: TW
publication_date: 20140514
---
This application claims the benefit of priority of U.S. Provisional Patent Application No. 61 897 239 filed Oct. 30 2013 which is incorporated by reference herein in its entirety.

This disclosure relates to semiconductor integrated circuit IC fabrication generally and more specifically to multipatterning techniques. In semiconductor fabrication processes the resolution of a photoresist pattern begins to blur at about 45 nanometer nm half pitch due to diffraction. To continue to use fabrication equipment purchased for larger technology nodes multi exposure methods have been developed.

Multiple exposure or multi patterning technology MPT involves forming patterns on a single layer of a substrate using two or more different masks in succession. If only two masks are used for patterning a layer the technique is referred to as double exposure. One form of double exposure is referred to as double patterning technology DPT . In DPT first and second masks are used sequentially to pattern the same layer. As long as the patterns within each mask comply with the relevant minimum separation distances for the technology node the combination of patterns formed using both masks may include smaller separations than the minimum separation distance. MPT allows line segments and in some cases more complex shapes to be formed of a vertical segment and a horizontal segment on the same mask. Thus MPT provides flexibility and generally allows for significant reduction in overall IC layout. If two or more masks are to be used it is customary to refer to the patterns as being assigned one of two color types where the color corresponds to a mask assignment.

The following disclosure provides many different embodiments or examples for implementing different features of the subject matter. Specific examples of components and arrangements are described below to simplify the present disclosure. These are of course merely examples and are not intended to be limiting. For example the formation of a first feature over or on a second feature in the description that follows may include embodiments in which the first and second features are formed in direct contact and may also include embodiments in which additional features may be formed between the first and second features such that the first and second features may not be in direct contact. In addition the present disclosure may repeat reference numerals and or letters in the various examples. This repetition is for the purpose of simplicity and clarity and does not in itself dictate a relationship between the various embodiments and or configurations discussed.

Further spatially relative terms such as beneath below lower above upper and the like may be used herein for ease of description to describe one element or feature s relationship to another element s or feature s as illustrated in the figures. The spatially relative terms are intended to encompass different orientations of the device in use or operation in addition to the orientation depicted in the figures. The apparatus may be otherwise oriented rotated 90 degrees or at other orientations and the spatially relative descriptors used herein may likewise be interpreted accordingly.

This disclosure describes a design flow for full coloring mask assignment in multipatterning technology MPT with diverse processes. Full coloring allows a designer to select which mask and corresponding process will be used to form each individual circuit pattern on a given layer of an integrated circuit IC . The designer can thus assign circuit patterns which are less tolerant of process variations to a mask and process that minimizes the effects of process variations.

As used herein the term pattern can refer without limitation to a circuit pattern which is part of an interconnect conductive line layer or a part of an active device layer pattern such as a gate electrode pattern.

For the 10 nm technology node and other advanced process double patterning techniques DPT or other multipatterning MPT with layout full coloring can be used for physical layout implementation. In these advanced technologies different processes are used to pattern the same layer of a semiconductor substrate using a first mask and a second mask. The different processes can result in different line widths lines spacings line depth and variation resulting in variations in parasitic capacitances RC variation . For example in a self aligned double patterning SADP method a first mask mask A which can be a photomask is used to pattern a photoresist to form a subset of the circuit patterns on a given layer of the substrate such as a metal interconnect layer M . A conformal layer of a spacer material e.g. SiN or the like is applied and planarized to form spacers abutting the mask A patterns. The spacers abutting the mask A patterns are then used as a hard mask for forming the mask B patterns.

In an SADP process the B patterns are formed using the hard mask without a second photomask. Hereinafter patterns formed by the first process using the photomask are referred to as A patterns and the patterns formed by the second process are referred to as B Patterns . Although an example is described herein for an SADP process the methods can be used with other types of process for multipatterning using two or more processes.

Because the A patterns and B patterns are formed by different processes the A and B patterns can have different line widths and different variations from each other. Also the B patterns become sensitive to the location and variance of the spacer patterns. When the nominal design spacing between the A patterns and B patterns is small the spacers forming the hard mask can encroach into the B patterns causing variation in B pattern line width and in some cases open circuits. Thus the A patterns can be formed independently of how closely the B patterns are located but proper formation of the B patterns is dependent on the distance from adjacent A patterns. The patterning processes are asymmetrical. When two or more processes are used for multipatterning correct patterning can depend on ensuring that certain particular patterns are assigned to the A mask and not the B mask.

Thus improved results can be achieved when the assignment of the patterns to mask A or mask B is performed at the design stage prior to releasing the layout to the foundry. In some embodiments a full color layout implementation is used for N10 and smaller technologies. A full color layout implementation is different from the partial coloring methodology used in N20 N16 technology nodes.

Good coloring methods and design flow can reduce layout implementation and engineering change order ECO efforts significantly.

An effective method is described herein to reduce or eliminate resistance capacitance RC impact and to reduce color assignment iteration. Herein the term color refers to mask and color assignment refers to assignment of a pattern to a mask and its corresponding process.

At step the place and route engine of a computer implemented electronic design automation EDA tool generates a preliminary layout of a layer of the IC based on a netlist representation of the layer. The preliminary layout can be a GDSII representation for example.

At step the designer adds partial coloring information to the layout data. In partial coloring a designer can select a group of patterns e.g. a timing critical network to be assigned to the same mask. The designer may not care whether the network is all assigned to mask A or all assigned to mask B as the same results can be achieved either way. By assigning all of the patterns in the time critical network to the same mask the spacing and capacitive couplings between them can be controlled regardless of process variations and misalignments between the A and B masks.

In partial coloring the designer can select patterns to be grouped on the same mask without specifying which mask. Partial coloring is effective when both masks use the same process to form their respective patterns formed. For example partial coloring can be used when the A and B masks are both photomasks in a process referred to as a litho etch litho etch LELE process.

At step the design rule checks DRC and layout versus schematic LVS checks are executed with partial coloring of the GDS layout data. The DRC and LVS are based on geometry considerations spacing between adjacent patterns without knowledge of the final mask assignments of the patterns. The RC extraction RCX is performed and is not affected by whether the group of patterns are assigned to mask A or mask B and will not have different R variation or C variation based on the mask assignment.

At step in a partial coloring methodology the color decomposition and full color GDS are completed at the last stage typically by the foundry. This occurs after the DRC LVS RCX is performed.

At step the EDA tool stores a fully colored layout including all patterns assigned to respective masks in a non transitory machine readable storage medium.

At step the place and route engine of the EDA tool outputs a preliminary layout without mask assignments coloring information . This step generates mask assignment information for forming the plurality of patterns on a layer of an integrated circuit IC by multipatterning. The mask assignment information includes for each of the plurality of patterns a mask assignment identifying which of a plurality of masks is to be used to form that pattern and a mask assignment lock state for that pattern. At this stage the lock state for all of the patterns is unlocked. 

At step the user e.g. a designer inputs partial coloring information into the computer implemented tool. For example in some embodiments the designer groups one or more networks of timing critical patterns together to be formed in the same mask. In some embodiments the designer tags anchors all of the patterns to be grouped into a single grouping. In other embodiments the designer tags a first group of patterns to be formed together on the same mask as each other and tags a second group of patterns to be formed together on the same mask as each other. The EDA tool can assign the first group and the second group to the same mask as each other or to different masks so long as the patterns within each individual group are assigned together with each other. The user can lock the mask assignment lock state of any of the patterns.

At step after the designer performs partial coloring the designer runs the color decomposition engine to provide a full color layout for each individual intellectual property block IP of the application specific integrated circuit ASIC . An IP block contains one or more functions. Non limiting examples of IP blocks can include a communications interface an application programming interface API a game an audio visual media player or a radio or television tuner. This step generates a new mask assignment for each of the plurality of patterns having an unlocked mask assignment lock state.

At step the EDA tool generates a fully colored layout in which each pattern is assigned to one of the available masks and the patterns within each individual group are assigned to the same mask. The designer can make changes to the individual IPs as desired until the layout of each IP is clean without any design rule violations within the individual IPs.

At step the designer executes color aware placement prototyping. This process considers the location shape and color assignment of each individual pattern along the entire perimeter of each IP block. Wherever two IPs are adjacent to each other the process determines whether the abutting patterns along the perimeter of two adjacent IP blocks violate the MPT design rules. For example MPT design rules specify a minimum spacing between adjacent patterns to be formed by the same mask regardless of whether the patterns are part of the same IP block or are part of two adjacent IP blocks . Different IP block placement options are evaluated without changing the design or color decomposition within the individual patterns inside each IP. These placement options can vary spacing between two adjacent IP blocks or change the arrangement of the IP blocks. An example of an arrangement change includes changing from a first placement with IP block 1 IP1 on the left and IP block 2 IP2 on the right to a second placement with IP2 on the left and IP1 on the right.

The color aware prototyping can apply full color design rules that affect placement. For example if patterns on the perimeters of two adjacent IP blocks are assigned to the same mask and are separated from each other by a distance smaller than the minimum spacing design rule the color aware prototyping can increase the spacing between those two IP blocks. The color aware prototyping step can correct a number of MPT violations that relate to spacing between patterns in two different MPT compliant IP blocks. Such violations can be created during the placement process even for DRC clean IP blocks.

At step following the color aware prototyping the DRC and LVS checks are performed on the fully colored layout and RCX is performed. If no violations are found step is performed. If any violations are found then step is performed.

At step mask assignment color reference information is stored in a non transitory medium and the layout information is returned to step for revision. The mask assignment reference information allows re use of the coloring information that is not affected by the found violations to reduce the time of any coloring reiteration. In some embodiments when DRC LVS RCX violations are found the patterns causing the violations and their coloring mask assignment information are preserved in the layout mapping file to assist the designer and revising the layout.

At step every polygon shape of the uncolored layout is assigned to a respective mask color before performing DRC LVS RCX. In some embodiments a preliminary set of mask assignments suggestions is generated by the EDA tool and displayed for the user to modify or approve.

At step the main full color mask assignment loop described above with reference to is performed during layout creation. In some embodiments the users e.g. designers can use the displayed color attributes to assist the user in assigning masks colors . For example in some embodiments using DPT five color attributes are available unassigned mask A unlocked mask B unlocked mask A locked and mask B locked. In some embodiments the patterns are displayed with the attribute of each pattern identified by its respective hue fill pattern outline or tone or any combination thereof. The user can view the color attribute of each pattern according to the preliminary assignments generated in step and modify attribute of any of the patterns. In some embodiments the lock attribute is indicated by displaying the pattern with an outline to show the locked state and without outline to show the unlocked state.

At step a distill loop can provide easier design flow for engineering change order ECO purposes. An ECO is typically performed to modify a design after tapeout. The distill loop is used to minimize mask changes due to an ECO. Step is not performed for new layouts. The distill loop of step is described below with reference to . The distill loop is not performed when a new design is first given mask assignments.

At step a color aware prototyping process is performed to identify placement induced violations due to proximal patterns at the peripheries of adjacent IP blocks assigned to the same mask. The color aware prototyping process is described below with reference to .

In A and B refer to user pre colored patterns which are locked and not changed by the color decomposition engine. The lower case identifiers a and b represent mask assignment that are not locked and which the EDA tool can change to resolve a multipatterning conflict or to optimize a layout. The color decomposition engine provides the unlocked mask assignments as suggested mask assignments which the user can optionally modify and or lock. If the user does not lock the assignments of the a and b pattern mask assignments the color decomposition engine can change these assignments during subsequent iteration s .

The un colored patterns do not have suggested assignments. The patterns have the un colored attribute immediately after the initial layout is generated at step before the partial coloring step .

During the full coloring step in the color decomposition engine of the EDA tool assigns all of the previously unassigned patterns having the unassigned attribute to mask A designated by fill pattern or mask B designated by fill pattern . The mask assignments which are generated by the color decomposition engine are not locked. The combination of patterns at the end of step is designated by state .

The color decomposition engine takes into account the nature of the mask A process and mask B process. This includes whether successful patterning of the B patterns is independent of the A patterns. This engine takes into account the use of variation friendly patterns and those which are not variation friendly and the use of performance friendly patterns and those which are not performance friendly as explained below in the discussion of . When the user has completed all mask assignment changes and mask assignment lock state changes the color decomposition engine again automatically generates a new or revised set of unlocked mask assignments for all unlocked patterns.

At the completion of the color decomposition step a full color layout is provided. The full color layout has no unassigned patterns .

On the next page shows an A pattern and an adjacent B pattern according to some embodiments. This example is formed by an SADP process. The area surrounding the A pattern is a spacer which is used as the hard mask to form the B pattern . The dashed line shows the desired B pattern according to the design. If the desired B pattern is too close to the A pattern process variations can cause the spacer to encroach on the B pattern region so that the line width of the as formed B pattern is thinner than the desired B pattern and the distance from the A pattern to the as formed B pattern is greater than the distance according to the design.

The examples of also show patterns formed by an SADP process in accordance with some embodiments but for ease of viewing the spacers are omitted from .

On the other hand if the two outer patterns are formed by mask B and the center pattern is formed by mask A the correct dimensions of the center pattern are ensured even if there are process variations. Thus assignment of the center pattern to the A mask creates what is referred to herein as a variation friendly pattern. A variation friendly pattern is a pattern assigned to a first mask which is not affected by a variation in the process performed using a second mask. In some embodiments the color decomposition engine is programmed to recognize a set of patterns as shown in and automatically suggest assignment of the center pattern to mask A to form a variation friendly pattern.

For yield friendly results best results are achieved if the total pattern area on a given layer assigned to the A mask and the total pattern area on the given layer assigned to the B mask are equal or approximately equal. To achieve this target the color decomposition engine can add dummy patterns assigned to the mask having smaller total pattern area to bring the A patterns and B patterns into balance.

Given a preliminary uncolored layout the system can automatically decompose a shape into two groups by referencing a database stored in a non transitory computer readable storage medium. Within the database each record stores a template or configuration of patterns e.g. 2 parallel lines as shown in three parallel lines as shown in an L shape with an adjacent pattern as shown in or a run end configuration as shown in . Each record also includes a set of mask assignments for improving tolerance of variation improving performance or improving yield as described above. Given an uncolored preliminary layout the system compares the patterns within a given region to the combinations of patterns in the database. When a match is found the patterns in the layout are automatically assigned to the masks indicated by the record in the database for the matching configuration of patterns.

In partial coloring methods e.g. coloring information is only retained in the layout mapping file for the locked patterns. The coloring information for patterns that are not pre assigned by the designer is not stored in the layout mapping file. schematically shows the state of the mask assignments at the completion of mask decomposition in accordance with some embodiments. The layout has locked patterns and assigned by the user and unlocked patterns automatically assigned by the EDA tool. As shown in if the designer wants to revise the layout after color decomposition when the designer loads the colored layout into the layout editor of the computer implemented EDA tool the state is displayed. The locked pre colored patterns appear with their colors indicated but the unlocked patterns do not display any coloring information due to the unlocked property. They appear as unassigned patterns . Thus for implementing a design change e.g. an ECO the designer and or system repeats the time and effort for generating mask assignments for the unlocked patterns .

In some full coloring embodiments as shown in the layout editor will display coloring hints indicated by a and b for the designer. That is the mask assignments automatically generated by the color decomposition engine of the EDA tool are saved in a non transitory computer readable storage medium. These automatically generated mask assignments are referred to herein as hints or suggestions because the user can choose whether to lock them and or whether to modify them. The user can retrieve this mask assignments when revising the design. To allow this capability the color decomposition engine stores e.g. in the layout mapping file the color assignments of all unlocked a and b patterns assigned to masks by the color decomposition engine. The data can be included in two color attributes. For example one field of the mapping file can include locked unlocked data and the other field can include mask a mask b.

After color decomposition when the designer opens the layout data in the layout editor the coloring hints will reference the output of the color decomposition including the color attributes. The layout editor will display the colors of locked patterns and also the unlocked a and b pattern colors . The layout editor is thus configured to read the two color attribute fields and display all patterns with the color and locked status. Because these data are all stored in the layout mapping file they are available for subsequent access including but not limited to access after tapeout to implement design changes with reduced time and effort.

In FIG. b during initial color decomposition the patterns are automatically assigned to colors a and b . All patterns are shown in the unlocked state. The displayed mask assignments are suggestions to the designer.

In when the user opens the layout in the layout editor all the suggested colors are displayed for the unlocked a and b patterns. The user has modified two of the suggested mask assignments from a to b and has changed another of the suggested mask assignments from a to b .

In in an alternative floorplan when placing two full colored IP blocks the tool is aware of a keep out space . The keep out space is a color aware minimum spacing between adjacent patterns in adjacent IP blocks. In order to avoid DRC violations with same or different color. In some embodiments a first keep out space D3 is used for patterns of the same color i.e. assigned to the same mask . A smaller minimum distance applies for patterns that are assigned to different masks from each other. Thus one option for the placement tool is to increase the spacing between IP blocks and until the spacing between the patterns and is at least D3.

In MPT DRC violations are found related to the three patterns . In some embodiments the patterns involved in the violations are flagged with an indicator . When a full colored layout internal to an IP block violates a DRC rule regardless of placement of that IP block the mask assignment reference step disables invalidates the color data on the patterns having the indicator the patterns which caused the DRC violations and return them to uncolored status . Also the mask assignment color attributes of all the remaining colored patterns without DRC violations are kept. For those patterns having the indicator whose color data is disabled the designer can manually reassign them. shows the color state of the layout after invalidating the mask assignments of the patterns having the indicator they are all returned to the unassigned state .

This process does not impact other DRC clean patterns. Note that these problems in DRC can be due to a variety of conditions within the IP block. These problems are not addressed during color aware prototyping which is performed at the IP level . In the example shown since these three shapes have conflicts inside the IP in some embodiments the designer will fix them before again executing color aware prototyping. When the designer has corrected the internal DRC violations the designer can lock all the mask assignments again. Then color aware prototyping is performed again to place the IP blocks without changing color assignments inside the IP blocks.

However the jump is replaced by the jump when handling an ECO or other revision to a previously fully colored layout . In some embodiments for the 10 nm technology node and smaller geometries a full colored layout has been created for physical verification within the custom design flow. e.g. DRC LVS RC and post simulation . As discussed above after the initial design is complete e.g. for an ECO performed after tapeout or to implement a local modification there is no need to go repeat the complete color decomposition of steps and . The steps of layout implementation partial color assignment and color decomposition are skipped.

The designer opens the layout in the layout editor. All previously input and previously generated coloring information mask assignment and lock state information is displayed.

In some embodiments as described in a short loop is provided for ECO implementation to reduce the turn around time of iteration. When processing an ECO the user can reserve previously generated color mask assignment information without modification.

The designer s input is a partially colored layout with some patterns pre assigned to mask A or B to avoid color related DRC violations. This method de couples violations without mixing sub minimum spacing loop risk patterns and physical layout geometry in the design rules. The system receives additional user inputs modifying at least one of the plurality of patterns in the DRC ECO region and setting a mask assignment thereof. The system combines the mask assignment of the modified pattern with a subset of the previously stored user inputs and a subset of the previously stored generated mask assignment information. The combined information is to be used for forming at least one new mask.

The previously stored layout and mask assignment information that was initially stored in the layout mapping file at step during the initial IC design is accessed from a computer readable storage medium by a computer for modifying the design and forming at least one new mask. All locked and unlocked mask assignments are displayed as described above with reference to .

The mask assignment color reference step is provided for accessing previously stored mask assignment information for forming a plurality of patterns on a layer of an integrated circuit IC by multipatterning. The previously stored mask assignment information includes for each of the plurality of patterns which of a plurality of masks A B is to be used to form that pattern and a mask assignment lock status for that pattern. This information is to be reused except for specific modifications input by the user and certain limited system generated changes to accommodate the user input modifications. Because the mask assignment reference retains the lock state information all patterns which have previously been locked by the user remain locked minimizing the propagation of new automatically generated changes.

In a step is added for modifying at least one of the plurality of patterns and determining a mask assignment thereof. The user inputs this information for example using the processor .

In step the system then generates suggested mask assignments for any unlocked patterns in the vicinity of the modified pattern i.e. patterns within the boundary described below in the discussion of . The identification of which unlocked patterns should have new suggested unlocked mask assignments generated is described below with reference to .

Referring again to the system returns to step to perform the color aware prototyping and DRC LVS RCX steps for the modified design.

This approach provides faster ECO flow. It reduces the number of patterns passing through the color decomposition step and reserves initial color decomposition properties.

In the full colored layout the tool or user identifies which problems are color related rule violations where a problem is caused by assigning one or more particular patterns to particular masks and which are original DRC geometry violations independent of mask assignments . Then the user can target the correct problem. Since jump provides the mask assignment reference previously stored mask assignment and mask assignment lock state information the system will indicate violations. This approach makes sure there are no G0 loop sub minimum spacing odd loops or risk patterns in the layout. Preserving the previously computed mask assignments and mask assignment lock states during the ECO implementation can help to reduce changes to the mask assignments and mitigate mask assignment change propagation and mask swap efforts.

In block a sub minimum design rule G0 rule spacing check is performed e.g. to identify odd loops where an odd loop is a set of patterns having an odd number of sub minimum spaces as shown in . In some embodiments high lights are displayed to guide the designer to exclude odd loop layout topology. For example in boxes are displayed around the vertices representing the patterns having a G0 rule violation and edges are shown connecting the vertices.

Referring again to in some embodiments a critical network assignment block allows the user to manually select critical networks to be grouped and assigned to one of the masks e.g. mask A .

Once the user completes the critical net identification the tool automatically assigns the critical nets so in order to mitigate asymmetric process issues discussed above.

In the Risk Pattern check block a pattern match points out risk patterns e.g. variation unfriendly patterns and performance unfriendly patterns such as those described above with reference to which will not be swapped. That is mask assignments for these patterns which have been selected and locked by the designer will not be reversed.

In some embodiments the risk pattern check block is configured to identify pattern combinations as shown in for the designer to resolve during partial coloring step . The computer automatically identifies whether one or more of the plurality of patterns is of a type that is susceptible to an asymmetric process induced defect and automatically notifies a user about the identifying. For example the configuration of parallel lines shown in can be made variation friendly by assigning pattern to the A mask and patterns to the B mask. The patterns and in can be made yield friendly by assigning the pattern to the A mask and pattern to the B mask. The patterns and in can be made performance friendly by assigning pattern to the A mask and pattern to the B mask. In some embodiments the risk pattern check block suggests these solutions for coloring the patterns shown in . The user can accept these suggestions by locking the mask assignments of the patterns.

In some embodiments if the region has a pattern e.g. abutting the edge of the region the perimeter of the region is changed so that the entire pattern is within the perimeter as shown in . This ensures that the effects of the change within the region can be isolated within the boundary .

The above described method de couples the DRC violation correction from the surrounding patterns by detecting the boundary . All patterns within the region between the DRC violation ECO region and the boundary are searched either in a counter clockwise or clockwise direction.

Because of this isolation method during implementation of an ECO all mask assignments colors outside the boundary are preserved locked . This preserves the completed mask assignments which satisfy the DRC checks outside of the ECO region minimizing the scope of the ECO work.

The embodiments described herein can be applied to other types of multipatterning MPT using more than two masks.

This approach can adopt not only double patterning but also MPT multiple patterning technology involving three or more masks involving two or more different processes.

System includes an electronic design automation EDA tool such as IC COMPILER sold by Synopsys Inc. of Mountain View Calif. which may include a place and route tool such as ZROUTE also sold by Synopsys. Other EDA tools may be used such as the VIRTUOSO custom design platform or the Cadence ENCOUNTER digital IC design platform may be used along with the VIRTUOSO chip assembly router all sold by Cadence Design Systems Inc. of San Jose Calif.

In some embodiments EDA tool is a special purpose computer formed by retrieving stored program instructions from a non transient computer readable storage medium and executing the instructions on a general purpose processor. Examples of non transient computer readable storage mediums include but are not limited to hard disk drives HDD read only memories ROMs random access memories RAMs flash memories or the like. Tangible non transient machine readable storage mediums are configured to store data generated by the place and route tool .

The placement function of the place and route tool determines the location of individual IP blocks in the floor plan of the IC. The router of the place and route tool is capable of receiving an identification of integrated circuit IC design and cell information or interposer layout including for example a netlist containing pairs of cells within the plurality of cells to be connected to each other. The router of place and route tool can be equipped with a set of default design rules and technology file . The Router of tool generates the custom interconnect routing lines and vias for interconnecting the various devices of the IC.

The layout editor provides a graphical user interface for displaying part or all of a layout of one or more layers of the IC design. The layout editor can receive the GDS II output file from the place and route tool or a GDS II representation of a previously taped out IC. In some embodiments when the patterns of a layout are assigned to respective masks the mask assignments and lock states of the mask assignments are stored in a layout mapping file . Subsequently e.g. when implementing an ECO the mask assignments and lock states in the layout mapping file are provided to the layout editor so that the full colored layout can be displayed including all mask assignments and lock states.

The main layout loop block controls the sequential performance of layout implementation partial color assignment color decomposition full color layout generation color aware prototyping and DRC LVS RCX . These steps are all described above with reference to and for brevity the functions of the main loop block are not repeated.

The color decomposition block automatically generates mask assignments for any patterns which are unassigned. In some embodiments the color decomposition block also automatically generates mask assignments for any patterns which are assigned but have an unlocked assignment attribute.

The layout distill engine provides an abbreviated program flow as described above with reference to for generating mask assignments in a region changed by an ECO while retaining any previously generated locked mask assignments and providing the previously generated unlocked mask assignments for use by the color aware prototyping engine . In some embodiments these locked and unlocked mask assignments are all stored in the layout mapping file . In this reduced program flow the main loop is reduced to a shortened loop thus omitting the steps and from the program flow of . A boundary is constructed around a region to be modified. The previously stored full color layout information outside of the boundary is accessed from the layout mapping file and is retained. Mask assignments are only input and or generated steps within the boundary.

The color aware prototyping engine receives the full color layout of each DRC clean IP block and identifies the patterns at the periphery of each IP block. The color aware prototyping engine checks for MPT violations due to two adjacent patterns assigned to the same mask and located in adjacent IP blocks such as those shown in . See for example patterns and in . Upon identification of an MPT violation between two adjacent patterns at the peripheries of two adjacent IP blocks the color aware prototyping engine checks other available IP placements such as increasing space between IPs or swapping the locations of the two IPs .

The fully colored layout data are then stored in the non transitory computer readable storage medium including for each pattern a respective mask assignment and a respective mask assignment lock state. Thus in the example described above having mask A and mask B some patterns are assigned to mask A and are locked some patterns are assigned to mask B and are locked some patterns are assigned to mask A and are unlocked some patterns are assigned to mask B and are unlocked.

EDA tool indicates that one or more programmed processors may be included. In some embodiments the processing load is performed by two or more application programs each operating on a separate processor. In other embodiments the processes are all performed using one processor. Similarly two media are shown but the data may be stored in any number of media.

Although shows an allocation of the various tasks to specific modules this is only one example. The various tasks may be assigned to different modules to improve performance or improve the ease of programming.

As described herein some embodiments provide a layout pre coloring method with storage of full coloring information and lock status and a layout editor that can access the stored coloring information for rapid implementation of post tapeout design changes such as in response to ECOs. The method and system further provides tools for assisting the designer in identifying critical networks and high risk patterns that should be considered as candidates for pre coloring. The system and method also assists the designer during IP placement to identify multi patterning conflicts that are created by adjacent placement of two or more previously DRC checked IP blocks. These systems and methods are advantageous in full coloring custom design methodology such as MPT techniques that use multiple process methods for patterning the same layer e.g. SADP . These systems can reduce analog mixed signal design and layout implementation effort.

In some embodiments 4 steps are used to achieve full coloring in the 10 nm technology node or other advanced technology .

The partial color to full color step identifies all patterns that have not been locked by the user and automatically generates suggested unlocked mask assignments for those patterns.

The main Layout loop can resolve the majority of color assignment problems including sub minimum spacing layout geometry . The main loop incorporates design rules that can identify risky patterns for full coloring techniques using multiple processes. The main loop highlights these patterns to allow the designer to pre color them to obviate the problem.

The Layout distill loop provides a short cut for ECO or final layout modification. Full coloring mask assignment information generated during the initial layout coloring process can be accessed and re used so that the effort and time expended to implement the ECO is minimized.

Color aware prototyping avoids induced DRC violations due to placement of IP blocks and reduces turn around time. Color aware prototyping can detect violations that occur due to the proximal placement of two or more IP blocks after the individual IP blocks have already passed through DRC checks.

In some embodiments a non transitory computer readable storage medium is encoded with computer program instructions such that when the computer program instructions are executed by a computer the computer performs a method. The method generates mask assignment information for forming a plurality of patterns on a layer of an integrated circuit IC by multipatterning. The mask assignment information includes for each of the plurality of patterns a mask assignment identifying which of a plurality of masks is to be used to form that pattern and a mask assignment lock state for that pattern. User inputs setting the mask assignment of at least one of the plurality of patterns and its mask assignment lock state are received. A new mask assignment is generated for each of the plurality of patterns having an unlocked mask assignment lock state.

In some embodiments a method comprises accessing previously stored mask assignment information for forming a plurality of patterns on a layer of an integrated circuit IC by multipatterning. The mask assignment information includes for each of the plurality of patterns which of a plurality of masks is to be used to form that pattern and a mask assignment lock status for that pattern. At least one of the plurality of patterns is modified and a mask assignment thereof is determined. The previously stored mask assignment information for at least one other one of the plurality of patterns and the mask assignment of the modified pattern are stored in a computer readable storage medium that is accessible by a computer for forming at least one new mask.

In some embodiments an electronic design automation EDA tool comprises a non transitory computer readable storage medium containing internal layout information and mask assignment information for first and second circuit blocks of an integrated circuit IC . The IC has at least one layer to be formed by multipatterning with at least two masks. A computer is configured for placing the first and second circuit blocks in a floorplan of the IC. The computer is configured to access the internal layout information and mask assignment information. The computer is configured to identify whether a first pattern in the first circuit block and a second pattern in the second circuit block are assigned to a same one of the at least two masks and are separated from each other by a distance that is smaller than a predetermined minimum spacing design rule after the placing.

The methods and system described herein may be at least partially embodied in the form of computer implemented processes and apparatus for practicing those processes. The disclosed methods may also be at least partially embodied in the form of tangible non transient machine readable storage media encoded with computer program code. The media may include for example RAMs ROMs CD ROMs DVD ROMs BD ROMs hard disk drives flash memories or any other non transient machine readable storage medium wherein when the computer program code is loaded into and executed by a computer the computer becomes an apparatus for practicing the method. The methods may also be at least partially embodied in the form of a computer into which computer program code is loaded and or executed such that the computer becomes a special purpose apparatus for practicing the methods. When implemented on a general purpose processor the computer program code segments configure the processor to create specific logic circuits. The methods may alternatively be at least partially embodied in a digital signal processor formed of application specific integrated circuits for performing the methods. Although the subject matter has been described in terms of exemplary embodiments it is not limited thereto. Rather the appended claims should be construed broadly to include other variants and embodiments which may be made by those skilled in the art.

The foregoing outlines features of several embodiments so that those skilled in the art may better understand the aspects of the present disclosure. Those skilled in the art should appreciate that they may readily use the present disclosure as a basis for designing or modifying other processes and structures for carrying out the same purposes and or achieving the same advantages of the embodiments introduced herein. Those skilled in the art should also realize that such equivalent constructions do not depart from the spirit and scope of the present disclosure and that they may make various changes substitutions and alterations herein without departing from the spirit and scope of the present disclosure.

