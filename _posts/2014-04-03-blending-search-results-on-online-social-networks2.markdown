---

title: Blending search results on online social networks
abstract: In one embodiment, a method includes receiving from a first user of an online social network a search query input including one or more n-grams; generating a number of query commands based on the search query input; and searching one or more verticals to identify one or more objects stored by the vertical that match the query commands. Each vertical stores one or more objects associated with the online social network. The method also includes generating a number of search-result modules. Each search-result module corresponds to a query command of the number of query commands. Each search-result module includes references to one or more of the identified objects matching the query command corresponding to the search-result module. The method also includes scoring the search-result modules; and sending each search-result module having a score greater than a threshold score to the first user for display.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09646055&OS=09646055&RS=09646055
owner: Facebook, Inc.
number: 09646055
owner_city: Menlo Park
owner_country: US
publication_date: 20140403
---
This disclosure generally relates to social graphs and performing searches for objects within a social networking environment.

A social networking system which may include a social networking website may enable its users such as persons or organizations to interact with it and with each other through it. The social networking system may with input from a user create and store in the social networking system a user profile associated with the user. The user profile may include demographic information communication channel information and information on personal interests of the user. The social networking system may also with input from a user create and store a record of relationships of the user with other users of the social networking system as well as provide services e.g. wall posts photo sharing event organization messaging games or advertisements to facilitate social interaction between or among users.

The social networking system may send over one or more networks content or messages related to its services to a mobile or other computing device of a user. A user may also install software applications on a mobile or other computing device of the user for accessing a user profile of the user and other data within the social networking system. The social networking system may generate a personalized set of content objects to display to a user such as a newsfeed of aggregated stories of other users connected to the user.

Social graph analysis views social relationships in terms of network theory consisting of nodes and edges. Nodes represent the individual actors within the networks and edges represent the relationships between the actors. The resulting graph based structures are often very complex. There can be many types of nodes and many types of edges for connecting nodes. In its simplest form a social graph is a map of all of the relevant edges between all the nodes being studied.

In particular embodiments a user of a social networking system may search for objects associated with the system using a search queries.

In particular embodiments in response to a search query input received from a user the social networking system may access one or more verticals to search for objects that match the character string of the search query input. Based on the identified objects the social networking system may then send references to those objects for display to the user for example in a drop down menu associated with the query field. The querying user may then select among the references to indicate that the object corresponding to the reference should be retrieved by the social networking system.

In particular embodiments the social networking system may receive an unstructured text query from a client system of a user. The text query may be processed by a sub request generator of the social networking system that generates a plurality of queries. The queries generated by the sub request generator may include one or more keyword searches based on the text query and or one or more structured queries comprising references to particular social graph elements. As an example and not by way of limitation unstructured text query photos friends may yield a keyword query of photos friend and structured queries for Photos of my Friends and Photos by my Friends which comprise references to particular social graph elements . The sub request generator may associate a particular score or weighting to each generated query denoting the relative importance or relevance of the query.

In particular embodiments the queries generated by the sub request generator may be sent to one or more data stores associated with the social networking system to retrieve search results that match the search queries and each search result may be returned with an associated relevance score. The search results returned by the different verticals may then be aggregated by a blender which may score and rank the modules. The score of a module may be based on the individual scores of the results in the particular module. The score of a module may also be based on the intent class of the query.

This disclosure contemplates any suitable network . As an example and not by way of limitation one or more portions of network may include an ad hoc network an intranet an extranet a virtual private network VPN a local area network LAN a wireless LAN WLAN a wide area network WAN a wireless WAN WWAN a metropolitan area network MAN a portion of the Internet a portion of the Public Switched Telephone Network PSTN a cellular telephone network or a combination of two or more of these. Network may include one or more networks .

Links may connect client system social networking system and third party system to communication network or to each other. This disclosure contemplates any suitable links . In particular embodiments one or more links include one or more wireline such as for example Digital Subscriber Line DSL or Data Over Cable Service Interface Specification DOCSIS wireless such as for example Wi Fi or Worldwide Interoperability for Microwave Access WiMAX or optical such as for example Synchronous Optical Network SONET or Synchronous Digital Hierarchy SDH links. In particular embodiments one or more links each include an ad hoc network an intranet an extranet a VPN a LAN a WLAN a WAN a WWAN a MAN a portion of the Internet a portion of the PSTN a cellular technology based network a satellite communications technology based network another link or a combination of two or more such links . Links need not necessarily be the same throughout network environment . One or more first links may differ in one or more respects from one or more second links .

In particular embodiments client system may be an electronic device including hardware software or embedded logic components or a combination of two or more such components and capable of carrying out the appropriate functionalities implemented or supported by client system . As an example and not by way of limitation client system may include a computer system such as a desktop computer notebook or laptop computer netbook a tablet computer e book reader GPS device camera personal digital assistant PDA handheld electronic device cellular telephone smartphone other suitable electronic device or any suitable combination thereof. This disclosure contemplates any suitable client systems . Client system may enable a network user at client system to access network . Client system may enable its user to communicate with other users at other client systems .

In particular embodiments client system may include a web browser such as MICROSOFT INTERNET EXPLORER GOOGLE CHROME or MOZILLA FIREFOX and may have one or more add ons plug ins or other extensions such as TOOLBAR or YAHOO TOOLBAR. A user at client system may enter a Uniform Resource Locator URL or other address directing the web browser to a particular server such as server or a server associated with third party system and the web browser may generate a Hyper Text Transfer Protocol HTTP request and communicate the HTTP request to server. The server may accept the HTTP request and communicate to client system one or more Hyper Text Markup Language HTML files responsive to the HTTP request. Client system may render a webpage based on the HTML files from the server for presentation to the user. This disclosure contemplates any suitable webpage files. As an example and not by way of limitation webpages may render from HTML files Extensible Hyper Text Markup Language XHTML files or Extensible Markup Language XML files according to particular needs. Such pages may also execute scripts such as for example and without limitation those written in JAVASCRIPT JAVA MICROSOFT SILVERLIGHT combinations of markup language and scripts such as AJAX Asynchronous JAVASCRIPT and XML and the like. Herein reference to a webpage encompasses one or more corresponding webpage files which a browser may use to render the webpage and vice versa where appropriate.

In particular embodiments social networking system may be a network addressable computing system that can host an online social network. Social networking system may generate store receive and send social networking data such as for example user profile data concept profile data social graph information or other suitable data related to the online social network. Social networking system may be accessed by the other components of network environment either directly or via network . In particular embodiments social networking system may include one or more servers . Each server may be a unitary server or a distributed server spanning multiple computers or multiple datacenters. Servers may be of various types such as for example and without limitation web server news server mail server message server advertising server file server application server exchange server database server proxy server another server suitable for performing functions or processes described herein or any combination thereof. In particular embodiments each server may include hardware software or embedded logic components or a combination of two or more such components for carrying out the appropriate functionalities implemented or supported by server . In particular embodiments social networking system may include one or more data stores . Data stores may be used to store various types of information. In particular embodiments the information stored in data stores may be organized according to specific data structures. In particular embodiments each data store may be a relational columnar correlation or other suitable database. Although this disclosure describes or illustrates particular types of databases this disclosure contemplates any suitable types of databases. Particular embodiments may provide interfaces that enable client system social networking system or third party system to manage retrieve modify add or delete the information stored in data store .

In particular embodiments social networking system may store one or more social graphs in one or more data stores . In particular embodiments a social graph may include multiple nodes which may include multiple user nodes each corresponding to a particular user or multiple concept nodes each corresponding to a particular concept and multiple edges connecting the nodes. Social networking system may provide users of the online social network the ability to communicate and interact with other users. In particular embodiments users may join the online social network via social networking system and then add connections i.e. relationships to a number of other users of social networking system whom they want to be connected to. Herein the term friend may refer to any other user of social networking system with whom a user has formed a connection association or relationship via social networking system .

In particular embodiments social networking system may provide users with the ability to take actions on various types of items or objects supported by social networking system . As an example and not by way of limitation the items and objects may include groups or social networks to which users of social networking system may belong events or calendar entries in which a user might be interested computer based applications that a user may use transactions that allow users to buy or sell items via the service interactions with advertisements that a user may perform or other suitable items or objects. A user may interact with anything that is capable of being represented in social networking system or by an external system of third party system which is separate from social networking system and coupled to social networking system via a network .

In particular embodiments social networking system may be capable of linking a variety of entities. As an example and not by way of limitation social networking system may enable users to interact with each other as well as receive content from third party systems or other entities or to allow users to interact with these entities through an application programming interfaces API or other communication channels.

In particular embodiments third party system may include one or more types of servers one or more data stores one or more interfaces including but not limited to APIs one or more web services one or more content sources one or more networks or any other suitable components e.g. that servers may communicate with. A third party system may be operated by a different entity from an entity operating social networking system . In particular embodiments however social networking system and third party systems may operate in conjunction with each other to provide social networking services to users of social networking system or third party systems . In this sense social networking system may provide a platform or backbone which other systems such as third party systems may use to provide social networking services and functionality to users across the Internet.

In particular embodiments third party system may include a third party content object provider. A third party content object provider may include one or more sources of content objects which may be communicated to client system . As an example and not by way of limitation content objects may include information regarding things or activities of interest to the user such as for example movie show times movie reviews restaurant reviews restaurant menus product information and reviews or other suitable information. As another example and not by way of limitation content objects may include incentive content objects such as coupons discount tickets gift certificates or other suitable incentive objects.

In particular embodiments social networking system also includes user generated content objects which may enhance a user s interactions with social networking system . User generated content may include anything a user can add upload send or post to social networking system . As an example and not by way of limitation a user communicates posts to social networking system from client system . Posts may include data such as status updates or other textual data location information photos videos links music or other similar data or media. Content may also be added to social networking system by a third party through a communication channel such as a newsfeed or stream.

In particular embodiments social networking system may include a variety of servers sub systems programs modules logs and data stores. In particular embodiments social networking system may include one or more of the following a web server action logger API request server relevance and ranking engine content object classifier notification controller action log third party content object exposure log inference module authorization privacy server search module ad targeting module user interface module user profile store connection store third party content store or location store. Social networking system may also include suitable components such as network interfaces security mechanisms load balancers failover servers management and network operations consoles other suitable components or any suitable combination thereof. In particular embodiments social networking system may include one or more user profile stores for storing user profiles. A user profile may include for example biographic information demographic information behavioral information social information or other types of descriptive information such as work experience educational history hobbies or preferences interests affinities or location. Interest information may include interests related to one or more categories. Categories may be general or specific. As an example and not by way of limitation if a user likes an article about a brand of shoes the category may be the brand or the general category of shoes or clothing. A connection store may be used for storing connection information about users. The connection information may indicate users who have similar or common work experience group memberships hobbies educational history or are in any way related or share common attributes. The connection information may also include user defined connections between different users and content objects both internal and external . A web server may be used for linking social networking system to one or more client systems or one or more third party system via network . The web server may include a mail server or other messaging functionality for receiving and routing messages between social networking system and one or more client systems . An API request server may allow third party system to access information from social networking system by calling one or more APIs. An action logger may be used to receive communications from a web server about a user s actions on or off social networking system . In conjunction with the action log a third party content object log may be maintained of user exposures to third party content objects. A notification controller may provide information regarding content objects to client system . Information may be pushed to client system as notifications or information may be pulled from client system responsive to a request received from client system . Authorization servers may be used to enforce one or more privacy settings of the users of social networking system . A privacy setting of a user determines how particular information associated with a user can be shared. The authorization server may allow users to opt in or opt out of having their actions logged by social networking system or shared with other systems e.g. third party system such as for example by setting appropriate privacy settings. Third party content object stores may be used to store content objects received from third parties such as third party system . Location stores may be used for storing location information received from client systems associated with users. Advertisement pricing modules may combine social information the current time location information or other suitable information to provide relevant advertisements in the form of notifications to a user.

In particular embodiments a user node may correspond to a user of social networking system . As an example and not by way of limitation a user may be an individual human user an entity e.g. an enterprise business or third party application or a group e.g. of individuals or entities that interacts or communicates with or over social networking system . In particular embodiments when a user registers for an account with social networking system social networking system may create a user node corresponding to the user and store the user node in one or more data stores. Users and user nodes described herein may where appropriate refer to registered users and user nodes associated with registered users. In addition or as an alternative users and user nodes described herein may where appropriate refer to users that have not registered with social networking system . In particular embodiments a user node may be associated with information provided by a user or information gathered by various systems including social networking system . As an example and not by way of limitation a user may provide his or her name profile picture contact information birth date sex marital status family status employment education background preferences interests or other demographic information. In particular embodiments a user node may be associated with one or more data objects corresponding to information associated with a user. In particular embodiments a user node may correspond to one or more webpages.

In particular embodiments a concept node may correspond to a concept. As an example and not by way of limitation a concept may correspond to a place such as for example a movie theater restaurant landmark or city a website such as for example a website associated with social network system or a third party website associated with a web application server an entity such as for example a person business group sports team or celebrity a resource such as for example an audio file video file digital photo text file structured document or application which may be located within social networking system or on an external server such as a web application server real or intellectual property such as for example a sculpture painting movie game song idea photograph or written work a game an activity an idea or theory another suitable concept or two or more such concepts. A concept node may be associated with information of a concept provided by a user or information gathered by various systems including social networking system . As an example and not by way of limitation information of a concept may include a name or a title one or more images e.g. an image of the cover page of a book a location e.g. an address or a geographical location a website which may be associated with a URL contact information e.g. a phone number or an email address other suitable concept information or any suitable combination of such information. In particular embodiments a concept node may be associated with one or more data objects corresponding to information associated with concept node . In particular embodiments a concept node may correspond to one or more webpages.

In particular embodiments a node in social graph may represent or be represented by a webpage which may be referred to as a profile page . Profile pages may be hosted by or accessible to social networking system . Profile pages may also be hosted on third party websites associated with a third party server . As an example and not by way of limitation a profile page corresponding to a particular external webpage may be the particular external webpage and the profile page may correspond to a particular concept node . Profile pages may be viewable by all or a selected subset of other users. As an example and not by way of limitation a user node may have a corresponding user profile page in which the corresponding user may add content make declarations or otherwise express himself or herself. As another example and not by way of limitation a concept node may have a corresponding concept profile page in which one or more users may add content make declarations or express themselves particularly in relation to the concept corresponding to concept node .

In particular embodiments a concept node may represent a third party webpage or resource hosted by third party system . The third party webpage or resource may include among other elements content a selectable or other icon or other inter actable object which may be implemented for example in JavaScript AJAX or PHP codes representing an action or activity. As an example and not by way of limitation a third party webpage may include a selectable icon such as like check in eat recommend or another suitable action or activity. A user viewing the third party webpage may perform an action by selecting one of the icons e.g. eat causing client system to send to social networking system a message indicating the user s action. In response to the message social networking system may create an edge e.g. an eat edge between a user node corresponding to the user and a concept node corresponding to the third party webpage or resource and store edge in one or more data stores.

In particular embodiments a pair of nodes in social graph may be connected to each other by one or more edges . An edge connecting a pair of nodes may represent a relationship between the pair of nodes. In particular embodiments an edge may include or represent one or more data objects or attributes corresponding to the relationship between a pair of nodes. As an example and not by way of limitation a first user may indicate that a second user is a friend of the first user. In response to this indication social networking system may send a friend request to the second user. If the second user confirms the friend request social networking system may create an edge connecting the first user s user node to the second user s user node in social graph and store edge as social graph information in one or more of data stores . In the example of social graph includes an edge indicating a friend relation between user nodes of user A and user B and an edge indicating a friend relation between user nodes of user C and user B. Although this disclosure describes or illustrates particular edges with particular attributes connecting particular user nodes this disclosure contemplates any suitable edges with any suitable attributes connecting user nodes . As an example and not by way of limitation an edge may represent a friendship family relationship business or employment relationship fan relationship follower relationship visitor relationship subscriber relationship superior subordinate relationship reciprocal relationship non reciprocal relationship another suitable type of relationship or two or more such relationships. Moreover although this disclosure generally describes nodes as being connected this disclosure also describes users or concepts as being connected. Herein references to users or concepts being connected may where appropriate refer to the nodes corresponding to those users or concepts being connected in social graph by one or more edges .

In particular embodiments an edge between a user node and a concept node may represent a particular action or activity performed by a user associated with user node toward a concept associated with a concept node . As an example and not by way of limitation as illustrated in a user may like attended played listened cooked worked at or watched a concept each of which may correspond to a edge type or subtype. A concept profile page corresponding to a concept node may include for example a selectable check in icon such as for example a clickable check in icon or a selectable add to favorites icon. Similarly after a user clicks these icons social networking system may create a favorite edge or a check in edge in response to a user s action corresponding to a respective action. As another example and not by way of limitation a user user C may listen to a particular song Imagine using a particular application SPOTIFY which is an online music application . In this case social networking system may create a listened edge and a used edge as illustrated in between user nodes corresponding to the user and concept nodes corresponding to the song and application to indicate that the user listened to the song and used the application. Moreover social networking system may create a played edge as illustrated in between concept nodes corresponding to the song and the application to indicate that the particular song was played by the particular application. In this case played edge corresponds to an action performed by an external application SPOTIFY on an external audio file the song Imagine . Although this disclosure describes particular edges with particular attributes connecting user nodes and concept nodes this disclosure contemplates any suitable edges with any suitable attributes connecting user nodes and concept nodes . Moreover although this disclosure describes edges between a user node and a concept node representing a single relationship this disclosure contemplates edges between a user node and a concept node representing one or more relationships. As an example and not by way of limitation an edge may represent both that a user likes and has used at a particular concept. Alternatively another edge may represent each type of relationship or multiples of a single relationship between a user node and a concept node as illustrated in between user node for user E and concept node for SPOTIFY .

In particular embodiments social networking system may create an edge between a user node and a concept node in social graph . As an example and not by way of limitation a user viewing a concept profile page such as for example by using a web browser or a special purpose application hosted by the user s client system may indicate that he or she likes the concept represented by the concept node by clicking or selecting a Like icon which may cause the user s client system to send to social networking system a message indicating the user s liking of the concept associated with the concept profile page. In response to the message social networking system may create an edge between user node associated with the user and concept node as illustrated by like edge between the user and concept node . In particular embodiments social networking system may store an edge in one or more data stores. In particular embodiments an edge may be automatically formed by social networking system in response to a particular user action. As an example and not by way of limitation if a first user uploads a picture watches a movie or listens to a song an edge may be formed between user node corresponding to the first user and concept nodes corresponding to those concepts. Although this disclosure describes forming particular edges in particular manners this disclosure contemplates forming any suitable edges in any suitable manner.

In particular embodiments each object may correspond to a particular node of a social graph . An edge connecting the particular node and another node may indicate a relationship between objects corresponding to these nodes. In addition to storing objects a particular data store may also store social graph information relating to the object. Alternatively social graph information about particular objects may be stored in a different data store from the objects. Social networking system may update the search index of the data store based on newly received objects and relationships associated with the received objects.

In particular embodiments each data store may be configured to store objects of a particular one of a plurality of object types in respective data storage devices . An object type may be for example a user a photo a post a comment a message an event listing a webpage an application a location a user profile page a concept profile page a user group an audio file a video an offer coupon or another suitable type of object. Although this disclosure describes particular types of objects this disclosure contemplates any suitable types of objects. As an example and not by way of limitation a user vertical P illustrated in may store user objects. Each user object stored in the user vertical P may comprise an identifier e.g. a character string a user name and a profile picture for a user of the online social network. Social networking system may also store in the user vertical P information associated with a user object such as language location education contact information interests relationship status a list of friends contacts a list of family members privacy settings and so on. As an example and not by way of limitation a post vertical P illustrated in may store post objects. Each post object stored in the post vertical P may comprise an identifier a text string for a post posted to social networking system . Social networking system may also store in the post vertical P information associated with a post object such as a time stamp an author privacy settings users who like the post a count of likes comments a count of comments location and so on. As an example and not by way of limitation a photo vertical P may store photo objects or objects of other media types such as video or audio . Each photo object stored in the photo vertical P may comprise an identifier and a photo. Social networking system may also store in the photo vertical P information associated with a photo object such as a time stamp an author privacy settings users who are tagged in the photo users who like the photo comments and so on. In particular embodiments each data store may also be configured to store information associated with each stored object in data storage devices .

In particular embodiments objects stored in each vertical may be indexed by one or more search indices. The search indices may be hosted by respective index server comprising one or more computing devices e.g. servers . The index server may update the search indices based on data e.g. a photo and information associated with a photo submitted to social networking system by users or other processes of social networking system or a third party system . The index server may also update the search indices periodically e.g. every 24 hours . The index server may receive a query comprising a search term and access and retrieve search results from one or more search indices corresponding to the search term. In some embodiments a vertical corresponding to a particular object type may comprise a plurality of physical or logical partitions each comprising respective search indices.

In particular embodiments social networking system may receive a search query from a PHP Hypertext Preprocessor process . The PHP process may comprise one or more computing processes hosted by one or more servers of social networking system . The search query may be a text string or a search query submitted to the PHP process by a user or another process of social networking system or third party system .

More information on indexes and search queries may be found in U.S. patent application Ser. No. 13 560 212 filed 27 Jul. 2012 U.S. patent application Ser. No. 13 560 901 filed 27 Jul. 2012 and U.S. patent application Ser. No. 13 723 861 filed 21 Dec. 2012 each of which is incorporated by reference.

In particular embodiments one or more client side and or backend server side processes may implement and utilize a typeahead feature that may automatically attempt to match social graph elements e.g. user nodes concept nodes or edges to information currently being entered by a user in an input form rendered in conjunction with a requested webpage such as for example a user profile page a concept profile page a search results webpage or another suitable page of the online social network which may be hosted by or accessible in social networking system . In particular embodiments as a user is entering text to make a declaration the typeahead feature may attempt to match the string of textual characters being entered in the declaration to strings of characters e.g. names descriptions corresponding to user concepts or edges and their corresponding elements in the social graph . In particular embodiments when a match is found the typeahead feature may automatically populate the form with a reference to the social graph element such as for example the node name type node ID edge name type edge ID or another suitable reference or identifier of the existing social graph element. More information on typeahead processes may be found in U.S. patent application Ser. No. 12 763 162 filed 19 Apr. 2010 and U.S. patent application Ser. No. 13 556 072 filed 23 Jul. 2012 each of which is incorporated by reference.

In connection with search queries and search results particular embodiments may utilize one or more systems components elements functions methods operations or steps disclosed in U.S. patent application Ser. No. 11 503 093 filed 11 Aug. 2006 U.S. patent application Ser. No. 12 977 027 filed 22 Dec. 2010 U.S. patent application Ser. No. 12 978 265 filed 23 Dec. 2010 and U.S. patent application Ser. No. 13 732 101 filed 31 Dec. 2012 each of which is incorporated by reference.

In particular embodiments social networking system may generate a query command based on a query e.g. a text query or a structured query received from a querying user. The query command may then be used in a search against objects in a data store of the social networking system . In particular embodiments the query command may be provided for a search using search indices for one or more data stores or verticals of social networking system . The query command may comprise one or more query constraints. Each query constraint may be identified by social networking system based on a parsing of the query by a parsing algorithm. Each query constraint may be a request for a particular object type. In particular embodiments the query command may comprise query constraints in symbolic expression or s expression. Social networking system may parse the structured query Photos I like to a query command photos liked by . The query command photos liked by denotes a query for photos liked by a user i.e. which corresponding to the querying user with a single result type of photo. The query constraint may include for example social graph constraints e.g. requests for particular nodes or nodes types or requests for nodes connected to particular edges or edge types object constraints e.g. request for particular objects or object types location constraints e.g. requests for objects or social graph entities associates with particular geographic locations other suitable constraints or any combination thereof. In particular embodiments a query command may comprise prefix and an object. The object may correspond to a particular node in the social graph while the prefix may correspond to a particular edge or edge type indicating a particular type of relationship connecting to the particular node in the social graph . As an example and not by way of limitation the query command pages liked by comprises a prefix pages liked by and an object . Although this disclosure describes generating particular query commands in a particular manner this disclosure contemplates generating any suitable query commands in any suitable manner. In particular embodiments social networking system may generate a query command comprising a weak and WAND or strong or operator SOR . More information on WAND and SOR operators may be found in U.S. patent application Ser. No. 13 560 901 filed 27 Jul. 2012 and U.S. patent application Ser. No. 13 887 049 filed 3 May 2013 which are incorporated by reference.

In particular embodiments the parsing algorithm used to generate query commands may comprise one or more parsing configuration parameters. The parsing configuration parameters may specify how to generate a query command for a particular type of query received from a user. The parsing configuration parameters may specify for example instructions for generating query commands having a specified number of query constraints for a specified number of objects of a specified object type to be retrieved from a specified number of data stores . In other words the parsing configuration parameters may specify the types of objects that should be searched and the types number of verticals that should be accessed. For each vertical accessed the parsing configuration parameters may specify the number of objects to retrieve from each vertical . As an example and not by way of limitation in response to a search query input kais social networking system may generate the following query command 

In particular embodiments social networking system may retrieve objects from one or more verticals that substantially match the query constraints of a query command. Social networking system may access one or more verticals in response to a search query received from a user as specified by the query command. Each vertical may store one or more objects associated with the online social network. The number and type of verticals accessed in response to the search query may be based on the query constraints of the query command. Each vertical may store objects associated with the online social network of the object type specified by the query constraint. As an example and not by way of limitation one of the query constraints of a query command for users social networking system may access a users vertical P to identify one or more users who match the query. Social networking system may identify matching objects in any suitable manner such as for example by using one or more string matching algorithms to match the character string with a string of characters associated with each of one or more of the objects. As an example and not by way of limitation in response to a search query input kais social networking system may access one or more users verticals P and one or more posts verticals P and search the accessed verticals to identify objects e.g. user profile pages or posts stored in those verticals. Social networking system may submit the following query command to each accessed vertical 

In particular embodiments when searching verticals to identify matching objects social networking system may only identify and score up to a threshold number of matching nodes in a particular vertical . When social networking system retrieves objects from a vertical in response to a query or a particular query constraint the objects may be retrieved based on a static score or static rank of the indexed objects. As an example and not by way of limitation the objects with the static ranks up to the threshold number may be retrieved and further processed for example by a scoring algorithm that may calculate a final score for the retrieved objects based on a variety of factors in order to determine search results to send back to the querying user. Each object stored in a vertical may be associated with a pre determined static score based on a static scoring algorithm. In particular embodiments the pre determined static score of each object may a pre determined ranking of the object for a particular type of query. As an example and not by way of limitation when a structured query comprises friends of Alex which may be a portion of a larger query such as photos of friends of Alex or friends of friends of Alex user nodes corresponding to friends of the user Alex may have pre determined static scores with respect to this structured query. Alex s top three friends may be for example Larry Moe and Joe ranked in that order. Thus when searching a users vertical P in response to the query friends of Alex or the query command friends of the users Larry Moe and Joe may be retrieved as the top three objects. When searching a vertical social networking system may retrieve objects based on the static scores of the objects where the objects with the highest best static scores may be retrieved. The threshold number of matching objects may then be scored and ranked by the social networking system . The threshold number may be chosen to enhance search quality or to optimize the processing of search results. As an example and not by way of limitation social networking system may only identify the top N matching objects i.e. the number to score or num to score for an s expression in the examples used herein in a users vertical P in response to a query command requesting users. The top N objects may be determined by their static scores e.g. ranking based on the current social graph affinity of the user with respect to the querying user of the objects in a search index corresponding to the users vertical P. The static scores may be pre determined by social networking system using a static scoring algorithm. However this process may be inefficient if social networking system has to retrieve an excess number of objects from a vertical in order to find the top N scoring objects according the scoring algorithm that determines which objects to send back to a user as search results. As an example and not by way of limitation social networking system may access a particular vertical in response to a query and retrieves one hundred matching objects where each object has an associated static rank. A final score may then be calculated for these one hundred objects e.g. based on social graph affinity by a scoring algorithm. The top 5 scoring objects according to the scoring algorithm may be for example objects having a static rank of 4 12 20 78 and 95. This process could be improved for example if the top N objects static rank were the same as the top N objects by final rank. By more closely aligning the static rank of object with the final ranks calculated by the search engine social networking system may be able to reduce the number of matching objects it needs to retrieve and score in order to generate a sufficient number of search results. In particular embodiments the static score of an object may be based on the search query itself. In other words depending on the particular query or query type an object may have a different static score with respect to that query or query type. As an example and not by way of limitation if the number to score is 500 the top 500 objects may be identified. These 500 objects may then be scores based on one or more factors e.g. match to the search query or other query constraints social graph affinity search history etc. and the top M results may then be generated as search results to display to the querying user. In particular embodiments the top results after one or more rounds of rankings may be sent to an aggregator for a final round of ranking where identified objects may be reordered redundant results may be dropped or any other type of results processing may occur before presentation to the querying user. Although this disclosure describes identifying particular numbers of objects this disclosure contemplates identifying any suitable numbers of objects. Furthermore although this disclosure describes ranking objects in a particular manner this disclosure contemplates ranking objects in any suitable manner.

In particular embodiments social networking system may score one or more objects identified as matching a query constraint. The score also referred to as a final score for each retrieved identified object may be calculated in any suitable manner such as for example by using a particular scoring algorithm. Each identified object may correspond to a particular user node or concept node of social graph . When a query command includes a plurality of query constraints social networking system may score the nodes matching each query constraint independently or jointly. Social networking system may score the first set of identified nodes by accessing a data store corresponding to the object type of the identified nodes. As an example and not by way of limitation when generating identified nodes matching the query constraint extract authors term posts liked by social networking system may identify the set of users in the user vertical . Social networking system may then score the users and based on their respective social affinity with respect to the user . For example social networking system of the post vertical may then score the identified nodes of users and based on a number of posts in the list of posts liked by the user . The users and may have authored the following posts liked by the user . If user authored posts user authored posts and and user authored post social networking system may score user as highest since his authored most of the posts in the list of posts liked by the user with and having consecutively lower scores. As another example and not by way of limitation using the prior example social networking system may access a forward index that maps a post to a count of likes of the post. The index server may access the forward index and retrieve counts of likes for each post of the list of posts liked by the user . The index server may score the posts in the list of posts i.e. based on respective counts of likes and return to social networking system authors of top scored posts e.g. top 3 scored or most liked posts as the first identified node. After each appropriate scoring factor is considered for a particular identified node an overall score for the identified node may be determined. Based on the scoring of the nodes social networking system may then generate one or more sets of identified nodes. As an example and not by way of limitation social networking system may only generate a set of identified nodes corresponding to nodes having a score greater than a threshold score. As another example and not by way of limitation social networking system may rank the scored nodes and then only generate a set of identified nodes corresponding to nodes having a rank greater than a threshold rank e.g. top ten top twenty etc. . Although this disclosure describes scoring matching nodes in a particular manner this disclosure contemplates scoring matching nodes in any suitable manner.

In particular embodiments social networking system may score the search results based on a social graph affinity associated with the querying user or the user node of the querying user . The scoring algorithm used to score retrieved object may use social graph affinity as a factor. Social networking system may determine the social graph affinity which may be referred to herein as affinity of various social graph entities for each other. Affinity may represent the strength of a relationship or level of interest between particular objects associated with the online social network such as users concepts content actions advertisements other objects associated with the online social network or any suitable combination thereof. In particular embodiments social networking system may measure or quantify social graph affinity using an affinity coefficient which may be referred to herein as coefficient . The coefficient may represent or quantify the strength of a relationship between particular objects associated with the online social network. The coefficient may also represent a probability or function that measures a predicted probability that a user will perform a particular action based on the user s interest in the action. In particular embodiments social graph affinity may be used as a factor when scoring search results. As an example and not by way of limitation in response to the structured query Photos of my friends social networking system may generate the query command photos of users and may determine that the search intent of this query is to view group photos showing the user s friends. When scoring identified concept nodes corresponding to photos with the user s friends tagged in the photo social networking system may score photos better based on the querying user s respective social graph affinity e.g. as measured by an affinity coefficient of the user s tagged in the photo with respect to the querying user. Furthermore photos showing more of the querying user s friends may be tagged higher than photos showing fewer of the user s friends since having more friends tagged in the photo may increase the querying user s affinity with respect to that particular photo. Although this disclosure describes scoring search results based on affinity in a particular manner this disclosure contemplates scoring search results based on affinity in any suitable manner. Furthermore in connection with social graph affinity and affinity coefficients particular embodiments may utilize one or more systems components elements functions methods operations or steps disclosed in U.S. patent application Ser. No. 11 503 093 filed 11 Aug. 2006 U.S. patent application Ser. No. 12 977 027 filed 22 Dec. 2010 U.S. patent application Ser. No. 12 978 265 filed 23 Dec. 2010 and U.S. patent application Ser. No. 13 632 869 field 1 Oct. 2012 each of which is incorporated by reference.

In particular embodiments social networking system may determine one or more revised static scores for one or more of the retrieved objects based on a comparison of the final scores and the static scores of the retrieved objects. The static scores associated with indexed object may be improved by revising the static scores based on experiments run using archived search queries. The archived queries can be parsed to generate query commands which can be submitted to a vertical in order to retrieve a first number of objects based on their static scores. The retrieved objects can have their final scores calculated. The final scores can then be compared to the static scores and the static scores can be modified so they more closely match the final scores. This can be done for a variety of queries so that the static scores are optimized to match the final scores as closely as possible for a variety of queries. In particular embodiments social networking system may revise the static scoring algorithm based on the revised static scores. The static scoring algorithm may be revised to calculate pre determined static scores for objects based on one or more of the revised static scores of one or more of the retrieved objects respectively. In particular embodiments social networking system may revise static scores by determining a difference between the pre determined static score for each object and the calculated final score for each object. Social networking system may then revise one or more of the static scores of one or more of the objects based on the determined differences. As an example and not by way of limitation continuing with a previous example if the top 5 objects by final score according to the scoring algorithm may be for example objects having a static rank of 4 12 20 78 and 95. The static ranks of all the objects may be revised upward so that these objects have static ranks closer to 1 to 5. Note that theoretically the ideal static ranks would be 1 2 3 4 and 5. However because the final scores may be based on a variety of factors such as social graph affinity and user history the ideal static ranks with respect to a first querying user or a first query type may be different than the ideal static ranks with respect to a second querying user or a second query type. Thus the static ranks of objects may be revised so they more closely match the final ranks of objects with respect to a variety of users and query types. Although this disclosure describes revising static scoring algorithms in a particular manner this disclosure contemplates revising static scoring algorithms in any suitable manner.

In particular embodiments social networking system may generate one or more revised parsing configuration parameters based on a comparison of the final scores of the retrieved objects and the specified number of objects of the query constraints. The parsing algorithm may be improved by revising the way query constraints are generated based on experiments run using archived search queries. The archived queries can be parsed to generate query commands which can be submitted to one or more verticals in order to retrieve a first number of objects. Social networking system may then calculate final scores for the retrieved objects and the final scores may then be analyzed to determine whether the number of objects retrieved for any specified object type can be reduced while still retrieving some or all of the top N scoring results. In particular embodiments social networking system may revise the parsing algorithm based on the parsing configuration parameters such that one or more of the specified number of objects of a specified object type is reduced based on the revised parsing configuration parameters. As an example and not by way of limitation for a particular query command s expression generated by the parsing algorithm in response to a particular query social networking system may revise the parsing configuration parameters used to generate that query command so the specified number of objects specified by num to score is reduced while still retrieving some or all of the top N scoring results e.g. retrieving a sufficient number of the top N scoring results to maintain a threshold quality of search results . If the num to score can be reduced then the parsing algorithm or particular parsing configuration parameters may be revised to retrieve fewer objects or object types. The amount that num to score is reduced may correlated directly to processing power consumed by social networking system . As these experiments are run using archived queries social networking system may generate data of score quality versus CPU power or simply num to score and use that data to find a point where for particular queries or query types social networking system is still retrieving sufficient high quality results i.e. high scoring results while significantly reducing the power consumed. In other words it may be worthwhile to sacrifice some search result quality if there is enough savings in processing power. In particular embodiments social networking system may revise the parsing algorithm based on the parsing configuration parameters such that one or more of the query constraints is removed from the query commands generated by the parsing algorithm based on the revised parsing configuration parameters. In particular embodiments social networking system may revise the parsing algorithm based on the parsing configuration parameters such that one or more of the specified number of data stores to access is reduced based on the revised parsing configuration parameters. As an example and not by way of limitation continuing with a prior example in response to a search query input kais social networking system may generate the following query command 

In particular embodiments in response to a query received from a querying user social networking system may generate one or more search results where the search results correspond to the query. Social networking system may identify objects e.g. users photos profile pages or content of profile pages etc. that satisfy or otherwise match the query. Each search result may correspond to a node of social graph . A search result corresponding to each identified object may then be generated. As an example and not by way of limitation in response to the query Photos of Matt and Stephanie social networking system may identify a photo where the user s Matt and Stephanie are both tagged in the photo. A search result corresponding to this photo may then be generated and sent to the user. In particular embodiments each search result may be associated with one or more objects where each query constraint of the query command corresponding to the query is satisfied by one or more of the objects associated with that particular search result. As an example and not by way of limitation continuing with the prior example in response to the structured query Photos of Matt and Stephanie social networking system may parse the query to generate the query command intersect photos of photos of which could be executed to generate a search result corresponding to a photo where the user s Matt and Stephanie who were both referenced in the structured query are both tagged in the photo i.e. their user nodes are connected by tagged in type edges to the concept node corresponding to the photo . In other words the constraints for photos of and photos of are both satisfied by the photo because it is connected to the user nodes for the user s Matt and Stephanie . The nodes identified as matching the query may be scored and possibly ranked and then one or more e.g. a threshold number may be generated as search result to display to the user. Although this disclosure describes generating search results in a particular manner this disclosure contemplates generating search results in any suitable manner.

In particular embodiments social networking system may send one or more search results to the querying user. The search results may be sent to the user for example in the form of a list of links on the search results webpage each link being associated with a different webpage that contains some of the identified resources or content. In particular embodiments each link in the search results may be in the form of a Uniform Resource Locator URL that specifies where the corresponding webpage is located and the mechanism for retrieving it. Social networking system may then send the search results webpage to the web browser on the user s client system . The user may then click on the URL links or otherwise select the content from the search results webpage to access the content from social networking system or from an external system such as for example third party system as appropriate. In particular embodiments each search result may include link to a profile page and a description or summary of the profile page or the node corresponding to that page . The search results may be presented and sent to the querying user as a search results page. When generating the search results social networking system may generate one or more snippets for each search result where the snippets are contextual information about the target of the search result i.e. contextual information about the social graph entity profile page or other content corresponding to the particular search result . In particular embodiments social networking system may only send search results having a score rank over a particular threshold score rank. As an example and not by way of limitation social networking system may only send the top ten results back to the querying user in response to a particular search query. Although this disclosure describes sending particular search results in a particular manner this disclosure contemplates sending any suitable search results in any suitable manner.

More information on generating search results may be found in U.S. patent application Ser. No. 13 731 939 filed 31 Dec. 2012 which is incorporated by reference.

In particular embodiments social networking system may generate one or more search result modules hereinafter modules with references to related objects and interleave or blend the modules into a set of search results . One or more modules may be scored based at least in part on an object type associated with module and or by determining a classification of the search query. Herein reference to a module may refer to a grouping of objects e.g. user profiles posts photos webpages etc. or references to objects identified in response to a search query. As an example and not by way of limitation identification of the objects of each module may be personalized for each user. As another example and not by way of limitation the user may interact with search results such as for example navigation between the search results of modules through a pre determined touch gesture. Although this disclosure describes generating and blending search results in response to a query in a particular manner this disclosure contemplates generating and blending search results in response to a query in any suitable manner.

In particular embodiments social networking system may receive from a first user of an online social network a search query input comprising one or more n grams. Social networking system may parse the search query received from the user i.e. the querying user to identify one or more n grams contained in the search query. As an example and not by way of limitation the social networking system may parse the text query friends stanford to identify the following n grams friends stanford friends stanford. In particular embodiments the search query input may comprise a user generated character string received from a client system associated with the first user. The user generated character string may be entered by the first user in query field and rendered at the client system as each character of the character string is entered by the user. As an example and not by way of limitation social networking system may enter an unstructured text query such as for example photos friends or tom facebook that may generate one or more structured search queries as described below. As another example and not by way of limitation social networking system may then search data store or in particular a social graph database to identify content that matches the search query as described below. In particular embodiments the search query input may comprise one or more query tokens selected by the querying user. More information on generating search queries using query tokens may be found in U.S. patent application Ser. No. 14 179 357 filed 12 Feb. 2014 which is incorporated by reference. In particular embodiments social networking system may identify for each n gram identified in the text query one or more social graph elements corresponding to the n gram. More information on parsing text queries and identifying corresponding social graph elements may be found in U.S. patent application Ser. No. 13 731 866 filed 31 Dec. 2012 which is incorporated by reference. A search engine may conduct a search based on the search query using various search algorithms and generate search results that may identify resources or content e.g. user profile pages content profile pages or external resources that are most likely to be related to the suggested search query. Although this disclosure describes receiving particular search inputs in a particular manner this disclosure contemplates receiving any suitable search inputs in any suitable manner.

In particular embodiments social networking system may generate a plurality of query commands based on the search query input. The identified n grams and corresponding social graph elements may be used to generate a query command that is executable by a search engine. The query command may be a structured semantic query with defined functions that accept specific arguments. As an example and not by way of limitation the text query friend me mark could be parsed to form the query command intersect friend me friend Mark . In other words the query is looking for nodes in the social graph that intersect the querying user me and the user Mark i.e. those user nodes that are connected to both the user node of the querying user by a friend type edge and the user node for the user Mark by a friend type edge . In particular embodiments a sub request generator of the online social network may process the search query input to generate query commands that correspond to one or more keyword searches and query commands that correspond to one or more structured queries using a natural language processor NLP . The NLP may convert words from the language in which they were entered as a text query into the language in which a best match for one or more structured queries. As an example and not by way of limitation for the unstructured text query photos friends the sub request generator of social networking system may generate query commands corresponding to the keyword query photos friends i.e. a keyword search for the terms photos and friends and query commands corresponding to the structured queries Photos of my friends and Photos by my friends i.e. structured queries referencing the particular social elements Photos of and Photos by which correspond to particular edge types and my friends which corresponds to particular user nodes . As another example and not by way of limitation for the unstructured text query tom facebook the sub request generator of social networking system may generate query commands corresponding to the keyword query tom facebook and query commands corresponding to structured queries People named Tom who work at Facebook Friends of Tom who work at Facebook People named Tom who like Facebook and People who have worked at Facebook and TomTom . In particular embodiments a query command may comprise one or more query constraints. Each query constraint may be identified by social networking system based on a parsing of the structured query. Each query constraint may be a request for a particular object type. In particular embodiments the query command may comprise query constraints in symbolic expression or s expression. Social networking system may parse the structured query Photos I like to a query command photos liked by . The query command photos liked by denotes a query for photos liked by a user i.e. which corresponding to the querying user with a single result type of photo. The query constraint may include for example social graph constraints e.g. requests for particular nodes or nodes types or requests for nodes connected to particular edges or edge types object constraints e.g. request for particular objects or object types location constraints e.g. requests for objects or social graph entities associates with particular geographic locations other suitable constraints or any combination thereof. More information on query constraints may be found in U.S. patent application Ser. No. 13 877 049 filed 3 May 2013 which is incorporated by reference. In particular embodiments one or more of the query commands may correspond to a structured query comprising references to one or more nodes and one or more edges. As an example and not by way of limitation social networking system may generate a query command intersect friends of worked at corresponding to the structured query Friends of Tom who work at Facebook . As another example and not by way of limitation the text query friends stanford may be parsed into the query command intersect school Stanford University friends me . In other words the query is looking for nodes in the social graph that intersect both friends of the querying user me i.e. those user nodes that are connected to the user node of the querying user by a friend type edge and the concept node for Stanford University. Although this disclosure describes generating particular query commands in a particular manner this disclosure contemplates generating any suitable query commands in any suitable manner.

In particular embodiments social networking system may search one or more verticals i.e. data stores to identify one or more objects stored by the vertical that match the query commands. As discussed previously each vertical may store one or more objects associated with the online social network. In particular embodiments query commands corresponding to the keyword search and one or more structured queries are sent to verticals to identify objects matching the query commands. Social networking system may then identify objects e.g. users photos profile pages or content of profile pages etc. that satisfy or otherwise match the query commands. As an example and not by way of limitation social networking system may identify particular users stored in the users vertical P who are friends of Tom that worked at Facebook. In particular embodiments vertical may store objects of a particular object type. As an example and not by way of limitation the object types stored by a vertical may be a user a photo a post a webpage an application a location a user group or another suitable object type. In particular embodiments social networking system may use one or more string matching algorithms to attempt to match the one or more n grams with a string of characters associated with each of one or more of the objects. As an example and not by way of limitation social networking system may match text query friends london with photos of London stored in photos vertical P taken by friends of the user or users stored in user vertical P that live in London. In particular embodiments as described previously when social networking system retrieves objects from a vertical in response to a query or a particular query constraint the objects may be retrieved based on a static score or static rank of the indexed objects. Although this disclosure describes searching particular verticals in a particular manner this disclosure contemplates searching any suitable verticals in any suitable manner.

In particular embodiments each module may comprise references to one or more of the identified objects matching the query command corresponding to the module . As an example and not by way of limitation modules corresponding to text query putin may include search results related to Vladimir Putin such as for example posts by users of the online social network about Vladimir Putin or pages referencing Vladimir Putin stored in verticals . Furthermore the search results page may include a module referencing a concept profile page corresponding to Vladimir Putin a module corresponding to the structured query Posts by my friends about Vladimir Putin and even a user profile page corresponding to users named Putin. In particular embodiments each module may correspond to a structured query comprising references to one or more nodes and one or more edges. The structured query may be based on the query command corresponding to the module. As an example and not by way of limitation social networking system may generate a module corresponding to the structured query Posts by my Friends about Vladimir Putin. In this case the module corresponding to this structured query would include one or more search results referencing posts corresponding to concept nodes that are connected by a tagged in type edge to a concept node corresponding to Vladimir Putin and also connected by a authored by edge to user nodes corresponding to first degree friends of the querying user i.e. user nodes connected by a friend type edge to a user node corresponding to the querying user . As another example social networking system may generate a module called Photos that includes search results related to the text query my friends as illustrated in the example of where each search result corresponds to a photo for suggested friend related search queries or a post by a friend of the user. The structured query may be based on the query command corresponding to the module. As an example and not by way of limitation social networking system may present search results that correspond to a structured query Friends who live in San Francisco . In this case the module corresponding to this structured query would include one or more search results referencing users corresponding to user nodes that are connected by a live in type edge to a concept node corresponding to San Francisco and also connected by a a friend type edge to a user node corresponding to the querying user. Although this disclosure describes generating particular modules in a particular manner this disclosure contemplates generating any suitable modules in any suitable manner.

In particular embodiments the relevance score of one or more modules may be modified based on an inferred intent or classification of the search query input provided by the querying user. Classification of a search query input may be performed using a language model which may be different than the language model of the NLP described above to perform semantic parsing of the search query input. The search query input may then be classified based at least in part on the results of the semantic parsing. Social networking system may classify search queries into a variety of classifications such as for example dating celebrity travel local news sports users product review other suitable classifications or any combination thereof. In particular embodiments social networking system may score particular search results or types of search results higher or lower based on the classification of the search query. As an example and not by way of limitation search queries classified under the celebrity category may more heavily weigh modules that include photos as compared to posts from friends of the user. As another example and not by way of limitation social networking system may boost the score of modules that include search results referencing objects stored in user vertical P for search query friend london where the search query may be classified under the travel category indicating the user is looking users of the online social network that he knows in London while travelling. As another example and not by way of limitation social networking system may boost the score of modules that include search results reference objects stored in posts vertical P for search query bat kid where the search query may be classified under a news category indicating the user is looking for posts on the online social network that reference Bat Kid. In particular embodiments classification of the search query input may be further based on information of the user or the user profile of the querying user and may encompass search results from all verticals associated with the online social network. Although this disclosure describes scoring particular modules in a particular manner this disclosure contemplates scoring any suitable modules in any suitable manner.

As illustrated in the example of a UI rendered on client system may present one or more modules that each include one or more search results referencing one or more identified objects respectively matching a query associated with the module . Higher scoring modules may be sent preferentially to the querying user over lower scoring modules . In particular embodiments the UI may include a filter bar for filtering search results or modules by search result type or module type as described below. The UI may further allow the querying user to navigate through search results and modules through pre determined input e.g. touch gesture provided by the user. In particular embodiments social networking system may send each module having a score greater than a threshold score to the first user for display. As illustrated in the example of social networking system may send a module with one or more search results e.g. references to photos in response to receiving search query input sriracha . As an example and not by way of limitation social networking system may generate a module of photos that includes search results related to the text query sriracha where each search result corresponds to a photo stored in photos vertical P related to sriracha. In particular embodiments the user may navigate between search results e.g. thumbnails of module that includes photos related to sriracha as illustrated in the example of . In particular embodiments social networking system may receive a selection of one of the references from the first user. The social networking system may then send the object corresponding to the reference to the first user. As an example and not by way of limitation social networking system may send a larger sized version of a photo in response to the user selecting one of the thumbnails in module . Although this disclosure describes sending particular modules in a particular manner this disclosure contemplates sending any suitable modules in any suitable manner.

This disclosure contemplates any suitable number of computer systems . This disclosure contemplates computer system taking any suitable physical form. As example and not by way of limitation computer system may be an embedded computer system a system on chip SOC a single board computer system SBC such as for example a computer on module COM or system on module SOM a desktop computer system a laptop or notebook computer system an interactive kiosk a mainframe a mesh of computer systems a mobile telephone a personal digital assistant PDA a server a tablet computer system or a combination of two or more of these. Where appropriate computer system may include one or more computer systems be unitary or distributed span multiple locations span multiple machines span multiple data centers or reside in a cloud which may include one or more cloud components in one or more networks. Where appropriate one or more computer systems may perform without substantial spatial or temporal limitation one or more steps of one or more methods described or illustrated herein. As an example and not by way of limitation one or more computer systems may perform in real time or in batch mode one or more steps of one or more methods described or illustrated herein. One or more computer systems may perform at different times or at different locations one or more steps of one or more methods described or illustrated herein where appropriate.

In particular embodiments computer system includes a processor memory storage an input output I O interface a communication interface and a bus . Although this disclosure describes and illustrates a particular computer system having a particular number of particular components in a particular arrangement this disclosure contemplates any suitable computer system having any suitable number of any suitable components in any suitable arrangement.

In particular embodiments processor includes hardware for executing instructions such as those making up a computer program. As an example and not by way of limitation to execute instructions processor may retrieve or fetch the instructions from an internal register an internal cache memory or storage decode and execute them and then write one or more results to an internal register an internal cache memory or storage . In particular embodiments processor may include one or more internal caches for data instructions or addresses. This disclosure contemplates processor including any suitable number of any suitable internal caches where appropriate. As an example and not by way of limitation processor may include one or more instruction caches one or more data caches and one or more translation lookaside buffers TLBs . Instructions in the instruction caches may be copies of instructions in memory or storage and the instruction caches may speed up retrieval of those instructions by processor . Data in the data caches may be copies of data in memory or storage for instructions executing at processor to operate on the results of previous instructions executed at processor for access by subsequent instructions executing at processor or for writing to memory or storage or other suitable data. The data caches may speed up read or write operations by processor . The TLBs may speed up virtual address translation for processor . In particular embodiments processor may include one or more internal registers for data instructions or addresses. This disclosure contemplates processor including any suitable number of any suitable internal registers where appropriate. Where appropriate processor may include one or more arithmetic logic units ALUs be a multi core processor or include one or more processors . Although this disclosure describes and illustrates a particular processor this disclosure contemplates any suitable processor.

In particular embodiments memory includes main memory for storing instructions for processor to execute or data for processor to operate on. As an example and not by way of limitation computer system may load instructions from storage or another source such as for example another computer system to memory . Processor may then load the instructions from memory to an internal register or internal cache. To execute the instructions processor may retrieve the instructions from the internal register or internal cache and decode them. During or after execution of the instructions processor may write one or more results which may be intermediate or final results to the internal register or internal cache. Processor may then write one or more of those results to memory . In particular embodiments processor executes only instructions in one or more internal registers or internal caches or in memory as opposed to storage or elsewhere and operates only on data in one or more internal registers or internal caches or in memory as opposed to storage or elsewhere . One or more memory buses which may each include an address bus and a data bus may couple processor to memory . Bus may include one or more memory buses as described below. In particular embodiments one or more memory management units MMUs reside between processor and memory and facilitate accesses to memory requested by processor . In particular embodiments memory includes random access memory RAM . This RAM may be volatile memory where appropriate Where appropriate this RAM may be dynamic RAM DRAM or static RAM SRAM . Moreover where appropriate this RAM may be single ported or multi ported RAM. This disclosure contemplates any suitable RAM. Memory may include one or more memories where appropriate. Although this disclosure describes and illustrates particular memory this disclosure contemplates any suitable memory.

In particular embodiments storage includes mass storage for data or instructions. As an example and not by way of limitation storage may include a hard disk drive HDD a floppy disk drive flash memory an optical disc a magneto optical disc magnetic tape or a Universal Serial Bus USB drive or a combination of two or more of these. Storage may include removable or non removable or fixed media where appropriate. Storage may be internal or external to computer system where appropriate. In particular embodiments storage is non volatile solid state memory. In particular embodiments storage includes read only memory ROM . Where appropriate this ROM may be mask programmed ROM programmable ROM PROM erasable PROM EPROM electrically erasable PROM EEPROM electrically alterable ROM EAROM or flash memory or a combination of two or more of these. This disclosure contemplates mass storage taking any suitable physical form. Storage may include one or more storage control units facilitating communication between processor and storage where appropriate. Where appropriate storage may include one or more storages . Although this disclosure describes and illustrates particular storage this disclosure contemplates any suitable storage.

In particular embodiments I O interface includes hardware software or both providing one or more interfaces for communication between computer system and one or more I O devices. Computer system may include one or more of these I O devices where appropriate. One or more of these I O devices may enable communication between a person and computer system . As an example and not by way of limitation an I O device may include a keyboard keypad microphone monitor mouse printer scanner speaker still camera stylus tablet touch screen trackball video camera another suitable I O device or a combination of two or more of these. An I O device may include one or more sensors. This disclosure contemplates any suitable I O devices and any suitable I O interfaces for them. Where appropriate I O interface may include one or more device or software drivers enabling processor to drive one or more of these I O devices. I O interface may include one or more I O interfaces where appropriate. Although this disclosure describes and illustrates a particular I O interface this disclosure contemplates any suitable I O interface.

In particular embodiments communication interface includes hardware software or both providing one or more interfaces for communication such as for example packet based communication between computer system and one or more other computer systems or one or more networks. As an example and not by way of limitation communication interface may include a network interface controller NIC or network adapter for communicating with an Ethernet or other wire based network or a wireless NIC WNIC or wireless adapter for communicating with a wireless network such as a WI FI network. This disclosure contemplates any suitable network and any suitable communication interface for it. As an example and not by way of limitation computer system may communicate with an ad hoc network a personal area network PAN a local area network LAN a wide area network WAN a metropolitan area network MAN or one or more portions of the Internet or a combination of two or more of these. One or more portions of one or more of these networks may be wired or wireless. As an example computer system may communicate with a wireless PAN WPAN such as for example a BLUETOOTH WPAN a WI FI network a WI MAX network a cellular telephone network such as for example a Global System for Mobile Communications GSM network or other suitable wireless network or a combination of two or more of these. Computer system may include any suitable communication interface for any of these networks where appropriate. Communication interface may include one or more communication interfaces where appropriate. Although this disclosure describes and illustrates a particular communication interface this disclosure contemplates any suitable communication interface.

In particular embodiments bus includes hardware software or both coupling components of computer system to each other. As an example and not by way of limitation bus may include an Accelerated Graphics Port AGP or other graphics bus an Enhanced Industry Standard Architecture EISA bus a front side bus FSB a HYPERTRANSPORT HT interconnect an Industry Standard Architecture ISA bus an INFINIBAND interconnect a low pin count LPC bus a memory bus a Micro Channel Architecture MCA bus a Peripheral Component Interconnect PCI bus a PCI Express PCIe bus a serial advanced technology attachment SATA bus a Video Electronics Standards Association local VLB bus or another suitable bus or a combination of two or more of these. Bus may include one or more buses where appropriate. Although this disclosure describes and illustrates a particular bus this disclosure contemplates any suitable bus or interconnect.

Herein a computer readable non transitory storage medium or media may include one or more semiconductor based or other integrated circuits ICs such as for example field programmable gate arrays FPGAs or application specific ICs ASICs hard disk drives HDDs hybrid hard drives HHDs optical discs optical disc drives ODDs magneto optical discs magneto optical drives floppy diskettes floppy disk drives FDDs magnetic tapes solid state drives SSDs RAM drives SECURE DIGITAL cards or drives any other suitable computer readable non transitory storage media or any suitable combination of two or more of these where appropriate. A computer readable non transitory storage medium may be volatile non volatile or a combination of volatile and non volatile where appropriate.

Herein or is inclusive and not exclusive unless expressly indicated otherwise or indicated otherwise by context. Therefore herein A or B means A B or both unless expressly indicated otherwise or indicated otherwise by context. Moreover and is both joint and several unless expressly indicated otherwise or indicated otherwise by context. Therefore herein A and B means A and B jointly or severally unless expressly indicated otherwise or indicated otherwise by context.

The scope of this disclosure encompasses all changes substitutions variations alterations and modifications to the example embodiments described or illustrated herein that a person having ordinary skill in the art would comprehend. The scope of this disclosure is not limited to the example embodiments described or illustrated herein. Moreover although this disclosure describes and illustrates respective embodiments herein as including particular components elements functions operations or steps any of these embodiments may include any combination or permutation of any of the components elements functions operations or steps described or illustrated anywhere herein that a person having ordinary skill in the art would comprehend. Furthermore reference in the appended claims to an apparatus or system or a component of an apparatus or system being adapted to arranged to capable of configured to enabled to operable to or operative to perform a particular function encompasses that apparatus system component whether or not it or that particular function is activated turned on or unlocked as long as that apparatus system or component is so adapted arranged capable configured enabled operable or operative.

