---

title: Apparatus and methods for determining vehicular transmission output torque
abstract: Some embodiments relate to determining an estimated torque output by a vehicular transmission. A first controller determines a target gear number and an actual gear number during shifting between the gears of the transmission, the target gear number being equal to a value of a gear number to which the transmission is shifting, the actual gear number being equal to a value of a gear number from which the transmission is shifting. A second controller compares the target gear number to the actual gear number and retrieves a blended gear number if the target gear number is greater than the actual gear number, determines an approximate value for a gear ratio that decreases in proportion to a rate of decrease in torque output by the transmission based on the blended gear number, and estimates a value of the torque output by the transmission based on the determined gear ratio.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09423022&OS=09423022&RS=09423022
owner: HONDA MOTOR CO., LTD.
number: 09423022
owner_city: Tokyo
owner_country: JP
publication_date: 20140714
---
The disclosed subject matter relates to vehicle powertrains and methods of use and manufacture thereof. More particularly the disclosed subject matter relates to apparatus and methods for determining vehicular transmission output torque.

Some related art vehicles utilize a multi ratio transmission to modify torque produced by an internal combustion engine and then to output the modified torque to drive wheels. The real time value of the transmission s torque output may be relevant to the operation of certain performance enhancement systems such as but not limited to traction control dynamic stability control and all wheel drive control. Thus some related art vehicles include systems for sensing the actual torque output of the transmission in real time and then use this data in conjunction with the performance enhancement systems cited above.

However these related art systems can be disadvantageous in various respects such as by increasing vehicular weight requiring complex designs being expensive to assemble and or maintain lacking sufficient durability and or reliability for daily use such as in certain weather conditions etc. These and other factors can outweigh advantages provided by the systems for sensing the actual transmission output torque.

Thus instead of sensing actual transmission output torque it may be advantageous to estimate torque such as based on at least one of the following types of data an engine map transmission gear ratio value s transmission shift status torque converter map and predetermined driveline losses. However some of these estimation techniques may be subject to certain disadvantages such as inaccuracies during a shift up or down from a one gear ratio to another gear ratio. Accuracy of these calculations may be especially important for four wheel drive 4WD systems such as to accurately distribute torque to the rear wheels.

Some multi ratio transmissions utilize multiple gears to provide multiple gear ratios and a plurality of clutches are used to selectively engage disengage certain combinations of the gears for the purpose of connecting the transmission output to the transmission input via the appropriate gear ratio. Typically more than one clutch is actuated to select and de select the relevant gear ratio. Any variation in the actuation rate and actuation pressure of each clutch involved in the shift can cause a fluctuation in the transmission s output torque. The actuation rate and pressure of each clutch can also vary over the transmission lifetime. Thus it can be difficult to accurately and or reliably model the transmission output torque through each relevant clutch during each operation of the relevant clutch es over the vehicle lifetime even if the vehicle is reasonably maintained.

In some transmission output toque estimation systems the actual gear position can be used to determine a torque multiplication factor inside the transmission which can be assigned a constant value based on the currently selected gear. For example one constant value can be used for one gear and a different constant value can be used for a different gear. However this procedure does not sufficiently address gear shifting and thus can result in inaccuracies.

The above inaccuracies can be exaggerated if the estimated torque is utilized by a controller that distributes torque individually between a powertrain s wheels based on an algorithm. This distribution can be implemented between the left and right wheels in a two wheel drive powertrain the front and rear wheels in an all wheel drive powertrain or between the left rear wheel and the right rear wheel in an all wheel drive powertrain. An over estimation of the real time torque output can result in a less advantageous distribution of torque between the front and rear wheels as compared to an accurate estimation which may not provide an advantageous dynamic situation. In some such situations this over estimation can cause instability or a perception of instability while the vehicle is being driven. Over estimating the real time torque output can be similarly less advantageous as compared to an under estimation of the real time torque output.

In order to enhance shift smoothness as perceived by the vehicle occupant s automatic transmissions can be configured to reduce the magnitude of the torque output immediately prior to a shift from a lower gear number for example 2gear to a higher gear number for example 3gear . This procedure enables the torque output immediately prior to the shift to be substantially equal to the torque immediately subsequent to the shift. This configuration thereby reduces or minimizes the perceived shift shock.

However this active torque reduction can increase amplify or intensify inaccuracies in a torque distribution algorithm that relies on an estimated real time output torque. For example failing to use a reduction factor can cause the calculated output torque value to be too high during up shifts which can cause an actual or perceived real wheel torque bias. This bias can cause performance issues under certain circumstances such as making the vehicle difficult to drive in snow.

It may therefore be beneficial to provide apparatus and methods that address at least one of the above issues. For example it may be beneficial to provide apparatus and methods for more accurately estimating available torque during a transmission shift operation. It may be especially beneficial to estimate this torque during an upshift event.

Some embodiments are therefore directed to an apparatus for determining an estimated torque output by a transmission of a vehicle wherein the transmission is shiftable between multiple gears. The apparatus can include an electronic storage device that stores a blended gear number and a first controller configured to determine a target gear number and an actual gear number during shifting between the gears of the transmission. The target gear number can be equal to a value of a gear number to which the transmission is shifting and the actual gear number can be equal to a value of a gear number from which the transmission is shifting. The apparatus can also include a second controller configured to compare the target gear number to the actual gear number and to retrieve the blended gear number from the storage device if the target gear number is greater than the actual gear number determine an approximate value for a gear ratio that decreases in proportion to a rate of decrease in torque output by the transmission based on the blended gear number and estimate a value of the torque output by the transmission based on the determined gear ratio.

Some other embodiments are directed to method for determining an estimated torque output by a transmission of a vehicle wherein the transmission is shiftable between multiple gears. The method can include storing a blended gear number and using a first processor to determine a target gear number and an actual gear number during shifting between the gears of the transmission. The target gear number can be equal to a value of a gear number to which the transmission is shifting and the actual gear number can be equal to a value of a gear number from which the transmission is shifting. The method can also include using a second processor to compare the target gear number to the actual gear number and to retrieve the blended gear number from the storage device if the target gear number is greater than the actual gear number determine an approximate value for a gear ratio that decreases in proportion to a rate of decrease in torque output by the transmission based on the blended gear number and estimate a value of the torque output by the transmission based on the determined gear ratio.

Still other embodiments are directed to torque distribution control system for distributing torque output by a transmission among front and rear wheels of a vehicle wherein the transmission is shiftable between multiple gears. The vehicle can include at least one clutch configured to selectively couple at least one of the front and rear wheels to the transmission. The torque distribution control system can include an electronic storage device that stores a blended gear number and a first controller configured to determine a target gear number and an actual gear number during shifting between the gears of the transmission. The target gear number can be equal to a value of a gear number to which the transmission is shifting and the actual gear number can be equal to a value of a gear number from which the transmission is shifting. The system can also include a second controller configured to compare the target gear number to the actual gear number and to retrieve the blended gear number from the storage device if the target gear number is greater than the actual gear number determine an approximate value for a gear ratio that decreases in proportion to a rate of decrease in torque output by the transmission based on the blended gear number estimate an output torque based on the determined gear ratio determine a torque distribution based on the estimated torque among the front and rear wheels and instruct the clutch to couple at least one of the front and the rear wheels to the transmission based on the determined torque distribution.

A few inventive aspects of the disclosed embodiments are explained in detail below with reference to the various figures. Exemplary embodiments are described to illustrate the disclosed subject matter not to limit its scope which is defined by the claims. Those of ordinary skill in the art will recognize a number of equivalent variations of the various features provided in the description that follows.

This exemplary powertrain can be configured such that the steerable front wheels L R are the primary drive wheels and the rear wheels L R are automatically selectively driven when additional tractive effort is advantageous for the given vehicle conditions. However the powertrain can also be configured such that the rear wheels L R are the primary drive wheels and the front wheels L R are driven to supplement the tractive effort. In other embodiments the powertrain can be configured as a full time all wheel drive system a manually engagable part time all wheel drive system a front wheel drive system or a rear wheel drive system.

The powertrain can include the pair of front wheels L R the pair of rear wheels L R a power source a transmission a front differential assembly a pair of front driveshafts L R a power take off assembly a propeller shaft a rear differential assembly a pair of rear driveshafts L R all arranged in any appropriate manner and a control system .

The transmission can include a plurality of gears that can be selectively engaged disengaged in different combinations to create a respective plurality of gear ratios. For example the transmission can include gear numbers . . . n and the gear numbers . . . n can be engaged with one or more respective gears of the plurality to provide a first gear ratio second gear ratio . . . n gear ratio. The gear number can be any appropriate integer number.

The value of the gear number can be different from the value of the corresponding gear ratio. The gear ratio number can be any appropriate rational number. In an exemplary embodiment the transmission can have n gear ratios that decrease in numerical value as the gear number increases in numerical value. For example the gear having a gear number value of 1 first gear can have a gear ratio value of 3.46 1 a gear having a gear number value of 2 second gear can have a gear ratio value of 1.47 1 and the ngear can have an ngear ratio of 0.73 1.

The gear number currently engaged in the transmission can be referred to as the actual gear number. The gear number that the transmission will shift to can be referred to as the target gear number. If the transmission shifts from an actual gear number to a target gear number that has a greater numerical value than that for the actual gear number then the shift can be referred to as an upshift. For example a shift from the first gear number to the second gear number is an upshift. If the transmission shifts from the actual gear number to a target gear number that has a lesser numerical value than that for the actual gear number then the shift can be referred to as a downshift. For example a shift from the ngear number to the third gear number is a downshift.

The control system can be configured to automatically engage disengage the rear wheels L R from the power source and the transmission as appropriate. The control system can include a first controller a second controller and a pair of clutch assemblies L R. The dotted lines of schematically represent any appropriate wired or wireless electrical communication between the components of the control system .

The first controller can be in electrical communication with the transmission and the second controller either directly or over an electronic network. The first controller can also be in electrical communication with sensor s and or other controller s associated with the power source powertrain and or the transmission .

The second controller can be in electrical communication with the clutch assemblies L R either directly or over an electronic network. The second controller can also be in electrical communication with sensor s and or other controller s associated with the powertrain .

In accordance with some embodiments the second controller is in electrical communication with one or more other vehicle systems and or sensor s that can provide data indicative of vehicle dynamic conditions. These conditions include but are not limited to yaw angle yaw rate roll rate acceleration in the transverse direction T i.e. lateral acceleration steering angle steering angle rate brake force brake pedal position suspension loads cargo load trailer load air temperature surface condition s such as but not limited to dry wet snowy icy surfaces and surface type such as but not limited to paved gravel sand dirt mud rocky rutted surfaces .

The pair of clutch assemblies L R can be components of the rear differential assembly . The clutch assemblies L R can be configured in any appropriate manner suitable for use in an on demand all wheel drive powertrain or other drive wheel configurations .

Based on data received from one or more of the above referenced sensors and or systems as well as data received from the first controller the second controller can manipulate the clutch assemblies L R to vary the distribution of torque produced by the power source multiplied by the transmission and routed through one or both of the clutch assemblies L R to the respective rear wheel L R. This manipulation can among other features enhance the tractive effort of the vehicle when the vehicle travels along a low traction surface such as but not limited to wet snowy icy gravel or muddy surfaces. Further this manipulation of the clutches L R can enhance the actual and or perceived performance of the vehicle as it enters traverses and or exits a curve. Specifically the second controller can distribute torque through only one of the clutch assemblies L R or send a greater amount of torque through one of the clutch assemblies L R than through the other of the clutch assemblies L R. This operation enables an advantageous amount of torque to be sent to the rear wheel L or R with the most effective traction and or enhances the steering of the vehicle via torque vectoring.

The second controller can be configured to process the data received from the first controller and other appropriate system s and or sensor s and to generate a torque signal such that the clutches L R distribute the torque from the transmission to the respective rear wheel L R in a finely tuned manner. This finely tuned signaling by the second controller also can permit precise differentiation in the amount of torque transmitted by the clutches L R as compared to the amount of torque transmitted to the front wheels L R.

As a result the control system can enhance the actual or perceived launching of the vehicle from a stop and can modulate with finer increments and or greater confidence the transitions between the two wheel drive mode and the all wheel drive mode etc. Also the control system can enhance performance of the vehicle on a low friction surface such as but not limited to wet icy snowy gravel or muddy surfaces. The second controller can also enhance performance of the vehicle where the wheels for example the left wheels L L on one side of the vehicle engage a surface having a coefficient of friction p that is different from that of the surface engaged by the wheels for example the right side wheels R R on the other side of the vehicle . This latter condition can be referred to as a split surface.

This fine tuned signaling by the second controller also can permit precise differentiation in the amount of torque transmitted by one of the clutches L R as compared to the other of the clutches L R. As a result the control system can enhance the operator s steering input to enhance the vehicle s tracking into through and or out of a corner etc. This enhancement can also be beneficial to enhance steering performance on a low friction surface or on a split p surface.

As discussed above it can be advantageous to configure the second controller to estimate the real time torque output by the transmission . However when the transmission performs an upshift the first controller can signal the transmission to gradually decrease the torque output to a value that can correspond to the torque outputted by the transmission after the upshift is complete. This reduction of the torque output can improve the vehicle occupant s perception of the shift feeling.

However the torque reduction signal generated by the first controller may not be sent to the second controller . Thus the second controller can be configured with hardware alone or in combination with software to compensate for the gradually decreasing torque output if the second controller estimates the torque output during an upshift event occurring in the transmission .

The second controller can begin the torque distribution algorithm at step S. Then the second controller can proceed to step S.

At step S the second controller can receive data from the first controller indicative of the target gear number G and the actual gear number G where the target gear number T can be equal to the value of the gear number to which the transmission is shifting and the actual gear number G can be equal to the value of the gear number from which the transmission is shifting. The values of the target gear and the actual gear can be integer values from 1 to n where n is equal to the total number of forward gear choices included in the transmission . For example if the transmission is shifting from the second gear to the third gear then G 3 and G 2. The second controller can then proceed to step S.

As discussed above the first controller can be configured to signal the transmission to gradually decrease the amount of torque output by the transmission during an upshift event. In an effort to enhance the effectiveness of the torque distribution during the upshift event the second controller can be configured to compensate for this gradual decrease in the output torque. The second controller can compare the value of the target gear number G to the value of the actual gear number G at step S. This comparison can allow the second controller to determine whether or not the transmission is undergoing an upshift event.

If the second controller determines as step S that the value of the target gear number G is greater than the value of the actual gear number G then the second controller can proceed to step S. At step S the second controller can retrieve the value of a blended gear number G from a memory storage device such as but not limited to a RAM device or any other appropriate source. The blended gear value G can have any real number value between 1 and n where n is equal to the total number of gears included in the transmission . Exemplary embodiments are intended to cover a blended gear value G that varies during an upshift event in a manner that corresponds to the rate of decrease of the output torque signaled by the first controller to the transmission . For example if the first controller signals the transmission to gradually decrease the torque in a linear manner during the upshift event then the second controller can be configured to increase the blended gear value G in a corresponding linear manner.

The blended gear number G can permit the second controller to determine an approximate value for the gear ratio GR that decreases in proportion to the rate of decrease in the torque output by the transmission . As a result the second controller can compensate for the reduced torque output during an upshift event performed in the transmission . Details of the determination of the blended gear number G will be discussed in greater detail below with respect to .

From step S the second controller can proceed to step S. Here the second controller can determine an appropriate value for the gear ratio GR that is based on the value of the blended gear number G. As discussed above the values of the actual gear G and the target gear G can be integer numbers and the values of the gear ratio GR can be rational numbers. shows an exemplary look up table of values for the actual gear G and the target gear G and the corresponding gear ratios GR. shows a portion of an exemplary look up table of values for the blended gear number G and the corresponding blended values of the gear ratio GR useable by the second controller during an upshift from the second gear to the third gear. Blended gear ratios can be calculated in a similar manner for all of the remaining gear numbers and .

The blended values of the gear ratio GR can be predetermined using any appropriate mathematical process such as but not limited to curve fitting regression analysis linear interpolation non linear interpolation such as but not limited to polynomial interpolation spline interpolation rational interpolation interpolation using a Gaussian process etc. However the second controller of some embodiments is configured perform during step S any appropriate mathematical process discussed above in order to determine the blended gear ratio. Equation 1 provided below represents an exemplary simple linear interpolation formula that can be used to populate the look up table implemented during step S or used by the second controller to calculate a blended value for the gear ratio GR where x is incremented from zero 0 to one 1 by a predetermined amount that can correspond to the rate of decrease of the torque output by the transmission . GR 1 GR GR . 1 

If the second controller determines at step S that the value of the target gear G is not greater than the value of the actual gear G then the second controller can proceed to step S. This result can be indicative of either a downshift event occurring in the transmission or that no shift event is occurring in the transmission . Compensation for a decreasing torque output may not be advantageous in determining the torque distribution between the front wheels L R and the rear wheels L R during the operating conditions of the transmission . As a result the second controller can retrieve the appropriate gear ratio value GR from the look up table of based on the value of the actual gear G.

Step S can be configured as a subroutine that can permit the second controller to determine an estimation of the real time torque output by the transmission . This estimated real time torque can be based on the gear ratio value GR determined at step S or at step S rotational speed of the power source a torque map for the power source a torque converter map and any predictable driveline losses. The second controller can then proceed to step S.

Step S can be configured as a subroutine that can permit the second controller to configure and send signal s to one or both of the clutch assemblies L R. The signal s issued by the second controller to one or both of the clutch assemblies L R can affect the manipulation discussed above.

The second controller can then proceed to step S where the second controller can exit the torque distribution algorithm.

Determination of a value of the blended gear number G will be discussed with respect to which illustrate an exemplary algorithm that the second controller can follow in order to determine incremental values for the blended gear number G.

The second controller can begin the blending algorithm at step S. The second controller can then proceed to step S.

At step S the second controller can retrieve current values of the actual gear number G and the target gear number G from the first controller or from any other appropriate source such as but not limited to a memory storage device. Exemplary embodiments are intended to cover a first controller that continuously signals the second controller with the real time values of the actual gear number G and the target gear number G. The second controller can then proceed to step S.

At step S the second controller can set a target gear check G to a value that is equal to the current value of the target gear number G. The second controller can store the value of the target gear number check G in any appropriate memory storage device for later retrieval by the second controller . The second controller can then proceed to step S.

At step S the second controller can compare the current value of the target gear number G to the stored value of the target gear check G. If the second controller determines at step S that the current value of the target gear number G is not equal to the stored value of the target gear check G then the second controller can proceed to step S.

At step S the second controller can set the values of a first timer flag Flag equal to zero 0 and a first timer t equal to zero 0 . In other words step S can permit the second controller to reset the first timer t. Further details of the first timer flag Flag and the first timer t will be discussed below.

Thus steps S and S can be effective when the current values of the target gear number G and the actual gear number G have changed simultaneously during execution of the blending algorithm. The second controller can then proceed from step S to step S.

If the second controller does not determine at step S that the current value of the target gear number G is not equal to the stored value of the target gear check G then the second controller can skip step S and proceed to step S.

Step S can permit the second controller to verify that the current value of the target gear number G is a valid value. If the second controller determines at step S that the current value of the target gear number G is invalid then the second controller can proceed to step S.

At step S the second controller can reset the parameters of the blending algorithm. Specifically the second controller can set the current value of the blended gear number G to equal the current value of the actual gear number G and store the value of the blended gear number G in any appropriate memory storage device for retrieval during execution of the torque distribution algorithm illustrated in . Additionally the second controller can set all of the first timer flag Flag the tau timer flag Flag the first timer t and the tau timer t to be equal to zero 0 . The tau timer flag Flag and the tau timer t will be described in further detail below.

If the value of the target gear number G is an invalid number then it may not be advantageous for the second controller to execute the blending algorithm. As such the second controller can proceed from step S to step S where the second controller can exit the blending algorithm.

If the second controller determines at step S that the current value of the target gear number G is not invalid then the second controller can proceed to step S.

At step S the second controller can determine whether an upshift event is occurring in the transmission . As discussed above it may not be advantageous for the second controller to execute the blending algorithm if an upshift event is not occurring in the transmission . Specifically during execution of step S the second controller can compare the current value of the target gear number G to the current value of the actual gear number G.

If the second controller determines that the current value of the target gear number G is not greater than the current value of the actual gear number G then the second controller can proceed to steps S and S described above. In other words the second controller has determined that an upshift event is not occurring in the transmission and the second controller can exit the blending algorithm.

If the second controller determines that the current value of the target gear number G is greater than the current value of the actual gear number G then the second controller proceed to step S. In other words the second controller has determined that an upshift event is occurring in the transmission .

The first controller can be configured to divide the upshift event into two stages. During the first stage of the upshift event the first controller can be configured to issue signal s to one or more actuators in the transmission in preparation for a shift signal. During the second stage of the upshift event the first controller can be configured to issue the signal effecting the gradual decrease of the torque output by the transmission . The second stage can immediately follow the first stage. The first controller can be configured to not signal the gradual decrease in output torque during the first stage of the upshift event.

Because the first controller does not signal the transmission to gradually reduce its torque output during the first stage of the upshift event the second controller can be configured to run the first timer t so that the second controller can delay its determination of the current value for the blended gear number G. Exemplary embodiments are intended to cover a first controller and a second controller that are configured to issue and receive respectively a signal indicating the start of the second stage of the upshift event occurring in the transmission .

Step of the blending algorithm can permit the second controller to accommodate each of these scenarios. Specifically the second controller can be configured to compare the first timer flag Flag and a type flag Flag to respective predetermined values. The first controller can be configured to send the current value of the type flag Flag to the second controller and the second controller can be configured to receive the value of the type flag Flag from the first controller . If the first controller is not configured to send the current value of the type flag Flag to the second controller then the value of the type flag Flag can be stored in an appropriate memory device as a permanent value equal to one 1 .

If the second controller determines at step S that the current value of the first timer flag Flag is equal to zero 0 and the value of the type flag Flag is equal to one 1 then the second controller can determine that the first stage of the upshift event is occurring and that a blended gear ratio is not yet advantageous. As such the second controller can proceed to the delay operation of the blending algorithm illustrated in .

If the second controller determines at step S that the current value of the first timer flag Flag is not equal to zero 0 or the value of the type flag Flag is not equal to one 1 then the second controller can determine that the second stage of the upshift event is occurring and the second controller can proceed to the gear number blending operation of the blending algorithm illustrated in .

Referring to if the second controller determines that both conditions of step S are satisfied then the second controller can proceed to step S. Here the second controller can set the current value of the blend flag Flag to equal zero 0 and the current value of the blend timer t to equal zero 0 . The blend flag Flag and the blend timer t will be discussed in further detail below.

The second controller can proceed from step S to step S. Here the second controller can compare the current value of the first timer t to a first timer threshold t. The first timer threshold t can be a predetermined value and can be dependent or independent of the current values of the actual gear number and the target gear number. If the first timer threshold t is dependent on the actual gear number and or the target gear number then the second controller can be configured to retrieve the appropriate value for the first timer threshold from a look up table stored in any appropriate memory device.

If the second controller determines at step S that the current value of the first timer t is less than the first timer threshold t then the second controller can determine that the first stage of the upshift event is not yet complete. The second controller can then proceed to step S.

Since the upshift event is in the first stage a blended value of the gear ratio may not be advantageous. As such the second controller can set the current value of the blended gear number G to equal the current value of the actual gear number G at step S. The second controller can store the current value of the blended gear number G in any appropriate memory storage device for retrieval and use in the torque distribution algorithm illustrated in . The second controller can then proceed to step S.

At step S the second controller can increment the first timer t by any appropriate increment. The second controller can then proceed to step S.

Step S can permit the second controller to receive the current values of the actual gear number G and the target gear number G sent from the first controller . Then the second controller can return to step S and follow the blending algorithm as discussed above.

If the second controller determines at step S that the current value of the first timer t is greater than or equal to the first timer threshold t then the second controller can determine that the first stage of the upshift event is complete. The second controller can then proceed to step S.

At step the second controller can set the current value of the first timer flag Flag equal to one 1 . The second controller can proceed from step S to step S of and can proceed as discussed above.

Referring to if the second controller determines that one of the conditions of step S is not met then the second controller can determine that the first stage of the upshift event is complete and can proceed to step S.

Step S can permit the second controller to determine whether the current value of a blend timer threshold tau will be sent by the first controller or retrieved from any appropriate memory storage device. The blend timer threshold can be a predetermined constant value or the blend timer threshold can be based on one or more inputs as discussed below.

If the second controller determines that the current value of the type flag Flag equals then the second controller can proceed to step S where the second controller can retrieve the current value of the blend timer threshold tau from an appropriate memory storage device.

If the second controller determines that the current value of the type flag Flag does not equal one 1 then the second controller can proceed to step S where the second controller can receive the current value of the blend timer threshold tau from the first controller . The first controller can be configured to determine an appropriate value indicative of the elapsed time for the second stage of the upshift event. This elapsed time can be based on any combination of current actual gear number the current target gear number and operating parameters of the transmission such as but not limited to transmission fluid temperature engine load vehicle speed the number of clutches actuators involved in the upshift event an estimated wear of the involved clutch es etc. The first controller can be configured to send this value of the elapsed time to the second controller . The second controller can be configured to receive this value of the elapsed time and assign it as the current value of the blend timer threshold tau.

From steps S and S the second controller can proceed to step S. Here the second controller can verify that the blend timer threshold tau has a value greater than zero 0 . If the second controller determines at step S that the blend timer threshold is not equal to zero 0 then the second controller can proceed to step S.

Step S can permit the second controller to determine the current value of the blended gear number G. Here the second controller can determine the current increment value P by dividing the current value of the blend timer t by the current value of the blend threshold tau. The second controller can determine the current value of the blended gear number G by adding the current increment value P to the current value of the actual gear number G. The second controller can be configured to store the current value of the blended gear number G in any appropriate memory storage device for retrieval during execution of the torque distribution algorithm illustrated in . The second controller can proceed from step S to step S.

At step S the second controller can compare the current value of the blend timer t with the current value of the blend timer threshold tau. In other words the second controller can check whether the blend timer t has expired. Specifically the second controller can determine whether the current value of the blend timer t is greater than or equal to the blend timer threshold tau.

If the second controller determines that the current value of the blend timer t is less than the blend timer threshold tau i.e. the blend timer has not expired then the second controller can proceed to step S where the second controller can increment the current value of the blend timer t by any appropriate value. From step S the second controller can proceed to step S and return to step S as described above.

If the second controller determines that the current value of the blend timer t is greater than or equal to the blend timer threshold tau i.e. the blend timer has expired then the second controller can proceed to step S. At step S the second controller can set the current value of the blend flag Flag equal to one 1 . This value of the blend flag Flag can indicate that the blending process is complete. From step S the second controller can proceed to step S where the second controller can exit the blending algorithm.

Returning to the alternate condition of step S if the second controller determines at step S that the blend timer threshold is equal to zero 0 then the second controller can proceed to step S.

Step S can be useful if the first controller sends the current value for the blend timer threshold to the second controller . At step S the second controller can compare the current values of the blend timer threshold tau and the blend flag Flag to a respective predetermined value. Specifically if the second controller determines that the current value of the blend timer threshold tau is equal to zero 0 and that the current value of the blend flag Flag is equal to zero 0 then the second controller can proceed to step S and return to step S as discussed above. These two conditions can permit the second controller to wait for the first controller to send the current value for the blend timer threshold.

If the second controller determines that the current value of the blend timer threshold tau is not equal to zero 0 or that the current value of the blend flag Flag is not equal to zero 0 then the second controller can proceed to step S. If both of the conditions of step S are not met then the second stage of the upshift event is complete or no upshift event is occurring in the transmission . As a result the second controller sets the current value of the blended gear number G to equal the current value of the target gear number G and stores this value in any appropriate memory storage device for retrieval during execution of the torque distribution algorithm illustrated in . The second controller can then proceed to step S where the second controller can exit the blending algorithm.

If the second controller does not execute the blending algorithm during the second stage of an upshift event depicted between time values tb and te then the second controller can over estimate the torque output by the transmission. An example of this over estimation can be represented by the line E shown in the plot of the estimated torque DTD. Thus the blending algorithm can permit the second controller to more accurately estimate the torque output by the transmission during an upshift event.

The power source can be an internal combustion engine an electric motor or a hybrid of an internal combustion engine and an electric motor. The power source which is configured as an internal combustion engine or a hybrid power source can have the engine output axis oriented in the longitudinal direction L or in the traverse direction T of the vehicle. The engine can be mounted forward of the front axles rearward of the rear axles or intermediate the front and rear axles. In the exemplary embodiment of the power source is configured as a traversely oriented front mounted internal combustion engine.

The transmission can be an automatic transmission a manual transmission or a semi automatic transmission. The transmission can include an input shaft an output shaft and a speed ratio assembly. A coupling can connect the engine output shaft to the input shaft. The coupling can permit selective engagement disengagement of the input shaft with the engine output shaft or at least relative rotation of the engine output shaft with respect to the input shaft in any appropriate manner. Exemplary couplings can include but are not limited to a friction disc clutch and a torque converter.

The speed ratio assembly can connect the input shaft to the transmission output shaft such that the transmission output shaft can rotate at variable speeds relative to the input shaft. The speed ratio assembly can be a stepped speed ratio assembly or a continuously variable speed ratio assembly.

The front differential assembly can be configured in any appropriate manner that can transmit a torque input from the transmission to each of the driveshafts L R while allowing one of the driveshafts L R to rotate at a different speed relative to the other of the driveshafts L R such as when the vehicle travels long a curved path or across a surface having a variable coefficient of friction. The front differential assembly can be configured as an open differential or as a limited slip differential.

The controllers can be referred to as an electronic control unit ECU or as a central processing unit CPU . Embodiments of the controllers are intended to include any known related art or later developed technologies.

Any sensor s constituting a component s of the control system or that are in electrical communication with the control system can be configured with hardware with or without software to perform the assigned task s . The sensors can be configured as smart sensors such that the sensors can process the raw data collected by the sensors prior to transmission to the controller s and or . Alternatively the sensors can be configured as simple sensors that pass the raw data directly to the controller s and or without any manipulation of the raw data. The sensors can be configured to send data to the controller s and or with or without a prompt from the controller s and or .

A gear shift lever not shown can be connected to the transmission electrically mechanically or electro mechanically in accordance with any known related art or later developed configuration such that actuation of the gear shift lever by the operator can effect a shift from one gear ratio to another gear ratio within the transmission . The gear shift lever can be a mechanical lever or an electrical switch. The gear shift lever can be mounted in any one of a plurality of different locations within the vehicle including but not limited to at the center console at the steering column at the steering wheel and at the instrument panel.

While certain embodiments of the invention are described above and disclose the best mode for practicing the various inventive aspects it should be understood that the invention can be embodied and configured in many different ways without departing from the spirit and scope of the invention.

For example embodiments are disclosed above in the context of controlling an automatic transmission by adjusting its torque output during an upshift event. However embodiments are intended to include or otherwise cover any aspect of torque distribution in a full time or part time 4WD powertrain. For example the disclosed systems and methods can be used in other shifting events.

The storage device is disclosed as a separate and discrete component from both the first and second controllers. However the storage device can form a part of or otherwise share the same unitary structure as either the first controller or the second controller.

The disclosed controllers include or otherwise cover known related art and later developed processors and computer programs implemented by processors used to implement the disclosed operations.

Exemplary embodiments of the controllers are intended to cover all software or computer programs capable of enabling processors to implement the above operations. Exemplary embodiments are also intended to cover any and all currently known related art or later developed non transitory recording or storage mediums such as a CD ROM DVD ROM hard drive RAM ROM floppy disc magnetic tape cassette etc. that record or store such software or computer programs. Exemplary embodiments are further intended to cover such software computer programs systems and or processes provided through any other currently known related art or later developed medium such as transitory mediums carrier waves etc. usable for implementing the exemplary operations disclosed above.

These computer programs can be executed in many exemplary ways such as an application that is resident in the memory of a device or as a hosted application that is being executed on a server and communicating with the device application or browser via a number of standard protocols such as TCP IP HTTP XML SOAP REST JSON and other sufficient protocols. The disclosed computer programs can be written in exemplary programming languages that execute from memory on the device or from a hosted server such as BASIC COBOL C C Java Pascal or scripting languages such as JavaScript Python Ruby PHP Perl or other sufficient programming languages.

Some of the disclosed embodiments include or otherwise involve data transfer over a network such as communicating various inputs over the network. The network may include for example one or more of the Internet Wide Area Networks WANs Local Area Networks LANs Controller Area Networks CANs analog or digital wired and wireless telephone networks e.g. a PSTN Integrated Services Digital Network ISDN a cellular network and Digital Subscriber Line xDSL radio television cable satellite and or any other delivery or tunneling mechanism for carrying data. Network may include multiple networks or subnetworks each of which may include for example a wired or wireless data pathway. The network may include a circuit switched voice network a packet switched data network or any other network able to carry electronic communications. For example the network may include networks based on the Internet protocol IP or asynchronous transfer mode ATM and may support voice using for example VoIP Voice over ATM or other comparable protocols used for voice data communications. In one implementation the network includes a cellular telephone network configured to enable exchange of text or SMS messages.

Examples of a network include but are not limited to a personal area network PAN a storage area network SAN a home area network HAN a campus area network CAN a local area network LAN a wide area network WAN a metropolitan area network MAN a virtual private network VPN an enterprise private network EPN Internet a global area network GAN and so forth.

While the subject matter has been described in detail with reference to exemplary embodiments thereof it will be apparent to one skilled in the art that various changes can be made and equivalents employed without departing from the scope of the invention. All related art references discussed in the above Background Section are hereby incorporated by reference in their entirety.

